function module(t,e,i){var r=t("./authCipher"),h=t("safe-buffer").Buffer,o=t("./modes"),n=t("./streamCipher"),a=t("cipher-base"),c=t("./aes"),s=t("evp_bytestokey");function u(t,e,i){a.call(this),this._cache=new f,this._last=void 0,this._cipher=new c.AES(e),this._prev=h.from(i),this._mode=t,this._autopadding=!0}function f(){this.cache=h.allocUnsafe(0)}function p(t,e,i){var a=o[t.toLowerCase()];if(!a)throw TypeError("invalid suite type");if("string"==typeof i&&(i=h.from(i)),"GCM"!==a.mode&&i.length!==a.iv)throw TypeError("invalid iv length "+i.length);if("string"==typeof e&&(e=h.from(e)),e.length!==a.key/8)throw TypeError("invalid key length "+e.length);return"stream"===a.type?new n(a.module,e,i,!0):"auth"===a.type?new r(a.module,e,i,!0):new u(a.module,e,i)}t("inherits")(u,a),u.prototype._update=function(t){this._cache.add(t);for(var e,i,r=[];e=this._cache.get(this._autopadding);)i=this._mode.decrypt(this,e),r.push(i);return h.concat(r)},u.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw Error("unable to decrypt data");for(var i=-1;++i<e;)if(t[i+(16-e)]!==e)throw Error("unable to decrypt data");if(16!==e)return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw Error("data not multiple of block length")},u.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},f.prototype.add=function(t){this.cache=h.concat([this.cache,t])},f.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var i=o[t.toLowerCase()];if(!i)throw TypeError("invalid suite type");var r=s(e,!1,i.key,i.iv);return p(t,r.key,r.iv)},e.createDecipheriv=p}
//# sourceMappingURL=/dynamic/node_modules/browserify-aes/5ceb08f9191ce56b963b8aa2f6a432831a7f5a26.map
