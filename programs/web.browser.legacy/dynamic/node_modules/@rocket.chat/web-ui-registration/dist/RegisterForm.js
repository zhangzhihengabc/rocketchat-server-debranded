function module(e,r,i){i.export({RegisterForm:function(){return I}},!0),i.link("react/jsx-runtime",{jsx:function(e){o=e},jsxs:function(e){n=e}},0),i.link("@rocket.chat/fuselage",{FieldGroup:function(e){a=e},TextInput:function(e){t=e},Field:function(e){s=e},FieldLabel:function(e){l=e},FieldRow:function(e){d=e},FieldError:function(e){c=e},PasswordInput:function(e){u=e},ButtonGroup:function(e){m=e},Button:function(e){f=e},TextAreaInput:function(e){p=e},Callout:function(e){g=e}},1),i.link("@rocket.chat/fuselage-hooks",{useUniqueId:function(e){h=e}},2),i.link("@rocket.chat/layout",{Form:function(e){v=e},ActionLink:function(e){y=e}},3),i.link("@rocket.chat/ui-client",{CustomFieldsForm:function(e){w=e},PasswordVerifier:function(e){b=e},useValidatePassword:function(e){q=e}},4),i.link("@rocket.chat/ui-contexts",{useAccountsCustomFields:function(e){F=e},useSetting:function(e){k=e},useToastMessageDispatch:function(e){x=e}},5),i.link("react",{useEffect:function(e){A=e},useRef:function(e){C=e},useState:function(e){_=e}},6),i.link("react-hook-form",{useForm:function(e){O=e}},7),i.link("react-i18next",{Trans:function(e){P=e},useTranslation:function(e){j=e}},8),i.link("./EmailConfirmationForm",{default:function(e){$=e}},9),i.link("./hooks/useRegisterMethod",{useRegisterMethod:function(e){E=e}},10);var o,n,a,t,s,l,d,c,u,m,f,p,g,h,v,y,w,b,q,F,k,x,A,C,_,O,P,j,$,E,T=this&&this.__awaiter||function(e,r,i,o){return new(i||(i=Promise))(function(n,a){function t(e){try{l(o.next(e))}catch(e){a(e)}}function s(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var r;e.done?n(e.value):((r=e.value)instanceof i?r:new i(function(e){e(r)})).then(t,s)}l((o=o.apply(e,r||[])).next())})},S=this&&this.__rest||function(e,r){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>r.indexOf(o)&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)0>r.indexOf(o[n])&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]]);return i};let I=({setLoginRoute:e})=>{var r,i,I,R,B,L,U;let{t:M}=j(),N=!!k("Accounts_RequireNameForSignUp"),Z=k("Accounts_RequirePasswordConfirmation"),D=k("Accounts_ManuallyApproveNewUsers"),G=String(k("Accounts_EmailOrUsernamePlaceholder")),V=String(k("Accounts_PasswordPlaceholder")),H=String(k("Accounts_ConfirmPasswordPlaceholder")),J=h(),K=h(),W=h(),Y=h(),z=h(),Q=h(),X=h(),ee=h(),er=E(),ei=F(),[eo,en]=_(void 0),ea=x(),{register:et,handleSubmit:es,setError:el,watch:ed,getValues:ec,clearErrors:eu,control:em,formState:{errors:ef}}=O({mode:"onBlur"}),{password:ep}=ed(),eg=q(ep),eh=C(null);return(A(()=>{eh.current&&eh.current.focus()},[]),(null===(r=ef.email)||void 0===r?void 0:r.type)==="invalid-email")?o($,{onBackToLogin:()=>eu("email"),email:ec("email")}):n(v,{tabIndex:-1,ref:eh,"aria-labelledby":J,"aria-describedby":"welcomeTitle",onSubmit:es(r=>T(void 0,void 0,void 0,function*(){var{password:i,passwordConfirmation:o}=r,n=S(r,["password","passwordConfirmation"]);er.mutate(Object.assign({pass:i},n),{onError:r=>{[r.error,r.errorType].includes("error-invalid-email")&&el("email",{type:"invalid-email",message:M("registration.component.form.invalidEmail")}),"error-user-already-exists"===r.errorType&&el("username",{type:"user-already-exists",message:M("registration.component.form.usernameAlreadyExists")}),/Email already exists/.test(r.error)&&el("email",{type:"email-already-exists",message:M("registration.component.form.emailAlreadyExists")}),/Username is already in use/.test(r.error)&&el("username",{type:"username-already-exists",message:M("registration.component.form.userAlreadyExist")}),/error-too-many-requests/.test(r.error)&&ea({type:"error",message:r.error}),/error-user-is-not-activated/.test(r.error)&&(ea({type:"info",message:M("registration.page.registration.waitActivationWarning")}),e("login")),"error-user-registration-custom-field"===r.error&&en(r.message)}})})),children:[o(v.Header,{children:o(v.Title,{id:J,children:M("registration.component.form.createAnAccount")})}),o(v.Container,{children:n(a,{children:[n(s,{children:[o(l,{required:N,htmlFor:W,children:M("registration.component.form.name")}),o(d,{children:o(t,Object.assign({},et("name",{required:!!N&&M("registration.component.form.requiredField")}),{error:null===(i=null==ef?void 0:ef.name)||void 0===i?void 0:i.message,"aria-required":N,"aria-invalid":ef.name?"true":"false",placeholder:M("onboarding.form.adminInfoForm.fields.fullName.placeholder"),"aria-describedby":`${W}-error`,id:W}))}),ef.name&&o(c,{"aria-live":"assertive",id:`${W}-error`,children:ef.name.message})]}),n(s,{children:[o(l,{required:!0,htmlFor:Y,children:M("registration.component.form.email")}),o(d,{children:o(t,Object.assign({},et("email",{required:M("registration.component.form.requiredField"),pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:M("registration.component.form.invalidEmail")}}),{placeholder:G||M("registration.component.form.emailPlaceholder"),error:null===(I=null==ef?void 0:ef.email)||void 0===I?void 0:I.message,"aria-required":"true","aria-invalid":ef.email?"true":"false","aria-describedby":`${Y}-error`,id:Y}))}),ef.email&&o(c,{"aria-live":"assertive",id:`${Y}-error`,children:ef.email.message})]}),n(s,{children:[o(l,{required:!0,htmlFor:z,children:M("registration.component.form.username")}),o(d,{children:o(t,Object.assign({},et("username",{required:M("registration.component.form.requiredField")}),{error:null===(R=null==ef?void 0:ef.username)||void 0===R?void 0:R.message,"aria-required":"true","aria-invalid":ef.username?"true":"false","aria-describedby":`${z}-error`,id:z,placeholder:"jon.doe"}))}),ef.username&&o(c,{"aria-live":"assertive",id:`${z}-error`,children:ef.username.message})]}),n(s,{children:[o(l,{required:!0,htmlFor:Q,children:M("registration.component.form.password")}),o(d,{children:o(u,Object.assign({},et("password",{required:M("registration.component.form.requiredField"),validate:()=>!!eg||M("Password_must_meet_the_complexity_requirements")}),{error:null===(B=ef.password)||void 0===B?void 0:B.message,"aria-required":"true","aria-invalid":ef.password?"true":void 0,id:Q,placeholder:V||M("Create_a_password"),"aria-describedby":`${K} ${Q}-error`}))}),(null==ef?void 0:ef.password)&&o(c,{"aria-live":"assertive",id:`${Q}-error`,children:ef.password.message}),o(b,{password:ep,id:K})]}),Z&&n(s,{children:[o(l,{required:!0,htmlFor:X,children:M("registration.component.form.confirmPassword")}),o(d,{children:o(u,Object.assign({},et("passwordConfirmation",{required:M("registration.component.form.requiredField"),deps:["password"],validate:e=>ed("password")===e||M("registration.component.form.invalidConfirmPass")}),{error:null===(L=ef.passwordConfirmation)||void 0===L?void 0:L.message,"aria-required":"true","aria-invalid":ef.passwordConfirmation?"true":"false",id:X,"aria-describedby":`${X}-error`,placeholder:H||M("Confirm_password"),disabled:!eg}))}),ef.passwordConfirmation&&o(c,{"aria-live":"assertive",id:`${X}-error`,children:ef.passwordConfirmation.message})]}),D&&n(s,{children:[o(l,{required:!0,htmlFor:ee,children:M("registration.component.form.reasonToJoin")}),o(d,{children:o(p,Object.assign({},et("reason",{required:M("registration.component.form.requiredField")}),{error:null===(U=null==ef?void 0:ef.reason)||void 0===U?void 0:U.message,"aria-required":"true","aria-invalid":ef.reason?"true":"false","aria-describedby":`${ee}-error`,id:ee}))}),ef.reason&&o(c,{"aria-live":"assertive",id:`${ee}-error`,children:ef.reason.message})]}),o(w,{formName:"customFields",formControl:em,metadata:ei}),eo&&o(g,{type:"danger",children:eo})]})}),n(v.Footer,{children:[o(m,{children:o(f,{type:"submit",loading:er.isLoading,primary:!0,children:M("registration.component.form.joinYourTeam")})}),o(y,{onClick:()=>{e("login")},children:o(P,{i18nKey:"registration.page.register.back",children:"Back to Login"})})]})]})};i.exportDefault(I)}
//# sourceMappingURL=/dynamic/node_modules/@rocket.chat/web-ui-registration/dist/a701da087053920307067300eebafdec2315cb92.map
