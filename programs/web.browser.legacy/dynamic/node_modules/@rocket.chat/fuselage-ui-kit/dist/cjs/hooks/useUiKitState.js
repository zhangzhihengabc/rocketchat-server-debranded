function module(e,t){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var o=Object.getOwnPropertyDescriptor(t,i);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,o)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&i(t,e,o);return n(t,e),t},a=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,a){function l(e){try{r(n.next(e))}catch(e){a(e)}}function u(e){try{r(n.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?o(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(l,u)}r((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.useUiKitState=void 0;let l=e("@rocket.chat/fuselage-hooks"),u=o(e("@rocket.chat/ui-kit")),r=e("react"),c=e("../contexts/UiKitContext"),d=e("../utils/getInitialValue"),s=(e,t,i)=>{var n,o;return null!==(o=t&&(null===(n=t[e])||void 0===n?void 0:n.value))&&void 0!==o?o:i};t.useUiKitState=(e,t)=>{let{blockId:i,actionId:n,appId:o,dispatchActionConfig:f}=e,{action:v,appId:p,viewId:y,updateState:h}=(0,r.useContext)(c.UiKitContext),_=(0,d.getInitialValue)(e),{values:b,errors:C}=(0,r.useContext)(c.UiKitContext),g=s(n,b,_),x=null==C?void 0:C[n],[A,O]=(0,l.useSafely)((0,r.useState)(g)),[k,I]=(0,l.useSafely)((0,r.useState)(!1)),M=(0,l.useMutableCallback)(e=>a(void 0,void 0,void 0,function*(){let{target:{value:t}}=e;if(I(!0),Array.isArray(A)){let e=A.findIndex(e=>e===t);e>-1?O(A.filter((t,i)=>i!==e)):O([...A,t])}else O(t);yield null==h?void 0:h({blockId:i,appId:o,actionId:n,value:t,viewId:y},e),yield v({blockId:i,appId:o||p||"core",actionId:n,value:t,viewId:y},e),I(!1)})),S=(0,l.useMutableCallback)(e=>a(void 0,void 0,void 0,function*(){let{target:{value:t}}=e;O(t),h&&(yield h({blockId:i,appId:o,actionId:n,value:t,viewId:y},e)),yield v({blockId:i,appId:o||p||"core",actionId:n,value:t,viewId:y,dispatchActionConfig:f},e)})),j=(0,l.useMutableCallback)(e=>a(void 0,void 0,void 0,function*(){let{target:{value:t}}=e;O(t),yield null==h?void 0:h({blockId:i,appId:o||p||"core",actionId:n,value:t,viewId:y},e)})),m=(0,r.useMemo)(()=>({loading:k,setLoading:I,error:x,value:A}),[k,I,x,A]);return"plain_text_input"===e.type&&Array.isArray(null==e?void 0:e.dispatchActionConfig)&&e.dispatchActionConfig.includes("on_character_entered")?[m,S]:t&&[u.BlockContext.SECTION,u.BlockContext.ACTION].includes(t)||Array.isArray(null==e?void 0:e.dispatchActionConfig)&&e.dispatchActionConfig.includes("on_item_selected")?[m,M]:[m,j]}}
//# sourceMappingURL=/dynamic/node_modules/@rocket.chat/fuselage-ui-kit/dist/cjs/hooks/7f56177f7caac18685967b188b3cbc3ecfda4992.map
