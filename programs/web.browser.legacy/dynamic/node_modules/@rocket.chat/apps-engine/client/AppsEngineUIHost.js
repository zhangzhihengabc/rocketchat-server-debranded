function module(t,n,e){"use strict";e.link("@babel/runtime/regenerator",{default:function(t){i=t}},0);var i,r=this&&this.__awaiter||function(t,n,e,i){return new(e||(e=Promise))(function(r,s){function a(t){try{c(i.next(t))}catch(t){s(t)}}function o(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var n;t.done?r(t.value):((n=t.value)instanceof e?n:new e(function(t){t(n)})).then(a,o)}c((i=i.apply(t,n||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.AppsEngineUIHost=void 0;var s=t("./constants"),a=t("./definition"),o=function(){function t(){this.initialize()}var n=t.prototype;return n.initialize=function(){var t=this;window.addEventListener("message",function(n){var e=n.data,o=n.source;return r(t,void 0,void 0,i.mark(function t(){var n,r,c;return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e?void 0:e.hasOwnProperty(s.MESSAGE_ID)){t.next=2;break}return t.abrupt("return");case 2:this.responseDestination=o,r=(n=e[s.MESSAGE_ID]).action,c=n.id,t.t0=r,t.next=t.t0===a.AppsEngineUIMethods.GET_USER_INFO?7:t.t0===a.AppsEngineUIMethods.GET_ROOM_INFO?15:23;break;case 7:return t.t1=this,t.t2=r,t.t3=c,t.next=12,this.getClientUserInfo();case 12:return t.t4=t.sent,t.t1.handleAction.call(t.t1,t.t2,t.t3,t.t4),t.abrupt("break",23);case 15:return t.t5=this,t.t6=r,t.t7=c,t.next=20,this.getClientRoomInfo();case 20:return t.t8=t.sent,t.t5.handleAction.call(t.t5,t.t6,t.t7,t.t8),t.abrupt("break",23);case 23:case"end":return t.stop()}},t,this)}))})},n.handleAction=function(t,n,e){return r(this,void 0,void 0,i.mark(function r(){var a;return i.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(this.responseDestination instanceof MessagePort||this.responseDestination instanceof ServiceWorker)){i.next=2;break}return i.abrupt("return");case 2:this.responseDestination.postMessage(((a={})[s.MESSAGE_ID]={id:n,action:t,payload:e},a),"*");case 3:case"end":return i.stop()}},r,this)}))},t}();n.AppsEngineUIHost=o}
//# sourceMappingURL=/dynamic/node_modules/@rocket.chat/apps-engine/client/6c4085584ed2badf2b09da185f06703a4e8de7cf.map
