function module(e,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var r,i=1,l=arguments.length;i<l;i++)for(var o in r=arguments[i])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0});var l=e("react/jsx-runtime"),o=e("@rocket.chat/fuselage"),a=e("@rocket.chat/fuselage-hooks"),n=e("@rocket.chat/layout"),d=e("react"),t=e("react-hook-form"),s=e("react-i18next");r.default=function(e){var r=e.currentStep,c=e.stepCount,u=e.passwordRulesHint,m=e.initialValues,f=e.validateUsername,h=e.validateEmail,p=e.validatePassword,x=e.keepPosted,F=e.onSubmit,j=(0,s.useTranslation)().t,b=(0,a.useUniqueId)(),v=(0,a.useUniqueId)(),q=(0,a.useUniqueId)(),I=(0,a.useUniqueId)(),g=(0,a.useUniqueId)(),w=(0,d.useRef)(null),y=(0,t.useForm)({defaultValues:i(i({},m),{password:""}),mode:"onBlur"}),S=y.register,k=y.handleSubmit,P=y.formState,C=P.isValidating,E=P.isSubmitting,R=P.errors,U=y.control;return(0,d.useEffect)(function(){w.current&&w.current.focus()},[]),(0,l.jsxs)(n.Form,i({ref:w,tabIndex:-1,"aria-labelledby":"".concat(b,"-title"),"aria-describedby":"".concat(b,"-description"),onSubmit:k(F)},{children:[(0,l.jsxs)(n.Form.Header,{children:[(0,l.jsx)(n.Form.Steps,{currentStep:r,stepCount:c}),(0,l.jsx)(n.Form.Title,i({id:"".concat(b,"-title")},{children:j("form.adminInfoForm.title")})),(0,l.jsx)(n.Form.Subtitle,i({id:"".concat(b,"-description")},{children:j("form.adminInfoForm.subtitle")}))]}),(0,l.jsx)(n.Form.Container,{children:(0,l.jsxs)(o.FieldGroup,{children:[(0,l.jsxs)(o.Field,{children:[(0,l.jsx)(o.FieldLabel,i({required:!0,htmlFor:v},{children:j("form.adminInfoForm.fields.fullName.label")})),(0,l.jsx)(o.FieldRow,{children:(0,l.jsx)(t.Controller,{name:"fullname",control:U,rules:{required:String(j("component.form.requiredField"))},render:function(e){var r=e.field;return(0,l.jsx)(o.TextInput,i({},r,{"aria-describedby":"".concat(v,"-error}"),"aria-required":"true","aria-invalid":!!R.fullname,placeholder:j("form.adminInfoForm.fields.fullName.placeholder"),id:v}))}})}),R.fullname&&(0,l.jsx)(o.FieldError,i({"aria-live":"assertive",id:"".concat(v,"-error}")},{children:R.fullname.message}))]}),(0,l.jsxs)(o.Field,{children:[(0,l.jsx)(o.FieldLabel,i({required:!0,htmlFor:q},{children:j("form.adminInfoForm.fields.username.label")})),(0,l.jsx)(o.FieldRow,{children:(0,l.jsx)(t.Controller,{name:"username",control:U,rules:{required:String(j("component.form.requiredField")),validate:f},render:function(e){var r=e.field;return(0,l.jsx)(o.TextInput,i({},r,{"aria-describedby":"".concat(q,"-error}"),"aria-required":"true","aria-invalid":!!R.username,placeholder:j("form.adminInfoForm.fields.username.placeholder"),id:q}))}})}),R.username&&(0,l.jsx)(o.FieldError,i({"aria-live":"assertive",id:"".concat(q,"-error}")},{children:R.username.message}))]}),(0,l.jsxs)(o.Field,{children:[(0,l.jsx)(o.FieldLabel,i({required:!0,htmlFor:I},{children:j("form.adminInfoForm.fields.email.label")})),(0,l.jsx)(o.FieldRow,{children:(0,l.jsx)(t.Controller,{name:"email",control:U,rules:{required:String(j("component.form.requiredField")),validate:h},render:function(e){var r=e.field;return(0,l.jsx)(o.EmailInput,i({},r,{"aria-required":"true","aria-invalid":!!R.email,"aria-describedby":"".concat(I,"-error}"),placeholder:j("form.adminInfoForm.fields.email.placeholder"),id:I}))}})}),R.email&&(0,l.jsx)(o.FieldError,i({"aria-live":"assertive",id:"".concat(I,"-error}")},{children:R.email.message}))]}),(0,l.jsxs)(o.Field,{children:[(0,l.jsx)(o.FieldLabel,i({required:!0,htmlFor:g},{children:j("form.adminInfoForm.fields.password.label")})),(0,l.jsx)(o.FieldRow,{children:(0,l.jsx)(t.Controller,{name:"password",control:U,rules:{required:String(j("component.form.requiredField")),validate:p},render:function(e){var r=e.field;return(0,l.jsx)(o.PasswordInput,i({},r,{"aria-required":"true","aria-invalid":!!R.password,"aria-describedby":"".concat(g,"-hint ").concat(g,"-error}"),placeholder:j("form.adminInfoForm.fields.password.placeholder"),id:g}))}})}),(0,l.jsx)(o.FieldHint,i({id:"".concat(g,"-hint")},{children:u})),R.password&&(0,l.jsx)(o.FieldError,i({"aria-live":"assertive",id:"".concat(g,"-error}")},{children:R.password.message}))]}),void 0!==x&&x&&(0,l.jsxs)(o.Box,i({mbe:8,display:"block",color:"info",fontScale:"c1"},{children:[(0,l.jsx)(o.CheckBox,i({id:"keepPosted",mie:8},S("keepPosted"))),(0,l.jsx)("label",i({htmlFor:"keepPosted"},{children:j("form.adminInfoForm.fields.keepPosted.label")}))]}))]})}),(0,l.jsx)(n.Form.Footer,{children:(0,l.jsx)(o.ButtonGroup,i({flexGrow:1},{children:(0,l.jsx)(o.Button,i({type:"submit",primary:!0,disabled:C||E},{children:j("component.form.action.next")}))}))})]}))}}
//# sourceMappingURL=/dynamic/node_modules/@rocket.chat/onboarding-ui/dist/cjs/forms/AdminInfoForm/c437e3c10c0d82e738f72787d37d888e2a3a923c.map
