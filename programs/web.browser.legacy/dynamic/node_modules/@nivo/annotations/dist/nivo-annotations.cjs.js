function module(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=t("react"),i=t("lodash/omit"),o=t("lodash/isNumber"),a=t("lodash/filter"),s=t("@nivo/core"),r=t("@react-spring/web"),u=t("react/jsx-runtime");function l(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var d=l(i),h=l(o),c=l(a);function f(){return(f=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}).apply(this,arguments)}var x={dotSize:4,noteWidth:120,noteTextOffset:8,animate:!0,motionStiffness:90,motionDamping:13},m=function(t){var n=typeof t;return e.isValidElement(t)||"string"===n||"function"===n||"object"===n},y=function(t){var n=typeof t;return"string"===n||"function"===n},g=function(t){return"circle"===t.type},p=function(t){return"dot"===t.type},k=function(t){return"rect"===t.type},W=function(t){var n=t.data,e=t.annotations,i=t.getPosition,o=t.getDimensions;return e.reduce(function(t,e){var a=e.offset||0;return[].concat(t,c.default(n,e.match).map(function(t){var n=i(t),s=o(t);return(g(e)||k(e))&&(s.size=s.size+2*a,s.width=s.width+2*a,s.height=s.height+2*a),f({},d.default(e,["match","offset"]),n,s,{size:e.size||s.size,datum:t})}))},[])},v=function(t,n,e,i){return s.absoluteAngleDegrees(s.radiansToDegrees(Math.atan2(i-n,e-t)))},b=function(t){var n,e,i=t.x,o=t.y,a=t.noteX,r=t.noteY,u=t.noteWidth,l=void 0===u?x.noteWidth:u,d=t.noteTextOffset,c=void 0===d?x.noteTextOffset:d;if(h.default(a))n=i+a;else{if(void 0===a.abs)throw Error("noteX should be either a number or an object containing an 'abs' property");n=a.abs}if(h.default(r))e=o+r;else{if(void 0===r.abs)throw Error("noteY should be either a number or an object containing an 'abs' property");e=r.abs}var f=i,m=o,y=v(i,o,n,e);if(g(t)){var p=s.positionFromAngle(s.degreesToRadians(y),t.size/2);f+=p.x,m+=p.y}if(k(t)){var W=Math.round((y+90)/45)%8;0===W&&(m-=t.height/2),1===W&&(f+=t.width/2,m-=t.height/2),2===W&&(f+=t.width/2),3===W&&(f+=t.width/2,m+=t.height/2),4===W&&(m+=t.height/2),5===W&&(f-=t.width/2,m+=t.height/2),6===W&&(f-=t.width/2),7===W&&(f-=t.width/2,m-=t.height/2)}var b=n,j=n;return(y+90)%360>180?(b-=l,j-=l):j+=l,{points:[[f,m],[n,e],[j,e]],text:[b,e-c],angle:y+90}},j=function(t){return e.useMemo(function(){return b(t)},[t])},w=function(t){var n=t.datum,i=t.x,o=t.y,a=t.note,l=s.useTheme(),h=s.useMotionConfig(),c=h.animate,x=h.config,m=r.useSpring({x:i,y:o,config:x,immediate:!c});return"function"==typeof a?e.createElement(a,{x:i,y:o,datum:n}):u.jsxs(u.Fragment,{children:[l.annotations.text.outlineWidth>0&&u.jsx(r.animated.text,{x:m.x,y:m.y,style:f({},l.annotations.text,{strokeLinejoin:"round",strokeWidth:2*l.annotations.text.outlineWidth,stroke:l.annotations.text.outlineColor}),children:a}),u.jsx(r.animated.text,{x:m.x,y:m.y,style:d.default(l.annotations.text,["outlineWidth","outlineColor"]),children:a})]})},C=function(t){var n=t.points,i=t.isOutline,o=void 0!==i&&i,a=s.useTheme(),l=e.useMemo(function(){var t=n[0];return n.slice(1).reduce(function(t,n){return t+" L"+n[0]+","+n[1]},"M"+t[0]+","+t[1])},[n]),d=s.useAnimatedPath(l);if(o&&a.annotations.link.outlineWidth<=0)return null;var h=f({},a.annotations.link);return o&&(h.strokeLinecap="square",h.strokeWidth=a.annotations.link.strokeWidth+2*a.annotations.link.outlineWidth,h.stroke=a.annotations.link.outlineColor,h.opacity=a.annotations.link.outlineOpacity),u.jsx(r.animated.path,{fill:"none",d:d,style:h})},z=function(t){var n=t.x,e=t.y,i=t.size,o=s.useTheme(),a=s.useMotionConfig(),l=a.animate,d=a.config,h=r.useSpring({x:n,y:e,radius:i/2,config:d,immediate:!l});return u.jsxs(u.Fragment,{children:[o.annotations.outline.outlineWidth>0&&u.jsx(r.animated.circle,{cx:h.x,cy:h.y,r:h.radius,style:f({},o.annotations.outline,{fill:"none",strokeWidth:o.annotations.outline.strokeWidth+2*o.annotations.outline.outlineWidth,stroke:o.annotations.outline.outlineColor,opacity:o.annotations.outline.outlineOpacity})}),u.jsx(r.animated.circle,{cx:h.x,cy:h.y,r:h.radius,style:o.annotations.outline})]})},P=function(t){var n=t.x,e=t.y,i=t.size,o=void 0===i?x.dotSize:i,a=s.useTheme(),l=s.useMotionConfig(),d=l.animate,h=l.config,c=r.useSpring({x:n,y:e,radius:o/2,config:h,immediate:!d});return u.jsxs(u.Fragment,{children:[a.annotations.outline.outlineWidth>0&&u.jsx(r.animated.circle,{cx:c.x,cy:c.y,r:c.radius,style:f({},a.annotations.outline,{fill:"none",strokeWidth:2*a.annotations.outline.outlineWidth,stroke:a.annotations.outline.outlineColor,opacity:a.annotations.outline.outlineOpacity})}),u.jsx(r.animated.circle,{cx:c.x,cy:c.y,r:c.radius,style:a.annotations.symbol})]})},S=function(t){var n=t.x,e=t.y,i=t.width,o=t.height,a=t.borderRadius,l=void 0===a?6:a,d=s.useTheme(),h=s.useMotionConfig(),c=h.animate,x=h.config,m=r.useSpring({x:n-i/2,y:e-o/2,width:i,height:o,config:x,immediate:!c});return u.jsxs(u.Fragment,{children:[d.annotations.outline.outlineWidth>0&&u.jsx(r.animated.rect,{x:m.x,y:m.y,rx:l,ry:l,width:m.width,height:m.height,style:f({},d.annotations.outline,{fill:"none",strokeWidth:d.annotations.outline.strokeWidth+2*d.annotations.outline.outlineWidth,stroke:d.annotations.outline.outlineColor,opacity:d.annotations.outline.outlineOpacity})}),u.jsx(r.animated.rect,{x:m.x,y:m.y,rx:l,ry:l,width:m.width,height:m.height,style:d.annotations.outline})]})},M=function(t,n){n.forEach(function(n,e){var i=n[0],o=n[1];0===e?t.moveTo(i,o):t.lineTo(i,o)})};n.Annotation=function(t){var n=t.datum,e=t.x,i=t.y,o=t.note,a=j(t);if(!m(o))throw Error("note should be a valid react element");return u.jsxs(u.Fragment,{children:[u.jsx(C,{points:a.points,isOutline:!0}),g(t)&&u.jsx(z,{x:e,y:i,size:t.size}),p(t)&&u.jsx(P,{x:e,y:i,size:t.size}),k(t)&&u.jsx(S,{x:e,y:i,width:t.width,height:t.height,borderRadius:t.borderRadius}),u.jsx(C,{points:a.points}),u.jsx(w,{datum:n,x:a.text[0],y:a.text[1],note:o})]})},n.bindAnnotations=W,n.computeAnnotation=b,n.defaultProps=x,n.getLinkAngle=v,n.isCanvasNote=y,n.isCircleAnnotation=g,n.isDotAnnotation=p,n.isRectAnnotation=k,n.isSvgNote=m,n.renderAnnotationsToCanvas=function(t,n){var e=n.annotations,i=n.theme;0!==e.length&&(t.save(),e.forEach(function(n){if(!y(n.note))throw Error("note is invalid for canvas implementation");i.annotations.link.outlineWidth>0&&(t.lineCap="square",t.strokeStyle=i.annotations.link.outlineColor,t.lineWidth=i.annotations.link.strokeWidth+2*i.annotations.link.outlineWidth,t.beginPath(),M(t,n.computed.points),t.stroke(),t.lineCap="butt"),g(n)&&i.annotations.outline.outlineWidth>0&&(t.strokeStyle=i.annotations.outline.outlineColor,t.lineWidth=i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,t.beginPath(),t.arc(n.x,n.y,n.size/2,0,2*Math.PI),t.stroke()),p(n)&&i.annotations.symbol.outlineWidth>0&&(t.strokeStyle=i.annotations.symbol.outlineColor,t.lineWidth=2*i.annotations.symbol.outlineWidth,t.beginPath(),t.arc(n.x,n.y,n.size/2,0,2*Math.PI),t.stroke()),k(n)&&i.annotations.outline.outlineWidth>0&&(t.strokeStyle=i.annotations.outline.outlineColor,t.lineWidth=i.annotations.outline.strokeWidth+2*i.annotations.outline.outlineWidth,t.beginPath(),t.rect(n.x-n.width/2,n.y-n.height/2,n.width,n.height),t.stroke()),t.strokeStyle=i.annotations.link.stroke,t.lineWidth=i.annotations.link.strokeWidth,t.beginPath(),M(t,n.computed.points),t.stroke(),g(n)&&(t.strokeStyle=i.annotations.outline.stroke,t.lineWidth=i.annotations.outline.strokeWidth,t.beginPath(),t.arc(n.x,n.y,n.size/2,0,2*Math.PI),t.stroke()),p(n)&&(t.fillStyle=i.annotations.symbol.fill,t.beginPath(),t.arc(n.x,n.y,n.size/2,0,2*Math.PI),t.fill()),k(n)&&(t.strokeStyle=i.annotations.outline.stroke,t.lineWidth=i.annotations.outline.strokeWidth,t.beginPath(),t.rect(n.x-n.width/2,n.y-n.height/2,n.width,n.height),t.stroke()),"function"==typeof n.note?n.note(t,{datum:n.datum,x:n.computed.text[0],y:n.computed.text[1],theme:i}):(t.font=i.annotations.text.fontSize+"px "+i.annotations.text.fontFamily,t.textAlign="left",t.textBaseline="alphabetic",t.fillStyle=i.annotations.text.fill,t.strokeStyle=i.annotations.text.outlineColor,t.lineWidth=2*i.annotations.text.outlineWidth,i.annotations.text.outlineWidth>0&&(t.lineJoin="round",t.strokeText(n.note,n.computed.text[0],n.computed.text[1]),t.lineJoin="miter"),t.fillText(n.note,n.computed.text[0],n.computed.text[1]))}),t.restore())},n.useAnnotations=function(t){var n=t.data,i=t.annotations,o=t.getPosition,a=t.getDimensions;return e.useMemo(function(){return W({data:n,annotations:i,getPosition:o,getDimensions:a})},[n,i,o,a])},n.useComputedAnnotation=j,n.useComputedAnnotations=function(t){var n=t.annotations;return e.useMemo(function(){return n.map(function(t){return f({},t,{computed:b(f({},t))})})},[n])}}
//# sourceMappingURL=/dynamic/node_modules/@nivo/annotations/dist/e560d1a5fb5b7dde1f414cdc544bc21868bb94e0.map
