function module(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("lodash/uniq"),a=e("lodash/uniqBy"),r=e("lodash/sortBy"),i=e("lodash/last"),o=e("lodash/isDate"),u=e("d3-time-format"),c=e("d3-scale"),s=e("d3-time");function d(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=d(n),f=d(a),m=d(r),v=d(i),y=d(o);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var h=[function(e){return e.setMilliseconds(0)},function(e){return e.setSeconds(0)},function(e){return e.setMinutes(0)},function(e){return e.setHours(0)},function(e){return e.setDate(1)},function(e){return e.setMonth(0)}],g={millisecond:[],second:h.slice(0,1),minute:h.slice(0,2),hour:h.slice(0,3),day:h.slice(0,4),month:h.slice(0,5),year:h.slice(0,6)},x=function(e){return function(t){return g[e].forEach(function(e){e(t)}),t}},S=function(e){var t=e.format,n=void 0===t?"native":t,a=e.precision,r=e.useUTC,i=void 0===r||r,o=x(void 0===a?"millisecond":a);return function(e){return void 0===e?e:"native"===n||e instanceof Date?o(e):o((i?u.utcParse(n):u.timeParse(n))(e))}},k=function(e,t,n,a){var r,i,o,u,s=e.min,d=void 0===s?0:s,l=e.max,f=void 0===l?"auto":l,m=e.stacked,v=void 0!==m&&m,y=e.reverse,p=void 0!==y&&y,h=e.clamp,g=void 0!==h&&h,x=e.nice,S=void 0!==x&&x;r="auto"===d?!0===v?null!=(i=t.minStacked)?i:0:t.min:d,o="auto"===f?!0===v?null!=(u=t.maxStacked)?u:0:t.max:f;var k=c.scaleLinear().rangeRound("x"===a?[0,n]:[n,0]).domain(p?[o,r]:[r,o]).clamp(g);return!0===S?k.nice():"number"==typeof S&&k.nice(S),T(k,v)},T=function(e,t){return void 0===t&&(t=!1),e.type="linear",e.stacked=t,e},M=function(e,t,n){var a=c.scalePoint().range([0,n]).domain(t.all);return a.type="point",a},b=function(e,t,n,a){var r=e.round;return E(c.scaleBand().range("x"===a?[0,n]:[n,0]).domain(t.all).round(void 0===r||r))},E=function(e){return e.type="band",e},D=function(e,t,n){var a,r,i=e.format,o=void 0===i?"native":i,u=e.precision,s=e.min,d=void 0===s?"auto":s,l=e.max,f=void 0===l?"auto":l,m=e.useUTC,v=void 0===m||m,y=e.nice,p=void 0!==y&&y,h=S({format:o,precision:void 0===u?"millisecond":u,useUTC:v});a="auto"===d?h(t.min):"native"!==o?h(d):d,r="auto"===f?h(t.max):"native"!==o?h(f):f;var g=v?c.scaleUtc():c.scaleTime();return g.range([0,n]),a&&r&&g.domain([a,r]),!0===p?g.nice():"object"!=typeof p&&"number"!=typeof p||g.nice(p),g.type="time",g.useUTC=v,g},w=function(e,t,n,a){var r,i=e.base,o=void 0===i?10:i,u=e.min,s=void 0===u?"auto":u,d=e.max,l=void 0===d?"auto":d;if(t.all.some(function(e){return 0===e}))throw Error("a log scale domain must not include or cross zero");var f,m,v=!1;if(t.all.filter(function(e){return null!=e}).forEach(function(e){v||(void 0===r?r=Math.sign(e):Math.sign(e)!==r&&(v=!0))}),v)throw Error("a log scale domain must be strictly-positive or strictly-negative");f="auto"===s?t.min:s,m="auto"===l?t.max:l;var y=c.scaleLog().domain([f,m]).rangeRound("x"===a?[0,n]:[n,0]).base(o).nice();return y.type="log",y},C=function(e,t,n,a){var r,i,o=e.constant,u=void 0===o?1:o,s=e.min,d=void 0===s?"auto":s,l=e.max,f=void 0===l?"auto":l,m=e.reverse;r="auto"===d?t.min:d,i="auto"===f?t.max:f;var v=c.scaleSymlog().constant(u).rangeRound("x"===a?[0,n]:[n,0]).nice();return!0===(void 0!==m&&m)?v.domain([i,r]):v.domain([r,i]),v.type="symlog",v},U=function(e){return"x"===e?"y":"x"},P=function(e,t){return e===t},O=function(e,t){return e.getTime()===t.getTime()};function j(e,t,n,a){switch(e.type){case"linear":return k(e,t,n,a);case"point":return M(0,t,n);case"band":return b(e,t,n,a);case"time":return D(e,t,n);case"log":return w(e,t,n,a);case"symlog":return C(e,t,n,a);default:throw Error("invalid scale spec")}}var B=function(e,t,n){var a;if("stacked"in n&&n.stacked){var r=e.data["x"===t?"xStacked":"yStacked"];return null==r?null:n(r)}return null!=(a=n(e.data[t]))?a:null},A=function(e,t,n){return{x:F(e,"x",t),y:F(e,"y",n)}},F=function(e,t,n,a){var r=void 0===a?{}:a,i=r.getValue,o=void 0===i?function(e){return e.data[t]}:i,u=r.setValue,c=void 0===u?function(e,n){e.data[t]=n}:u;if("linear"===n.type)e.forEach(function(e){e.data.forEach(function(e){var t=o(e);t&&c(e,parseFloat(String(t)))})});else if("time"===n.type&&"native"!==n.format){var s=S(n);e.forEach(function(e){e.data.forEach(function(e){var t=o(e);t&&c(e,s(t))})})}var d=[];switch(e.forEach(function(e){e.data.forEach(function(e){d.push(o(e))})}),n.type){case"linear":var y=m.default(l.default(d).filter(function(e){return null!==e}),function(e){return e});return{all:y,min:Math.min.apply(Math,y),max:Math.max.apply(Math,y)};case"time":var p=f.default(d,function(e){return e.getTime()}).slice(0).sort(function(e,t){return t.getTime()-e.getTime()}).reverse();return{all:p,min:p[0],max:v.default(p)};default:var h=l.default(d);return{all:h,min:h[0],max:v.default(h)}}},H=function(e,t,n){var a=U(e),r=[];t[a].all.forEach(function(t){var i=y.default(t)?O:P,o=[];n.forEach(function(n){var u=n.data.find(function(e){return i(e.data[a],t)}),c=null,s=null;if(void 0!==u){if(null!==(c=u.data[e])){var d=v.default(o);void 0===d?s=c:null!==d&&(s=d+c)}u.data["x"===e?"xStacked":"yStacked"]=s}o.push(s),null!==s&&r.push(s)})}),t[e].minStacked=Math.min.apply(Math,r),t[e].maxStacked=Math.max.apply(Math,r)},L=s.timeInterval(function(e){return e.setHours(0,0,0,0)},function(e,t){return e.setDate(e.getDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)}),V=s.timeInterval(function(e){return e.setUTCHours(0,0,0,0)},function(e,t){return e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t.getTime()-e.getTime())/864e5},function(e){return Math.floor(e.getTime()/864e5)}),R={millisecond:[s.timeMillisecond,s.utcMillisecond],second:[s.timeSecond,s.utcSecond],minute:[s.timeMinute,s.utcMinute],hour:[s.timeHour,s.utcHour],day:[L,V],week:[s.timeWeek,s.utcWeek],sunday:[s.timeSunday,s.utcSunday],monday:[s.timeMonday,s.utcMonday],tuesday:[s.timeTuesday,s.utcTuesday],wednesday:[s.timeWednesday,s.utcWednesday],thursday:[s.timeThursday,s.utcThursday],friday:[s.timeFriday,s.utcFriday],saturday:[s.timeSaturday,s.utcSaturday],month:[s.timeMonth,s.utcMonth],year:[s.timeYear,s.utcYear]},W=RegExp("^every\\s*(\\d+)?\\s*("+Object.keys(R).join("|")+")s?$","i");t.castBandScale=E,t.castLinearScale=T,t.castPointScale=function(e){return e.type="point",e},t.centerScale=function(e){var t=e.bandwidth();if(0===t)return e;var n=t/2;return e.round()&&(n=Math.round(n)),function(t){var a;return(null!=(a=e(t))?a:0)+n}},t.compareDateValues=O,t.compareValues=P,t.computeScale=j,t.computeXYScalesForSeries=function(e,t,n,a,r){var i=e.map(function(e){return p({},e,{data:e.data.map(function(e){return{data:p({},e)}})})}),o=A(i,t,n);"stacked"in t&&!0===t.stacked&&H("x",o,i),"stacked"in n&&!0===n.stacked&&H("y",o,i);var u=j(t,o.x,a,"x"),c=j(n,o.y,r,"y"),s=i.map(function(e){return p({},e,{data:e.data.map(function(e){return p({},e,{position:{x:B(e,"x",u),y:B(e,"y",c)}})})})});return p({},o,{series:s,xScale:u,yScale:c})},t.createBandScale=b,t.createDateNormalizer=S,t.createLinearScale=k,t.createLogScale=w,t.createPointScale=M,t.createPrecisionMethod=x,t.createSymlogScale=C,t.createTimeScale=D,t.generateSeriesAxis=F,t.generateSeriesXY=A,t.getOtherAxis=U,t.getScaleTicks=function(e,t){if(Array.isArray(t))return t;if("string"==typeof t&&"useUTC"in e){var n=t.match(W);if(n){var a=n[1],r=n[2],i=R[r][e.useUTC?1:0];if("day"===r){var o,u,c=e.domain(),s=c[0],d=c[1],l=new Date(d);return l.setDate(l.getDate()+1),null!=(o=null==(u=i.every(Number(null!=a?a:1)))?void 0:u.range(s,l))?o:[]}if(void 0===a)return e.ticks(i);var f=i.every(Number(a));if(f)return e.ticks(f)}throw Error("Invalid tickValues: "+t)}if("ticks"in e){if(void 0===t)return e.ticks();if("number"==typeof t&&isFinite(t)&&Math.floor(t)===t)return e.ticks(t)}return e.domain()},t.precisionCutOffs=h,t.precisionCutOffsByType=g,t.stackAxis=H,t.timePrecisions=["millisecond","second","minute","hour","day","month","year"]}
//# sourceMappingURL=/dynamic/node_modules/@nivo/scales/dist/a64ea8dd30608e72ad9decc6c3562d5551658a8e.map
