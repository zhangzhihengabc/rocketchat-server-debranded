)]}'
{"version":3,"sources":["meteor://ðŸ’»app/lib/oauthRedirectUriClient.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { OAuth } from 'meteor/oauth';\n\nconst { _redirectUri } = OAuth;\n\nOAuth._redirectUri = (serviceName: string, config: any, params: unknown, absoluteUrlOptions: unknown): string => {\n\tconst ret = _redirectUri(serviceName, config, params, absoluteUrlOptions);\n\n\t// DEPRECATED: Remove in v5.0.0\n\t// Meteor 2.3 removed ?close from redirect uri so we need to add it back to not break old oauth clients\n\t// https://github.com/meteor/meteor/commit/b5b7306bedc3e8eb241e64efb1e281925aa75dd3#diff-59244f4e0176cb1beed2e287924e97dc7ae2c0cc51494ce121a85d8937d116a5L11\n\tif (!config?.loginStyle && !ret.includes('close')) {\n\t\tconsole.warn(\n\t\t\t`Automatically added ?close to 'redirect_uri' for ${serviceName}, this behavior will be removed in v5.0.0.\\n` +\n\t\t\t\t\"Please update your OAuth config to accept both with and without ?close as the 'redirect_uri'.\",\n\t\t);\n\t\treturn `${ret + (ret.includes('?') ? '&' : '?')}close`;\n\t}\n\n\treturn ret;\n};\n",null],"names":["module","link","OAuth","_redirectUri","_OAuth","serviceName","config","params","absoluteUrlOptions","ret","loginStyle","includes","console","warn"],"mappings":"uBAASA,EAAOC,IAAA,CAAM,eAAe,CAAAC,MAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAErC,IAFAA,EAEQC,EAAYC,AAAKF,EAAjBC,YAAY,AAEpBD,CAAAA,EAAMC,YAAY,CAAG,SAACE,CAAmB,CAAEC,CAAW,CAAEC,CAAe,CAAEC,CAA2B,EACnG,IAAMC,EAAMN,EAAaE,EAAaC,EAAQC,EAAQC,UAKtD,AAAI,MAACF,GAAAA,EAAQI,UAAU,EAAKD,EAAIE,QAAQ,CAAC,SAQlCF,GAPNG,QAAQC,IAAI,CACX,oDAAoDR,EAApD,6IAGSI,EAAOA,CAAAA,EAAIE,QAAQ,CAAC,KAAO,IAAM,GAAA,EAAI,QAIjD"}