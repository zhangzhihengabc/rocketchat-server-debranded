function module(n,t,e){e.link("@babel/runtime/regenerator",{default:function(n){o=n}},0),e.link("@babel/runtime/helpers/slicedToArray",{default:function(n){a=n}},1),e.link("@babel/runtime/helpers/objectSpread2",{default:function(n){r=n}},2),e.export({useChannelsSection:function(){return _}}),e.link("@rocket.chat/string-helpers",{capitalize:function(n){i=n}},0),e.link("@rocket.chat/ui-contexts",{useEndpoint:function(n){l=n},useTranslation:function(n){u=n}},1),e.link("@tanstack/react-query",{useQuery:function(n){s=n}},2),e.link("react",{useMemo:function(n){c=n}},3),e.link("../../../components/dashboards/periods",{getPeriodRange:function(n){d=n}},4),e.link("../../../components/dashboards/usePeriodSelectorStorage",{usePeriodSelectorStorage:function(n){f=n}},5),e.link("../components/constants",{PERIOD_OPTIONS:function(n){p=n}},6),e.link("../utils/formatPeriodDescription",{formatPeriodDescription:function(n){h=n}},7),e.link("../utils/getTop",{getTop:function(n){b=n}},8),e.link("../utils/round",{round:function(n){v=n}},9),e.link("./useDefaultDownload",{useDefaultDownload:function(n){m=n}},10);var o,a,r,i,l,u,s,c,d,f,p,h,b,v,m,g={widget:"Livechat","email-inbox":"Email",twilio:"SMS",api:"Custom_Integration"},S=function(n,t,e){var o=t>0?v(n.value/t*100):0,a=""+(e(g[n.label])||i(n.label));return r(r({},n),{},{label:a+" "+n.value+" ("+o+"%)",rawLabel:a,id:n.label})},k=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2?arguments[2]:void 0;return n.map(function(n){return S(n,t,e)})},_=function(){var n=u(),t=a(f("reports-channels-period",p),2),e=t[0],i=t[1],v=l("GET","/v1/livechat/analytics/dashboards/conversations-by-source"),g=s(["omnichannel-reports","conversations-by-source",e],function(){var t,a,i,l,u,s;return o.async(function(c){for(;;)switch(c.prev=c.next){case 0:return a=(t=d(e)).start,i=t.end,c.next=3,o.awrap(v({start:a.toISOString(),end:i.toISOString()}));case 3:return s=b(5,u=k((l=c.sent).data,l.total,n),function(t){return S({label:n("Others"),value:t},l.total,n)}),c.abrupt("return",r(r({},l),{},{data:s,rawData:u}));case 7:case"end":return c.stop()}},null,null,null,Promise)},{refetchInterval:3e5}),_=g.data,y=(_=void 0===_?{data:[],rawData:[],total:0}:_).data,w=_.rawData,D=_.total,P=g.refetch,E=g.isLoading,O=g.isError,I=g.isSuccess,T=n("Conversations_by_channel"),x=n("__count__conversations__period__",{count:null!=D?D:0,period:h(e,n)}),C=n("Omnichannel_Reports_Channels_Empty_Subtitle"),L=m({columnName:n("Channel"),title:T,data:w,period:e});return c(function(){return{id:"conversations-by-channel",title:T,subtitle:x,emptyStateSubtitle:C,data:y,total:D,isLoading:E,isError:O,isDataFound:I&&y.length>0,periodSelectorProps:i,period:e,downloadProps:L,onRetry:P}},[T,x,C,y,D,E,O,I,i,e,L,P])}}
//# sourceMappingURL=/dynamic/ee/client/omnichannel/reports/hooks/03c4d2c3964e92ce40ef953fba8e7ddabdd99e18.map
