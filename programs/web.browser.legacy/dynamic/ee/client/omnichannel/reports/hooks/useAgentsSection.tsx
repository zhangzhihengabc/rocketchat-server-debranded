function module(t,n,e){e.link("@babel/runtime/regenerator",{default:function(t){o=t}},0),e.link("@babel/runtime/helpers/slicedToArray",{default:function(t){r=t}},1),e.link("@babel/runtime/helpers/objectSpread2",{default:function(t){i=t}},2),e.export({useAgentsSection:function(){return m}}),e.link("@rocket.chat/ui-contexts",{useEndpoint:function(t){a=t},useTranslation:function(t){s=t}},0),e.link("@tanstack/react-query",{useQuery:function(t){u=t}},1),e.link("react",{useMemo:function(t){c=t}},2),e.link("../../../../../client/components/GenericTable/hooks/useSort",{useSort:function(t){l=t}},3),e.link("../../../components/dashboards/periods",{getPeriodRange:function(t){d=t}},4),e.link("../../../components/dashboards/usePeriodSelectorStorage",{usePeriodSelectorStorage:function(t){f=t}},5),e.link("../components/constants",{COLORS:function(t){p=t},PERIOD_OPTIONS:function(t){_=t}},6),e.link("../utils/formatPeriodDescription",{formatPeriodDescription:function(t){g=t}},7),e.link("./useDefaultDownload",{useDefaultDownload:function(t){S=t}},8);var o,r,i,a,s,u,c,l,d,f,p,_,g,S,b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(function(t){return i(i({},t),{},{color:p.info})})},m=function(){var t,n=s(),e=r(f("reports-agents-period",_),2),p=e[0],m=e[1],v=a("GET","/v1/livechat/analytics/dashboards/conversations-by-agent"),h=l("total","desc"),k=h.sortBy,y=h.sortDirection,D=h.setSort,P=u(["omnichannel-reports","conversations-by-agent",p,k,y],function(){var t,n,e,r,a;return o.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e=(n=d(p)).start,r=n.end,s.next=3,o.awrap(v({start:e.toISOString(),end:r.toISOString(),sort:JSON.stringify(((t={})[k]="asc"===y?1:-1,t))}));case 3:return a=s.sent,s.abrupt("return",i(i({},a),{},{data:b(a.data)}));case 5:case"end":return s.stop()}},null,null,null,Promise)},{refetchInterval:3e5}),O=P.data,w=(O=void 0===O?{data:[],total:0}:O).data,E=O.total,I=void 0===E?0:E,R=O.unspecified,T=void 0===R?0:R,x=P.refetch,A=P.isLoading,L=P.isError,N=P.isSuccess,B=n("Conversations_by_agents"),C=n("__agents__agents_and__count__conversations__period__",{agents:null!==(t=w.length)&&void 0!==t?t:0,count:I,period:g(p,n)})+" "+(T>0?"("+n("__count__without__assignee__",{count:T})+")":""),G=n("Omnichannel_Reports_Agents_Empty_Subtitle"),j=S({columnName:n("Agents"),title:B,data:w,period:p});return c(function(){return{id:"conversations-by-agent",title:B,subtitle:C,emptyStateSubtitle:G,data:w,total:I,isLoading:A,isError:L,isDataFound:N&&w.length>0,periodSelectorProps:m,period:p,downloadProps:j,sortBy:k,sortDirection:y,setSort:D,onRetry:x}},[B,C,G,w,I,A,L,N,m,p,j,k,y,D,x])}}
//# sourceMappingURL=/dynamic/ee/client/omnichannel/reports/hooks/ce073c83af57bebb88ec5798e69597a55a9c02ac.map
