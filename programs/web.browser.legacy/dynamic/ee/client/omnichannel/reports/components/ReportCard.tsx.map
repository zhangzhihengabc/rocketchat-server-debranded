)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/omnichannel/reports/components/ReportCard.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["/* eslint-disable @typescript-eslint/naming-convention */\nimport { Box, Skeleton, States, StatesIcon, StatesSubtitle, StatesTitle } from '@rocket.chat/fuselage';\nimport { Card, CardBody, CardCol, CardTitle } from '@rocket.chat/ui-client';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactNode, ComponentProps, ReactElement } from 'react';\nimport React from 'react';\n\nimport DownloadDataButton from '../../../components/dashboards/DownloadDataButton';\nimport PeriodSelector from '../../../components/dashboards/PeriodSelector';\nimport { useIsResizing } from '../hooks/useIsResizing';\nimport { CardErrorState } from './CardErrorState';\n\ntype ReportCardProps = {\n\tid: string;\n\ttitle: string;\n\tchildren: ReactNode;\n\tperiodSelectorProps: ComponentProps<typeof PeriodSelector>;\n\tdownloadProps: ComponentProps<typeof DownloadDataButton>;\n\tisLoading?: boolean;\n\tisDataFound?: boolean;\n\tminHeight?: number;\n\tloadingSkeleton?: ReactElement;\n\tsubtitle?: string;\n\temptyStateSubtitle?: string;\n\tfull?: boolean;\n\tisError?: boolean;\n\tonRetry?: () => void;\n};\n\nexport const ReportCard = ({\n\tid,\n\ttitle,\n\tchildren,\n\tperiodSelectorProps,\n\tdownloadProps,\n\tisLoading: isLoadingData,\n\tisDataFound,\n\tminHeight,\n\tsubtitle,\n\temptyStateSubtitle,\n\tfull,\n\tisError,\n\tonRetry,\n\tloadingSkeleton: LoadingSkeleton = <Skeleton style={{ transform: 'none' }} height='100%' />,\n}: ReportCardProps) => {\n\tconst t = useTranslation();\n\tconst width = full ? '100%' : '50%';\n\tconst isResizing = useIsResizing();\n\tconst isLoading = isLoadingData || isResizing;\n\n\treturn (\n\t\t<Box\n\t\t\tis={Card}\n\t\t\tmaxWidth='calc(100% - 16px)'\n\t\t\tminWidth={`calc(${width} - 16px)`}\n\t\t\theight='initial'\n\t\t\tflexGrow={1}\n\t\t\tflexShrink={0}\n\t\t\tflexBasis='auto'\n\t\t\tmargin={8}\n\t\t\tdata-qa={id}\n\t\t\taria-busy={isLoading}\n\t\t>\n\t\t\t<CardTitle>\n\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='center' flexWrap='wrap' style={{ rowGap: 8 }}>\n\t\t\t\t\t<Box display='flex' flexDirection='column' flexShrink={1} mie={16}>\n\t\t\t\t\t\t<Box is='span' withTruncatedText>\n\t\t\t\t\t\t\t{title}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box is='span' color='hint' fontScale='c1' data-qa='report-summary'>\n\t\t\t\t\t\t\t{subtitle}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box flexGrow={0} flexShrink={0} display='flex' alignItems='center'>\n\t\t\t\t\t\t<PeriodSelector name='periodSelector' {...periodSelectorProps} />\n\t\t\t\t\t\t<DownloadDataButton {...downloadProps} title='Download CSV' size={32} />\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</CardTitle>\n\t\t\t<CardBody>\n\t\t\t\t<CardCol>\n\t\t\t\t\t<Box minHeight={minHeight}>\n\t\t\t\t\t\t<CardErrorState isError={isError} onRetry={onRetry}>\n\t\t\t\t\t\t\t{isLoading && LoadingSkeleton}\n\n\t\t\t\t\t\t\t{!isLoading && !isDataFound && (\n\t\t\t\t\t\t\t\t<States style={{ height: '100%' }}>\n\t\t\t\t\t\t\t\t\t<StatesIcon name='dashboard' />\n\t\t\t\t\t\t\t\t\t<StatesTitle>{t('No_data_available_for_the_selected_period')}</StatesTitle>\n\t\t\t\t\t\t\t\t\t<StatesSubtitle>{emptyStateSubtitle}</StatesSubtitle>\n\t\t\t\t\t\t\t\t</States>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{!isLoading && isDataFound && children}\n\t\t\t\t\t\t</CardErrorState>\n\t\t\t\t\t</Box>\n\t\t\t\t</CardCol>\n\t\t\t</CardBody>\n\t\t</Box>\n\t);\n};\n",null],"names":["module","default","_extends","ReportCard","Box","Skeleton","States","StatesIcon","StatesSubtitle","StatesTitle","Card","CardBody","CardCol","CardTitle","useTranslation","v","React","DownloadDataButton","PeriodSelector","useIsResizing","CardErrorState","_ref","id","title","children","periodSelectorProps","downloadProps","isLoadingData","isLoading","isDataFound","minHeight","subtitle","emptyStateSubtitle","full","isError","onRetry","_ref$loadingSkeleton","loadingSkeleton","LoadingSkeleton","createElement","style","transform","height","t","isResizing","is","maxWidth","minWidth","flexGrow","flexShrink","flexBasis","margin","display","justifyContent","alignItems","flexWrap","rowGap","flexDirection","mie","withTruncatedText","color","fontScale","name","size"],"mappings":"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"}