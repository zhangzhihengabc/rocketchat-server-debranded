function module(e,n,t){var a,r,s,o,i,u,c,d,l,p,f,m,h,_,v,g;t.link("@babel/runtime/regenerator",{default:function(e){a=e}},0),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){s=e}},2),t.link("@rocket.chat/ui-contexts",{useSetModal:function(e){o=e},useToastMessageDispatch:function(e){i=e},usePermission:function(e){u=e},useEndpoint:function(e){c=e},useTranslation:function(e){d=e}},0),t.link("react",{default:function(e){l=e},memo:function(e){p=e},useCallback:function(e){f=e},useEffect:function(e){m=e},useMemo:function(e){h=e},useState:function(e){_=e}},1),t.link("../../../../../../../client/hooks/useForm",{useForm:function(e){v=e}},2),t.link("./CreateCannedResponseModal",{default:function(e){g=e}},3),t.exportDefault(p(function(e){var n=e.data,t=e.reloadCannedList,p=d(),b=o(),C=i(),S=c("POST","/v1/canned-responses"),k=u("view-all-canned-responses"),x=u("save-department-canned-responses"),D=v({_id:n?n._id:"",shortcut:n?n.shortcut:"",text:n?n.text:"",tags:null!=n&&n.tags&&Array.isArray(n.tags)?n.tags.map(function(e){return{label:e,value:e}}):[],scope:n?n.scope:"user",departmentId:null!=n&&n.departmentId?n.departmentId:""}),I=D.values,P=D.handlers,R=D.hasUnsavedChanges,y=s(_({}),2),M=y[0],w=y[1],F=s(_(p("Canned_Response_Sharing_Private_Description")),2),T=F[0],A=F[1],E=s(_(!1),2),U=E[0],j=E[1],q=h(function(){for(var e={},n=0,t=Object.entries(I);n<t.length;n++){var a=s(t[n],2),r=a[0],o=a[1];["shortcut","text"].includes(r)&&!o&&(e[r]=p("Field_required"))}return"department"!==I.scope||I.departmentId||(e.departmentId=p("Field_required")),e},[p,I]);m(function(){w(q)},[I.shortcut,I.text,I.departmentId,q]);var O=f(function(){var e,n,s,o,i,u;return a.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,e=I._id,n=I.shortcut,s=I.text,o=I.scope,i=I.tags,u=I.departmentId,c.next=4,a.awrap(S(r(r({},e&&{_id:e}),{},{shortcut:n,text:s,scope:o,tags:i},u&&{departmentId:u})));case 4:C({type:"success",message:p(e?"Canned_Response_Updated":"Canned_Response_Created")}),b(null),null==t||t(),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),C({type:"error",message:c.t0});case 12:case"end":return c.stop()}},null,null,[[0,9]],Promise)},[I,S,C,p,b,t]);return l.createElement(g,{isManager:k,isMonitor:x,values:I,handlers:P,errors:M,hasUnsavedChanges:R,radioHandlers:{setPublic:function(){P.handleScope("global"),P.handleDepartmentId(""),A(p("Canned_Response_Sharing_Public_Description"))},setDepartment:function(){P.handleScope("department"),A(p("Canned_Response_Sharing_Department_Description"))},setPrivate:function(){P.handleScope("user"),P.handleDepartmentId(""),A(p("Canned_Response_Sharing_Private_Description"))}},radioDescription:T,onClose:b,onSave:O,onPreview:function(){j(!U)},previewState:U})}))}
//# sourceMappingURL=/dynamic/ee/client/omnichannel/components/CannedResponse/modals/CreateCannedResponse/0828f18599bbf682a8a3fd93e9c6e07525b3a019.map
