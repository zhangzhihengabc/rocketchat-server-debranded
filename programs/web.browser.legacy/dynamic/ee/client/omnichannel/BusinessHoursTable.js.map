)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/omnichannel/BusinessHoursTable.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Pagination, States, StatesIcon, StatesActions, StatesAction, StatesTitle } from '@rocket.chat/fuselage';\nimport { useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport React, { useMemo, useState } from 'react';\n\nimport FilterByText from '../../../client/components/FilterByText';\nimport GenericNoResults from '../../../client/components/GenericNoResults';\nimport {\n\tGenericTable,\n\tGenericTableBody,\n\tGenericTableHeaderCell,\n\tGenericTableHeader,\n\tGenericTableLoadingRow,\n} from '../../../client/components/GenericTable';\nimport { usePagination } from '../../../client/components/GenericTable/hooks/usePagination';\nimport BusinessHoursRow from './BusinessHoursRow';\n\nconst BusinessHoursTable = () => {\n\tconst t = useTranslation();\n\tconst [text, setText] = useState('');\n\n\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = usePagination();\n\n\tconst query = useMemo(\n\t\t() => ({\n\t\t\tcount: itemsPerPage,\n\t\t\toffset: current,\n\t\t\tname: text,\n\t\t}),\n\t\t[itemsPerPage, current, text],\n\t);\n\n\tconst getBusinessHours = useEndpoint('GET', '/v1/livechat/business-hours');\n\tconst { data, isLoading, isSuccess, isError, refetch } = useQuery(['livechat-buiness-hours', query], async () => getBusinessHours(query));\n\n\tconst headers = (\n\t\t<>\n\t\t\t<GenericTableHeaderCell>{t('Name')}</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell>{t('Timezone')}</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell>{t('Open_Days')}</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell width='x100'>{t('Enabled')}</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell width='x100'>{t('Remove')}</GenericTableHeaderCell>\n\t\t</>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<FilterByText onChange={({ text }) => setText(text)} />\n\t\t\t{isLoading && (\n\t\t\t\t<GenericTable>\n\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t<GenericTableLoadingRow cols={5} />\n\t\t\t\t\t</GenericTableBody>\n\t\t\t\t</GenericTable>\n\t\t\t)}\n\t\t\t{isSuccess && data?.businessHours.length === 0 && <GenericNoResults />}\n\t\t\t{isSuccess && data?.businessHours.length > 0 && (\n\t\t\t\t<>\n\t\t\t\t\t<GenericTable>\n\t\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t\t{data?.businessHours.map((businessHour) => (\n\t\t\t\t\t\t\t\t<BusinessHoursRow key={businessHour._id} reload={refetch} {...businessHour} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</GenericTableBody>\n\t\t\t\t\t</GenericTable>\n\t\t\t\t\t<Pagination\n\t\t\t\t\t\tdivider\n\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\t\tcount={data.total || 0}\n\t\t\t\t\t\tonSetItemsPerPage={onSetItemsPerPage}\n\t\t\t\t\t\tonSetCurrent={onSetCurrent}\n\t\t\t\t\t\t{...paginationProps}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{isError && (\n\t\t\t\t<States>\n\t\t\t\t\t<StatesIcon name='warning' variation='danger' />\n\t\t\t\t\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\n\t\t\t\t\t<StatesActions>\n\t\t\t\t\t\t<StatesAction onClick={() => refetch()}>{t('Reload_page')}</StatesAction>\n\t\t\t\t\t</StatesActions>\n\t\t\t\t</States>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default BusinessHoursTable;\n",null],"names":["_regeneratorRuntime","_extends","_objectWithoutProperties","_slicedToArray","Pagination","States","StatesIcon","StatesActions","StatesAction","StatesTitle","useTranslation","useEndpoint","useQuery","React","useMemo","useState","FilterByText","GenericNoResults","GenericTable","GenericTableBody","GenericTableHeaderCell","GenericTableHeader","GenericTableLoadingRow","usePagination","BusinessHoursRow","module","link","default","v","exportDefault","t","_useState2","text","setText","_usePagination","current","itemsPerPage","onSetItemsPerPage","setItemsPerPage","onSetCurrent","setCurrent","paginationProps","_excluded","query","count","offset","name","getBusinessHours","_useQuery","async","_context","prev","next","abrupt","stop","Promise","data","isLoading","isSuccess","isError","refetch","headers","createElement","Fragment","width","onChange","_ref","cols","businessHours","length","map","businessHour","key","_id","reload","divider","total","variation","onClick"],"mappings":"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"}