function module(e,t,n){var i,r,o,a,s,u,c,l,f,p,d,h,m,v,k,P,x,y,b,g,E=["reset"];n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){i=e}},0),n.link("@babel/runtime/regenerator",{default:function(e){r=e}},1),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},2),n.export({PrioritiesPage:function(){return w}}),n.link("@rocket.chat/fuselage",{Button:function(e){a=e},ButtonGroup:function(e){s=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){u=e}},1),n.link("@rocket.chat/ui-contexts",{useEndpoint:function(e){c=e},useRoute:function(e){l=e},useSetModal:function(e){f=e},useToastMessageDispatch:function(e){p=e},useTranslation:function(e){d=e}},2),n.link("@tanstack/react-query",{useQueryClient:function(e){h=e}},3),n.link("react",{default:function(e){m=e},useMemo:function(e){v=e},useState:function(e){k=e}},4),n.link("../../../../client/components/Page",{default:function(e){P=e}},5),n.link("../hooks/useOmnichannelPriorities",{useOmnichannelPriorities:function(e){x=e}},6),n.link("./PrioritiesResetModal",{PrioritiesResetModal:function(e){y=e}},7),n.link("./PrioritiesTable",{PrioritiesTable:function(e){b=e}},8),n.link("./PriorityList",{default:function(e){g=e}},9);var w=function(e){var t=e.priorityId,n=e.context,w=d(),C=h(),R=l("omnichannel-priorities"),T=p(),M=f(),I=o(k(!1),2),Q=I[0],S=I[1],L=c("PUT","/v1/livechat/priorities/:priorityId",{priorityId:t}),O=c("POST","/v1/livechat/priorities.reset"),B=x(),D=B.data,_=B.isLoading,j=v(function(){return!!D.length&&D.some(function(e){return e.dirty})},[D]),q=u(function(e){R.push({context:"edit",id:e})});return m.createElement(P,{flexDirection:"row"},m.createElement(P,null,m.createElement(P.Header,{title:w("Priorities")},m.createElement(s,null,m.createElement(a,{onClick:function(){M(m.createElement(y,{onReset:function(){return r.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,S(!0),M(null),e.next=5,r.awrap(O());case 5:return e.next=7,r.awrap(C.invalidateQueries(["/v1/livechat/priorities"],{exact:!0}));case 7:R.push({}),T({type:"success",message:w("Priorities_restored")}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),T({type:"error",message:e.t0});case 14:return e.prev=14,S(!1),e.finish(14);case 17:case"end":return e.stop()}},null,null,[[0,11,14,17]],Promise)},onCancel:function(){return M(null)}}))},title:w("Reset"),disabled:!j,loading:Q},w("Reset")))),m.createElement(P.Content,null,m.createElement(b,{priorities:D,isLoading:_,onRowClick:q}))),"edit"===n&&m.createElement(g,{priorityId:t,context:n,onSave:function(e){var t,n;return r.async(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.reset,n=i(e,E),o.next=3,r.awrap(L(t?{reset:t}:n));case 3:return o.next=5,r.awrap(C.invalidateQueries(["/v1/livechat/priorities"]));case 5:return T({type:"success",message:w("Priority_saved")}),o.next=8,r.awrap(C.invalidateQueries(["/v1/livechat/priorities"],{exact:!0}));case 8:R.push({});case 9:case"end":return o.stop()}},null,null,null,Promise)},onClose:function(){R.push({})}}))}}
//# sourceMappingURL=/dynamic/ee/client/omnichannel/priorities/f8fe2210d7c2a13375674b591ddde35949caa9d3.map
