function module(e,n,t){var r,a,l,o,i,u,c,m,s,f,d,v,p,E,h,b,g,k,C,x,F,T,y,D,_,B,S,q,w;t.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){a=e}},1),t.link("@rocket.chat/fuselage",{Field:function(e){l=e},FieldLabel:function(e){o=e},FieldRow:function(e){i=e},FieldError:function(e){u=e},TextInput:function(e){c=e},Button:function(e){m=e},ButtonGroup:function(e){s=e},FieldGroup:function(e){f=e},Box:function(e){d=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){v=e},useUniqueId:function(e){p=e}},1),t.link("@rocket.chat/ui-contexts",{useToastMessageDispatch:function(e){E=e},useRouter:function(e){h=e},useMethod:function(e){b=e},useTranslation:function(e){g=e}},2),t.link("@tanstack/react-query",{useQueryClient:function(e){k=e}},3),t.link("react",{default:function(e){C=e}},4),t.link("react-hook-form",{useForm:function(e){x=e},Controller:function(e){F=e}},5),t.link("../../../../client/components/AutoCompleteDepartmentMultiple",{default:function(e){T=e}},6),t.link("../../../../client/components/Contextualbar",{ContextualbarScrollableContent:function(e){y=e},ContextualbarFooter:function(e){D=e},ContextualbarTitle:function(e){_=e},Contextualbar:function(e){B=e},ContextualbarHeader:function(e){S=e},ContextualbarClose:function(e){q=e}},7),t.link("./useRemoveTag",{useRemoveTag:function(e){w=e}},8),t.exportDefault(function(e){var n,t=e.tagData,M=e.currentDepartments,R=g(),A=h(),G=k(),I=w(),N=E(),Q=b("livechat:saveTag"),H=t||{},L=H._id,P=x({mode:"onBlur",values:{name:H.name||"",description:H.description||"",departments:(null==M?void 0:M.map(function(e){return{label:e.name,value:e._id}}))||[]}}),U=P.control,j=P.formState,z=j.isDirty,J=j.errors,K=P.handleSubmit,O=v(function(e){var n,t,r,l;return a.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.name,t=e.description,l=(null==(r=e.departments)?void 0:r.map(function(e){return e.value}))||[""],o.prev=2,o.next=5,a.awrap(Q(L,{name:n,description:t},l));case 5:N({type:"success",message:R("Saved")}),G.invalidateQueries(["livechat-tags"]),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(2),N({type:"error",message:o.t0});case 12:return o.prev=12,A.navigate("/omnichannel/tags"),o.finish(12);case 15:case"end":return o.stop()}},null,null,[[2,9,12,15]],Promise)}),V=p(),W=p(),X=p(),Y=p();return C.createElement(B,null,C.createElement(S,null,C.createElement(_,null,L?R("Edit_Tag"):R("New_Tag")),C.createElement(q,{onClick:function(){return A.navigate("/omnichannel/tags")}})),C.createElement(y,null,C.createElement(d,{id:V,is:"form",autoComplete:"off",onSubmit:K(O)},C.createElement(f,null,C.createElement(l,null,C.createElement(o,{htmlFor:W,required:!0},R("Name")),C.createElement(i,null,C.createElement(F,{name:"name",control:U,rules:{required:R("The_field_is_required","name")},render:function(e){var n,t=e.field;return C.createElement(c,r({},t,{error:null==J?void 0:null===(n=J.name)||void 0===n?void 0:n.message,"aria-describedby":W+"-error"}))}})),(null==J?void 0:J.name)&&C.createElement(u,{"aria-live":"assertive",id:W+"-error"},null==J?void 0:null===(n=J.name)||void 0===n?void 0:n.message)),C.createElement(l,null,C.createElement(o,{htmlFor:X},R("Description")),C.createElement(i,null,C.createElement(F,{name:"description",control:U,render:function(e){var n=e.field;return C.createElement(c,r({id:X},n))}}))),C.createElement(l,null,C.createElement(o,{htmlFor:Y},R("Departments")),C.createElement(i,null,C.createElement(F,{name:"departments",control:U,render:function(e){var n=e.field,t=n.onChange,r=n.value,a=n.onBlur;return C.createElement(T,{id:Y,onChange:t,value:r,onBlur:a,showArchived:!0})}})))))),C.createElement(D,null,C.createElement(s,{stretch:!0},C.createElement(m,{onClick:function(){return A.navigate("/omnichannel/tags")}},R("Cancel")),C.createElement(m,{form:V,disabled:!z,type:"submit",primary:!0},R("Save"))),L&&C.createElement(s,{stretch:!0,mbs:8},C.createElement(m,{icon:"trash",danger:!0,onClick:function(){return I(L)}},R("Delete")))))})}
//# sourceMappingURL=/dynamic/ee/client/omnichannel/tags/238e8527284a647c141fd981b45d8767186dede3.map
