)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/omnichannel/tags/AutoCompleteTagsMultiple.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { PaginatedMultiSelectOption } from '@rocket.chat/fuselage';\nimport { PaginatedMultiSelectFiltered } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { memo, useMemo, useState } from 'react';\n\nimport { useRecordList } from '../../../../client/hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../../../../client/hooks/useAsyncState';\nimport { useTagsList } from '../../hooks/useTagsList';\n\ntype AutoCompleteTagsMultipleProps = {\n\tvalue?: PaginatedMultiSelectOption[];\n\tonlyMyTags?: boolean;\n\tonChange?: (value: PaginatedMultiSelectOption[]) => void;\n\tdepartment?: string;\n\tviewAll?: boolean;\n};\n\nconst AutoCompleteTagsMultiple = ({\n\tvalue = [],\n\tonlyMyTags = false,\n\tonChange = () => undefined,\n\tdepartment,\n\tviewAll = false,\n}: AutoCompleteTagsMultipleProps) => {\n\tconst t = useTranslation();\n\tconst [tagsFilter, setTagsFilter] = useState('');\n\n\tconst debouncedTagsFilter = useDebouncedValue(tagsFilter, 500);\n\n\tconst { itemsList: tagsList, loadMoreItems: loadMoreTags } = useTagsList(\n\t\tuseMemo(\n\t\t\t() => ({ filter: debouncedTagsFilter, onlyMyTags, department, viewAll }),\n\t\t\t[debouncedTagsFilter, onlyMyTags, department, viewAll],\n\t\t),\n\t);\n\n\tconst { phase: tagsPhase, items: tagsItems, itemCount: tagsTotal } = useRecordList(tagsList);\n\n\tconst tagsOptions = useMemo(() => {\n\t\tconst pending = value.filter(({ value }) => !tagsItems.find((tag) => tag.value === value));\n\t\treturn [...tagsItems, ...pending];\n\t}, [tagsItems, value]);\n\n\treturn (\n\t\t<PaginatedMultiSelectFiltered\n\t\t\twithTitle\n\t\t\tvalue={value}\n\t\t\tonChange={onChange}\n\t\t\tfilter={tagsFilter}\n\t\t\tsetFilter={setTagsFilter}\n\t\t\toptions={tagsOptions}\n\t\t\twidth='100%'\n\t\t\tflexShrink={0}\n\t\t\tflexGrow={0}\n\t\t\tplaceholder={t('Select_an_option')}\n\t\t\tendReached={\n\t\t\t\ttagsPhase === AsyncStatePhase.LOADING ? () => undefined : (start) => start && loadMoreTags(start, Math.min(50, tagsTotal))\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default memo(AutoCompleteTagsMultiple);\n",null],"names":["_toConsumableArray","_slicedToArray","PaginatedMultiSelectFiltered","useDebouncedValue","useTranslation","React","memo","useMemo","useState","useRecordList","AsyncStatePhase","useTagsList","module","default","link","v","exportDefault","_ref","_ref$value","value","_ref$onlyMyTags","onlyMyTags","_ref$onChange","onChange","department","_ref$viewAll","viewAll","t","_useState2","tagsFilter","setTagsFilter","debouncedTagsFilter","_useTagsList","filter","tagsList","itemsList","loadMoreTags","loadMoreItems","_useRecordList","tagsPhase","phase","tagsItems","items","tagsTotal","itemCount","tagsOptions","pending","_ref2","find","tag","concat","createElement","withTitle","setFilter","options","width","flexShrink","flexGrow","placeholder","endReached","LOADING","start","Math","min"],"mappings":"uBAkBA,IAjBAA,EAAqEC,EAArEC,EAAqEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA5DC,EAAAA,IAAAA,CAAAA,2CAA4D,CAAAC,QAAAA,SAAAA,CAAAA,EAAAb,EAAAA,CAAA,CAAA,EAAA,GAAAY,EAAAA,IAAAA,CAAAA,uCAAAA,CAAAC,QAAAA,SAAAA,CAAAA,EAAAZ,EAAAA,CAAA,CAAA,EAAA,GAA5DW,EAA8BE,IAAA,CAAM,wBAAwB,CAAAZ,6BAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAT,kBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAR,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAV,EAAAA,CAAA,EAAAC,KAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,+CAAAA,CAAAH,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,yCAAAA,CAAAF,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,0BAAAA,CAAAD,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAArEC,EAAOI,aAAE,CA8DMV,EA7CkB,SAAAW,CAAA,EAMG,IAAAC,EAAAD,EALnCE,KAAK,CAALA,EAAKD,AAAA,KAAA,IAAAA,EAAG,EAAE,CAAAA,EAAAE,EAAAH,EACVI,UAAU,CAAVA,EAAUD,AAAA,KAAA,IAAAA,GAAQA,EAAAE,EAAAL,EAClBM,QAAQ,CACRC,EAAUP,EAAVO,UAAU,CAAAC,EAAAR,EACVS,OAAO,CAAPA,EAAOD,AAAA,KAAA,IAAAA,GAAQA,EAETE,EAAIvB,IACsCwB,EAAA3B,EAAZO,EAAS,IAAG,GAAzCqB,EAAUD,CAAA,CAAA,EAAA,CAAEE,EAAaF,CAAA,CAAA,EAAA,CAE1BG,EAAsB5B,EAAkB0B,EAAY,KAE1DG,EAA6DrB,EAC5DJ,EACC,WAAA,MAAO,CAAE0B,OAAQF,EAAqBV,WAAAA,EAAYG,WAAAA,EAAYE,QAAAA,CAAO,CAAE,EACvE,CAACK,EAAqBV,EAAYG,EAAYE,EAAQ,GAHrCQ,EAAQF,EAAnBG,SAAS,CAA2BC,EAAYJ,EAA3BK,aAAa,CAO1CC,EAAqE7B,EAAcyB,GAApEK,EAASD,EAAhBE,KAAK,CAAoBC,EAASH,EAAhBI,KAAK,CAAwBC,EAASL,EAApBM,SAAS,CAE/CC,EAActC,EAAQ,WAC3B,IAAMuC,EAAU3B,EAAMc,MAAM,CAAC,SAAAc,CAAA,EAAA,IAAG5B,EAAK4B,EAAL5B,KAAK,CAAA,MAAO,CAACsB,EAAUO,IAAI,CAAC,SAACC,CAAG,EAAA,OAAKA,EAAI9B,KAAK,GAAKA,CAAK,EAAC,GACzF,MAAA,EAAA,CAAA+B,MAAA,CAAAlD,EAAWyC,GAASzC,EAAK8C,GAC1B,EAAG,CAACL,EAAWtB,EAAM,EAErB,OACCd,EAAA8C,aAAA,CAACjD,EAA4B,CAC5BkD,UAAS,CAAA,EACTjC,MAAOA,EACPI,SA3BMD,AAAA,KAAA,IAAAA,EAAG,WAAe,EAAAA,EA4BxBW,OAAQJ,EACRwB,UAAWvB,EACXwB,QAAST,EACTU,MAAM,OACNC,WAAY,EACZC,SAAU,EACVC,YAAa/B,EAAE,oBACfgC,WACCpB,IAAc7B,EAAgBkD,OAAO,CAAG,WAAe,EAAG,SAACC,CAAK,EAAA,OAAKA,GAASzB,EAAayB,EAAOC,KAAKC,GAAG,CAAC,GAAIpB,GAAW,CAC1H,EAGJ"}