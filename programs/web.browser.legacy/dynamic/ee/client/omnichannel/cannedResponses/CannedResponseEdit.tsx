function module(e,n,t){var a,o,s,r,c,i,l,u,d,p,f,m,h,_,v,k,g,R,b,x,C;t.link("@babel/runtime/regenerator",{default:function(e){a=e}},0),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){o=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){s=e}},2),t.link("@rocket.chat/fuselage",{Button:function(e){r=e},ButtonGroup:function(e){c=e},FieldGroup:function(e){i=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){l=e}},1),t.link("@rocket.chat/ui-contexts",{useToastMessageDispatch:function(e){u=e},useRoute:function(e){d=e},usePermission:function(e){p=e},useEndpoint:function(e){f=e},useTranslation:function(e){m=e}},2),t.link("react",{default:function(e){h=e},memo:function(e){_=e},useState:function(e){v=e},useMemo:function(e){k=e},useEffect:function(e){g=e},useCallback:function(e){R=e}},3),t.link("../../../../client/components/Page",{default:function(e){b=e}},4),t.link("../../../../client/hooks/useForm",{useForm:function(e){x=e}},5),t.link("./components/cannedResponseForm",{default:function(e){C=e}},6),t.exportDefault(_(function(e){var n,t,_,S=e.data,D=e.reload,E=e.totalDataReload,I=e.isNew,w=m(),P=u(),F=d("omnichannel-canned-responses"),y=l(function(){return F.push({context:""})}),M=f("POST","/v1/canned-responses"),T=p("view-all-canned-responses"),B=p("save-department-canned-responses"),G=x({_id:null!=S&&S.cannedResponse?S.cannedResponse._id:"",shortcut:S?S.cannedResponse.shortcut:"",text:S?S.cannedResponse.text:"",tags:null!==(n=null==S?void 0:null===(t=S.cannedResponse)||void 0===t?void 0:t.tags)&&void 0!==n?n:[],scope:S?S.cannedResponse.scope:"user",departmentId:null!=S&&null!==(_=S.cannedResponse)&&void 0!==_&&_.departmentId?S.cannedResponse.departmentId:""}),j=G.values,q=G.handlers,H=G.hasUnsavedChanges,N=s(v({}),2),O=N[0],U=N[1],W=s(v(w("Canned_Response_Sharing_Private_Description")),2),A=W[0],z=W[1],J=s(v(!1),2),K=J[0],L=J[1],Q=k(function(){for(var e={},n=0,t=Object.entries(j);n<t.length;n++){var a=s(t[n],2),o=a[0],r=a[1];["shortcut","text"].includes(o)&&!r&&(e[o]=w("Field_required"))}return"department"!==j.scope||j.departmentId||(e.departmentId=w("Field_required")),e},[w,j]);g(function(){U(Q)},[j.shortcut,j.text,j.departmentId,Q]);var V=R(function(){var e,n,t,s,r,c;return a.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,e=j._id,n=j.shortcut,t=j.text,s=j.scope,r=j.tags,c=j.departmentId,i.next=4,a.awrap(M(o(o({},e&&{_id:e}),{},{shortcut:n,text:t,scope:s,tags:r},c&&{departmentId:c})));case 4:P({type:"success",message:w(e?"Canned_Response_Updated":"Canned_Response_Created")}),F.push({context:""}),D(),E(),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(0),P({type:"error",message:i.t0});case 13:case"end":return i.stop()}},null,null,[[0,10]],Promise)},[j,M,P,w,F,D,E]),X=j.shortcut,Y=j.text,Z=j.scope,$=j.departmentId;return h.createElement(b,null,h.createElement(b.Header,{title:void 0!==I&&I?w("New_CannedResponse"):w("Edit_CannedResponse")},h.createElement(c,null,h.createElement(r,{icon:"back",onClick:y},w("Back")),h.createElement(r,{primary:!0,mie:"none",flexGrow:1,disabled:!H||!(X&&Y&&("department"!==Z||"department"===Z&&$)),onClick:V},w("Save")))),h.createElement(b.ScrollableContentWithShadow,{fontScale:"p2"},h.createElement(i,{w:"full",alignSelf:"center",maxWidth:"x600",is:"form",autoComplete:"off"},h.createElement(C,{isManager:T,isMonitor:B,values:j,handlers:q,errors:O,radioHandlers:{setPublic:function(){q.handleScope("global"),q.handleDepartmentId(""),z(w("Canned_Response_Sharing_Public_Description"))},setDepartment:function(){q.handleScope("department"),z(w("Canned_Response_Sharing_Department_Description"))},setPrivate:function(){q.handleScope("user"),q.handleDepartmentId(""),z(w("Canned_Response_Sharing_Private_Description"))}},radioDescription:A,onPreview:function(){L(!K)},previewState:K}))))}))}
//# sourceMappingURL=/dynamic/ee/client/omnichannel/cannedResponses/36b0263ffa41bb48dbbc04a0b60b5168b4352dfc.map
