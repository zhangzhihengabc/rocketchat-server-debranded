)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/omnichannel/units/useRemoveUnit.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSetModal, useToastMessageDispatch, useMethod, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React from 'react';\n\nimport GenericModal from '../../../../client/components/GenericModal';\n\nexport const useRemoveUnit = () => {\n\tconst t = useTranslation();\n\tconst setModal = useSetModal();\n\tconst router = useRouter();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst queryClient = useQueryClient();\n\tconst removeUnit = useMethod('livechat:removeUnit');\n\n\tconst handleDelete = useMutableCallback((id) => {\n\t\tconst onDeleteAgent = async () => {\n\t\t\ttry {\n\t\t\t\tawait removeUnit(id);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Unit_removed') });\n\t\t\t\trouter.navigate('/omnichannel/units');\n\t\t\t\tqueryClient.invalidateQueries(['livechat-units']);\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t} finally {\n\t\t\t\tsetModal();\n\t\t\t}\n\t\t};\n\n\t\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteAgent} onCancel={() => setModal()} confirmText={t('Delete')} />);\n\t});\n\n\treturn handleDelete;\n};\n",null],"names":["module","link","default","_regeneratorRuntime","export","useRemoveUnit","useMutableCallback","useSetModal","useToastMessageDispatch","useMethod","useTranslation","useRouter","useQueryClient","v","React","GenericModal","t","setModal","router","dispatchToastMessage","queryClient","removeUnit","id","createElement","variant","onConfirm","async","_context","prev","next","awrap","type","message","navigate","invalidateQueries","t0","finish","stop","Promise","onCancel","confirmText"],"mappings":"uBAASA,EAAoBC,IAAM,CAAA,6BAA8B,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAjEH,EAAOI,MAAE,CAAA,CAAAC,cAAoB,WAAM,OAAAA,CAAA,CAAA,GAA8BL,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAM,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAO,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAX,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAY,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAZ,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAa,CAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAAd,EAAAA,IAAAA,CAAAA,6CAAAA,CAAA,QAAA,SAAAa,CAAA,EAAAE,EAAAA,CAAA,CAAA,EAAA,GAO1D,IAPPZ,EAAiEG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAE,EAAAC,EAOpDV,EAAgB,WAC5B,IAAMW,EAAIN,IACJO,EAAWV,IACXW,EAASP,IACTQ,EAAuBX,IAEvBY,EAAcR,IACdS,EAAaZ,EAAU,uBAmB7B,OAjBqBH,EAAmB,SAACgB,CAAE,EAc1CL,EAASH,EAAAS,aAAA,CAACR,EAAY,CAACS,QAAQ,SAASC,UAblB,WAAA,OAAAtB,EAAAuB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAE,IAAA,CAAA,EAAA1B,EAAA2B,KAAA,CAEdT,EAAWC,GAAG,MAAA,EACpBH,EAAqB,CAAEY,KAAM,UAAWC,QAAShB,EAAE,eAAe,GAClEE,EAAOe,QAAQ,CAAC,sBAChBb,EAAYc,iBAAiB,CAAC,CAAC,iBAAiB,EAAEP,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,EAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAQ,EAAA,CAAAR,EAAA,KAAA,CAAA,GAElDR,EAAqB,CAAEY,KAAM,QAASC,QAAOL,EAAAQ,EAAA,AAAO,EAAI,MAAA,GAE7C,OAF6CR,EAAAC,IAAA,CAAA,GAExDX,IAAWU,EAAAS,MAAA,CAAA,GAAA,MAAA,GAAA,IAAA,MAAA,OAAAT,EAAAU,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,GAAA,GAAA,CAAA,CAAAC,QAAA,EAIqDC,SAAU,WAAA,OAAMtB,GAAU,EAAEuB,YAAaxB,EAAE,SAAU,GACxH,EAGD"}