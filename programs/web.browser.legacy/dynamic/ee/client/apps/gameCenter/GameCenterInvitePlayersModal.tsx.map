)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/apps/gameCenter/GameCenterInvitePlayersModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IUser } from '@rocket.chat/core-typings';\nimport { Box } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState } from 'react';\n\nimport GenericModal from '../../../../client/components/GenericModal';\nimport UserAutoCompleteMultipleFederated from '../../../../client/components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated';\nimport { useOpenedRoom } from '../../../../client/lib/RoomManager';\nimport { roomCoordinator } from '../../../../client/lib/rooms/roomCoordinator';\nimport { callWithErrorHandling } from '../../../../client/lib/utils/callWithErrorHandling';\nimport type { IGame } from './GameCenter';\n\ntype Username = Exclude<IUser['username'], undefined>;\n\ninterface IGameCenterInvitePlayersModalProps {\n\tgame: IGame;\n\tonClose: () => void;\n}\n\nconst GameCenterInvitePlayersModal = ({ game, onClose }: IGameCenterInvitePlayersModalProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst [users, setUsers] = useState<Array<Username>>([]);\n\tconst { name } = game;\n\n\tconst openedRoom = useOpenedRoom();\n\n\tconst sendInvite = async () => {\n\t\tconst privateGroupName = `${name.replace(/\\s/g, '-')}-${Random.id(10)}`;\n\n\t\ttry {\n\t\t\tconst result = await callWithErrorHandling('createPrivateGroup' as any, privateGroupName, users);\n\n\t\t\troomCoordinator.openRouteLink(result.t, result);\n\n\t\t\tTracker.autorun((c) => {\n\t\t\t\tif (openedRoom !== result.rid) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcallWithErrorHandling('sendMessage', {\n\t\t\t\t\t_id: Random.id(),\n\t\t\t\t\trid: result.rid,\n\t\t\t\t\tmsg: t('Apps_Game_Center_Play_Game_Together', { name }),\n\t\t\t\t});\n\n\t\t\t\tc.stop();\n\t\t\t});\n\t\t\tonClose();\n\t\t} catch (err) {\n\t\t\tconsole.warn(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<GenericModal onClose={onClose} onCancel={onClose} onConfirm={sendInvite} title={t('Apps_Game_Center_Invite_Friends')}>\n\t\t\t\t<Box mbe={16}>{t('Invite_Users')}</Box>\n\t\t\t\t<Box mbe={16} display='flex' justifyContent='stretch'>\n\t\t\t\t\t<UserAutoCompleteMultipleFederated value={users} onChange={setUsers} />\n\t\t\t\t</Box>\n\t\t\t</GenericModal>\n\t\t</>\n\t);\n};\n\nexport default GameCenterInvitePlayersModal;\n",null],"names":["_regeneratorRuntime","_slicedToArray","Box","useTranslation","React","useState","GenericModal","UserAutoCompleteMultipleFederated","useOpenedRoom","roomCoordinator","callWithErrorHandling","module","default","link","v","exportDefault","_ref","game","onClose","t","_useState2","users","setUsers","name","openedRoom","createElement","Fragment","onCancel","onConfirm","privateGroupName","result","async","_context","prev","next","replace","Random","id","awrap","sent","openRouteLink","Tracker","autorun","c","rid","_id","msg","stop","t0","console","warn","Promise","title","mbe","display","justifyContent","value","onChange"],"mappings":"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"}