)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/users/useSeatsCap.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\n\nexport type SeatCapProps = {\n\tmaxActiveUsers: number;\n\tactiveUsers: number;\n\treload: () => void;\n};\n\nexport const useSeatsCap = (): SeatCapProps | undefined => {\n\t// #TODO: Stop using this endpoint\n\tconst fetch = useEndpoint('GET', '/v1/licenses.maxActiveUsers');\n\n\tconst result = useQuery(['/v1/licenses.maxActiveUsers'], () => fetch());\n\n\tif (!result.isSuccess) {\n\t\treturn undefined;\n\t}\n\n\treturn {\n\t\tactiveUsers: result.data.activeUsers,\n\t\tmaxActiveUsers: result.data.maxActiveUsers && result.data.maxActiveUsers > 0 ? result.data.maxActiveUsers : Number.POSITIVE_INFINITY,\n\t\treload: () => result.refetch(),\n\t};\n};\n",null],"names":["module","export","useSeatsCap","useEndpoint","useQuery","fetch","result","isSuccess","activeUsers","data","maxActiveUsers","Number","POSITIVE_INFINITY","reload","refetch"],"mappings":"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,YAAa,WAAM,OAAAA,CAA2B,CAAA,GAAAF,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAG,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAH,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAI,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAShD,IATgDD,EAAAC,EAS1CF,EAAc,WAE1B,IAAMG,EAAQF,EAAY,MAAO,+BAE3BG,EAASF,EAAS,CAAC,8BAA8B,CAAE,WAAA,OAAMC,GAAO,GAEtE,GAAKC,EAAOC,SAAS,CAIrB,MAAO,CACNC,YAAaF,EAAOG,IAAI,CAACD,WAAW,CACpCE,eAAgBJ,EAAOG,IAAI,CAACC,cAAc,EAAIJ,EAAOG,IAAI,CAACC,cAAc,CAAG,EAAIJ,EAAOG,IAAI,CAACC,cAAc,CAAGC,OAAOC,iBAAiB,CACpIC,OAAQ,WAAA,OAAMP,EAAOQ,OAAO,EAAE,EAEhC"}