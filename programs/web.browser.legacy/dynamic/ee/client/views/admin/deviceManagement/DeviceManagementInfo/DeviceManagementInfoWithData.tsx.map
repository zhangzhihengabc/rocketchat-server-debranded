)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/deviceManagement/DeviceManagementInfo/DeviceManagementInfoWithData.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { Serialized, DeviceManagementPopulatedSession } from '@rocket.chat/core-typings';\nimport { Box, States, StatesIcon, StatesTitle, StatesSubtitle } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\n\nimport {\n\tContextualbar,\n\tContextualbarSkeleton,\n\tContextualbarHeader,\n\tContextualbarClose,\n\tContextualbarContent,\n\tContextualbarTitle,\n} from '../../../../../../client/components/Contextualbar';\nimport { useEndpointData } from '../../../../../../client/hooks/useEndpointData';\nimport { AsyncStatePhase } from '../../../../../../client/lib/asyncState';\nimport DeviceManagementInfo from './DeviceManagementInfo';\n\nconst convertSessionFromAPI = ({\n\tloginAt,\n\tlogoutAt,\n\t...rest\n}: Serialized<DeviceManagementPopulatedSession>): DeviceManagementPopulatedSession => ({\n\tloginAt: new Date(loginAt),\n\t...(logoutAt && { logoutAt: new Date(logoutAt) }),\n\t...rest,\n});\n\nconst DeviceInfoWithData = ({ deviceId, onReload }: { deviceId: string; onReload: () => void }): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst {\n\t\tvalue: data,\n\t\tphase,\n\t\terror,\n\t} = useEndpointData('/v1/sessions/info.admin', { params: useMemo(() => ({ sessionId: deviceId }), [deviceId]) });\n\n\tif (phase === AsyncStatePhase.LOADING) {\n\t\treturn (\n\t\t\t<Contextualbar>\n\t\t\t\t<ContextualbarSkeleton />\n\t\t\t</Contextualbar>\n\t\t);\n\t}\n\n\tif (error || !data) {\n\t\treturn (\n\t\t\t<Contextualbar>\n\t\t\t\t<ContextualbarHeader>\n\t\t\t\t\t<ContextualbarTitle>{t('Device_Info')}</ContextualbarTitle>\n\t\t\t\t\t<ContextualbarClose />\n\t\t\t\t</ContextualbarHeader>\n\t\t\t\t<ContextualbarContent>\n\t\t\t\t\t<Box display='flex' justifyContent='center' alignItems='center' height='100%'>\n\t\t\t\t\t\t<States>\n\t\t\t\t\t\t\t<StatesIcon name='warning' variation='danger' />\n\t\t\t\t\t\t\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\n\t\t\t\t\t\t\t<StatesSubtitle>{t('We_Could_not_retrive_any_data')}</StatesSubtitle>\n\t\t\t\t\t\t\t<StatesSubtitle>{error?.message}</StatesSubtitle>\n\t\t\t\t\t\t</States>\n\t\t\t\t\t</Box>\n\t\t\t\t</ContextualbarContent>\n\t\t\t</Contextualbar>\n\t\t);\n\t}\n\n\treturn <DeviceManagementInfo {...convertSessionFromAPI(data)} onReload={onReload} />;\n};\n\nexport default DeviceInfoWithData;\n",null],"names":["_extends","_objectSpread","_objectWithoutProperties","Box","States","StatesIcon","StatesTitle","StatesSubtitle","useTranslation","React","useMemo","Contextualbar","ContextualbarSkeleton","ContextualbarHeader","ContextualbarClose","ContextualbarContent","ContextualbarTitle","useEndpointData","AsyncStatePhase","DeviceManagementInfo","module","link","default","v","convertSessionFromAPI","_ref","loginAt","logoutAt","rest","_excluded","Date","exportDefault","_ref2","deviceId","onReload","t","_useEndpointData","params","sessionId","data","value","phase","error","LOADING","createElement","display","justifyContent","alignItems","height","name","variation","message"],"mappings":"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"}