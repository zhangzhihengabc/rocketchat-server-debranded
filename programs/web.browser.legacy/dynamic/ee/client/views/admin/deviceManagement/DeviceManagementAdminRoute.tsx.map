)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/deviceManagement/DeviceManagementAdminRoute.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { usePermission, useRouter, useSetModal, useCurrentModal, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useEffect } from 'react';\n\nimport { getURL } from '../../../../../app/utils/client/getURL';\nimport GenericUpsellModal from '../../../../../client/components/GenericUpsellModal';\nimport { useUpsellActions } from '../../../../../client/components/GenericUpsellModal/hooks';\nimport PageSkeleton from '../../../../../client/components/PageSkeleton';\nimport NotAuthorizedPage from '../../../../../client/views/notAuthorized/NotAuthorizedPage';\nimport { useHasLicenseModule } from '../../../hooks/useHasLicenseModule';\nimport DeviceManagementAdminPage from './DeviceManagementAdminPage';\n\nconst DeviceManagementAdminRoute = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst setModal = useSetModal();\n\tconst isModalOpen = useCurrentModal() !== null;\n\n\tconst hasDeviceManagement = useHasLicenseModule('device-management') as boolean;\n\tconst canViewDeviceManagement = usePermission('view-device-management');\n\n\tconst { shouldShowUpsell, handleManageSubscription } = useUpsellActions(hasDeviceManagement);\n\n\tuseEffect(() => {\n\t\tif (shouldShowUpsell) {\n\t\t\tsetModal(\n\t\t\t\t<GenericUpsellModal\n\t\t\t\t\ttitle={t('Device_Management')}\n\t\t\t\t\timg={getURL('images/device-management.png')}\n\t\t\t\t\tsubtitle={t('Ensure_secure_workspace_access')}\n\t\t\t\t\tdescription={t('Manage_which_devices')}\n\t\t\t\t\tonClose={() => setModal(null)}\n\t\t\t\t\tonConfirm={handleManageSubscription}\n\t\t\t\t\tonCancel={() => setModal(null)}\n\t\t\t\t/>,\n\t\t\t);\n\t\t}\n\t}, [shouldShowUpsell, router, setModal, t, handleManageSubscription]);\n\n\tif (isModalOpen) {\n\t\treturn <PageSkeleton />;\n\t}\n\n\tif (!canViewDeviceManagement || !hasDeviceManagement) {\n\t\treturn <NotAuthorizedPage />;\n\t}\n\n\treturn <DeviceManagementAdminPage />;\n};\n\nexport default DeviceManagementAdminRoute;\n",null],"names":["usePermission","useRouter","useSetModal","useCurrentModal","useTranslation","React","useEffect","getURL","GenericUpsellModal","useUpsellActions","PageSkeleton","NotAuthorizedPage","useHasLicenseModule","DeviceManagementAdminPage","module","v","exportDefault","t","router","setModal","isModalOpen","hasDeviceManagement","canViewDeviceManagement","_useUpsellActions","shouldShowUpsell","handleManageSubscription","createElement","title","img","subtitle","description","onClose","onConfirm","onCancel"],"mappings":"uBAYA,IAZAA,EAASC,EAAeC,EAAWC,EAAaC,EAAkEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjDC,EAAAA,IAAgB,CAAA,2BAAM,CAAAd,cAA2B,SAAAe,CAAA,EAAAf,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAC,CAAA,EAAAV,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,yCAAAA,CAAAP,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,sDAAAA,CAAA,QAAA,SAAAC,CAAA,EAAAP,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,4DAAAA,CAAAL,iBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,gDAAAA,CAAA,QAAA,SAAAC,CAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,8DAAAA,CAAA,QAAA,SAAAC,CAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,qCAAAA,CAAAF,oBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,8BAAAA,CAAA,QAAA,SAAAC,CAAA,EAAAF,EAAAA,CAAA,CAAA,EAAA,GAAlHC,EAAOE,aAAE,CAY0B,WAClC,IAAMC,EAAIb,IACJc,EAASjB,IACTkB,EAAWjB,IACXkB,EAAcjB,AAAsB,OAAtBA,IAEdkB,EAAsBT,EAAoB,qBAC1CU,EAA0BtB,EAAc,0BAE9CuB,EAAuDd,EAAiBY,GAAhEG,EAAgBD,EAAhBC,gBAAgB,CAAEC,EAAwBF,EAAxBE,wBAAwB,OAkBlD,CAhBAnB,EAAU,WACLkB,GACHL,EACCd,EAAAqB,aAAA,CAAClB,EAAkB,CAClBmB,MAAOV,EAAE,qBACTW,IAAKrB,EAAO,gCACZsB,SAAUZ,EAAE,kCACZa,YAAab,EAAE,wBACfc,QAAS,WAAA,OAAMZ,EAAS,KAAK,EAC7Ba,UAAWP,EACXQ,SAAU,WAAA,OAAMd,EAAS,KAAK,CAAC,GAInC,EAAG,CAACK,EAAkBN,EAAQC,EAAUF,EAAGQ,EAAyB,EAEhEL,GACIf,EAAAqB,aAAA,CAAChB,EAAY,MAGjB,AAACY,GAA4BD,EAI1BhB,EAAAqB,aAAA,CAACb,EAAyB,MAHzBR,EAAAqB,aAAA,CAACf,EAAiB,KAI3B"}