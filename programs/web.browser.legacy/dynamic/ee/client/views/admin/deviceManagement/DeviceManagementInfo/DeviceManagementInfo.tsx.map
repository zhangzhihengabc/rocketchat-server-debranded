)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/deviceManagement/DeviceManagementInfo/DeviceManagementInfo.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { DeviceManagementPopulatedSession } from '@rocket.chat/core-typings';\nimport { Box, Button, ButtonGroup, StatusBullet } from '@rocket.chat/fuselage';\nimport { useRoute, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback } from 'react';\n\nimport {\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarClose,\n\tContextualbarScrollableContent,\n\tContextualbarFooter,\n\tContextualbarTitle,\n} from '../../../../../../client/components/Contextualbar';\nimport InfoPanel from '../../../../../../client/components/InfoPanel';\nimport UserAvatar from '../../../../../../client/components/avatar/UserAvatar';\nimport { useFormatDateAndTime } from '../../../../../../client/hooks/useFormatDateAndTime';\nimport { usePresence } from '../../../../../../client/hooks/usePresence';\nimport { useDeviceLogout } from '../../../../hooks/useDeviceLogout';\n\ntype DeviceManagementInfoProps = DeviceManagementPopulatedSession & {\n\tonReload: () => void;\n};\n\nconst DeviceManagementInfo = ({ device, sessionId, loginAt, ip, userId, _user, onReload }: DeviceManagementInfoProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst deviceManagementRouter = useRoute('device-management');\n\tconst formatDateAndTime = useFormatDateAndTime();\n\n\tconst handleDeviceLogout = useDeviceLogout(sessionId, '/v1/sessions/logout');\n\n\tconst { name: clientName, os, version: rcVersion } = device || {};\n\tconst { username, name } = _user || {};\n\tconst userPresence = usePresence(userId);\n\n\tconst handleCloseContextualBar = useCallback((): void => deviceManagementRouter.push({}), [deviceManagementRouter]);\n\n\treturn (\n\t\t<Contextualbar>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{t('Device_Info')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={handleCloseContextualBar} />\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<InfoPanel>\n\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t<InfoPanel.Label>{t('Client')}</InfoPanel.Label>\n\t\t\t\t\t\t<InfoPanel.Text>{clientName}</InfoPanel.Text>\n\t\t\t\t\t</InfoPanel.Field>\n\n\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t<InfoPanel.Label>{t('Version')}</InfoPanel.Label>\n\t\t\t\t\t\t<InfoPanel.Text>{rcVersion || 'â€”'}</InfoPanel.Text>\n\t\t\t\t\t</InfoPanel.Field>\n\n\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t<InfoPanel.Label>{t('OS')}</InfoPanel.Label>\n\t\t\t\t\t\t<InfoPanel.Text>{`${os?.name || ''} ${os?.version || ''}`}</InfoPanel.Text>\n\t\t\t\t\t</InfoPanel.Field>\n\n\t\t\t\t\t{username && (\n\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t<InfoPanel.Label>{t('User')}</InfoPanel.Label>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<UserAvatar username={username} etag={userPresence?.avatarETag} />\n\t\t\t\t\t\t\t\t<Box is='span' pi={8}>\n\t\t\t\t\t\t\t\t\t<StatusBullet status={userPresence?.status} />\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{name && <Box is='span'>{name}</Box>}\n\t\t\t\t\t\t\t\t<Box is='span' color='hint'>\n\t\t\t\t\t\t\t\t\t{`(${username})`}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t<InfoPanel.Label>{t('Last_login')}</InfoPanel.Label>\n\t\t\t\t\t\t<InfoPanel.Text>{formatDateAndTime(loginAt)}</InfoPanel.Text>\n\t\t\t\t\t</InfoPanel.Field>\n\n\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t<InfoPanel.Label>{t('Device_ID')}</InfoPanel.Label>\n\t\t\t\t\t\t<InfoPanel.Text>{sessionId}</InfoPanel.Text>\n\t\t\t\t\t</InfoPanel.Field>\n\n\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t<InfoPanel.Label>{t('IP_Address')}</InfoPanel.Label>\n\t\t\t\t\t\t<InfoPanel.Text>{ip}</InfoPanel.Text>\n\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t</InfoPanel>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button primary onClick={(): void => handleDeviceLogout(onReload)}>\n\t\t\t\t\t\t{t('Logout_Device')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default DeviceManagementInfo;\n",null],"names":["Box","Button","ButtonGroup","StatusBullet","useRoute","useTranslation","React","useCallback","Contextualbar","ContextualbarHeader","ContextualbarClose","ContextualbarScrollableContent","ContextualbarFooter","ContextualbarTitle","InfoPanel","UserAvatar","useFormatDateAndTime","usePresence","useDeviceLogout","module","link","v","exportDefault","_ref","device","sessionId","loginAt","ip","userId","_user","onReload","t","deviceManagementRouter","formatDateAndTime","handleDeviceLogout","_ref2","clientName","name","os","rcVersion","version","_ref3","username","userPresence","handleCloseContextualBar","push","createElement","onClick","Field","Label","Text","etag","avatarETag","is","pi","status","color","stretch","primary"],"mappings":"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"}