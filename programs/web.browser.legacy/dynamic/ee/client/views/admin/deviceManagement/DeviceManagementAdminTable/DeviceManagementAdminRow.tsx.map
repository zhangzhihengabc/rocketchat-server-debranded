)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/deviceManagement/DeviceManagementAdminTable/DeviceManagementAdminRow.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Menu, Option } from '@rocket.chat/fuselage';\nimport { useMediaQuery, useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useRoute, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { KeyboardEvent, ReactElement } from 'react';\nimport React, { useCallback } from 'react';\n\nimport { GenericTableRow, GenericTableCell } from '../../../../../../client/components/GenericTable';\nimport { useFormatDateAndTime } from '../../../../../../client/hooks/useFormatDateAndTime';\nimport DeviceIcon from '../../../../components/deviceManagement/DeviceIcon';\nimport { useDeviceLogout } from '../../../../hooks/useDeviceLogout';\n\ntype DeviceRowProps = {\n\t_id: string;\n\tusername?: string;\n\tip: string;\n\tdeviceName?: string;\n\tdeviceType?: string;\n\tdeviceOSName?: string;\n\tloginAt: string;\n\trcVersion?: string;\n\tonReload: () => void;\n};\n\nconst DeviceManagementAdminRow = ({\n\t_id,\n\tusername,\n\tip,\n\tdeviceName,\n\tdeviceType = 'browser',\n\tdeviceOSName = '',\n\tloginAt,\n\trcVersion,\n\tonReload,\n}: DeviceRowProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst deviceManagementRouter = useRoute('device-management');\n\tconst formatDateAndTime = useFormatDateAndTime();\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\n\tconst handleDeviceLogout = useDeviceLogout(_id, '/v1/sessions/logout');\n\n\tconst handleClick = useMutableCallback((): void => {\n\t\tdeviceManagementRouter.push({\n\t\t\tcontext: 'info',\n\t\t\tid: _id,\n\t\t});\n\t});\n\n\tconst handleKeyDown = useCallback(\n\t\t(e: KeyboardEvent<HTMLOrSVGElement>): void => {\n\t\t\tif (!['Enter', 'Space'].includes(e.nativeEvent.code)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\thandleClick();\n\t\t},\n\t\t[handleClick],\n\t);\n\n\tconst menuOptions = {\n\t\tlogout: {\n\t\t\tlabel: { label: t('Logout_Device'), icon: 'sign-out' },\n\t\t\taction: (): void => handleDeviceLogout(onReload),\n\t\t},\n\t};\n\n\treturn (\n\t\t<GenericTableRow key={_id} onKeyDown={handleKeyDown} onClick={handleClick} tabIndex={0} action>\n\t\t\t<GenericTableCell>\n\t\t\t\t<Box display='flex' alignItems='center'>\n\t\t\t\t\t<DeviceIcon deviceType={deviceType} />\n\t\t\t\t\t{deviceName && <Box withTruncatedText>{deviceName}</Box>}\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t\t<GenericTableCell>{rcVersion}</GenericTableCell>\n\t\t\t<GenericTableCell>{deviceOSName}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{username}</GenericTableCell>\n\t\t\t{mediaQuery && <GenericTableCell>{formatDateAndTime(loginAt)}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{_id}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{ip}</GenericTableCell>}\n\t\t\t<GenericTableCell onClick={(e): void => e.stopPropagation()}>\n\t\t\t\t<Menu\n\t\t\t\t\ttitle={t('Options')}\n\t\t\t\t\toptions={menuOptions}\n\t\t\t\t\trenderItem={({ label: { label, icon }, ...props }): ReactElement => <Option label={label} icon={icon} {...props} />}\n\t\t\t\t/>\n\t\t\t</GenericTableCell>\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default DeviceManagementAdminRow;\n",null],"names":["_extends","_objectWithoutProperties","Box","Menu","Option","useMediaQuery","useMutableCallback","useRoute","useTranslation","React","useCallback","GenericTableRow","GenericTableCell","useFormatDateAndTime","DeviceIcon","useDeviceLogout","module","link","default","v","exportDefault","_ref","_id","username","ip","deviceName","_ref$deviceType","deviceType","_ref$deviceOSName","deviceOSName","loginAt","rcVersion","onReload","t","deviceManagementRouter","formatDateAndTime","mediaQuery","handleDeviceLogout","handleClick","push","context","id","handleKeyDown","e","includes","nativeEvent","code","menuOptions","logout","label","icon","action","createElement","key","onKeyDown","onClick","tabIndex","display","alignItems","withTruncatedText","stopPropagation","title","options","renderItem","_ref2","_ref2$label","props","_excluded"],"mappings":"2BAAAA,EAA0DC,EAA1DC,EAAOC,EAAKC,EAA8CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,cAA9CC,EAAQC,IAAAA,CAAAA,iCAAsC,CAAAC,QAAAA,SAAAA,CAAAA,EAAAlB,EAAAA,CAAA,CAAA,EAAA,GAAAgB,EAAAA,IAAAA,CAAAA,iDAAAA,CAAAE,QAAAA,SAAAA,CAAAA,EAAAjB,EAAAA,CAAA,CAAA,EAAA,GAAtCe,EAAMC,IAAE,CAAA,wBAAM,CAAuBf,IAAC,SAAAiB,CAAA,EAAAjB,EAAAA,CAAA,EAAAC,KAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAY,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAX,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAT,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAV,EAAAA,CAAA,EAAAC,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,mDAAAA,CAAAL,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,iBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,sDAAAA,CAAAH,qBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,qDAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,oCAAAA,CAAAD,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAA1DC,EAAOI,aAAa,CAuBa,SAAAC,CAAA,EAUE,IATlCC,EAAGD,EAAHC,GAAG,CACHC,EAAQF,EAARE,QAAQ,CACRC,EAAEH,EAAFG,EAAE,CACFC,EAAUJ,EAAVI,UAAU,CAAAC,EAAAL,EACVM,UAAU,CAAYC,EAAAP,EACtBQ,YAAY,CAAZA,EAAYD,AAAA,KAAA,IAAAA,EAAG,GAAEA,EACjBE,EAAOT,EAAPS,OAAO,CACPC,EAASV,EAATU,SAAS,CACTC,EAAQX,EAARW,QAAQ,CAEFC,EAAIzB,IACJ0B,EAAyB3B,EAAS,qBAClC4B,EAAoBtB,IACpBuB,EAAa/B,EAAc,uBAE3BgC,EAAqBtB,EAAgBO,EAAK,uBAE1CgB,EAAchC,EAAmB,WACtC4B,EAAuBK,IAAI,CAAC,CAC3BC,QAAS,OACTC,GAAInB,GAEN,GAEMoB,EAAgBhC,EACrB,SAACiC,CAAkC,EAC7B,CAAC,QAAS,QAAQ,CAACC,QAAQ,CAACD,EAAEE,WAAW,CAACC,IAAI,GAGnDR,GACD,EACA,CAACA,EAAY,EAGRS,EAAc,CACnBC,OAAQ,CACPC,MAAO,CAAEA,MAAOhB,EAAE,iBAAkBiB,KAAM,UAAU,EACpDC,OAAQ,WAAA,OAAYd,EAAmBL,EAAS,IAIlD,OACCvB,EAAA2C,aAAA,CAACzC,EAAe,CAAC0C,IAAK/B,EAAKgC,UAAWZ,EAAea,QAASjB,EAAakB,SAAU,EAAGL,OAAM,CAAA,CAAA,EAC7F1C,EAAA2C,aAAA,CAACxC,EAAgB,KAChBH,EAAA2C,aAAA,CAAClD,EAAG,CAACuD,QAAQ,OAAOC,WAAW,QAAQ,EACtCjD,EAAA2C,aAAA,CAACtC,EAAU,CAACa,WAzCND,AAAA,KAAA,IAAAA,EAAG,UAASA,CAyCiB,GAClCD,GAAchB,EAAA2C,aAAA,CAAClD,EAAG,CAACyD,kBAAiB,CAAA,CAAA,EAAElC,KAGzChB,EAAA2C,aAAA,CAACxC,EAAgB,KAAEmB,GACnBtB,EAAA2C,aAAA,CAACxC,EAAgB,KAAEiB,GACnBpB,EAAA2C,aAAA,CAACxC,EAAgB,CAAC+C,kBAAiB,CAAA,CAAA,EAAEpC,GACpCa,GAAc3B,EAAA2C,aAAA,CAACxC,EAAgB,KAAEuB,EAAkBL,IACnDM,GAAc3B,EAAA2C,aAAA,CAACxC,EAAgB,CAAC+C,kBAAiB,CAAA,CAAA,EAAErC,GACnDc,GAAc3B,EAAA2C,aAAA,CAACxC,EAAgB,CAAC+C,kBAAiB,CAAA,CAAA,EAAEnC,GACpDf,EAAA2C,aAAA,CAACxC,EAAgB,CAAC2C,QAAS,SAACZ,CAAC,EAAA,OAAWA,EAAEiB,eAAe,EAAE,CAAC,EAC3DnD,EAAA2C,aAAA,CAACjD,EAAI,CACJ0D,MAAO5B,EAAE,WACT6B,QAASf,EACTgB,WAAY,SAAAC,CAAA,EAAA,IAAAC,EAAAD,EAAGf,KAAK,CAAIA,EAAKgB,EAALhB,KAAK,CAAEC,EAAIe,EAAJf,IAAI,CAAOgB,EAAKjE,EAAA+D,EAAAG,GAAA,OAAqB1D,EAAA2C,aAAA,CAAChD,EAAMJ,EAAA,CAACiD,MAAOA,EAAOC,KAAMA,CAAK,EAAKgB,GAAS,CAAC,IAKzH"}