)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/engagementDashboard/users/useHourlyChatActivity.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport moment from 'moment';\n\ntype UseHourlyChatActivityOptions = {\n\tdisplacement: number;\n\tutc: boolean;\n};\n\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport const useHourlyChatActivity = ({ displacement, utc }: UseHourlyChatActivityOptions) => {\n\tconst getHourlyChatActivity = useEndpoint('GET', '/v1/engagement-dashboard/users/chat-busier/hourly-data');\n\n\treturn useQuery(\n\t\t['admin/engagement-dashboard/users/hourly-chat-activity', { displacement, utc }],\n\t\tasync () => {\n\t\t\tconst day = (utc ? moment.utc().endOf('day') : moment().endOf('day')).subtract(displacement, 'days').toDate();\n\n\t\t\tconst response = await getHourlyChatActivity({\n\t\t\t\tstart: day.toISOString(),\n\t\t\t});\n\n\t\t\treturn response\n\t\t\t\t? {\n\t\t\t\t\t\t...response,\n\t\t\t\t\t\tday,\n\t\t\t\t  }\n\t\t\t\t: undefined;\n\t\t},\n\t\t{\n\t\t\trefetchInterval: 5 * 60 * 1000,\n\t\t\tuseErrorBoundary: true,\n\t\t},\n\t);\n};\n",null],"names":["module","link","default","_regeneratorRuntime","_objectSpread","export","useHourlyChatActivity","useEndpoint","useQuery","v","moment","_ref","displacement","utc","getHourlyChatActivity","day","response","async","_context","prev","next","endOf","subtract","toDate","awrap","start","toISOString","sent","abrupt","undefined","stop","Promise","refetchInterval","useErrorBoundary"],"mappings":"uBAAsBA,EAAMC,IAAA,CAAA,6BAA2B,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAAH,EAAAA,IAAAA,CAAAA,uCAAAA,CAAAE,QAAAA,SAAAA,CAAAA,EAAAE,EAAAA,CAAA,CAAA,EAAA,GAAvDJ,EAAOK,MAAE,CAAA,CAAAC,sBAAmB,WAAA,OAA2BA,CAAA,CAAA,GAAAN,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAO,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAP,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAQ,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAR,EAAAA,IAAAA,CAAAA,SAAAA,CAAA,QAAA,SAAAS,CAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAUhD,IAVPP,EAAuDC,EAAAG,EAAAC,EAAAE,EAU1CJ,EAAwB,SAAAK,CAAA,EAAwD,IAArDC,EAAYD,EAAZC,YAAY,CAAEC,EAAGF,EAAHE,GAAG,CAClDC,EAAwBP,EAAY,MAAO,0DAEjD,OAAOC,EACN,CAAC,wDAAyD,CAAEI,aAAAA,EAAcC,IAAAA,CAAG,EAAG,CAChF,WAAA,IAAAE,EAAAC,EAAA,OAAAb,EAAAc,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAC8G,OAAvGL,EAAM,AAACF,CAAAA,EAAMH,EAAOG,GAAG,GAAGQ,KAAK,CAAC,OAASX,IAASW,KAAK,CAAC,MAAK,EAAGC,QAAQ,CAACV,EAAc,QAAQW,MAAM,GAAEL,EAAAE,IAAA,CAAA,EAAAjB,EAAAqB,KAAA,CAEtFV,EAAsB,CAC5CW,MAAOV,EAAIW,WAAW,KACrB,MAAA,EAFY,OAARV,EAAQE,EAAAS,IAAA,CAAAT,EAAAU,MAAA,CAAA,SAIPZ,EAAQZ,EAAAA,EAAA,CAAA,EAETY,GAAQ,CAAA,EAAA,CACXD,IAAAA,CAAG,GAEHc,KAAAA,EAAS,MAAA,EAAA,IAAA,MAAA,OAAAX,EAAAY,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAEb,CACCC,gBAAiB,IACjBC,iBAAkB,CAAA,GAGrB"}