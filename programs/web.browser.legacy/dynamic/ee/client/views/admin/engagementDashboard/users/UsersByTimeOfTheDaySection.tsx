function module(t,e,n){var a,o,r,i,l,u,s,d,c,f,m,h,y,p,g,k,v;n.link("@babel/runtime/helpers/createForOfIteratorHelperLoose",{default:function(t){a=t}},0),n.link("@babel/runtime/helpers/slicedToArray",{default:function(t){o=t}},1),n.link("@nivo/heatmap",{ResponsiveHeatMap:function(t){r=t}},0),n.link("@rocket.chat/fuselage",{Box:function(t){i=t},Flex:function(t){l=t},Skeleton:function(t){u=t},Tooltip:function(t){s=t}},1),n.link("@rocket.chat/fuselage-tokens/colors.json",{default:function(t){d=t}},2),n.link("@rocket.chat/ui-contexts",{useTranslation:function(t){c=t}},3),n.link("moment",{default:function(t){f=t}},4),n.link("react",{default:function(t){m=t},useMemo:function(t){h=t}},5),n.link("../../../../components/dashboards/DownloadDataButton",{default:function(t){y=t}},6),n.link("../../../../components/dashboards/PeriodSelector",{default:function(t){p=t}},7),n.link("../../../../components/dashboards/usePeriodSelectorState",{usePeriodSelectorState:function(t){g=t}},8),n.link("../EngagementDashboardCardFilter",{default:function(t){k=t}},9),n.link("./useUsersByTimeOfTheDay",{useUsersByTimeOfTheDay:function(t){v=t}},10),n.exportDefault(function(t){var e=t.timezone,n=o(g("last 7 days","last 30 days","last 90 days"),2),b=n[0],S=n[1],x="utc"===e,E=v({period:b,utc:x}).data,I=c(),O=o(h(function(){if(!E)return[];for(var t,e=Array.from({length:x?f(E.end).diff(E.start,"days")+1:f(E.end).diff(E.start,"days")-1},function(t,e){return x?f.utc(E.start).endOf("day").add(e,"days"):f(E.start).endOf("day").add(e+1,"days")}),n=Array.from({length:24},function(t,n){return{id:String(n),data:e.map(function(t){return{x:t.toISOString(),y:0}})}}),o=f().utcOffset()/60,r=a(E.week);!(t=r()).done;){var i=t.value,l=i.users,u=i.hour,s=i.day,d=i.month,c=i.year;!function(){var t=x?f.utc([c,d-1,s,u]):f([c,d-1,s,u]).add(o,"hours");if(x||!t.isSame(E.end)&&!t.clone().startOf("day").isSame(E.start)){var e=n[t.hour()].data.find(function(e){return e.x===t.endOf("day").toISOString()});e&&(e.y+=l)}}()}return[e.map(function(t){return t.toISOString()}),n]},[E,x]),2),T=O[0],U=O[1];return m.createElement(m.Fragment,null,m.createElement(k,null,m.createElement(p,S),m.createElement(y,{attachmentName:"UsersByTimeOfTheDaySection_start_"+(null==E?void 0:E.start)+"_end_"+(null==E?void 0:E.end),headers:["Date","Users"],dataAvailable:!!E,dataExtractor:function(){var t,e,n;return null==E?void 0:null===(t=E.week)||void 0===t?void 0:null===(e=t.map(function(t){var e=t.users,n=t.hour,a=t.day,o=t.month;return{date:f([t.year,o-1,a,n,0,0,0]),users:e}}))||void 0===e?void 0:null===(n=e.sort(function(t,e){return t.date.diff(e.date)}))||void 0===n?void 0:n.map(function(t){var e=t.date,n=t.users;return[e.toISOString(),n]})}})),U?m.createElement(i,{display:"flex",style:{height:696}},m.createElement(l.Item,{align:"stretch",grow:1,shrink:0},m.createElement(i,{style:{position:"relative"}},m.createElement(i,{style:{position:"absolute",width:"100%",height:"100%"}},m.createElement(r,{data:U,xInnerPadding:.1,yInnerPadding:.25,margin:{left:60,bottom:20},colors:{type:"quantize",colors:[d.b100,d.b200,d.b300,d.b400,d.b500,d.b600,d.b700]},emptyColor:"transparent",enableLabels:!1,axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:4,tickRotation:0,format:function(t){return(null==T?void 0:T.length)===7?f(t).format("dddd"):""}},axisLeft:{tickSize:0,tickPadding:4,tickRotation:0,format:function(t){return f().set({hour:parseInt(t,10),minute:0,second:0}).format("LT")}},hoverTarget:"cell",animate:T&&T.length<=7,motionConfig:"stiff",theme:{axis:{ticks:{text:{fill:d.n600,fontFamily:'Inter, -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Meiryo UI", Arial, sans-serif',fontSize:10,fontStyle:"normal",fontWeight:600,letterSpacing:"0.2px",lineHeight:"12px"}}},tooltip:{container:{backgroundColor:d.n900,boxShadow:"0px 0px 12px rgba(47, 52, 61, 0.12), 0px 0px 2px rgba(47, 52, 61, 0.08)",borderRadius:2}}},tooltip:function(t){var e=t.cell;return m.createElement(s,null,I("Value_users",{value:e.data.y}))}}))))):m.createElement(u,{variant:"rect",height:696}))})}
//# sourceMappingURL=/dynamic/ee/client/views/admin/engagementDashboard/users/0339cd60ca34d19e72a295d1cfe5a1203c167220.map
