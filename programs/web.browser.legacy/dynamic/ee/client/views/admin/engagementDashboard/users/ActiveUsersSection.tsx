function module(e,t,n){var a,i,r,l,o,c,u,s,d,m,f,y,h,g,v,p,k;n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},0),n.link("@nivo/line",{ResponsiveLine:function(e){i=e}},0),n.link("@rocket.chat/fuselage",{Box:function(e){r=e},Flex:function(e){l=e},Skeleton:function(e){o=e},Tile:function(e){c=e}},1),n.link("@rocket.chat/fuselage-tokens/colors.json",{default:function(e){u=e}},2),n.link("@rocket.chat/ui-contexts",{useTranslation:function(e){s=e}},3),n.link("moment",{default:function(e){d=e}},4),n.link("react",{default:function(e){m=e},useMemo:function(e){f=e}},5),n.link("../../../../../../client/components/dataView/CounterSet",{default:function(e){y=e}},6),n.link("../../../../../../client/hooks/useFormatDate",{useFormatDate:function(e){h=e}},7),n.link("../../../../components/dashboards/DownloadDataButton",{default:function(e){g=e}},8),n.link("../EngagementDashboardCardFilter",{default:function(e){v=e}},9),n.link("../dataView/LegendSymbol",{default:function(e){p=e}},10),n.link("./useActiveUsers",{useActiveUsers:function(e){k=e}},11),n.exportDefault(function(e){var t="utc"===e.timezone,n=k({utc:t}).data,E=a(f(function(){if(!n)return[];for(var e=function(e){return{x:d(n.start).add(e,"days").toDate(),y:0}},a=function(){return Array.from({length:d(n.end).diff(n.start,"days")+1},function(t,n){return e(n)})},i=a(),r=e(-1),l=a(),o=e(-1),c=a(),u=e(-1),s=n.month.reduce(function(e,a){var r=(t?d.utc({year:a.year,month:a.month-1,day:a.day}).endOf("day"):d({year:a.year,month:a.month-1,day:a.day}).endOf("day")).diff(n.start,"days");return r>=0&&(e[r]=a.usersList,i[r].y=a.users),e},{}),m=function(e,t,n,a){for(var i=new Set,r=t;n>0;r--,n--)e[r]&&e[r].forEach(function(e){return i.add(e)});a[t].y=i.size},f=0;f<30;f++)m(s,f,7,l),m(s,f,30,c);return o.y=l[28].y,u.y=c[28].y,r.y=i[28].y,[i[i.length-1].y,i[i.length-1].y-r.y,l[l.length-1].y,l[l.length-1].y-o.y,c[c.length-1].y,c[c.length-1].y-u.y,i,l,c]},[n,t]),9),x=E[0],b=E[1],S=E[2],A=E[3],U=E[4],_=E[5],w=E[6],D=void 0===w?[]:w,F=E[7],C=void 0===F?[]:F,I=E[8],M=void 0===I?[]:I,z=h(),L=s();return m.createElement(m.Fragment,null,m.createElement(v,null,m.createElement(g,{attachmentName:"ActiveUsersSection_start_"+(null==n?void 0:n.start)+"_end_"+(null==n?void 0:n.end),headers:["Date","DAU","WAU","MAU"],dataAvailable:!!n,dataExtractor:function(){for(var e=[],t=0;t<30;t++)e.push([D[t].x.toISOString(),D[t].y,C[t].y,M[t].y]);return e}})),m.createElement(y,{counters:[{count:null!=x?x:m.createElement(o,{variant:"rect",width:"3ex",height:"1em"}),variation:null!=b?b:0,description:m.createElement(m.Fragment,null,m.createElement(p,{color:u.b200})," ",L("Daily_Active_Users"))},{count:null!=S?S:m.createElement(o,{variant:"rect",width:"3ex",height:"1em"}),variation:null!=A?A:0,description:m.createElement(m.Fragment,null,m.createElement(p,{color:u.b300})," ",L("Weekly_Active_Users"))},{count:null!=U?U:m.createElement(o,{variant:"rect",width:"3ex",height:"1em"}),variation:null!=_?_:0,description:m.createElement(m.Fragment,null,m.createElement(p,{color:u.p500})," ",L("Monthly_Active_Users"))}]}),m.createElement(l.Container,null,n?m.createElement(r,{style:{height:240}},m.createElement(l.Item,{align:"stretch",grow:1,shrink:0},m.createElement(r,{style:{position:"relative"}},m.createElement(r,{style:{position:"absolute",width:"100%",height:"100%"}},m.createElement(i,{data:[{id:"dau",data:D},{id:"wau",data:C},{id:"mau",data:M}],xScale:{type:"time",format:"native",precision:"day"},xFormat:"time:%Y-%m-%d",yScale:{type:"linear",stacked:!0},enableGridX:!1,enableGridY:!1,enablePoints:!1,useMesh:!0,enableArea:!0,areaOpacity:1,enableCrosshair:!0,crosshairType:"bottom",margin:{top:0,bottom:20,right:0,left:40},colors:[u.b200,u.b300,u.b500],axisLeft:{tickSize:0,tickPadding:4,tickRotation:0,tickValues:3},axisBottom:{tickSize:0,tickPadding:4,tickRotation:0,tickValues:"every 3 days",format:function(e){return d(e).format(7===D.length?"dddd":"L")}},animate:!0,motionConfig:"stiff",theme:{axis:{ticks:{text:{fill:"#9EA2A8",fontFamily:'Inter, -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Meiryo UI", Arial, sans-serif',fontSize:"10px",fontStyle:"normal",fontWeight:600,letterSpacing:"0.2px",lineHeight:"12px"}}},tooltip:{container:{backgroundColor:"#1F2329",boxShadow:"0px 0px 12px rgba(47, 52, 61, 0.12), 0px 0px 2px rgba(47, 52, 61, 0.08)",borderRadius:2}}},enableSlices:"x",sliceTooltip:function(e){var t=e.slice.points;return m.createElement(c,{elevation:"2"},m.createElement(r,null,m.createElement(r,null,z(t[0].data.x)),t.map(function(e){var t=e.serieId,n=e.data.y;return m.createElement(r,{key:t,fontScale:"p1m"},m.createElement(r,null,"dau"===t&&L("DAU_value",{value:n})||"wau"===t&&L("WAU_value",{value:n})||"mau"===t&&L("MAU_value",{value:n})))})))}}))))):m.createElement(o,{variant:"rect",height:240})))})}
//# sourceMappingURL=/dynamic/ee/client/views/admin/engagementDashboard/users/c0319d3f385db45610cb76479ca6a3f9bf4006ec.map
