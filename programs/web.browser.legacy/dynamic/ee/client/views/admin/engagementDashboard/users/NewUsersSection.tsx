function module(e,t,n){var a,o,i,r,l,s,u,c,d,f,m,h,k,p,g,y,v,b,x,E,S,w;n.link("@babel/runtime/helpers/createForOfIteratorHelperLoose",{default:function(e){a=e}},0),n.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){o=e}},1),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){i=e}},2),n.link("@nivo/bar",{ResponsiveBar:function(e){r=e}},0),n.link("@rocket.chat/fuselage",{Box:function(e){l=e},Flex:function(e){s=e},Skeleton:function(e){u=e},Tooltip:function(e){c=e}},1),n.link("@rocket.chat/fuselage-hooks",{useResizeObserver:function(e){d=e}},2),n.link("@rocket.chat/fuselage-tokens/colors.json",{default:function(e){f=e}},3),n.link("@rocket.chat/ui-contexts",{useTranslation:function(e){m=e}},4),n.link("moment",{default:function(e){h=e}},5),n.link("react",{default:function(e){k=e},useMemo:function(e){p=e}},6),n.link("../../../../../../client/components/dataView/CounterSet",{default:function(e){g=e}},7),n.link("../../../../../../client/hooks/useFormatDate",{useFormatDate:function(e){y=e}},8),n.link("../../../../components/dashboards/DownloadDataButton",{default:function(e){v=e}},9),n.link("../../../../components/dashboards/PeriodSelector",{default:function(e){b=e}},10),n.link("../../../../components/dashboards/usePeriodLabel",{usePeriodLabel:function(e){x=e}},11),n.link("../../../../components/dashboards/usePeriodSelectorState",{usePeriodSelectorState:function(e){E=e}},12),n.link("../EngagementDashboardCardFilter",{default:function(e){S=e}},13),n.link("./useNewUsers",{useNewUsers:function(e){w=e}},14),n.exportDefault(function(e){var t=e.timezone,n=i(E("last 7 days","last 30 days","last 90 days"),2),D=n[0],U=n[1],M=x(D),Y="utc"===t,z=w({period:D,utc:Y}).data,A=m(),C=y(),F=d(),I=F.ref,P=F.contentBoxSize,B=(P=void 0===P?{}:P).inlineSize,N=Math.ceil((void 0===B?600:B)/45),R=p(function(){if(z){var e=h(z.end).diff(z.start,"days")+1;if(!(e<=N)&&N){var t=Array.from({length:e},function(e,t){return h(z.start).add(t,"days").format("YYYY-MM-DD")}),n=Math.ceil(t.length/N);return t.reduce(function(e,t,a){return(a+1)%n==0&&(e=[].concat(o(e),[t])),e},[])}}},[z,N]),L=i(p(function(){if(!z)return[];for(var e,t=Array.from({length:h(z.end).diff(z.start,"days")+1},function(e,t){return{date:h(z.start).add(t,"days").format("YYYY-MM-DD"),newUsers:0}}),n=a(z.days);!(e=n()).done;){var o=e.value,i=o.day,r=o.users,l=Y?h(i).utc().diff(z.start,"days"):h(i).diff(z.start,"days");l>=0&&(t[l].newUsers+=r)}return[z.period.count,z.period.variation,z.yesterday.count,z.yesterday.variation,t]},[z,Y]),5),_=L[0],T=L[1],V=L[2],j=L[3],H=L[4];return k.createElement(k.Fragment,null,k.createElement(S,null,k.createElement(b,U),k.createElement(v,{attachmentName:"NewUsersSection_start_"+(null==z?void 0:z.start)+"_end_"+(null==z?void 0:z.end),headers:["Date","New Users"],dataAvailable:!!z,dataExtractor:function(){return null==H?void 0:H.map(function(e){return[e.date,e.newUsers]})}})),k.createElement(g,{counters:[{count:null!=_?_:k.createElement(u,{variant:"rect",width:"3ex",height:"1em"}),variation:null!=T?T:0,description:M},{count:null!=V?V:k.createElement(u,{variant:"rect",width:"3ex",height:"1em"}),variation:null!=j?j:0,description:A("Yesterday")}]}),k.createElement(s.Container,null,H?k.createElement(l,{style:{height:240}},k.createElement(s.Item,{align:"stretch",grow:1,shrink:0},k.createElement(l,{style:{position:"relative"},ref:I},k.createElement(l,{style:{position:"absolute",width:"100%",height:"100%"}},k.createElement(r,{data:H,indexBy:"date",keys:["newUsers"],groupMode:"grouped",padding:.25,margin:{bottom:20,left:20,top:20},colors:[f.p500],enableLabel:!1,enableGridY:!1,axisTop:null,axisRight:null,axisBottom:{tickSize:0,tickPadding:4,tickRotation:0,tickValues:R,format:function(e){return h(e).format((null==H?void 0:H.length)===7?"dddd":"DD/MM")}},axisLeft:{tickSize:0,tickPadding:4,tickRotation:0},animate:!0,motionConfig:"stiff",theme:{axis:{ticks:{text:{fill:f.n600,fontFamily:'Inter, -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Meiryo UI", Arial, sans-serif',fontSize:"10px",fontStyle:"normal",fontWeight:600,letterSpacing:"0.2px",lineHeight:"12px"}}}},tooltip:function(e){var t=e.value,n=e.indexValue;return k.createElement(c,null,A("Value_users",{value:t}),", ",C(n))}}))))):k.createElement(l,{ref:I},k.createElement(u,{variant:"rect",height:240}))))})}
//# sourceMappingURL=/dynamic/ee/client/views/admin/engagementDashboard/users/7d4b88964b48db99e7abedf9943061c60b1d969e.map
