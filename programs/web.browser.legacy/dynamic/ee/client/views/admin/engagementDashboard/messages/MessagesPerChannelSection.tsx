function module(e,n,t){t.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){l=e}},0),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},2),t.link("@nivo/pie",{ResponsivePie:function(e){r=e}},0),t.link("@rocket.chat/fuselage",{Box:function(e){i=e},Flex:function(e){c=e},Icon:function(e){s=e},Margins:function(e){u=e},Skeleton:function(e){m=e},Table:function(e){d=e},Tile:function(e){f=e},Palette:function(e){E=e},Tooltip:function(e){g=e},TableHead:function(e){h=e},TableRow:function(e){p=e},TableBody:function(e){b=e},TableCell:function(e){v=e}},1),t.link("@rocket.chat/ui-contexts",{useTranslation:function(e){k=e}},2),t.link("react",{default:function(e){S=e},useMemo:function(e){y=e}},3),t.link("../../../../components/dashboards/DownloadDataButton",{default:function(e){C=e}},4),t.link("../../../../components/dashboards/PeriodSelector",{default:function(e){_=e}},5),t.link("../../../../components/dashboards/usePeriodSelectorState",{usePeriodSelectorState:function(e){w=e}},6),t.link("../EngagementDashboardCardFilter",{default:function(e){x=e}},7),t.link("../dataView/LegendSymbol",{default:function(e){P=e}},8),t.link("./useMessageOrigins",{useMessageOrigins:function(e){T=e}},9),t.link("./useTopFivePopularChannels",{useTopFivePopularChannels:function(e){I=e}},10);var l,a,o,r,i,c,s,u,m,d,f,E,g,h,p,b,v,k,S,y,C,_,w,x,P,T,I,A={warning:E.statusColor["status-font-on-warning"].toString(),success:E.statusColor["status-font-on-success"].toString(),info:E.statusColor["status-font-on-info"].toString()};t.exportDefault(function(){var e=o(w("last 7 days","last 30 days","last 90 days"),2),n=e[0],t=e[1],E=k(),M=T({period:n}).data,F=I({period:n}).data,D=y(function(){var e;return null==M?void 0:null===(e=M.origins)||void 0===e?void 0:e.reduce(function(e,n){var t,l=n.messages,o=n.t;return a(a({},e),{},((t={})[o]=l,t))},{})},[M]),R=y(function(){var e;return null==F?void 0:null===(e=F.channels)||void 0===e?void 0:e.reduce(function(e,n,t){var a=n.t,o=n.messages,r=n.name,i=n.usernames;return[].concat(l(e),[{i:t,t:a,name:r||(null==i?void 0:i.join(" \xd7 ")),messages:o}])},[])},[F]);return S.createElement(S.Fragment,null,S.createElement(x,null,S.createElement(_,t),S.createElement(C,{attachmentName:"MessagesPerChannelSection_start_"+(null==M?void 0:M.start)+"_end_"+(null==M?void 0:M.end),headers:["Room Type","Messages"],dataAvailable:!!M,dataExtractor:function(){return null==M?void 0:M.origins.map(function(e){return[e.t,e.messages]})}})),S.createElement(c.Container,null,S.createElement(u,{inline:"neg-x12"},S.createElement(i,null,S.createElement(u,{inline:12},S.createElement(c.Item,{grow:1,shrink:0,basis:"0"},S.createElement(i,null,S.createElement(c.Container,{alignItems:"center",wrap:"no-wrap"},D?S.createElement(i,null,S.createElement(c.Item,{grow:1,shrink:1},S.createElement(u,{inline:24},S.createElement(i,{style:{position:"relative",height:300}},S.createElement(i,{style:{position:"absolute",width:"100%",height:"100%"}},S.createElement(r,{data:[{id:"d",label:E("Direct_Messages"),value:D.d,color:A.warning},{id:"p",label:E("Private_Channels"),value:D.p,color:A.success},{id:"c",label:E("Public_Channels"),value:D.c,color:A.info}],innerRadius:.6,colors:[A.warning,A.success,A.info],animate:!0,motionConfig:"stiff",theme:{axis:{ticks:{text:{fill:"#9EA2A8",fontFamily:'Inter, -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Meiryo UI", Arial, sans-serif',fontSize:10,fontStyle:"normal",fontWeight:600,letterSpacing:"0.2px",lineHeight:"12px"}}}},tooltip:function(e){var n=e.datum;return S.createElement(g,null,E("Value_messages",{value:n.value}))}}))))),S.createElement(c.Item,{basis:"auto"},S.createElement(u,{block:"neg-x4"},S.createElement(i,null,S.createElement(u,{block:4},S.createElement(i,{color:"hint",fontScale:"p1"},S.createElement(P,{color:A.warning}),E("Private_Chats")),S.createElement(i,{color:"hint",fontScale:"p1"},S.createElement(P,{color:A.success}),E("Private_Channels")),S.createElement(i,{color:"hint",fontScale:"p1"},S.createElement(P,{color:A.info}),E("Public_Channels"))))))):S.createElement(m,{variant:"rect",height:300})))),S.createElement(c.Item,{grow:1,shrink:0,basis:"0"},S.createElement(i,null,S.createElement(u,{blockEnd:16},R?S.createElement(i,{fontScale:"p1"},E("Most_popular_channels_top_5")):S.createElement(m,{width:"50%"})),R&&!R.length&&S.createElement(f,{fontScale:"p1",color:"hint",style:{textAlign:"center"}},E("Not_enough_data")),(!R||!!R.length)&&S.createElement(d,null,S.createElement(h,null,S.createElement(p,null,S.createElement(v,null,"#"),S.createElement(v,null,E("Channel")),S.createElement(v,{align:"end"},E("Number_of_messages")))),S.createElement(b,null,null==R?void 0:R.map(function(e){var n=e.i,t=e.t,l=e.name,a=e.messages;return S.createElement(p,{key:n},S.createElement(v,null,n+1,"."),S.createElement(v,null,S.createElement(u,{inlineEnd:4},"d"===t&&S.createElement(s,{name:"at"})||"p"===t&&S.createElement(s,{name:"lock"})||"c"===t&&S.createElement(s,{name:"hashtag"})),l),S.createElement(v,{align:"end"},a))}),!R&&Array.from({length:5},function(e,n){return S.createElement(p,{key:n},S.createElement(v,null,S.createElement(m,{width:"100%"})),S.createElement(v,null,S.createElement(m,{width:"100%"})),S.createElement(v,{align:"end"},S.createElement(m,{width:"100%"})))}))))))))))})}
//# sourceMappingURL=/dynamic/ee/client/views/admin/engagementDashboard/messages/7e2b01047f7b1fa901ad297c49a079dfbdd20cce.map
