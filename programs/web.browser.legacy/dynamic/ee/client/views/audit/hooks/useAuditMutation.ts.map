)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/audit/hooks/useAuditMutation.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IAuditLog } from '@rocket.chat/core-typings';\nimport { useMethod } from '@rocket.chat/ui-contexts';\nimport { useMutation } from '@tanstack/react-query';\n\nimport type { AuditFields } from './useAuditForm';\n\nexport const useAuditMutation = (type: IAuditLog['fields']['type']) => {\n\tconst getAuditMessages = useMethod('auditGetMessages');\n\tconst getOmnichannelAuditMessages = useMethod('auditGetOmnichannelMessages');\n\n\treturn useMutation(['audit'] as const, async ({ msg, dateRange, rid, users, visitor, agent }: AuditFields) => {\n\t\tif (type === 'l') {\n\t\t\treturn getOmnichannelAuditMessages({\n\t\t\t\ttype,\n\t\t\t\tmsg,\n\t\t\t\tstartDate: dateRange.start ?? new Date(0),\n\t\t\t\tendDate: dateRange.end ?? new Date(),\n\t\t\t\tusers,\n\t\t\t\tvisitor: '',\n\t\t\t\tagent: '',\n\t\t\t});\n\t\t}\n\n\t\treturn getAuditMessages({\n\t\t\ttype,\n\t\t\tmsg,\n\t\t\tstartDate: dateRange.start ?? new Date(0),\n\t\t\tendDate: dateRange.end ?? new Date(),\n\t\t\trid,\n\t\t\tusers,\n\t\t\tvisitor,\n\t\t\tagent,\n\t\t});\n\t});\n};\n",null],"names":["module","link","default","_regeneratorRuntime","export","useAuditMutation","useMethod","useMutation","type","getAuditMessages","getOmnichannelAuditMessages","_ref","_dateRange$start2","_dateRange$end2","msg","dateRange","rid","users","visitor","agent","_dateRange$start","_dateRange$end","async","_context","prev","next","abrupt","startDate","start","Date","endDate","end","stop","Promise"],"mappings":"uBACoBA,EAAMC,IAAA,CAAA,6BAA2B,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAArDH,EAAOI,MAAE,CAAA,CAAAC,iBAAiB,WAAA,OAAAA,CAA2B,CAAA,GAAAL,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAM,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAO,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAK9C,IALPJ,EAAqDG,EAAAC,EAKxCF,EAAmB,SAACG,CAAiC,EACjE,IAAMC,EAAmBH,EAAU,oBAC7BI,EAA8BJ,EAAU,+BAE9C,OAAOC,EAAY,CAAC,QAAiB,CAAE,SAAAI,CAAA,MAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAlB,EAAAmB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAmD,GAA1CX,EAAGH,EAAHG,GAAG,CAAEC,EAASJ,EAATI,SAAS,CAAEC,EAAGL,EAAHK,GAAG,CAAEC,EAAKN,EAALM,KAAK,CAAEC,EAAOP,EAAPO,OAAO,CAAEC,EAAKR,EAALQ,KAAK,CAAA,AAC5E,MAATX,EAAY,CAAAe,EAAAE,IAAA,CAAA,EAAA,KAAA,CAAA,OAAAF,EAAAG,MAAA,CAAA,SACRhB,EAA4B,CAClCF,KAAAA,EACAM,IAAAA,EACAa,UAAS,AAAiB,OAAjBP,CAAAA,EAAEL,EAAUa,KAAK,AAALA,GAAKR,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAAIS,KAAK,GACvCC,QAAO,AAAe,OAAfT,CAAAA,EAAEN,EAAUgB,GAAG,AAAHA,GAAGV,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAAIQ,KAC9BZ,MAAAA,EACAC,QAAS,GACTC,MAAO,KACN,MAAA,EAAA,OAAAI,EAAAG,MAAA,CAAA,SAGIjB,EAAiB,CACvBD,KAAAA,EACAM,IAAAA,EACAa,UAAS,AAAiB,OAAjBf,CAAAA,EAAEG,EAAUa,KAAK,AAALA,GAAKhB,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAAIiB,KAAK,GACvCC,QAAO,AAAe,OAAfjB,CAAAA,EAAEE,EAAUgB,GAAG,AAAHA,GAAGlB,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAAIgB,KAC9Bb,IAAAA,EACAC,MAAAA,EACAC,QAAAA,EACAC,MAAAA,IACC,MAAA,EAAA,IAAA,MAAA,OAAAI,EAAAS,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAEJ"}