)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/startup/readReceipt.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Tracker } from 'meteor/tracker';\n\nimport { settings } from '../../../app/settings/client';\nimport { MessageAction } from '../../../app/ui-utils/client';\nimport { imperativeModal } from '../../../client/lib/imperativeModal';\nimport { messageArgs } from '../../../client/lib/utils/messageArgs';\nimport ReadReceiptsModal from '../../../client/views/room/modals/ReadReceiptsModal';\n\nMeteor.startup(() => {\n\tTracker.autorun(() => {\n\t\tconst enabled = settings.get('Message_Read_Receipt_Store_Users');\n\n\t\tif (!enabled) {\n\t\t\treturn MessageAction.removeButton('receipt-detail');\n\t\t}\n\n\t\tMessageAction.addButton({\n\t\t\tid: 'receipt-detail',\n\t\t\ticon: 'info-circled',\n\t\t\tlabel: 'Info',\n\t\t\tcontext: ['starred', 'message', 'message-mobile', 'threads', 'videoconf', 'videoconf-threads'],\n\t\t\ttype: 'duplication',\n\t\t\taction(_, props) {\n\t\t\t\tconst { message = messageArgs(this).msg } = props;\n\t\t\t\timperativeModal.open({\n\t\t\t\t\tcomponent: ReadReceiptsModal,\n\t\t\t\t\tprops: { messageId: message._id, onClose: imperativeModal.close },\n\t\t\t\t});\n\t\t\t},\n\t\t\torder: 10,\n\t\t\tgroup: 'menu',\n\t\t});\n\t});\n});\n",null],"names":["Meteor","Tracker","settings","MessageAction","imperativeModal","messageArgs","ReadReceiptsModal","module","link","v","startup","autorun","get","removeButton","addButton","id","icon","label","context","type","action","_","props","_props$message","message","msg","open","component","messageId","_id","onClose","close","order","group"],"mappings":"2BAAAA,EAAuCC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9BC,EAAQC,IAAA,CAAM,gBAAgB,CAAAR,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,iBAAAA,CAAAN,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAL,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAJ,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,sCAAAA,CAAAH,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,wCAAAA,CAAAF,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,sDAAAA,CAAA,QAAA,SAAAE,CAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GASvCN,EAAOU,OAAO,CAAC,WACdT,EAAQU,OAAO,CAAC,WAGf,GAAI,CAFYT,EAASU,GAAG,CAAC,oCAG5B,OAAOT,EAAcU,YAAY,CAAC,kBAGnCV,EAAcW,SAAS,CAAC,CACvBC,GAAI,iBACJC,KAAM,eACNC,MAAO,OACPC,QAAS,CAAC,UAAW,UAAW,iBAAkB,UAAW,YAAa,oBAAoB,CAC9FC,KAAM,cACNC,OAAM,SAACC,CAAC,CAAEC,CAAK,EACd,IAAAC,EAA4CD,EAApCE,OAAO,CAAPA,EAAOD,AAAA,KAAA,IAAAA,EAAGlB,EAAY,IAAI,EAAEoB,GAAG,CAAAF,EACvCnB,EAAgBsB,IAAI,CAAC,CACpBC,UAAWrB,EACXgB,MAAO,CAAEM,UAAWJ,EAAQK,GAAG,CAAEC,QAAS1B,EAAgB2B,KAAAA,AAAK,GAEjE,EACAC,MAAO,GACPC,MAAO,QAET,EACD"}