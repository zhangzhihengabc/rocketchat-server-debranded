function module(e,n,t){var l,i,o,u,c,r,a,d,s,f,v,m,p,D,E,b,k,h,g,x,C,S,_;t.link("@babel/runtime/regenerator",{default:function(e){l=e}},0),t.link("@babel/runtime/helpers/extends",{default:function(e){i=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},2),t.link("@rocket.chat/fuselage",{Modal:function(e){u=e},Field:function(e){c=e},FieldLabel:function(e){r=e},FieldRow:function(e){a=e},Select:function(e){d=e},Button:function(e){s=e},Box:function(e){f=e}},0),t.link("@rocket.chat/ui-contexts",{useTranslation:function(e){v=e},useAvailableDevices:function(e){m=e},useToastMessageDispatch:function(e){p=e},useSetModal:function(e){D=e},useSelectedDevices:function(e){E=e},useIsDeviceManagementEnabled:function(e){b=e}},1),t.link("react",{default:function(e){k=e},useState:function(e){h=e}},2),t.link("react-hook-form",{useForm:function(e){g=e},Controller:function(e){x=e}},3),t.link("../../../../client/contexts/CallContext",{useChangeAudioInputDevice:function(e){C=e},useChangeAudioOutputDevice:function(e){S=e}},4),t.link("../../../../client/providers/DeviceProvider/lib/isSetSinkIdAvailable",{isSetSinkIdAvailable:function(e){_=e}},5),t.exportDefault(function(){var e,n,t,y,I=D(),A=b(),w=v(),F=p(),M=E(),O=g({defaultValues:{inputDevice:(null==M?void 0:null===(e=M.audioInput)||void 0===e?void 0:e.id)||"",outputDevice:(null==M?void 0:null===(n=M.audioOutput)||void 0===n?void 0:n.id)||""}}),T=O.handleSubmit,B=O.control,N=o(h(function(){return _()}),1)[0],P=m(),H=C(),L=S(),R=(null==P?void 0:null===(t=P.audioInput)||void 0===t?void 0:t.map(function(e){return[e.id,e.label]}))||[],V=(null==P?void 0:null===(y=P.audioOutput)||void 0===y?void 0:y.map(function(e){return[e.id,e.label]}))||[],j=function(e){var n,t,i,o;return l.async(function(l){for(;;)switch(l.prev=l.next){case 0:i=e.inputDevice&&(null==P?void 0:null===(n=P.audioInput)||void 0===n?void 0:n.find(function(n){return n.id===e.inputDevice})),o=e.outputDevice&&(null==P?void 0:null===(t=P.audioOutput)||void 0===t?void 0:t.find(function(n){return n.id===e.outputDevice}));try{i&&H(i),o&&L(o),I(),F({type:"success",message:w("Devices_Set")})}catch(e){F({type:"error",message:e})}case 3:case"end":return l.stop()}},null,null,null,Promise)};return k.createElement(u,{wrapperFunction:function(e){return k.createElement(f,i({is:"form",onSubmit:T(j)},e))}},k.createElement(u.Header,null,k.createElement(u.Title,null,w("Device_settings")),k.createElement(u.Close,{onClick:function(){return I()}})),k.createElement(u.Content,{fontScale:"p2"},!N&&k.createElement(f,{color:"status-font-on-danger",display:"flex",flexDirection:"column"},w("Device_Changes_Not_Available"),k.createElement(f,{is:"a",href:"https://rocket.chat/download",target:"_blank",rel:"noopener noreferrer"},w("Download_Destkop_App"))),!A&&k.createElement(f,{color:"status-font-on-danger",display:"flex",flexDirection:"column"},w("Device_Changes_Not_Available_Insecure_Context")),k.createElement(c,null,k.createElement(r,null,w("Microphone")),k.createElement(a,{w:"full",display:"flex",flexDirection:"column",alignItems:"stretch"},k.createElement(x,{name:"inputDevice",control:B,render:function(e){var n=e.field;return k.createElement(d,i({disabled:!N},n,{options:R||[]}))}}))),k.createElement(c,null,k.createElement(r,null,w("Speakers")),k.createElement(a,{w:"full",display:"flex",flexDirection:"column",alignItems:"stretch"},k.createElement(x,{name:"outputDevice",control:B,render:function(e){var n=e.field;return k.createElement(d,i({disabled:!N},n,{options:V||[]}))}})))),k.createElement(u.Footer,null,k.createElement(u.FooterControllers,null,k.createElement(s,{onClick:function(){return I()}},w("Cancel")),k.createElement(s,{disabled:!N,primary:!0,onClick:T(j)},w("Save")))))})}
//# sourceMappingURL=/dynamic/ee/client/voip/modals/151f150786d0ec721cd3eb6191b1b1cd15d31351.map
