)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/voip/components/modals/WrapUpCallModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Button, Field, FieldLabel, FieldRow, FieldHint, Modal, TextAreaInput } from '@rocket.chat/fuselage';\nimport { useSetModal, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useEffect } from 'react';\nimport type { SubmitHandler } from 'react-hook-form';\nimport { useForm } from 'react-hook-form';\n\nimport Tags from '../../../../../client/components/Omnichannel/Tags';\n\ntype WrapUpCallPayload = {\n\tcomment: string;\n\ttags?: string[];\n};\n\ntype WrapUpCallModalProps = {\n\tcloseRoom: (data?: { comment?: string; tags?: string[] }) => void;\n};\n\nexport const WrapUpCallModal = ({ closeRoom }: WrapUpCallModalProps): ReactElement => {\n\tconst setModal = useSetModal();\n\n\tconst closeModal = (): void => setModal(null);\n\tconst t = useTranslation();\n\n\tconst { register, handleSubmit, setValue, watch } = useForm<WrapUpCallPayload>();\n\n\tconst tags = watch('tags');\n\n\tuseEffect(() => {\n\t\tregister('tags');\n\t}, [register]);\n\n\tconst handleTags = (value: string[]): void => {\n\t\tsetValue('tags', value);\n\t};\n\n\tconst onSubmit: SubmitHandler<WrapUpCallPayload> = (data: { comment?: string; tags?: string[] }): void => {\n\t\tcloseRoom(data);\n\t\tcloseModal();\n\t};\n\n\tconst onCancel = (): void => {\n\t\tcloseRoom();\n\t\tcloseModal();\n\t};\n\n\treturn (\n\t\t<Modal wrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(onSubmit)} {...props} />}>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Title>{t('Wrap_up_the_call')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={closeModal} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<Field mbe='24px'>\n\t\t\t\t\t<FieldLabel>{t('Notes')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<TextAreaInput placeholder={t('Do_you_have_any_notes_for_this_conversation')} {...register('comment')} />\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t<FieldHint>{t('These_notes_will_be_available_in_the_call_summary')}</FieldHint>\n\t\t\t\t</Field>\n\t\t\t\t<Tags tags={tags} handler={handleTags as () => void} />\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Modal.FooterControllers>\n\t\t\t\t\t<Button secondary onClick={onCancel}>\n\t\t\t\t\t\t{t('Cancel')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button type='submit' primary>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.FooterControllers>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n",null],"names":["module","link","default","v","_extends","export","WrapUpCallModal","Box","Button","Field","FieldLabel","FieldRow","FieldHint","Modal","TextAreaInput","useSetModal","useTranslation","React","useEffect","useForm","Tags","_ref","closeRoom","setModal","closeModal","t","_useForm","register","handleSubmit","setValue","tags","watch","onSubmit","data","createElement","wrapperFunction","props","is","Header","Title","Close","onClick","Content","mbe","placeholder","handler","value","Footer","FooterControllers","secondary","type","primary"],"mappings":"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"}