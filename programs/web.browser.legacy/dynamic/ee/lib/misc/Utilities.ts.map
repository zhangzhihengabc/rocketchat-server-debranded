)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/lib/misc/Utilities.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["export class Utilities {\n\tstatic getI18nKeyForApp<TKey extends string, TAppId extends string>(key: TKey, appId: TAppId) {\n\t\treturn `app-${appId}.${key}` as const;\n\t}\n\n\tstatic curl(\n\t\t{\n\t\t\tmethod,\n\t\t\tparams,\n\t\t\tauth,\n\t\t\theaders = {},\n\t\t\turl,\n\t\t\tquery,\n\t\t\tcontent,\n\t\t}: {\n\t\t\tmethod: string;\n\t\t\tparams?: Record<string, string>;\n\t\t\tauth?: string;\n\t\t\theaders?: Record<string, string>;\n\t\t\turl: string;\n\t\t\tquery?: Record<string, string>;\n\t\t\tcontent?: unknown;\n\t\t},\n\t\topts: {\n\t\t\tverbose?: boolean;\n\t\t\theaders?: boolean;\n\t\t} = {},\n\t) {\n\t\tconst newLine = '\\\\\\n   ';\n\n\t\tconst cmd = ['curl'];\n\n\t\t// curl options\n\t\tif (opts.verbose) {\n\t\t\tcmd.push('-v');\n\t\t}\n\t\tif (opts.headers) {\n\t\t\tcmd.push('-i');\n\t\t}\n\n\t\t// method\n\t\tcmd.push('-X');\n\t\tcmd.push((method || 'GET').toUpperCase());\n\n\t\t// URL\n\t\tlet u = url;\n\n\t\tif (typeof params === 'object') {\n\t\t\tObject.entries(params).forEach(([key, value]) => {\n\t\t\t\tu = u.replace(`:${key}`, value);\n\t\t\t});\n\t\t}\n\n\t\tif (typeof query === 'object') {\n\t\t\tconst queryString = Object.entries(query)\n\t\t\t\t.map(([key, value]) => `${key}=${value}`)\n\t\t\t\t.join('&');\n\t\t\tu += `?${queryString}`;\n\t\t}\n\t\tcmd.push(u);\n\n\t\t// username\n\t\tif (auth) {\n\t\t\tcmd.push(newLine);\n\t\t\tcmd.push('-u');\n\t\t\tcmd.push(auth);\n\t\t}\n\n\t\t// headers\n\t\tconst headerKeys: string[] = [];\n\t\tObject.entries(headers).forEach(([key, val]) => {\n\t\t\tkey = key.toLowerCase();\n\t\t\theaderKeys.push(key);\n\t\t\tcmd.push(newLine);\n\t\t\tcmd.push('-H');\n\t\t\tcmd.push(`\"${key}${val ? ': ' : ';'}${val || ''}\"`);\n\t\t});\n\n\t\tif (content) {\n\t\t\tif (typeof content === 'object') {\n\t\t\t\tif (!headerKeys.includes('content-type')) {\n\t\t\t\t\tcmd.push(newLine);\n\t\t\t\t\tcmd.push('-H');\n\t\t\t\t\tcmd.push('\"content-type: application/json\"');\n\t\t\t\t}\n\t\t\t\tcontent = JSON.stringify(content);\n\t\t\t}\n\n\t\t\tcmd.push(newLine);\n\t\t\tcmd.push('--data-binary');\n\t\t\tcmd.push(`'${content}'`);\n\t\t}\n\n\t\treturn cmd.join(' ');\n\t}\n}\n",null],"names":["module","link","default","_slicedToArray","_typeof","export","Utilities","getI18nKeyForApp","key","appId","curl","_ref","method","params","auth","_ref$headers","headers","url","query","content","opts","newLine","cmd","verbose","push","toUpperCase","u","Object","entries","forEach","_ref2","_ref3","value","replace","map","_ref4","_ref5","join","queryString","headerKeys","_ref6","_ref7","val","toLowerCase","includes","JSON","stringify"],"mappings":"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"}