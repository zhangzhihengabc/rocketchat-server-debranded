function module(n,e,o){var t,i,r,c,a,s,l,u,p,f,m,d,g;o.link("meteor/meteor",{Meteor:function(n){t=n}},0),o.link("meteor/tracker",{Tracker:function(n){i=n}},1),o.link("../../app/authorization/client",{hasRole:function(n){r=n}},2),o.link("../../app/models/client",{Roles:function(n){c=n}},3),o.link("../../app/settings/client",{settings:function(n){a=n}},4),o.link("../../app/utils/client/lib/SDKClient",{sdk:function(n){s=n}},5),o.link("../../app/utils/lib/i18n",{t:function(n){l=n}},6),o.link("../components/FingerprintChangeModal",{default:function(n){u=n}},7),o.link("../components/FingerprintChangeModalConfirmation",{default:function(n){p=n}},8),o.link("../components/UrlChangeModal",{default:function(n){f=n}},9),o.link("../lib/imperativeModal",{imperativeModal:function(n){m=n}},10),o.link("../lib/toast",{dispatchToastMessage:function(n){d=n}},11),o.link("../lib/userData",{isSyncReady:function(n){g=n}},12),t.startup(function(){i.autorun(function(n){var e=t.userId();if(e&&c.ready.get()&&g.get()){if(!1===r(e,"admin"))return n.stop();var o=a.get("Site_Url");if(o){var i=location.origin+window.__meteor_runtime_config__.ROOT_URL_PATH_PREFIX;window.__meteor_runtime_config__.ROOT_URL.replace(/\/$/,"")!==i&&m.open({component:f,props:{onConfirm:function(){m.close(),s.call("saveSetting","Site_Url",i).then(function(){d({type:"success",message:l("Saved")})})},siteUrl:o,currentUrl:i,onClose:m.close}});var u=a.get("Document_Domain");return u&&(window.document.domain=u),n.stop()}}})}),t.startup(function(){i.autorun(function(n){var e=t.userId();if(e&&c.ready.get()&&g.get()){if(!1===r(e,"admin"))return n.stop();var o=a.get("Deployment_FingerPrint_Verified");if(null!=o&&!0!==o){var i=function(){m.close(),s.rest.post("/v1/fingerprint",{setDeploymentAs:"updated-configuration"}).then(function(){d({type:"success",message:l("Configuration_update_confirmed")})})},f=function(){m.close(),s.rest.post("/v1/fingerprint",{setDeploymentAs:"new-workspace"}).then(function(){d({type:"success",message:l("New_workspace_confirmed")})})},_=function(){m.open({component:u,props:{onConfirm:function(){m.open({component:p,props:{onConfirm:f,onCancel:_,newWorkspace:!0}})},onCancel:function(){m.open({component:p,props:{onConfirm:i,onCancel:_,newWorkspace:!1}})},onClose:m.close}})};return _(),n.stop()}}})})}
//# sourceMappingURL=/dynamic/client/startup/372a91a35bcf7f522edfa9380a6e6e99471af551.map
