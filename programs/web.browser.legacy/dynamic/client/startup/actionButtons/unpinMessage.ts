function module(e,n,i){var t,s,a,o,r,c,u,l,p;i.link("@babel/runtime/regenerator",{default:function(e){t=e}},0),i.link("meteor/meteor",{Meteor:function(e){s=e}},0),i.link("../../../app/authorization/client",{hasAtLeastOnePermission:function(e){a=e}},1),i.link("../../../app/settings/client",{settings:function(e){o=e}},2),i.link("../../../app/ui-utils/client",{MessageAction:function(e){r=e}},3),i.link("../../../app/utils/client/lib/SDKClient",{sdk:function(e){c=e}},4),i.link("../../lib/queryClient",{queryClient:function(e){u=e}},5),i.link("../../lib/toast",{dispatchToastMessage:function(e){l=e}},6),i.link("../../lib/utils/messageArgs",{messageArgs:function(e){p=e}},7),s.startup(function(){r.addButton({id:"unpin-message",icon:"pin",label:"Unpin",type:"interaction",context:["pinned","message","message-mobile","threads","direct","videoconf","videoconf-threads"],action:function(e,n){var i,s;return t.async(function(e){for(;;)switch(e.prev=e.next){case 0:return(s=void 0===(i=n.message)?p(this).msg:i).pinned=!1,e.prev=2,e.next=5,t.awrap(c.call("unpinMessage",s));case 5:u.invalidateQueries(["rooms",s.rid,"pinned-messages"]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),l({type:"error",message:e.t0});case 11:case"end":return e.stop()}},null,this,[[2,8]],Promise)},condition:function(e){var n=e.message;return!!(e.subscription&&o.get("Message_AllowPinning"))&&!!n.pinned&&a("pin-message",n.rid)},order:2,group:"menu"})})}
//# sourceMappingURL=/dynamic/client/startup/actionButtons/637d9a7e96f46d4516d201d2c69e8367ffb6f6f4.map
