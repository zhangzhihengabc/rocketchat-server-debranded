function module(e,n,t){t.link("@babel/runtime/regenerator",{default:function(e){i=e}},0),t.link("@babel/runtime/helpers/typeof",{default:function(e){r=e}},1),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){o=e}},2),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},3),t.link("@rocket.chat/string-helpers",{escapeRegExp:function(e){l=e}},0),t.link("meteor/meteor",{Meteor:function(e){c=e}},1),t.link("meteor/service-configuration",{ServiceConfiguration:function(e){u=e}},2),t.link("../../app/settings/client",{settings:function(e){s=e}},3),t.link("../../app/ui-utils/client/lib/AccountBox",{AccountBox:function(e){f=e}},4),t.link("../../app/utils/client/lib/SDKClient",{sdk:function(e){g=e}},5),t.link("../../lib/callbacks/afterLogoutCleanUpCallback",{afterLogoutCleanUpCallback:function(e){d=e}},6),t.link("../../lib/utils/stringUtils",{capitalize:function(e){m=e},ltrim:function(e){p=e},rtrim:function(e){v=e}},7),t.link("../lib/baseURI",{baseURI:function(e){k=e}},8),t.link("../providers/RouterProvider",{router:function(e){h=e}},9);var i,r,o,a,l,c,u,s,f,g,d,m,p,v,k,h,b={go:function(e){if("string"!=typeof e.path||0===e.path.trim().length)return console.error("`path` not defined");var n=new URL(v(k,"/")+"/"+p(e.path,"/")),t=Array.from(n.searchParams.entries()).reduce(function(e,n){var t=a(n,2),i=t[0],r=t[1];return e[i]=r,e},{}),i=n.pathname.replace(RegExp("^"+l(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX)),"");h.navigate({pathname:i,search:o(o({},h.getSearchParameters()),t)})},"set-user-status":function(e){f.setStatus(e.status)},"call-custom-oauth-login":function(e,n){var t=c.settings.Site_Url+"/";if("string"==typeof e.redirectUrl&&e.redirectUrl.startsWith(t)||(e.redirectUrl=null),"string"==typeof e.service&&window.ServiceConfiguration){var i=u.configurations.findOne({service:e.service});if(i){var r=c["loginWith"+m(i.service,!0)],o=e.redirectUrl||t;r.call(c,{redirectUrl:o},function(e){var t;null===(t=n.source)||void 0===t||t.postMessage({event:"custom-oauth-callback",response:e},{targetOrigin:n.origin})})}}},"login-with-token":function(e){"string"==typeof e.token&&c.loginWithToken(e.token,function(){console.log("Iframe command [login-with-token]: result",e)})},logout:function(){var e;return i.async(function(n){for(;;)switch(n.prev=n.next){case 0:e=c.user(),c.logout(function(){if(e)return d.run(e),g.call("logoutCleanUp",e),h.navigate("/home")});case 2:case"end":return n.stop()}},null,null,null,Promise)}};window.addEventListener("message",function(e){if(s.get("Iframe_Integration_receive_enable")&&"object"===r(e.data)&&"string"==typeof e.data.externalCommand){var n=s.get("Iframe_Integration_receive_origin");if("*"!==n&&-1===n.split(",").indexOf(e.origin)){console.error("Origin not allowed",e.origin);return}if(!(e.data.externalCommand in b)){console.error("Command not allowed",e.data.externalCommand);return}(0,b[e.data.externalCommand])(e.data,e)}})}
//# sourceMappingURL=/dynamic/client/startup/b359281b7a415f95edd72bd9a6766b06d59b2617.map
