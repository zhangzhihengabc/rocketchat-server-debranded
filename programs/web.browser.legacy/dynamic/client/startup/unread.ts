function module(n,e,t){var r,i,u,a,o,l,c,d,s,f;t.link("@babel/runtime/helpers/objectSpread2",{default:function(n){r=n}},0),t.link("@rocket.chat/favicon",{manageFavicon:function(n){i=n}},0),t.link("meteor/meteor",{Meteor:function(n){u=n}},1),t.link("meteor/session",{Session:function(n){a=n}},2),t.link("meteor/tracker",{Tracker:function(n){o=n}},3),t.link("../../app/models/client",{ChatSubscription:function(n){l=n},ChatRoom:function(n){c=n}},4),t.link("../../app/settings/client",{settings:function(n){d=n}},5),t.link("../../app/utils/client",{getUserPreference:function(n){s=n}},6),t.link("../lib/utils/fireGlobalEvent",{fireGlobalEvent:function(n){f=n}},7),u.startup(function(){o.autorun(function(){var n=s(u.userId(),"unreadAlert"),e=!1,t=l.find({open:!0,hideUnreadStatus:{$ne:!0},archived:{$ne:!0}},{fields:{unread:1,alert:1,rid:1,t:1,name:1,ls:1,unreadAlert:1,fname:1,prid:1}}).fetch().reduce(function(t,i){return o.nonreactive(function(){var u=c.findOne({_id:i.rid},{fields:{usersCount:1}});return(f("unread-changed-by-subscription",r(r({},i),{},{usersCount:null==u?void 0:u.usersCount})),i.alert||i.unread>0)?(!0===i.alert&&"nothing"!==i.unreadAlert&&("all"===i.unreadAlert||!1!==n)&&(e="â€¢"),t+i.unread):t})},0);t>0?t>999?a.set("unread","999+"):a.set("unread",t):!1!==e?a.set("unread",e):a.set("unread","")})}),u.startup(function(){var n=i();o.autorun(function(){var e,t=null!==(e=d.get("Site_Name"))&&void 0!==e?e:"",r=a.get("unread");f("unread-changed",r),n(r),document.title=""===r?t:"("+r+") "+t})})}
//# sourceMappingURL=/dynamic/client/startup/01285e00f74f76045cc5150f123304ebcb7847ce.map
