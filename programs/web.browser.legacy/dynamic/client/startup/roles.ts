function module(e,n,t){var o,i,c,r,l,u;t.link("@babel/runtime/regenerator",{default:function(e){o=e}},0),t.link("meteor/meteor",{Meteor:function(e){i=e}},0),t.link("meteor/tracker",{Tracker:function(e){c=e}},1),t.link("../../app/models/client",{Roles:function(e){r=e}},2),t.link("../../app/ui-cached-collection/client",{CachedCollectionManager:function(e){l=e}},3),t.link("../../app/utils/client/lib/SDKClient",{sdk:function(e){u=e}},4),i.startup(function(){l.onLogin(function(){var e;return o.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.awrap(u.rest.get("/v1/roles.list"));case 2:e=n.sent.roles,r._collection._docs._map=new Map(e.map(function(e){return[r._collection._docs._idStringify(e._id),e]})),Object.values(r._collection.queries).forEach(function(e){return r._collection._recomputeResults(e)}),r.ready.set(!0);case 7:case"end":return n.stop()}},null,null,null,Promise)});var e={changed:function(e){delete e.type,r.upsert({_id:e._id},e)},removed:function(e){r.remove({_id:e._id})}};c.autorun(function(n){i.userId()&&(c.afterFlush(function(){u.stream("roles",["roles"],function(n){var t;null===(t=e[n.type])||void 0===t||t.call(e,n)})}),n.stop())})})}
//# sourceMappingURL=/dynamic/client/startup/7ee97ccf7cb5ccee6202d32edf4396761fa344b5.map
