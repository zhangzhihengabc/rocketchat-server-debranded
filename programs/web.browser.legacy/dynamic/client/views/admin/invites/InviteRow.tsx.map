)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/invites/InviteRow.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IInvite } from '@rocket.chat/core-typings';\nimport { Box, IconButton } from '@rocket.chat/fuselage';\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, MouseEvent } from 'react';\nimport React from 'react';\n\nimport { GenericTableCell, GenericTableRow } from '../../../components/GenericTable';\nimport { useFormatDateAndTime } from '../../../hooks/useFormatDateAndTime';\nimport { useTimeFromNow } from '../../../hooks/useTimeFromNow';\n\nconst isExpired = (expires: IInvite['expires']): boolean => {\n\tif (expires && expires.getTime() < new Date().getTime()) {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\ntype InviteRowProps = Omit<IInvite, 'createdAt' | 'expires' | '_updatedAt'> & {\n\tonRemove: (removeInvite: () => Promise<boolean>) => void;\n\t_updatedAt: string;\n\tcreatedAt: string;\n\texpires: string | null;\n};\n\nconst InviteRow = ({ _id, createdAt, expires, uses, maxUses, onRemove }: InviteRowProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst formatDateAndTime = useFormatDateAndTime();\n\tconst removeInvite = useEndpoint('DELETE', '/v1/removeInvite/:_id', { _id });\n\n\tconst getTimeFromNow = useTimeFromNow(false);\n\n\tconst daysToExpire = (expires: IInvite['expires']): string => {\n\t\tif (expires) {\n\t\t\tif (isExpired(expires)) {\n\t\t\t\treturn t('Expired');\n\t\t\t}\n\n\t\t\treturn getTimeFromNow(expires);\n\t\t}\n\n\t\treturn t('Never');\n\t};\n\n\tconst maxUsesLeft = (maxUses: IInvite['maxUses'], uses: IInvite['uses']): number | string => {\n\t\tif (maxUses > 0) {\n\t\t\tif (uses >= maxUses) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\treturn maxUses - uses;\n\t\t}\n\n\t\treturn t('Unlimited');\n\t};\n\n\tconst handleRemoveButtonClick = async (event: MouseEvent<HTMLElement>): Promise<void> => {\n\t\tevent.stopPropagation();\n\t\tonRemove(() => removeInvite());\n\t};\n\n\tconst notSmall = useMediaQuery('(min-width: 768px)');\n\n\treturn (\n\t\t<GenericTableRow>\n\t\t\t<GenericTableCell>\n\t\t\t\t<Box color='hint' fontScale='p2'>\n\t\t\t\t\t{_id}\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t\t{notSmall && (\n\t\t\t\t<>\n\t\t\t\t\t<GenericTableCell>{formatDateAndTime(new Date(createdAt))}</GenericTableCell>\n\t\t\t\t\t<GenericTableCell>{daysToExpire(expires ? new Date(expires) : null)}</GenericTableCell>\n\t\t\t\t\t<GenericTableCell>{uses}</GenericTableCell>\n\t\t\t\t\t<GenericTableCell>{maxUsesLeft(maxUses, uses)}</GenericTableCell>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t<GenericTableCell>\n\t\t\t\t<IconButton icon='cross' danger small onClick={handleRemoveButtonClick} />\n\t\t\t</GenericTableCell>\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default InviteRow;\n",null],"names":["_regeneratorRuntime","Box","IconButton","useMediaQuery","useEndpoint","useTranslation","React","GenericTableCell","GenericTableRow","useFormatDateAndTime","useTimeFromNow","module","link","default","v","exportDefault","_ref","expires","maxUses","uses","_id","createdAt","onRemove","t","formatDateAndTime","removeInvite","getTimeFromNow","notSmall","createElement","color","fontScale","Fragment","Date","getTime","icon","danger","small","onClick","event","async","_context","prev","next","stopPropagation","stop","Promise"],"mappings":"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"}