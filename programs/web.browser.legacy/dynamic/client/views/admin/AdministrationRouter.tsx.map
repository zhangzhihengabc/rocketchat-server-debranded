)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/AdministrationRouter.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useRouter } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ReactNode } from 'react';\nimport React, { Suspense, useEffect } from 'react';\n\nimport PageSkeleton from '../../components/PageSkeleton';\nimport type { Item, SidebarDivider, SidebarItem } from '../../lib/createSidebarItems';\nimport { isGoRocketChatLink } from '../../lib/createSidebarItems';\nimport SettingsProvider from '../../providers/SettingsProvider';\nimport AdministrationLayout from './AdministrationLayout';\nimport { getAdminSidebarItems } from './sidebarItems';\n\nconst isSidebarDivider = (sidebarItem: SidebarItem): sidebarItem is SidebarDivider => {\n\treturn (sidebarItem as SidebarDivider).divider === true;\n};\n\nconst firstSidebarPage = (sidebarItem: SidebarItem): sidebarItem is Item => {\n\tif (isSidebarDivider(sidebarItem)) {\n\t\treturn false;\n\t}\n\n\treturn Boolean(sidebarItem.permissionGranted?.());\n};\n\ntype AdministrationRouterProps = {\n\tchildren?: ReactNode;\n};\n\nconst AdministrationRouter = ({ children }: AdministrationRouterProps): ReactElement => {\n\tconst router = useRouter();\n\n\tuseEffect(\n\t\t() =>\n\t\t\trouter.subscribeToRouteChange(() => {\n\t\t\t\tif (router.getRouteName() !== 'admin-index') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst defaultRoutePath = getAdminSidebarItems().find(firstSidebarPage)?.href ?? '/admin/workspace';\n\n\t\t\t\tif (isGoRocketChatLink(defaultRoutePath)) {\n\t\t\t\t\twindow.open(defaultRoutePath, '_blank');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\trouter.navigate(defaultRoutePath, { replace: true });\n\t\t\t}),\n\t\t[router],\n\t);\n\n\treturn (\n\t\t<AdministrationLayout>\n\t\t\t<SettingsProvider privileged>\n\t\t\t\t{children ? <Suspense fallback={<PageSkeleton />}>{children}</Suspense> : <PageSkeleton />}\n\t\t\t</SettingsProvider>\n\t\t</AdministrationLayout>\n\t);\n};\n\nexport default AdministrationRouter;\n",null],"names":["module","link","useRouter","v","React","Suspense","useEffect","PageSkeleton","isGoRocketChatLink","SettingsProvider","AdministrationLayout","getAdminSidebarItems","firstSidebarPage","sidebarItem","_sidebarItem$permissi","divider","Boolean","permissionGranted","call","exportDefault","_ref","children","router","subscribeToRouteChange","getRouteName","_getAdminSidebarItems","_getAdminSidebarItems2","defaultRoutePath","find","href","window","open","navigate","replace","createElement","privileged","fallback"],"mappings":"uBAASA,EAAWC,IAAA,CAAM,2BAA2B,CAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAF,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAC,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,gCAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAI,EAAAA,CAAA,CAAA,EAAA,GAAAP,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAQ,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAR,EAAAA,IAAAA,CAAAA,mCAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAM,EAAAA,CAAA,CAAA,EAAA,GAAAT,EAAAA,IAAAA,CAAAA,yBAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAO,EAAAA,CAAA,CAAA,EAAA,GAAAV,EAAAA,IAAAA,CAAAA,iBAAAA,CAAAW,qBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAerD,IAfAT,EAAqDE,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAe/CC,EAAmB,SAACC,CAAwB,EAAyB,IAAAC,QAC1E,AAJmD,CAAA,IAA3CD,AAIaA,EAJkBE,OAAO,EAQvCC,CAAAA,CAAO,CAAA,AAA8B,OAA9BF,CAAAA,EAACD,EAAYI,iBAAiB,AAAjBA,GAAiBH,AAAA,KAAA,IAAAA,EAAA,KAAA,EAA7BA,EAAAI,IAAA,CAAAL,EAAW,CAC3B,EArBAb,EAAOmB,aAAa,CA2BS,SAAAC,CAAA,EAA0D,IAAvDC,EAAQD,EAARC,QAAQ,CACjCC,EAASpB,IAqBf,OAnBAI,EACC,WAAA,OACCgB,EAAOC,sBAAsB,CAAC,WAC7B,GAAID,AAA0B,gBAA1BA,EAAOE,YAAY,IAIvB,IALkCC,EAAAC,EAK5BC,EAAgB,AAAsD,OAAtDF,CAAAA,EAAA,AAAgD,OAAhDC,CAAAA,EAAGf,IAAuBiB,IAAI,CAAChB,EAAgB,GAACc,AAAA,KAAA,IAAAA,EAAA,KAAA,EAA7CA,EAA+CG,IAAI,AAAJA,GAAIJ,AAAA,KAAA,IAAAA,EAAAA,EAAI,mBAEhF,GAAIjB,EAAmBmB,GAAmB,CACzCG,OAAOC,IAAI,CAACJ,EAAkB,UAC9B,OAGDL,EAAOU,QAAQ,CAACL,EAAkB,CAAEM,QAAS,CAAA,CAAI,GAClD,EAAE,EACH,CAACX,EAAO,EAIRlB,EAAA8B,aAAA,CAACxB,EAAoB,KACpBN,EAAA8B,aAAA,CAACzB,EAAgB,CAAC0B,WAAU,CAAA,CAAA,EAC1Bd,EAAWjB,EAAA8B,aAAA,CAAC7B,EAAQ,CAAC+B,SAAUhC,EAAA8B,aAAA,CAAC3B,EAAY,KAAI,EAAEc,GAAuBjB,EAAA8B,aAAA,CAAC3B,EAAY,OAI3F"}