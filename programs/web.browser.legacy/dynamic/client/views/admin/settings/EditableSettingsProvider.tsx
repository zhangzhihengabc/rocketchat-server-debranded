function module(e,n,t){var r,i,o,u,c,a,s,l,f,d,b,p,v,h,g=["_id"],k=["_id"];t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},0),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){i=e}},1),t.link("@babel/runtime/helpers/createForOfIteratorHelperLoose",{default:function(e){o=e}},2),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){u=e}},0),t.link("@rocket.chat/ui-contexts",{useSettings:function(e){c=e}},1),t.link("meteor/mongo",{Mongo:function(e){a=e}},2),t.link("meteor/tracker",{Tracker:function(e){s=e}},3),t.link("react",{default:function(e){l=e},useEffect:function(e){f=e},useMemo:function(e){d=e},useRef:function(e){b=e}},4),t.link("../../../hooks/useIsEnterprise",{useIsEnterprise:function(e){p=e}},5),t.link("../../../lib/createReactiveSubscriptionFactory",{createReactiveSubscriptionFactory:function(e){v=e}},6),t.link("../EditableSettingsContext",{EditableSettingsContext:function(e){h=e}},7);var m={};t.exportDefault(function(e){var n,t=e.children,y=e.query,S=b(null),$=c(void 0===y?m:y),E=u(function(){return S.current||(S.current=new a.Collection(null)),S.current});f(function(){var e=E();e.remove({_id:{$nin:$.map(function(e){return e._id})}});for(var n,t=o($);!(n=t()).done;){var u=n.value,c=u._id,a=i(u,g);e.upsert(c,{$set:r({},a),$unset:{changed:!0}})}},[E,$]);var _=d(function(){var e=function(e,n){return!e||[].concat("string"==typeof e?JSON.parse(e):e).every(function(e){return n.find(e).count()>0})};return v(function(n){var t=E(),i=t.findOne(n);if(i)return r(r({},i),{},{disabled:i.blocked||!e(i.enableQuery,t),invisible:!e(i.displayQuery,t)})})},[E]),x=d(function(){return v(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E().find(r(r(r(r({},"_id"in e&&{_id:{$in:e._id}}),"group"in e&&{group:e.group}),"changed"in e&&{changed:e.changed}),{},{$and:[r({},"section"in e&&(e.section?{section:e.section}:{$or:[{section:{$exists:!1}},{section:""}]})),r({},"tab"in e&&(e.tab?{tab:e.tab}:{$or:[{tab:{$exists:!1}},{tab:""}]}))]}),{sort:{section:1,sorter:1,i18nLabel:1}}).fetch()})},[E]),q=d(function(){return v(function(e,n){return Array.from(new Set(E().find(r({group:e},void 0!==n?{tab:n}:{$or:[{tab:{$exists:!1}},{tab:""}]}),{fields:{section:1},sort:{sorter:1,section:1,i18nLabel:1}}).fetch().map(function(e){return e.section||""})))})},[E]),C=d(function(){return v(function(e){return Array.from(new Set(E().find({group:e},{fields:{tab:1},sort:{sorter:1,tab:1,i18nLabel:1}}).fetch().map(function(e){return e.tab||""})))})},[E]),L=u(function(e){for(var n,t=o(e);!(n=t()).done;){var r=n.value,u=r._id,c=i(r,k);u&&E().update(u,{$set:c})}s.flush()}),w=p().data,F=null!==(n=null==w?void 0:w.isEnterprise)&&void 0!==n&&n,I=d(function(){return{queryEditableSetting:_,queryEditableSettings:x,queryGroupSections:q,queryGroupTabs:C,dispatch:L,isEnterprise:F}},[_,x,q,C,L,F]);return l.createElement(h.Provider,{children:t,value:I})})}
//# sourceMappingURL=/dynamic/client/views/admin/settings/33f53536ec0e4ae4eee17306d319da7e893f64d8.map
