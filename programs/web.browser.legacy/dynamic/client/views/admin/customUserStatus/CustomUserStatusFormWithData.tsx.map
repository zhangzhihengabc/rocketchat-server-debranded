)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/customUserStatus/CustomUserStatusFormWithData.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IUserStatus } from '@rocket.chat/core-typings';\nimport { Box, Callout } from '@rocket.chat/fuselage';\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\n\nimport { FormSkeleton } from '../../../components/Skeleton';\nimport CustomUserStatusForm from './CustomUserStatusForm';\n\ntype CustomUserStatusFormWithDataProps = {\n\t_id?: IUserStatus['_id'];\n\tonClose: () => void;\n\tonReload: () => void;\n};\n\nconst CustomUserStatusFormWithData = ({ _id, onReload, onClose }: CustomUserStatusFormWithDataProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst query = useMemo(() => ({ query: JSON.stringify({ _id }) }), [_id]);\n\n\tconst getCustomUserStatus = useEndpoint('GET', '/v1/custom-user-status.list');\n\n\tconst { data, isLoading, error, refetch } = useQuery(['custom-user-statuses', query], async () => {\n\t\tconst customUserStatus = await getCustomUserStatus(query);\n\t\treturn customUserStatus;\n\t});\n\n\tconst handleReload = (): void => {\n\t\tonReload?.();\n\t\trefetch?.();\n\t};\n\n\tif (!_id) {\n\t\treturn <CustomUserStatusForm onReload={handleReload} onClose={onClose} />;\n\t}\n\n\tif (isLoading) {\n\t\treturn <FormSkeleton pi={20} />;\n\t}\n\n\tif (error || !data || data.count < 1) {\n\t\treturn (\n\t\t\t<Box p={20}>\n\t\t\t\t<Callout type='danger'>{t('Custom_User_Status_Error_Invalid_User_Status')}</Callout>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn <CustomUserStatusForm status={data.statuses[0]} onReload={handleReload} onClose={onClose} />;\n};\n\nexport default CustomUserStatusFormWithData;\n",null],"names":["_regeneratorRuntime","Box","Callout","useEndpoint","useTranslation","useQuery","React","useMemo","FormSkeleton","CustomUserStatusForm","module","link","default","v","exportDefault","_ref","_id","onReload","onClose","t","query","JSON","stringify","getCustomUserStatus","_useQuery","customUserStatus","async","_context","prev","next","awrap","sent","abrupt","stop","Promise","data","isLoading","error","refetch","handleReload","createElement","pi","count","p","type","status","statuses"],"mappings":"uBAgBA,IAfAA,EAAAC,EAAOC,EAA8CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9BC,EAAMC,IAAA,CAAA,6BAAwB,CAAAC,QAAAA,SAAAA,CAAAA,EAAAZ,EAAAA,CAAA,CAAA,EAAA,GAAvCU,EAASC,IAAAA,CAAAA,wBAA6B,CAACV,IAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAP,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAL,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAP,EAAAA,CAAA,EAAAC,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAF,aAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,yBAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAArDC,EAAOI,aAAO,CAeuB,SAAAC,CAAA,EAAgF,IAA7EC,EAAGD,EAAHC,GAAG,CAAEC,EAAQF,EAARE,QAAQ,CAAEC,EAAOH,EAAPG,OAAO,CACvDC,EAAIf,IACJgB,EAAQb,EAAQ,WAAA,MAAO,CAAEa,MAAOC,KAAKC,SAAS,CAAC,CAAEN,IAAAA,CAAG,EAAG,CAAE,EAAG,CAACA,EAAI,EAEjEO,EAAsBpB,EAAY,MAAO,+BAE/CqB,EAA4CnB,EAAS,CAAC,uBAAwBe,EAAM,CAAE,WAAA,IAAAK,EAAA,OAAAzB,EAAA0B,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAE,IAAA,CAAA,EAAA7B,EAAA8B,KAAA,CACtDP,EAAoBH,GAAM,MAAA,EAAnC,OAAhBK,EAAgBE,EAAAI,IAAA,CAAAJ,EAAAK,MAAA,CAAA,SACfP,EAAgB,MAAA,EAAA,IAAA,MAAA,OAAAE,EAAAM,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,GAFhBC,EAAIX,EAAJW,IAAI,CAAEC,EAASZ,EAATY,SAAS,CAAEC,EAAKb,EAALa,KAAK,CAAEC,EAAOd,EAAPc,OAAO,CAKjCC,EAAe,WACpBtB,MAAAA,GAAAA,IACAqB,MAAAA,GAAAA,GACD,SAEA,AAAKtB,EAIDoB,EACI9B,EAAAkC,aAAA,CAAChC,EAAY,CAACiC,GAAI,EAAG,GAGzBJ,GAAS,CAACF,GAAQA,EAAKO,KAAK,CAAG,EAEjCpC,EAAAkC,aAAA,CAACvC,EAAG,CAAC0C,EAAG,EAAG,EACVrC,EAAAkC,aAAA,CAACtC,EAAO,CAAC0C,KAAK,QAAQ,EAAEzB,EAAE,kDAKtBb,EAAAkC,aAAA,CAAC/B,EAAoB,CAACoC,OAAQV,EAAKW,QAAQ,CAAC,EAAG,CAAC7B,SAAUsB,EAAcrB,QAASA,CAAQ,GAfxFZ,EAAAkC,aAAA,CAAC/B,EAAoB,CAACQ,SAAUsB,EAAcrB,QAASA,CAAQ,EAgBxE"}