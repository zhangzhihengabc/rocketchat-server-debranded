)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/customUserStatus/CustomUserStatusRoute.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Button, ButtonGroup } from '@rocket.chat/fuselage';\nimport { useRoute, useRouteParameter, usePermission, useTranslation, useSetting } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback, useRef, useEffect } from 'react';\n\nimport { Contextualbar, ContextualbarHeader, ContextualbarClose, ContextualbarTitle } from '../../../components/Contextualbar';\nimport Page from '../../../components/Page';\nimport { useIsEnterprise } from '../../../hooks/useIsEnterprise';\nimport NotAuthorizedPage from '../../notAuthorized/NotAuthorizedPage';\nimport CustomUserActiveConnections from './CustomUserActiveConnections';\nimport CustomUserStatusFormWithData from './CustomUserStatusFormWithData';\nimport CustomUserStatusService from './CustomUserStatusService';\nimport CustomUserStatusTable from './CustomUserStatusTable';\n\nconst CustomUserStatusRoute = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst route = useRoute('user-status');\n\tconst context = useRouteParameter('context');\n\tconst id = useRouteParameter('id');\n\tconst canManageUserStatus = usePermission('manage-user-status');\n\tconst { data: license } = useIsEnterprise();\n\tconst presenceDisabled = useSetting<boolean>('Presence_broadcast_disabled');\n\n\tuseEffect(() => {\n\t\tpresenceDisabled && route.push({ context: 'presence-service' });\n\t}, [presenceDisabled, route]);\n\n\tconst handleItemClick = (id: string): void => {\n\t\troute.push({\n\t\t\tcontext: 'edit',\n\t\t\tid,\n\t\t});\n\t};\n\n\tconst handleNewButtonClick = useCallback(() => {\n\t\troute.push({ context: 'new' });\n\t}, [route]);\n\n\tconst handlePresenceServiceClick = useCallback(() => {\n\t\troute.push({ context: 'presence-service' });\n\t}, [route]);\n\n\tconst handleClose = useCallback(() => {\n\t\troute.push({});\n\t}, [route]);\n\n\tconst reload = useRef(() => null);\n\n\tconst handleReload = useCallback(() => {\n\t\treload.current();\n\t}, [reload]);\n\n\tif (!canManageUserStatus) {\n\t\treturn <NotAuthorizedPage />;\n\t}\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page name='admin-user-status'>\n\t\t\t\t<Page.Header title={t('User_Status')}>\n\t\t\t\t\t{!license?.isEnterprise && <CustomUserActiveConnections />}\n\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t<Button onClick={handlePresenceServiceClick}>{t('Presence_service')}</Button>\n\t\t\t\t\t\t<Button onClick={handleNewButtonClick}>{t('New_custom_status')}</Button>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</Page.Header>\n\t\t\t\t<Page.Content>\n\t\t\t\t\t<CustomUserStatusTable reload={reload} onClick={handleItemClick} />\n\t\t\t\t</Page.Content>\n\t\t\t</Page>\n\t\t\t{context && (\n\t\t\t\t<Contextualbar bg='light' flexShrink={0}>\n\t\t\t\t\t<ContextualbarHeader>\n\t\t\t\t\t\t<ContextualbarTitle>\n\t\t\t\t\t\t\t{context === 'edit' && t('Custom_User_Status_Edit')}\n\t\t\t\t\t\t\t{context === 'new' && t('Custom_User_Status_Add')}\n\t\t\t\t\t\t\t{context === 'presence-service' && t('Presence_service_cap')}\n\t\t\t\t\t\t</ContextualbarTitle>\n\t\t\t\t\t\t<ContextualbarClose onClick={handleClose} />\n\t\t\t\t\t</ContextualbarHeader>\n\t\t\t\t\t{context === 'presence-service' && <CustomUserStatusService />}\n\t\t\t\t\t{(context === 'new' || context === 'edit') && (\n\t\t\t\t\t\t<CustomUserStatusFormWithData _id={id} onClose={handleClose} onReload={handleReload} />\n\t\t\t\t\t)}\n\t\t\t\t</Contextualbar>\n\t\t\t)}\n\t\t</Page>\n\t);\n};\n\nexport default CustomUserStatusRoute;\n",null],"names":["Button","ButtonGroup","useRoute","useRouteParameter","usePermission","useTranslation","useSetting","React","useCallback","useRef","useEffect","Contextualbar","ContextualbarHeader","ContextualbarClose","ContextualbarTitle","Page","useIsEnterprise","NotAuthorizedPage","CustomUserActiveConnections","CustomUserStatusFormWithData","CustomUserStatusService","CustomUserStatusTable","module","link","v","exportDefault","t","route","context","id","canManageUserStatus","license","_useIsEnterprise","data","presenceDisabled","push","handleNewButtonClick","handlePresenceServiceClick","handleClose","reload","handleReload","current","createElement","flexDirection","name","Header","title","isEnterprise","onClick","Content","bg","flexShrink","_id","onClose","onReload"],"mappings":"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"}