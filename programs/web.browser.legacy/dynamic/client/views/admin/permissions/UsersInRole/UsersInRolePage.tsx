function module(e,n,t){var r,l,o,a,c,u,i,s,m,f,d,p,E,k,h,g,v,x,C,b,U,_;t.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),t.link("@rocket.chat/fuselage",{Box:function(e){l=e},Field:function(e){o=e},FieldLabel:function(e){a=e},FieldRow:function(e){c=e},Margins:function(e){u=e},ButtonGroup:function(e){i=e},Button:function(e){s=e},Callout:function(e){m=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){f=e}},1),t.link("@rocket.chat/ui-contexts",{useToastMessageDispatch:function(e){d=e},useRoute:function(e){p=e},useEndpoint:function(e){E=e},useTranslation:function(e){k=e}},2),t.link("react",{default:function(e){h=e},useRef:function(e){g=e}},3),t.link("react-hook-form",{useForm:function(e){v=e},Controller:function(e){x=e}},4),t.link("../../../../components/Page",{default:function(e){C=e}},5),t.link("../../../../components/RoomAutoComplete",{default:function(e){b=e}},6),t.link("../../../../components/UserAutoCompleteMultiple",{default:function(e){U=e}},7),t.link("./UsersInRoleTable",{default:function(e){_=e}},8),t.exportDefault(function(e){var n=e.role,t=k(),y=g(function(){}),R=d(),w=v({defaultValues:{users:[]}}),P=w.control,S=w.handleSubmit,T=w.formState.isDirty,A=w.reset,B=w.getValues,D=n._id,F=n.name,M=n.description,I=p("admin-permissions"),N=E("POST","/v1/roles.addUserToRole"),V=B("rid"),G=f(function(){I.push({context:"edit",_id:D})}),H=f(function(e){var n,l;return r.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.users,l=e.rid,o.prev=1,o.next=4,r.awrap(Promise.all(n.map(function e(e){return r.async(function n(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=3;break}return n.next=3,r.awrap(N({roleName:D,username:e,roomId:l}));case 3:case"end":return n.stop()}},null,null,null,Promise)})));case 4:R({type:"success",message:t("Users_added")}),y.current(),A(),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(1),R({type:"error",message:o.t0});case 12:case"end":return o.stop()}},null,null,[[1,9]],Promise)});return h.createElement(C,null,h.createElement(C.Header,{title:t("Users_in_role")+' "'+(M||F)+'"'},h.createElement(i,null,h.createElement(s,{onClick:G},t("Back")))),h.createElement(C.Content,null,h.createElement(l,{display:"flex",flexDirection:"column",w:"full",mi:"neg-x4"},h.createElement(u,{inline:4},"Users"!==n.scope&&h.createElement(o,{mbe:4},h.createElement(a,null,t("Choose_a_room")),h.createElement(c,null,h.createElement(x,{control:P,name:"rid",render:function(e){var n=e.field,r=n.onChange,l=n.value;return h.createElement(b,{value:l,onChange:r,placeholder:t("User")})}}))),h.createElement(o,null,h.createElement(a,null,t("Add_users")),h.createElement(c,null,h.createElement(x,{control:P,name:"users",render:function(e){var n=e.field,r=n.onChange,l=n.value;return h.createElement(U,{value:l,placeholder:t("User"),onChange:r})}}),h.createElement(i,{mis:8,align:"end"},h.createElement(s,{primary:!0,onClick:S(H),disabled:!T},t("Add"))))))),h.createElement(u,{blockStart:8},("Users"===n.scope||V)&&h.createElement(_,{reloadRef:y,rid:V,roleId:D,roleName:F,description:M}),"Users"!==n.scope&&!V&&h.createElement(m,{type:"info"},t("Select_a_room")))))})}
//# sourceMappingURL=/dynamic/client/views/admin/permissions/UsersInRole/a0b7f920839fd5c58f4938c9921064e90f6d0786.map
