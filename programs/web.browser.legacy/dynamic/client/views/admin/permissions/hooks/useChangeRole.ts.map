)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/permissions/hooks/useChangeRole.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRole, IPermission } from '@rocket.chat/core-typings';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch } from '@rocket.chat/ui-contexts';\n\nexport const useChangeRole = ({\n\tonGrant,\n\tonRemove,\n\tpermissionId,\n}: {\n\tonGrant: (permissionId: IPermission['_id'], roleId: IRole['_id']) => Promise<void>;\n\tonRemove: (permissionId: IPermission['_id'], roleId: IRole['_id']) => Promise<void>;\n\tpermissionId: IPermission['_id'];\n}): ((roleId: IRole['_id'], granted: boolean) => Promise<boolean>) => {\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\treturn useMutableCallback(async (roleId, granted) => {\n\t\ttry {\n\t\t\tif (granted) {\n\t\t\t\tawait onRemove(permissionId, roleId);\n\t\t\t} else {\n\t\t\t\tawait onGrant(permissionId, roleId);\n\t\t\t}\n\t\t\treturn !granted;\n\t\t} catch (error: unknown) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t\treturn granted;\n\t});\n};\n",null],"names":["module","link","default","_regeneratorRuntime","export","useChangeRole","useMutableCallback","useToastMessageDispatch","_ref","onGrant","onRemove","permissionId","dispatchToastMessage","roleId","granted","async","_context","prev","next","awrap","abrupt","t0","type","message","stop","Promise"],"mappings":"uBACSA,EAAoBC,IAAM,CAAA,6BAA8B,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAjEH,EAAOI,MAAE,CAAA,CAAAC,cAAoB,WAAM,OAAAA,CAAA,CAAA,GAA8BL,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAM,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAO,wBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAG1D,IAHPJ,EAAiEG,EAAAC,EAGpDF,EAAgB,SAAAG,CAAA,EAQwC,IAPpEC,EAAOD,EAAPC,OAAO,CACPC,EAAQF,EAARE,QAAQ,CACRC,EAAYH,EAAZG,YAAY,CAMNC,EAAuBL,IAE7B,OAAOD,EAAmB,SAAOO,CAAM,CAAEC,CAAO,EAAA,OAAAX,EAAAY,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,EAAA,CAE1CH,EAAO,CAAAE,EAAAE,IAAA,CAAA,EAAA,KAAA,CAAA,OAAAF,EAAAE,IAAA,CAAA,EAAAf,EAAAgB,KAAA,CACJT,EAASC,EAAcE,GAAO,MAAA,EAAAG,EAAAE,IAAA,CAAA,EAAA,KAAA,MAAA,EAAA,OAAAF,EAAAE,IAAA,CAAA,EAAAf,EAAAgB,KAAA,CAE9BV,EAAQE,EAAcE,GAAO,MAAA,EAAA,OAAAG,EAAAI,MAAA,CAAA,SAE7B,CAACN,EAAO,MAAA,GAAAE,EAAAC,IAAA,CAAA,GAAAD,EAAAK,EAAA,CAAAL,EAAA,KAAA,CAAA,GAEfJ,EAAqB,CAAEU,KAAM,QAASC,QAAOP,EAAAK,EAAA,AAAO,EAAI,MAAA,GAAA,OAAAL,EAAAI,MAAA,CAAA,SAElDN,EAAO,MAAA,GAAA,IAAA,MAAA,OAAAE,EAAAQ,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,GAAA,CAAA,CAAAC,QAAA,EAEhB"}