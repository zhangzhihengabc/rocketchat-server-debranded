)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/permissions/PermissionsTable/RoleCell.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRole } from '@rocket.chat/core-typings';\nimport { Margins, Box, CheckBox, Throbber } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { ReactElement } from 'react';\nimport React, { useState, memo } from 'react';\n\nimport { AuthorizationUtils } from '../../../../../app/authorization/lib';\nimport { GenericTableCell } from '../../../../components/GenericTable';\n\ntype RoleCellProps = {\n\t_id: IRole['_id'];\n\tname: IRole['name'];\n\tdescription: IRole['description'];\n\tonChange: (roleId: IRole['_id'], granted: boolean) => Promise<boolean>;\n\tlineHovered: boolean;\n\tpermissionId: string;\n\tgrantedRoles: IRole['_id'][];\n};\n\nconst RoleCell = ({ _id, name, description, onChange, lineHovered, permissionId, grantedRoles = [] }: RoleCellProps): ReactElement => {\n\tconst [granted, setGranted] = useState(() => !!grantedRoles.includes(_id));\n\tconst [loading, setLoading] = useState(false);\n\n\tconst isRestrictedForRole = AuthorizationUtils.isPermissionRestrictedForRole(permissionId, _id);\n\n\tconst handleChange = useMutableCallback(async () => {\n\t\tsetLoading(true);\n\t\tconst result = await onChange(_id, granted);\n\t\tsetGranted(result);\n\t\tsetLoading(false);\n\t});\n\n\tconst isDisabled = !!loading || !!isRestrictedForRole;\n\n\treturn (\n\t\t<GenericTableCell withTruncatedText>\n\t\t\t<Margins inline={2}>\n\t\t\t\t<CheckBox checked={granted} onChange={handleChange} disabled={isDisabled} />\n\t\t\t\t{!loading && (\n\t\t\t\t\t<Box display='inline' color='hint' invisible={!lineHovered}>\n\t\t\t\t\t\t{description || name}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{loading && <Throbber size='x12' display='inline-block' />}\n\t\t\t</Margins>\n\t\t</GenericTableCell>\n\t);\n};\n\nexport default memo(RoleCell);\n",null],"names":["_regeneratorRuntime","_slicedToArray","Margins","Box","CheckBox","Throbber","useMutableCallback","React","useState","memo","AuthorizationUtils","GenericTableCell","module","link","default","v","exportDefault","_ref","_id","name","description","onChange","lineHovered","permissionId","_ref$grantedRoles","grantedRoles","_useState2","includes","granted","setGranted","_useState4","loading","setLoading","isRestrictedForRole","isPermissionRestrictedForRole","handleChange","async","_context","prev","next","awrap","sent","stop","Promise","isDisabled","createElement","withTruncatedText","inline","checked","disabled","display","color","invisible","size"],"mappings":"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"}