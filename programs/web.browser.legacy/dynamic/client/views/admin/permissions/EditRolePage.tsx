function module(e,n,t){var r,o,l,a,c,u,i,s,d,f,m,p,v,k,b,x,g,_;t.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),t.link("@rocket.chat/fuselage",{Box:function(e){o=e},ButtonGroup:function(e){l=e},Button:function(e){a=e},Margins:function(e){c=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){u=e}},1),t.link("@rocket.chat/ui-contexts",{useSetModal:function(e){i=e},useToastMessageDispatch:function(e){s=e},useRoute:function(e){d=e},useEndpoint:function(e){f=e},useTranslation:function(e){m=e}},2),t.link("react",{default:function(e){p=e}},3),t.link("react-hook-form",{FormProvider:function(e){v=e},useForm:function(e){k=e}},4),t.link("../../../components/Contextualbar",{ContextualbarFooter:function(e){b=e},ContextualbarScrollableContent:function(e){x=e}},5),t.link("../../../components/GenericModal",{default:function(e){g=e}},6),t.link("./RoleForm",{default:function(e){_=e}},7),t.exportDefault(function(e){var n=e.role,t=e.isEnterprise,h=m(),E=s(),y=i(),C=d("admin-permissions"),S=d("admin-permissions"),D=f("POST","/v1/roles.create"),P=f("POST","/v1/roles.update"),w=f("POST","/v1/roles.delete"),T=k({defaultValues:{roleId:null==n?void 0:n._id,name:null==n?void 0:n.name,description:null==n?void 0:n.description,scope:(null==n?void 0:n.scope)||"Users",mandatory2fa:!!(null!=n&&n.mandatory2fa)}}),F=u(function(){null!=n&&n._id&&C.push({context:"users-in-role",_id:n._id})}),M=u(function(e){return r.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!e.roleId){n.next=6;break}return n.next=4,r.awrap(P(e));case 4:return E({type:"success",message:h("Saved")}),n.abrupt("return",S.push({}));case 6:return n.next=8,r.awrap(D(e));case 8:E({type:"success",message:h("Saved")}),S.push({}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),E({type:"error",message:n.t0});case 15:case"end":return n.stop()}},null,null,[[0,12]],Promise)}),R=u(function(){var e,o;return r.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(null!=n&&n._id){l.next=2;break}return l.abrupt("return");case 2:e=function e(){return r.async(function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.awrap(w({roleId:n._id}));case 3:E({type:"success",message:h("Role_removed")}),y(),S.push({}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),E({type:"error",message:e.t0}),y();case 12:case"end":return e.stop()}},null,null,[[0,8]],Promise)},o=t?h("Delete_Role_Warning"):h("Delete_Role_Warning_Not_Enterprise"),y(p.createElement(g,{variant:"danger",onConfirm:e,onClose:function(){return y()},onCancel:function(){return y()},confirmText:h("Delete")},o));case 5:case"end":return l.stop()}},null,null,null,Promise)});return p.createElement(p.Fragment,null,p.createElement(x,null,p.createElement(o,{w:"full",alignSelf:"center",mb:"neg-x8"},p.createElement(c,{block:8},p.createElement(v,T,p.createElement(_,{editing:!!(null==n?void 0:n._id),isProtected:null==n?void 0:n.protected,isDisabled:!t}))))),p.createElement(b,null,p.createElement(l,{vertical:!0,stretch:!0},p.createElement(a,{primary:!0,disabled:!T.formState.isDirty||!t,onClick:T.handleSubmit(M)},h("Save")),!(null!=n&&n.protected)&&(null==n?void 0:n._id)&&p.createElement(a,{secondary:!0,danger:!0,onClick:R},h("Delete")),(null==n?void 0:n._id)&&p.createElement(a,{onClick:F},h("Users_in_role")))))})}
//# sourceMappingURL=/dynamic/client/views/admin/permissions/170fc3126f551feee367c578b16544bc2f67820e.map
