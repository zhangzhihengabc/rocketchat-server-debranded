)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/oauthApps/OAuthAddApp.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import {\n\tButton,\n\tButtonGroup,\n\tTextInput,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tFieldError,\n\tFieldHint,\n\tTextAreaInput,\n\tToggleSwitch,\n\tFieldGroup,\n} from '@rocket.chat/fuselage';\nimport { useToastMessageDispatch, useRoute, useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback } from 'react';\nimport type { SubmitHandler } from 'react-hook-form';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport { ContextualbarScrollableContent } from '../../../components/Contextualbar';\n\ntype OAuthAddAppPayload = {\n\tname: string;\n\tactive: boolean;\n\tredirectUri: string;\n};\n\nconst OAuthAddApp = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tformState: { errors },\n\t\tcontrol,\n\t} = useForm<OAuthAddAppPayload>();\n\n\tconst saveApp = useEndpoint('POST', '/v1/oauth-apps.create');\n\n\tconst router = useRoute('admin-oauth-apps');\n\n\tconst close = useCallback(() => router.push({}), [router]);\n\n\tconst onSubmit: SubmitHandler<OAuthAddAppPayload> = async (data) => {\n\t\ttry {\n\t\t\tawait saveApp(data);\n\t\t\tclose();\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Application_added') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\treturn (\n\t\t<ContextualbarScrollableContent w='full'>\n\t\t\t<FieldGroup maxWidth='x600' alignSelf='center' w='full'>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel display='flex' justifyContent='space-between' w='full'>\n\t\t\t\t\t\t{t('Active')}\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='active'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\tdefaultValue={false}\n\t\t\t\t\t\t\trender={({ field }): ReactElement => <ToggleSwitch onChange={field.onChange} checked={field.value} />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldLabel>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Application_Name')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<TextInput {...register('name', { required: true })} />\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t<FieldHint>{t('Give_the_application_a_name_This_will_be_seen_by_your_users')}</FieldHint>\n\t\t\t\t\t{errors?.name && <FieldError>{t('error-the-field-is-required', { field: t('Name') })}</FieldError>}\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Redirect_URI')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<TextAreaInput rows={5} {...register('redirectUri', { required: true })} />\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t<FieldHint>{t('After_OAuth2_authentication_users_will_be_redirected_to_this_URL')}</FieldHint>\n\t\t\t\t\t{errors?.redirectUri && <FieldError>{t('error-the-field-is-required', { field: t('Redirect_URI') })}</FieldError>}\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<ButtonGroup stretch w='full'>\n\t\t\t\t\t\t\t<Button onClick={close}>{t('Cancel')}</Button>\n\t\t\t\t\t\t\t<Button primary onClick={handleSubmit(onSubmit)}>\n\t\t\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t</FieldGroup>\n\t\t</ContextualbarScrollableContent>\n\t);\n};\n\nexport default OAuthAddApp;\n",null],"names":["_extends","_regeneratorRuntime","Button","ButtonGroup","TextInput","Field","FieldLabel","FieldRow","FieldError","FieldHint","TextAreaInput","ToggleSwitch","FieldGroup","useToastMessageDispatch","useRoute","useEndpoint","useTranslation","React","useCallback","useForm","Controller","ContextualbarScrollableContent","module","link","default","v","exportDefault","t","dispatchToastMessage","_useForm","register","handleSubmit","errors","formState","control","saveApp","router","close","push","createElement","w","maxWidth","alignSelf","display","justifyContent","name","defaultValue","render","_ref","field","onChange","checked","value","required","rows","redirectUri","stretch","onClick","primary","data","async","_context","prev","next","awrap","type","message","t0","stop","Promise"],"mappings":"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"}