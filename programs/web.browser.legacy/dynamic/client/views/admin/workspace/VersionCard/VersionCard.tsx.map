)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/workspace/VersionCard/VersionCard.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IWorkspaceInfo } from '@rocket.chat/core-typings';\nimport { Box, Icon } from '@rocket.chat/fuselage';\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport type { SupportedVersions } from '@rocket.chat/server-cloud-communication';\nimport { Card, CardBody, CardCol, CardColSection, CardColTitle, CardFooter, ExternalLink } from '@rocket.chat/ui-client';\nimport type { LocationPathname } from '@rocket.chat/ui-contexts';\nimport { useModal, useMediaUrl } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ReactNode } from 'react';\nimport React, { useMemo } from 'react';\nimport { Trans, useTranslation } from 'react-i18next';\n\nimport { useFormatDate } from '../../../../hooks/useFormatDate';\nimport { useLicense, useLicenseName } from '../../../../hooks/useLicense';\nimport { useRegistrationStatus } from '../../../../hooks/useRegistrationStatus';\nimport { isOverLicenseLimits } from '../../../../lib/utils/isOverLicenseLimits';\nimport VersionCardActionButton from './components/VersionCardActionButton';\nimport type { VersionActionItem } from './components/VersionCardActionItem';\nimport VersionCardActionItemList from './components/VersionCardActionItemList';\nimport { VersionCardSkeleton } from './components/VersionCardSkeleton';\nimport { VersionTag } from './components/VersionTag';\nimport { getVersionStatus } from './getVersionStatus';\nimport RegisterWorkspaceModal from './modals/RegisterWorkspaceModal';\n\nconst SUPPORT_EXTERNAL_LINK = 'https://go.rocket.chat/i/version-support';\nconst RELEASES_EXTERNAL_LINK = 'https://go.rocket.chat/i/update-product';\n\ntype VersionCardProps = {\n\tserverInfo: IWorkspaceInfo;\n};\n\nconst VersionCard = ({ serverInfo }: VersionCardProps): ReactElement => {\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\n\tconst getUrl = useMediaUrl();\n\tconst cardBackground = {\n\t\tbackgroundImage: `url(${getUrl('images/globe.png')})`,\n\t\tbackgroundRepeat: 'no-repeat',\n\t\tbackgroundPosition: 'right 20px center',\n\t\tbackgroundSize: mediaQuery ? 'auto' : 'contain',\n\t};\n\n\tconst { setModal } = useModal();\n\n\tconst { t } = useTranslation();\n\n\tconst formatDate = useFormatDate();\n\n\tconst { data: licenseData, isLoading, refetch: refetchLicense } = useLicense({ loadValues: true });\n\tconst { isRegistered } = useRegistrationStatus();\n\n\tconst { license, limits } = licenseData || {};\n\tconst isAirgapped = license?.information?.offline;\n\tconst licenseName = useLicenseName();\n\n\tconst serverVersion = serverInfo.version;\n\n\tconst { versionStatus, versions } = useMemo(() => {\n\t\tconst supportedVersions = serverInfo?.supportedVersions?.signed ? decodeBase64(serverInfo?.supportedVersions?.signed) : undefined;\n\n\t\tif (!supportedVersions) {\n\t\t\treturn {};\n\t\t}\n\n\t\tconst versionStatus = getVersionStatus(serverVersion, supportedVersions?.versions);\n\n\t\treturn {\n\t\t\tversionStatus,\n\t\t\tversions: supportedVersions?.versions,\n\t\t};\n\t}, [serverInfo?.supportedVersions?.signed, serverVersion]);\n\n\tconst isOverLimits = limits && isOverLicenseLimits(limits);\n\n\tconst actionButton:\n\t\t| undefined\n\t\t| {\n\t\t\t\tpath: LocationPathname;\n\t\t\t\tlabel: ReactNode;\n\t\t  }\n\t\t| {\n\t\t\t\taction: () => void;\n\t\t\t\tlabel: ReactNode;\n\t\t  } = useMemo(() => {\n\t\tif (!isRegistered) {\n\t\t\treturn {\n\t\t\t\taction: () => {\n\t\t\t\t\tconst handleModalClose = (): void => {\n\t\t\t\t\t\tsetModal(null);\n\t\t\t\t\t\trefetchLicense();\n\t\t\t\t\t};\n\t\t\t\t\tsetModal(<RegisterWorkspaceModal onClose={handleModalClose} onStatusChange={refetchLicense} />);\n\t\t\t\t},\n\t\t\t\tlabel: t('RegisterWorkspace_Button'),\n\t\t\t};\n\t\t}\n\n\t\tif (versionStatus?.label === 'outdated') {\n\t\t\treturn {\n\t\t\t\taction: () => {\n\t\t\t\t\twindow.open(RELEASES_EXTERNAL_LINK, '_blank');\n\t\t\t\t},\n\t\t\t\tlabel: t('Update_version'),\n\t\t\t};\n\t\t}\n\n\t\tif (isOverLimits) {\n\t\t\treturn { path: '/admin/subscription', label: t('Manage_subscription') };\n\t\t}\n\t}, [isRegistered, versionStatus, isOverLimits, t, setModal, refetchLicense]);\n\n\tconst actionItems = useMemo(() => {\n\t\treturn (\n\t\t\t[\n\t\t\t\tisOverLimits\n\t\t\t\t\t? {\n\t\t\t\t\t\t\ttype: 'danger',\n\t\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\t\tlabel: t('Plan_limits_reached'),\n\t\t\t\t\t  }\n\t\t\t\t\t: {\n\t\t\t\t\t\t\ttype: 'neutral',\n\t\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\t\tlabel: t('Operating_withing_plan_limits'),\n\t\t\t\t\t  },\n\t\t\t\t(isAirgapped || !versions) && {\n\t\t\t\t\ttype: 'neutral',\n\t\t\t\t\ticon: 'warning',\n\t\t\t\t\tlabel: (\n\t\t\t\t\t\t<Trans i18nKey='Check_support_availability'>\n\t\t\t\t\t\t\tCheck\n\t\t\t\t\t\t\t<ExternalLink to={SUPPORT_EXTERNAL_LINK}>support</ExternalLink>\n\t\t\t\t\t\t\tavailability\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t),\n\t\t\t\t},\n\n\t\t\t\tversionStatus?.label !== 'outdated' &&\n\t\t\t\t\tversionStatus?.expiration && {\n\t\t\t\t\t\ttype: 'neutral',\n\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t<Trans i18nKey='Version_supported_until' values={{ date: formatDate(versionStatus?.expiration) }}>\n\t\t\t\t\t\t\t\tVersion\n\t\t\t\t\t\t\t\t<ExternalLink to={SUPPORT_EXTERNAL_LINK}>supported</ExternalLink>\n\t\t\t\t\t\t\t\tuntil {formatDate(versionStatus?.expiration)}\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\tversionStatus?.label === 'outdated' && {\n\t\t\t\t\ttype: 'danger',\n\t\t\t\t\ticon: 'warning',\n\t\t\t\t\tlabel: (\n\t\t\t\t\t\t<Trans i18nKey='Version_not_supported'>\n\t\t\t\t\t\t\tVersion\n\t\t\t\t\t\t\t<ExternalLink to={SUPPORT_EXTERNAL_LINK}>not supported</ExternalLink>\n\t\t\t\t\t\t</Trans>\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t\tisRegistered\n\t\t\t\t\t? {\n\t\t\t\t\t\t\ttype: 'neutral',\n\t\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\t\tlabel: t('Workspace_registered'),\n\t\t\t\t\t  }\n\t\t\t\t\t: {\n\t\t\t\t\t\t\ttype: 'danger',\n\t\t\t\t\t\t\ticon: 'warning',\n\t\t\t\t\t\t\tlabel: t('Workspace_not_registered'),\n\t\t\t\t\t  },\n\t\t\t].filter(Boolean) as VersionActionItem[]\n\t\t).sort((a) => (a.type === 'danger' ? -1 : 1));\n\t}, [isOverLimits, t, isAirgapped, versions, versionStatus?.label, versionStatus?.expiration, formatDate, isRegistered]);\n\n\treturn (\n\t\t<Card background={cardBackground}>\n\t\t\t{!isLoading && licenseData ? (\n\t\t\t\t<>\n\t\t\t\t\t<CardBody>\n\t\t\t\t\t\t<CardCol>\n\t\t\t\t\t\t\t<CardColTitle>\n\t\t\t\t\t\t\t\t<Box fontScale='h3' mbe={4} display='flex'>\n\t\t\t\t\t\t\t\t\t{t('Version_version', { version: serverVersion })}\n\t\t\t\t\t\t\t\t\t<Box mis={8} alignSelf='center' width='auto'>\n\t\t\t\t\t\t\t\t\t\t{!isAirgapped && versions && <VersionTag versionStatus={versionStatus?.label} title={versionStatus.version} />}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</CardColTitle>\n\n\t\t\t\t\t\t\t<CardColSection m={0}>\n\t\t\t\t\t\t\t\t<Box color='secondary-info' fontScale='p2'>\n\t\t\t\t\t\t\t\t\t<Icon name='rocketchat' size={16} /> {licenseName.data}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</CardColSection>\n\t\t\t\t\t\t\t{actionItems.length > 0 && (\n\t\t\t\t\t\t\t\t<CardColSection>\n\t\t\t\t\t\t\t\t\t<VersionCardActionItemList actionItems={actionItems} />\n\t\t\t\t\t\t\t\t</CardColSection>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</CardCol>\n\t\t\t\t\t</CardBody>\n\t\t\t\t\t{actionButton && (\n\t\t\t\t\t\t<CardFooter>\n\t\t\t\t\t\t\t<VersionCardActionButton {...actionButton} />\n\t\t\t\t\t\t</CardFooter>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<VersionCardSkeleton />\n\t\t\t)}\n\t\t</Card>\n\t);\n};\n\nexport default VersionCard;\n\nconst decodeBase64 = (b64: string): SupportedVersions | undefined => {\n\tconst [, bodyEncoded] = b64.split('.');\n\tif (!bodyEncoded) {\n\t\treturn;\n\t}\n\n\treturn JSON.parse(atob(bodyEncoded));\n};\n",null],"names":["module","link","default","_slicedToArray","Box","Icon","useMediaQuery","Card","CardBody","CardCol","CardColSection","CardColTitle","CardFooter","ExternalLink","useModal","useMediaUrl","v","React","useMemo","Trans","useTranslation","useFormatDate","useLicense","useLicenseName","useRegistrationStatus","isOverLicenseLimits","VersionCardActionButton","VersionCardActionItemList","VersionCardSkeleton","VersionTag","getVersionStatus","RegisterWorkspaceModal","SUPPORT_EXTERNAL_LINK","exportDefault","_ref","_license$information","_serverInfo$supported3","serverInfo","mediaQuery","cardBackground","backgroundImage","getUrl","backgroundRepeat","backgroundPosition","backgroundSize","setModal","_useModal","t","_useTranslation","formatDate","_useLicense","loadValues","licenseData","data","isLoading","refetchLicense","refetch","isRegistered","_useRegistrationStatu","_ref2","license","limits","isAirgapped","information","offline","licenseName","serverVersion","version","_useMemo","_serverInfo$supported","_serverInfo$supported2","supportedVersions","signed","decodeBase64","undefined","versionStatus","versions","isOverLimits","actionButton","label","action","window","open","path","createElement","onClose","onStatusChange","actionItems","type","icon","i18nKey","to","expiration","values","date","filter","Boolean","sort","a","background","Fragment","fontScale","mbe","display","mis","alignSelf","width","title","m","color","name","size","length","b64","bodyEncoded","_b64$split2","split","JSON","parse","atob"],"mappings":"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"}