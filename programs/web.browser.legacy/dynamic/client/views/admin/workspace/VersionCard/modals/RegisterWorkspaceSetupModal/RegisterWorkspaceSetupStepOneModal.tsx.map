)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/workspace/VersionCard/modals/RegisterWorkspaceSetupModal/RegisterWorkspaceSetupStepOneModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Modal, Box, Field, FieldLabel, FieldRow, TextInput, CheckBox, ButtonGroup, Button } from '@rocket.chat/fuselage';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport { useEndpoint, useSetModal, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport React from 'react';\nimport { Trans } from 'react-i18next';\n\nimport WorkspaceRegistrationModal from '../RegisterWorkspaceModal';\n\ntype Props = {\n\temail: string;\n\tsetEmail: (email: string) => void;\n\tstep: number;\n\tsetStep: (step: number) => void;\n\tterms: boolean;\n\tsetTerms: (terms: boolean) => void;\n\tonClose: () => void;\n\tvalidInfo: boolean;\n\tsetIntentData: (intentData: any) => void;\n};\n\nconst RegisterWorkspaceSetupStepOneModal = ({\n\temail,\n\tsetEmail,\n\tstep,\n\tsetStep,\n\tterms,\n\tsetTerms,\n\tonClose,\n\tvalidInfo,\n\tsetIntentData,\n\t...props\n}: Props) => {\n\tconst setModal = useSetModal();\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst createRegistrationIntent = useEndpoint('POST', '/v1/cloud.createRegistrationIntent');\n\n\tconst handleBack = (): void => {\n\t\tconst handleModalClose = (): void => setModal(null);\n\t\tsetModal(<WorkspaceRegistrationModal onClose={handleModalClose} />);\n\t};\n\n\tconst handleRegisterWorkspace = async () => {\n\t\ttry {\n\t\t\tconst { intentData } = await createRegistrationIntent({ resend: false, email });\n\t\t\tsetIntentData(intentData);\n\t\t\tsetStep(step + 1);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal {...props}>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.HeaderText>\n\t\t\t\t\t<Modal.Tagline>{t('RegisterWorkspace_Setup_Steps', { step, numberOfSteps: 2 })}</Modal.Tagline>\n\t\t\t\t\t<Modal.Title>{t('RegisterWorkspace_with_email')}</Modal.Title>\n\t\t\t\t</Modal.HeaderText>\n\t\t\t\t<Modal.Close onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<Box>\n\t\t\t\t\t<Box is='p' fontSize='p2' withRichContent>\n\t\t\t\t\t\t{t('RegisterWorkspace_Setup_Subtitle')}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Field pbs={10}>\n\t\t\t\t\t\t<FieldLabel>{t('RegisterWorkspace_Setup_Label')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetEmail((e.target as HTMLInputElement).value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Box mb={16} fontSize='c1'>\n\t\t\t\t\t\t<Box is='p'>\n\t\t\t\t\t\t\t<strong>{t('RegisterWorkspace_Setup_Have_Account_Title')}</strong>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box is='p'>{t('RegisterWorkspace_Setup_Have_Account_Subtitle')}</Box>\n\t\t\t\t\t\t<Box is='p' pbs={16}>\n\t\t\t\t\t\t\t<strong>{t('RegisterWorkspace_Setup_No_Account_Title')}</strong>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box is='p'>{t('RegisterWorkspace_Setup_No_Account_Subtitle')}</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex'>\n\t\t\t\t\t\t<CheckBox checked={terms} onChange={() => setTerms(!terms)} />\n\t\t\t\t\t\t<Box is='p' fontSize='c1' pis={8}>\n\t\t\t\t\t\t\t<Trans i18nKey='RegisterWorkspace_Setup_Terms_Privacy'>\n\t\t\t\t\t\t\t\tI agree with <ExternalLink to='https://rocket.chat/terms'>Terms and Conditions </ExternalLink>\n\t\t\t\t\t\t\t\tand\n\t\t\t\t\t\t\t\t<ExternalLink to='https://rocket.chat/privacy'>Privacy Policy</ExternalLink>\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<ButtonGroup align='end'>\n\t\t\t\t\t<Button onClick={handleBack}>{t('Back')}</Button>\n\t\t\t\t\t<Button primary onClick={handleRegisterWorkspace} disabled={!validInfo}>\n\t\t\t\t\t\t{t('Next')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default RegisterWorkspaceSetupStepOneModal;\n",null],"names":["_regeneratorRuntime","_objectWithoutProperties","Modal","Box","Field","FieldLabel","FieldRow","TextInput","CheckBox","ButtonGroup","Button","ExternalLink","useEndpoint","useSetModal","useToastMessageDispatch","useTranslation","React","Trans","WorkspaceRegistrationModal","module","link","default","v","exportDefault","_ref","email","setEmail","step","setStep","terms","setTerms","onClose","validInfo","setIntentData","props","_excluded","setModal","t","dispatchToastMessage","createRegistrationIntent","createElement","Header","HeaderText","Tagline","numberOfSteps","Title","Close","onClick","Content","is","fontSize","withRichContent","pbs","onChange","e","target","value","mb","display","checked","pis","i18nKey","to","Footer","align","primary","async","_context","prev","next","awrap","resend","_await$createRegistra","sent","intentData","t0","type","message","stop","Promise","disabled"],"mappings":"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"}