)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/workspace/VersionCard/modals/RegisteredWorkspaceModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Button, ButtonGroup, Modal } from '@rocket.chat/fuselage';\nimport { useSafely } from '@rocket.chat/fuselage-hooks';\nimport { useMethod, useSetModal, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useState } from 'react';\n\nimport useFeatureBullets from '../hooks/useFeatureBullets';\n\ntype RegisteredWorkspaceModalProps = {\n\tonClose: () => void;\n\tonStatusChange?: () => void;\n};\n\nconst RegisteredWorkspaceModal = ({ onClose, onStatusChange, ...props }: RegisteredWorkspaceModalProps) => {\n\tconst t = useTranslation();\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst bulletFeatures = useFeatureBullets();\n\tconst [isSyncing, setSyncing] = useSafely(useState(false));\n\n\tconst syncWorkspace = useMethod('cloud:syncWorkspace');\n\n\tconst handleSyncAction = async () => {\n\t\tsetSyncing(true);\n\n\t\ttry {\n\t\t\tconst isSynced = await syncWorkspace();\n\n\t\t\tif (!isSynced) {\n\t\t\t\tthrow Error(t('RegisterWorkspace_Syncing_Error'));\n\t\t\t}\n\n\t\t\tdispatchToastMessage({ type: 'success', message: t('RegisterWorkspace_Syncing_Complete') });\n\t\t\tsetModal(null);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t} finally {\n\t\t\tonStatusChange?.();\n\t\t\tsetSyncing(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal {...props}>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.HeaderText>\n\t\t\t\t\t<Modal.Title>{t('Workspace_registered')}</Modal.Title>\n\t\t\t\t</Modal.HeaderText>\n\t\t\t\t<Modal.Close onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<Box withRichContent>\n\t\t\t\t\t<span>{`${t('RegisterWorkspace_Registered_Subtitle')}: `}</span>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{bulletFeatures.map((item, index) => (\n\t\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t\t<strong>{item.title}</strong>\n\t\t\t\t\t\t\t\t<Box is='p' mbs={4}>\n\t\t\t\t\t\t\t\t\t{item.description}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</Box>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<ButtonGroup align='end'>\n\t\t\t\t\t<Button icon='reload' onClick={handleSyncAction} loading={isSyncing}>\n\t\t\t\t\t\t{t('Sync')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default RegisteredWorkspaceModal;\n",null],"names":["_regeneratorRuntime","_slicedToArray","_objectWithoutProperties","Box","Button","ButtonGroup","Modal","useSafely","useMethod","useSetModal","useToastMessageDispatch","useTranslation","React","useState","useFeatureBullets","module","default","v","link","exportDefault","_ref","onClose","onStatusChange","props","_excluded","t","setModal","dispatchToastMessage","bulletFeatures","_useSafely2","isSyncing","setSyncing","syncWorkspace","createElement","Header","HeaderText","Title","Close","onClick","Content","withRichContent","map","item","index","key","title","is","mbs","description","Footer","align","icon","async","_context","prev","next","awrap","sent","Error","type","message","t0","finish","stop","Promise","loading"],"mappings":"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"}