)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/workspace/VersionCard/modals/RegisterWorkspaceSetupModal/RegisterWorkspaceSetupModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useSetModal } from '@rocket.chat/ui-contexts';\nimport React, { useEffect, useState } from 'react';\n\nimport { validateEmail } from '../../../../../../../lib/emailValidator';\nimport RegisteredWorkspaceModal from '../RegisteredWorkspaceModal';\nimport RegisterWorkspaceSetupStepOneModal from './RegisterWorkspaceSetupStepOneModal';\nimport RegisterWorkspaceSetupStepTwoModal from './RegisterWorkspaceSetupStepTwoModal';\n\ntype RegisterWorkspaceSetupModalProps = {\n\tonClose: () => void;\n\tonStatusChange?: () => void;\n};\n\nconst RegisterWorkspaceSetupModal = ({ onClose }: RegisterWorkspaceSetupModalProps) => {\n\tconst setModal = useSetModal();\n\n\tconst [step, setStep] = useState(1);\n\tconst [email, setEmail] = useState('');\n\tconst [terms, setTerms] = useState(false);\n\tconst [validInfo, setValidInfo] = useState(false);\n\tconst [intentData, setIntentData] = useState({\n\t\tdevice_code: '',\n\t\tinterval: 0,\n\t\tuser_code: '',\n\t});\n\n\t// reset validInfo when users go back to step 1\n\tuseEffect(() => {\n\t\tsetValidInfo(false);\n\t}, [step]);\n\n\tuseEffect(() => {\n\t\tif (step === 1) {\n\t\t\tsetValidInfo(validateEmail(email) && terms);\n\t\t}\n\t}, [email, terms]);\n\n\tconst onSuccess = () => {\n\t\tconst handleModalClose = (): void => setModal(null);\n\t\tsetModal(<RegisteredWorkspaceModal onClose={handleModalClose} />);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{step === 1 ? (\n\t\t\t\t<RegisterWorkspaceSetupStepOneModal\n\t\t\t\t\temail={email}\n\t\t\t\t\tsetEmail={setEmail}\n\t\t\t\t\tstep={step}\n\t\t\t\t\tsetStep={setStep}\n\t\t\t\t\tterms={terms}\n\t\t\t\t\tsetTerms={setTerms}\n\t\t\t\t\tonClose={onClose}\n\t\t\t\t\tvalidInfo={validInfo}\n\t\t\t\t\tsetIntentData={setIntentData}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<RegisterWorkspaceSetupStepTwoModal\n\t\t\t\t\temail={email}\n\t\t\t\t\tstep={step}\n\t\t\t\t\tsetStep={setStep}\n\t\t\t\t\tonClose={onClose}\n\t\t\t\t\tintentData={intentData}\n\t\t\t\t\tonSuccess={onSuccess}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default RegisterWorkspaceSetupModal;\n",null],"names":["_slicedToArray","useSetModal","React","useEffect","useState","validateEmail","RegisteredWorkspaceModal","RegisterWorkspaceSetupStepOneModal","RegisterWorkspaceSetupStepTwoModal","module","link","default","v","exportDefault","_ref","onClose","setModal","_useState2","step","setStep","_useState4","email","setEmail","_useState6","terms","setTerms","_useState8","validInfo","setValidInfo","_useState10","device_code","interval","user_code","intentData","setIntentData","createElement","Fragment","onSuccess"],"mappings":"uBAaA,IAbAA,EAAAC,EAAuDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9CC,EAAaC,IAAM,CAAA,uCAA2B,CAAAC,QAAAA,SAAAA,CAAAA,EAAAX,EAAAA,CAAA,CAAA,EAAA,GAA9CS,EAAaC,IAAA,CAAM,2BAA2B,CAAAT,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAV,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,0CAAAA,CAAAJ,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,8BAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,uCAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,uCAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAvDC,EAAOI,aAAa,CAagB,SAAAC,CAAA,EAAkD,IAA/CC,EAAOD,EAAPC,OAAO,CACvCC,EAAWf,IAEkBgB,EAAAjB,EAAXI,EAAS,GAAE,GAA5Bc,EAAID,CAAA,CAAA,EAAA,CAAEE,EAAOF,CAAA,CAAA,EAAA,CACkBG,EAAApB,EAAZI,EAAS,IAAG,GAA/BiB,EAAKD,CAAA,CAAA,EAAA,CAAEE,EAAQF,CAAA,CAAA,EAAA,CACmBG,EAAAvB,EAAfI,EAAS,CAAA,GAAM,GAAlCoB,EAAKD,CAAA,CAAA,EAAA,CAAEE,EAAQF,CAAA,CAAA,EAAA,CAC2BG,EAAA1B,EAAfI,EAAS,CAAA,GAAM,GAA1CuB,EAASD,CAAA,CAAA,EAAA,CAAEE,EAAYF,CAAA,CAAA,EAAA,CAK5BG,EAAA7B,EAJkCI,EAAS,CAC5C0B,YAAa,GACbC,SAAU,EACVC,UAAW,KACV,GAJKC,EAAUJ,CAAA,CAAA,EAAA,CAAEK,EAAaL,CAAA,CAAA,EAAA,QAOhC1B,EAAU,WACTyB,EAAa,CAAA,EACd,EAAG,CAACV,EAAK,EAETf,EAAU,WACI,IAATe,GACHU,EAAavB,EAAcgB,IAAUG,EAEvC,EAAG,CAACH,EAAOG,EAAM,EAQhBtB,EAAAiC,aAAA,CAAAjC,EAAAkC,QAAA,CAAA,KACElB,AAAS,IAATA,EACAhB,EAAAiC,aAAA,CAAC5B,EAAkC,CAClCc,MAAOA,EACPC,SAAUA,EACVJ,KAAMA,EACNC,QAASA,EACTK,MAAOA,EACPC,SAAUA,EACVV,QAASA,EACTY,UAAWA,EACXO,cAAeA,CAAc,GAG9BhC,EAAAiC,aAAA,CAAC3B,EAAkC,CAClCa,MAAOA,EACPH,KAAMA,EACNC,QAASA,EACTJ,QAASA,EACTkB,WAAYA,EACZI,UA1Bc,WAEjBrB,EAASd,EAAAiC,aAAA,CAAC7B,EAAwB,CAACS,QADV,WAAA,OAAYC,EAAS,KAAK,CACU,GAC9D,CAuByB,GAK1B"}