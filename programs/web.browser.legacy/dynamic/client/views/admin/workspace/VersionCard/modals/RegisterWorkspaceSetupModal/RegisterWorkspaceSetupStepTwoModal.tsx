function module(e,t,n){var a,c,l,r,i,s,o,u,f,m,p,d,E,v,k,g=["email","step","setStep","onClose","intentData","onSuccess"];n.link("@babel/runtime/regenerator",{default:function(e){a=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){c=e}},1),n.link("@rocket.chat/fuselage",{Modal:function(e){l=e},Box:function(e){r=e},Field:function(e){i=e},FieldLabel:function(e){s=e},FieldRow:function(e){o=e},TextInput:function(e){u=e}},0),n.link("@rocket.chat/ui-contexts",{useEndpoint:function(e){f=e},useToastMessageDispatch:function(e){m=e},useTranslation:function(e){p=e}},1),n.link("react",{default:function(e){d=e},useCallback:function(e){E=e},useEffect:function(e){v=e}},2),n.link("react-i18next",{Trans:function(e){k=e}},3),n.exportDefault(function(e){var t=e.email,n=e.step,_=e.setStep,S=e.onClose,b=e.intentData,x=e.onSuccess,h=c(e,g),C=p(),y=m(),T=f("GET","/v1/cloud.confirmationPoll"),w=f("POST","/v1/cloud.createRegistrationIntent"),D=E(function(){var e;return a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.awrap(T({deviceCode:b.device_code}));case 3:"successful"in(e=t.sent.pollData)&&e.successful&&(y({type:"success",message:C("Workspace_registered")}),x()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},null,null,[[0,8]],Promise)},[T,b.device_code,y,C]);return v(function(){var e,t=setInterval(function(){return D()},(e=b.interval)?1e3*e:0);return function(){return clearInterval(t)}},[D,b]),d.createElement(l,h,d.createElement(l.Header,null,d.createElement(l.HeaderText,null,d.createElement(l.Tagline,null,C("RegisterWorkspace_Setup_Steps",{step:n,numberOfSteps:2})),d.createElement(l.Title,null,C("Awaiting_confirmation"))),d.createElement(l.Close,{onClick:S})),d.createElement(l.Content,null,d.createElement(r,{fontSize:"p2"},d.createElement(r,null,d.createElement(k,{i18nKey:"RegisterWorkspace_Setup_Email_Confirmation"},d.createElement(r,{is:"p"},"Email sent to"," ",d.createElement(r,{is:"span",fontScale:"p2b"},t," "),"with a confirmation link."))),d.createElement(r,{is:"p"},C("RegisterWorkspace_Setup_Email_Verification")),d.createElement(i,{pbs:10},d.createElement(s,null,C("Security_code")),d.createElement(o,null,d.createElement(u,{defaultValue:b.user_code,disabled:!0}))))),d.createElement(l.Footer,null,d.createElement(r,{is:"div",display:"flex",justifyContent:"start",fontSize:"c1",w:"full"},"Didnâ€™t receive email?"," ",d.createElement(r,{is:"a",pi:4,onClick:function(){return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.awrap(w({resend:!0,email:t}));case 3:y({type:"success",message:C("Email_sent")}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),y({type:"error",message:e.t0});case 9:case"end":return e.stop()}},null,null,[[0,6]],Promise)}},"Resend")," ","or"," ",d.createElement(r,{is:"a",pi:4,onClick:function(){return _(n-1)}},"change email"))))})}
//# sourceMappingURL=/dynamic/client/views/admin/workspace/VersionCard/modals/RegisterWorkspaceSetupModal/771af031e58774e2f8f0f927b737fddc152b3268.map
