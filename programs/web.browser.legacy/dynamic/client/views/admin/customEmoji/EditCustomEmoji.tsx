function module(e,n,t){var a,l,r,o,u,i,c,s,m,f,d,p,E,b,v,h,k,C,x,g,j,_,y,F,T,w,S,A,D,I,U=["close","onChange","data"];t.link("@babel/runtime/regenerator",{default:function(e){a=e}},0),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){l=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){r=e}},2),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){o=e}},3),t.link("@rocket.chat/fuselage",{Box:function(e){u=e},Button:function(e){i=e},ButtonGroup:function(e){c=e},Margins:function(e){s=e},TextInput:function(e){m=e},Field:function(e){f=e},FieldGroup:function(e){d=e},FieldLabel:function(e){p=e},FieldRow:function(e){E=e},FieldError:function(e){b=e},IconButton:function(e){v=e}},0),t.link("@rocket.chat/ui-contexts",{useSetModal:function(e){h=e},useToastMessageDispatch:function(e){k=e},useAbsoluteUrl:function(e){C=e},useTranslation:function(e){x=e}},1),t.link("react",{default:function(e){g=e},useCallback:function(e){j=e},useState:function(e){_=e},useMemo:function(e){y=e},useEffect:function(e){F=e}},2),t.link("../../../components/Contextualbar",{ContextualbarScrollableContent:function(e){T=e},ContextualbarFooter:function(e){w=e}},3),t.link("../../../components/GenericModal",{default:function(e){S=e}},4),t.link("../../../hooks/useEndpointAction",{useEndpointAction:function(e){A=e}},5),t.link("../../../hooks/useEndpointUpload",{useEndpointUpload:function(e){D=e}},6),t.link("../../../hooks/useFileInput",{useFileInput:function(e){I=e}},7),t.exportDefault(function(e){var n=e.close,t=e.onChange,B=e.data,M=o(e,U),N=x(),P=k(),R=h(),G=C(),L=r(_({name:!1,aliases:!1}),2),O=L[0],W=L[1],q=B||{},H=q._id,z=q.name,J=q.aliases,K=r(_(function(){var e;return null!==(e=null==B?void 0:B.name)&&void 0!==e?e:""}),2),Q=K[0],V=K[1],X=r(_(function(){var e,n;return null!==(e=null==B?void 0:null===(n=B.aliases)||void 0===n?void 0:n.join(", "))&&void 0!==e?e:""}),2),Y=X[0],Z=X[1],$=r(_(),2),ee=$[0],en=$[1],et=y(function(){return ee?URL.createObjectURL(ee):B?G("/emoji-custom/"+encodeURIComponent(B.name)+"."+B.extension):null},[G,B,ee]);F(function(){V(z||""),Z((null==J?void 0:J.join(", "))||"")},[z,J,H]);var ea=y(function(){return z!==Q||Y!==J.join(", ")||!!ee},[z,Q,Y,J,ee]),el=D("/v1/emoji-custom.update",N("Custom_Emoji_Updated_Successfully")),er=j(function(){var e;return a.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(Q){r.next=2;break}return r.abrupt("return",W(function(e){return l(l({},e),{},{name:!0})}));case 2:if(Q!==Y){r.next=4;break}return r.abrupt("return",W(function(e){return l(l({},e),{},{aliases:!0})}));case 4:if(!(!ee&&!et)){r.next=6;break}return r.abrupt("return");case 6:return e=new FormData,ee&&e.append("emoji",ee),e.append("_id",H),e.append("name",Q),e.append("aliases",Y),r.next=13,a.awrap(el(e));case 13:r.sent.success&&(t(),n());case 15:case"end":return r.stop()}},null,null,null,Promise)},[ee,H,Q,Y,el,t,n,et]),eo=A("POST","/v1/emoji-custom.delete"),eu=j(function(){var e=function(){return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.awrap(eo({emojiId:H}));case 3:P({type:"success",message:N("Custom_Emoji_Has_Been_Deleted")}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),P({type:"error",message:e.t0});case 9:return e.prev=9,t(),R(null),n(),e.finish(9);case 14:case"end":return e.stop()}},null,null,[[0,6,9,14]],Promise)},l=function(){R(null)};R(function(){return g.createElement(S,{variant:"danger",onConfirm:e,onCancel:l,onClose:l,confirmText:N("Delete")},N("Custom_Emoji_Delete_Warning"))})},[R,eo,H,P,N,t,n]),ei=j(function(e){return e.currentTarget.value!==Q&&W(function(e){return l(l({},e),{},{aliases:!1})}),Z(e.currentTarget.value)},[Z,Q]),ec=r(I(en,"emoji"),1)[0];return g.createElement(g.Fragment,null,g.createElement(T,M,g.createElement(d,null,g.createElement(f,null,g.createElement(p,null,N("Name")),g.createElement(E,null,g.createElement(m,{value:Q,onChange:function(e){return""!==e.currentTarget.value&&W(function(e){return l(l({},e),{},{name:!1})}),V(e.currentTarget.value)},placeholder:N("Name")})),O.name&&g.createElement(b,null,N("error-the-field-is-required",{field:N("Name")}))),g.createElement(f,null,g.createElement(p,null,N("Aliases")),g.createElement(E,null,g.createElement(m,{value:Y,onChange:ei,placeholder:N("Aliases")})),O.aliases&&g.createElement(b,null,N("Custom_Emoji_Error_Same_Name_And_Alias"))),g.createElement(f,null,g.createElement(p,{alignSelf:"stretch",display:"flex",justifyContent:"space-between",alignItems:"center"},N("Custom_Emoji"),g.createElement(v,{icon:"upload",secondary:!0,onClick:ec})),et&&g.createElement(u,{display:"flex",flexDirection:"row",mbs:"none",justifyContent:"center"},g.createElement(s,{inline:4},g.createElement(u,{is:"img",style:{objectFit:"contain"},w:"x120",h:"x120",src:et})))))),g.createElement(w,null,g.createElement(c,{stretch:!0},g.createElement(i,{onClick:n},N("Cancel")),g.createElement(i,{primary:!0,onClick:er,disabled:!ea},N("Save"))),g.createElement(c,{mbs:8,stretch:!0},g.createElement(i,{icon:"trash",danger:!0,onClick:eu},N("Delete")))))})}
//# sourceMappingURL=/dynamic/client/views/admin/customEmoji/b0ace7b61dab52f693a86a2efbe32a4fb6432684.map
