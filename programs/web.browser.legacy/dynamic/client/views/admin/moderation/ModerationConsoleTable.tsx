function module(e,t,n){var r,o,a,i,l,c,s,u,m,f,d,p,k,g,b,E,h,y,P,T,C,S,v,x,G,D,w,M,R,F,I,_=["current","itemsPerPage","setItemsPerPage","setCurrent"];n.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),n.link("@babel/runtime/helpers/extends",{default:function(e){o=e}},1),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},2),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){i=e}},3),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},4),n.link("@rocket.chat/fuselage",{Pagination:function(e){c=e},Field:function(e){s=e},FieldLabel:function(e){u=e},FieldRow:function(e){m=e}},0),n.link("@rocket.chat/fuselage-hooks",{useDebouncedValue:function(e){f=e},useMediaQuery:function(e){d=e},useMutableCallback:function(e){p=e}},1),n.link("@rocket.chat/ui-contexts",{useEndpoint:function(e){k=e},useToastMessageDispatch:function(e){g=e},useRoute:function(e){b=e},useTranslation:function(e){E=e}},2),n.link("@tanstack/react-query",{useQuery:function(e){h=e}},3),n.link("react",{default:function(e){y=e},useMemo:function(e){P=e},useState:function(e){T=e}},4),n.link("../../../components/FilterByText",{default:function(e){C=e}},5),n.link("../../../components/GenericNoResults",{default:function(e){S=e}},6),n.link("../../../components/GenericTable",{GenericTable:function(e){v=e},GenericTableLoadingTable:function(e){x=e},GenericTableHeaderCell:function(e){G=e},GenericTableBody:function(e){D=e},GenericTableHeader:function(e){w=e}},7),n.link("../../../components/GenericTable/hooks/usePagination",{usePagination:function(e){M=e}},8),n.link("../../../components/GenericTable/hooks/useSort",{useSort:function(e){R=e}},9),n.link("./ModerationConsoleTableRow",{default:function(e){F=e}},10),n.link("./helpers/DateRangePicker",{default:function(e){I=e}},11),n.exportDefault(function(){var e=l(T(""),2),t=e[0],n=e[1],B=b("moderation-console"),L=E(),O=d("(min-width: 1024px)"),N=R("reports.ts"),j=N.sortBy,H=N.sortDirection,Q=N.setSort,U=M(),Z=U.current,q=U.itemsPerPage,A=U.setItemsPerPage,J=U.setCurrent,V=i(U,_),W=l(T({start:"",end:""}),2),z=W[0],K=W[1],X=z.start,Y=z.end,$=f(P(function(){var e;return a(a({selector:t,sort:JSON.stringify(((e={})[j]="asc"===H?1:-1,e)),count:q,offset:Z},Y&&{latest:new Date(Y).toISOString().slice(0,10)+"T23:59:59.999Z"}),X&&{oldest:new Date(X).toISOString().slice(0,10)+"T00:00:00.000Z"})},[Z,Y,q,j,H,X,t]),500),ee=k("GET","/v1/moderation.reportsByUsers"),et=g(),en=h(["moderation.reports",$],function(){return r.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee($));case 1:case"end":return e.stop()}},null,null,null,Promise)},{onError:function(e){et({type:"error",message:e})},keepPreviousData:!0}),er=en.data,eo=en.isLoading,ea=en.isSuccess,ei=p(function(e){B.push({context:"info",id:e})}),el=P(function(){return[y.createElement(G,{key:"name",direction:H,active:"reports.message.u.username"===j,onClick:Q,sort:"reports.message.u.username"},L("Name")),O&&y.createElement(G,{w:"x140",key:"username",direction:H,active:"reports.message.u.username"===j,onClick:Q,sort:"reports.message.u.username"},L("Username")),y.createElement(G,{key:"reportedMessage",direction:H,active:"reports.description"===j,onClick:Q,sort:"reports.description"},L("Moderation_Reported_message")),y.createElement(G,{key:"room",direction:H},L("Room")),y.createElement(G,{key:"postdate",direction:H,active:"reports.ts"===j,onClick:Q,sort:"reports.ts"},L("Moderation_Report_date")),y.createElement(G,{key:"reports",direction:H,active:"count"===j,onClick:Q,sort:"count"},L("Moderation_Report_plural")),y.createElement(G,{key:"actions",width:"x48"})]},[H,j,Q,L,O]);return y.createElement(y.Fragment,null,y.createElement(C,{autoFocus:!0,placeholder:L("Search"),onChange:function(e){return n(e.text)}}),y.createElement(s,{alignSelf:"stretch"},y.createElement(u,null,L("Date")),y.createElement(m,null,y.createElement(I,{display:"flex",flexGrow:1,onChange:K}))),eo&&y.createElement(v,null,y.createElement(w,null,el),y.createElement(D,null,eo&&y.createElement(x,{headerCells:6}))),ea&&er.reports.length>0&&y.createElement(y.Fragment,null,y.createElement(v,null,y.createElement(w,null,el),y.createElement(D,null,er.reports.map(function(e){return y.createElement(F,{key:e.userId,report:e,onClick:ei,isDesktopOrLarger:O})}))),y.createElement(c,o({current:Z,divider:!0,itemsPerPage:q,count:(null==er?void 0:er.total)||0,onSetItemsPerPage:A,onSetCurrent:J},V))),ea&&0===er.reports.length&&y.createElement(S,null))})}
//# sourceMappingURL=/dynamic/client/views/admin/moderation/866ce79284d293fee967abeb4d85aaf07de61bc3.map
