function module(e,n,t){var r,u,i,a,o,c,s,l,f,m,d,k,g,p,E,b,h,y,x,v,P,T,C,S,G,w,$,R,D,F=["current","itemsPerPage","setItemsPerPage","setCurrent"];t.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),t.link("@babel/runtime/helpers/extends",{default:function(e){u=e}},1),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){i=e}},2),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},3),t.link("@rocket.chat/fuselage",{Pagination:function(e){o=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMediaQuery:function(e){c=e},useDebouncedValue:function(e){s=e},useMutableCallback:function(e){l=e}},1),t.link("@rocket.chat/string-helpers",{escapeRegExp:function(e){f=e}},2),t.link("@rocket.chat/ui-contexts",{useEndpoint:function(e){m=e},useRoute:function(e){d=e},useToastMessageDispatch:function(e){k=e},useTranslation:function(e){g=e}},3),t.link("@tanstack/react-query",{useQuery:function(e){p=e}},4),t.link("react",{default:function(e){E=e},useRef:function(e){b=e},useMemo:function(e){h=e},useState:function(e){y=e},useEffect:function(e){x=e}},5),t.link("../../../../components/FilterByText",{default:function(e){v=e}},6),t.link("../../../../components/GenericNoResults",{default:function(e){P=e}},7),t.link("../../../../components/GenericTable",{GenericTable:function(e){T=e},GenericTableHeader:function(e){C=e},GenericTableHeaderCell:function(e){S=e},GenericTableBody:function(e){G=e},GenericTableLoadingTable:function(e){w=e}},8),t.link("../../../../components/GenericTable/hooks/usePagination",{usePagination:function(e){$=e}},9),t.link("../../../../components/GenericTable/hooks/useSort",{useSort:function(e){R=e}},10),t.link("./UsersTableRow",{default:function(e){D=e}},11),t.exportDefault(function(e){var n=e.reload,t=g(),M=d("admin-users"),N=c("(min-width: 1024px)"),B=a(y(""),2),I=B[0],Q=B[1],U=$(),q=U.current,H=U.itemsPerPage,J=U.setItemsPerPage,L=U.setCurrent,O=i(U,F),_=R("name"),j=_.sortBy,A=_.sortDirection,V=_.setSort,W=s(I,500),z=b(""),K=s(h(function(){return W!==z.current&&L(0),{fields:JSON.stringify({name:1,username:1,emails:1,roles:1,status:1,avatarETag:1,active:1}),query:JSON.stringify({$or:[{"emails.address":{$regex:f(W),$options:"i"}},{username:{$regex:f(W),$options:"i"}},{name:{$regex:f(W),$options:"i"}}]}),sort:'{ "'+j+'": '+("asc"===A?1:-1)+" }",count:H,offset:W===z.current?q:0}},[W,j,A,H,q,L]),500),X=m("GET","/v1/users.list"),Y=k(),Z=p(["users",K],function(){var e;return r.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.awrap(X(K));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}},null,null,null,Promise)},{onError:function(e){Y({type:"error",message:e})}}),ee=Z.data,en=Z.isLoading,et=Z.error,er=Z.isSuccess,eu=Z.refetch;x(function(){n.current=eu},[n,eu]),x(function(){z.current=W},[W]);var ei=l(function(e){return M.push({context:"info",id:e})}),ea=h(function(){return[E.createElement(S,{w:"x200",key:"name",direction:A,active:"name"===j,onClick:V,sort:"name"},t("Name")),N&&E.createElement(S,{w:"x140",key:"username",direction:A,active:"username"===j,onClick:V,sort:"username"},t("Username")),E.createElement(S,{w:"x120",key:"email",direction:A,active:"emails.address"===j,onClick:V,sort:"emails.address"},t("Email")),N&&E.createElement(S,{w:"x120",key:"roles",onClick:V},t("Roles")),E.createElement(S,{w:"x100",key:"status",direction:A,active:"status"===j,onClick:V,sort:"status"},t("Status"))]},[N,V,j,A,t]);return et?null:E.createElement(E.Fragment,null,E.createElement(v,{autoFocus:!0,placeholder:t("Search_Users"),onChange:function(e){return Q(e.text)}}),en&&E.createElement(T,null,E.createElement(C,null,ea),E.createElement(G,null,en&&E.createElement(w,{headerCells:5}))),(null==ee?void 0:ee.users)&&ee.count>0&&er&&E.createElement(E.Fragment,null,E.createElement(T,null,E.createElement(C,null,ea),E.createElement(G,null,null==ee?void 0:ee.users.map(function(e){return E.createElement(D,{key:e._id,onClick:ei,mediaQuery:N,user:e})}))),E.createElement(o,u({divider:!0,current:q,itemsPerPage:H,count:(null==ee?void 0:ee.total)||0,onSetItemsPerPage:J,onSetCurrent:L},O))),er&&(null==ee?void 0:ee.count)===0&&E.createElement(P,null))})}
//# sourceMappingURL=/dynamic/client/views/admin/users/UsersTable/090793499200a7152d5337d670e8543c949193aa.map
