)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/users/hooks/useChangeAdminStatusAction.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IUser } from '@rocket.chat/core-typings';\nimport { useToastMessageDispatch, useMethod, useTranslation, usePermission } from '@rocket.chat/ui-contexts';\nimport { useCallback } from 'react';\n\nimport type { Action } from '../../../hooks/useActionSpread';\n\nexport const useChangeAdminStatusAction = (userId: IUser['_id'], isAdmin: boolean, onChange: () => void): Action | undefined => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst setAdminStatus = useMethod('setAdminStatus');\n\tconst canAssignAdminRole = usePermission('assign-admin-role');\n\n\tconst changeAdminStatus = useCallback(async () => {\n\t\ttry {\n\t\t\tawait setAdminStatus(userId, !isAdmin);\n\t\t\tconst message = isAdmin ? 'User_is_no_longer_an_admin' : 'User_is_now_an_admin';\n\t\t\tdispatchToastMessage({ type: 'success', message: t(message) });\n\t\t\tonChange();\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t}, [userId, dispatchToastMessage, isAdmin, onChange, setAdminStatus, t]);\n\n\treturn canAssignAdminRole\n\t\t? {\n\t\t\t\ticon: 'key',\n\t\t\t\tlabel: isAdmin ? t('Remove_Admin') : t('Make_Admin'),\n\t\t\t\taction: changeAdminStatus,\n\t\t  }\n\t\t: undefined;\n};\n",null],"names":["module","default","v","_regeneratorRuntime","export","useChangeAdminStatusAction","useToastMessageDispatch","useMethod","useTranslation","usePermission","useCallback","userId","isAdmin","onChange","t","dispatchToastMessage","setAdminStatus","canAssignAdminRole","changeAdminStatus","async","_context","prev","next","awrap","type","message","t0","stop","Promise","icon","label","action","undefined"],"mappings":"uBACSA,EAAAA,IAAyB,CAAA,6BAA2B,CAAAC,QAAa,SAAQC,CAAAA,EAAAC,EAAAA,CAAA,CAA0B,EAAC,GAA7GH,EAAOI,MAAE,CAAA,CAAAC,2BAAyB,WAAW,OAAcA,CAAuB,CAAA,GAA2BL,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAM,wBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAT,EAAAA,IAAAA,CAAAA,QAAAA,CAAAU,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAKtG,IALPP,EAAkFG,EAA2BC,EAAAC,EAAAC,EAAAC,EAKhGL,EAA6B,SAACM,CAAoB,CAAEC,CAAgB,CAAEC,CAAoB,EACtG,IAAMC,EAAIN,IACJO,EAAuBT,IACvBU,EAAiBT,EAAU,kBAC3BU,EAAqBR,EAAc,qBAEnCS,EAAoBR,EAAY,WAAA,OAAAP,EAAAgB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAE,IAAA,CAAA,EAAAnB,EAAAoB,KAAA,CAE9BP,EAAeL,EAAQ,CAACC,GAAQ,MAAA,EAEtCG,EAAqB,CAAES,KAAM,UAAWC,QAASX,EADjCF,EAAU,6BAA+B,uBACE,GAC3DC,IAAWO,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,EAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAM,EAAA,CAAAN,EAAA,KAAA,CAAA,GAEXL,EAAqB,CAAES,KAAM,QAASC,QAAOL,EAAAM,EAAA,AAAO,EAAI,MAAA,GAAA,IAAA,MAAA,OAAAN,EAAAO,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAAC,QAAA,EAEvD,CAACjB,EAAQI,EAAsBH,EAASC,EAAUG,EAAgBF,EAAE,EAEvE,OAAOG,EACJ,CACAY,KAAM,MACNC,MAAOlB,EAAUE,EAAE,gBAAkBA,EAAE,cACvCiB,OAAQb,GAERc,KAAAA,CACJ"}