)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/users/AdminUsersPage.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Button, ButtonGroup, ContextualbarIcon } from '@rocket.chat/fuselage';\nimport { usePermission, useRouteParameter, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useRef } from 'react';\n\nimport UserPageHeaderContentWithSeatsCap from '../../../../ee/client/views/admin/users/UserPageHeaderContentWithSeatsCap';\nimport { useSeatsCap } from '../../../../ee/client/views/admin/users/useSeatsCap';\nimport { Contextualbar, ContextualbarHeader, ContextualbarTitle, ContextualbarClose } from '../../../components/Contextualbar';\nimport Page from '../../../components/Page';\nimport { useShouldPreventAction } from '../../../hooks/useShouldPreventAction';\nimport AdminInviteUsers from './AdminInviteUsers';\nimport AdminUserForm from './AdminUserForm';\nimport AdminUserFormWithData from './AdminUserFormWithData';\nimport AdminUserInfoWithData from './AdminUserInfoWithData';\nimport AdminUserUpgrade from './AdminUserUpgrade';\nimport UsersTable from './UsersTable';\n\nconst UsersPage = (): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst seatsCap = useSeatsCap();\n\tconst reload = useRef(() => null);\n\n\tconst router = useRouter();\n\tconst context = useRouteParameter('context');\n\tconst id = useRouteParameter('id');\n\n\tconst canCreateUser = usePermission('create-user');\n\tconst canBulkCreateUser = usePermission('bulk-register-user');\n\n\tconst isCreateUserDisabled = useShouldPreventAction('activeUsers');\n\n\tconst handleReload = (): void => {\n\t\tseatsCap?.reload();\n\t\treload.current();\n\t};\n\n\tconst isRoutePrevented = context && ['new', 'invite'].includes(context) && isCreateUserDisabled;\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<Page.Header title={t('Users')}>\n\t\t\t\t\t{seatsCap && seatsCap.maxActiveUsers < Number.POSITIVE_INFINITY ? (\n\t\t\t\t\t\t<UserPageHeaderContentWithSeatsCap {...seatsCap} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t{canBulkCreateUser && (\n\t\t\t\t\t\t\t\t<Button icon='mail' onClick={() => router.navigate('/admin/users/invite')}>\n\t\t\t\t\t\t\t\t\t{t('Invite')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{canCreateUser && (\n\t\t\t\t\t\t\t\t<Button icon='user-plus' onClick={() => router.navigate('/admin/users/new')}>\n\t\t\t\t\t\t\t\t\t{t('New_user')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t)}\n\t\t\t\t</Page.Header>\n\t\t\t\t<Page.Content>\n\t\t\t\t\t<UsersTable reload={reload} />\n\t\t\t\t</Page.Content>\n\t\t\t</Page>\n\t\t\t{context && (\n\t\t\t\t<Contextualbar is='aside' aria-labelledby=''>\n\t\t\t\t\t<ContextualbarHeader>\n\t\t\t\t\t\t{context === 'upgrade' && <ContextualbarIcon name='user-plus' />}\n\t\t\t\t\t\t<ContextualbarTitle>\n\t\t\t\t\t\t\t{context === 'info' && t('User_Info')}\n\t\t\t\t\t\t\t{context === 'edit' && t('Edit_User')}\n\t\t\t\t\t\t\t{context === 'new' && t('Add_User')}\n\t\t\t\t\t\t\t{context === 'invite' && t('Invite_Users')}\n\t\t\t\t\t\t</ContextualbarTitle>\n\t\t\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/admin/users')} />\n\t\t\t\t\t</ContextualbarHeader>\n\t\t\t\t\t{context === 'info' && id && <AdminUserInfoWithData uid={id} onReload={handleReload} />}\n\t\t\t\t\t{context === 'edit' && id && <AdminUserFormWithData uid={id} onReload={handleReload} />}\n\t\t\t\t\t{!isRoutePrevented && context === 'new' && <AdminUserForm onReload={handleReload} />}\n\t\t\t\t\t{!isRoutePrevented && context === 'invite' && <AdminInviteUsers />}\n\t\t\t\t\t{isRoutePrevented && <AdminUserUpgrade />}\n\t\t\t\t</Contextualbar>\n\t\t\t)}\n\t\t</Page>\n\t);\n};\n\nexport default UsersPage;\n",null],"names":["Button","ButtonGroup","ContextualbarIcon","usePermission","useRouteParameter","useTranslation","useRouter","React","useRef","UserPageHeaderContentWithSeatsCap","useSeatsCap","Contextualbar","ContextualbarHeader","ContextualbarTitle","ContextualbarClose","Page","useShouldPreventAction","AdminInviteUsers","AdminUserForm","AdminUserFormWithData","AdminUserInfoWithData","AdminUserUpgrade","UsersTable","module","link","v","exportDefault","t","seatsCap","reload","router","context","id","canCreateUser","canBulkCreateUser","isCreateUserDisabled","handleReload","current","isRoutePrevented","includes","createElement","flexDirection","Header","title","maxActiveUsers","Number","POSITIVE_INFINITY","icon","onClick","navigate","Content","is","name","uid","onReload"],"mappings":"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"}