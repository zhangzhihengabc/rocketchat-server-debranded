)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/users/AdminInviteUsers.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import {\n\tBox,\n\tButton,\n\tButtonGroup,\n\tStates,\n\tStatesAction,\n\tStatesActions,\n\tStatesSubtitle,\n\tStatesTitle,\n\tTextAreaInput,\n} from '@rocket.chat/fuselage';\nimport { useTranslation, useRoute } from '@rocket.chat/ui-contexts';\nimport type { ChangeEvent } from 'react';\nimport React, { useCallback, useState } from 'react';\n\nimport { validateEmail } from '../../../../lib/emailValidator';\nimport { ContextualbarScrollableContent, ContextualbarFooter, ContextualbarContent } from '../../../components/Contextualbar';\nimport { FormSkeleton } from '../../../components/Skeleton';\nimport { useSendInvitationEmailMutation } from './hooks/useSendInvitationEmailMutation';\nimport { useSmtpQuery } from './hooks/useSmtpQuery';\n\n// TODO: Replace using RHF\nconst AdminInviteUsers = () => {\n\tconst t = useTranslation();\n\tconst [text, setText] = useState('');\n\tconst getEmails = useCallback((text) => text.split(/[\\ ,;]+/i).filter((val: string) => validateEmail(val)), []);\n\tconst adminRouter = useRoute('admin-settings');\n\tconst sendInvitationMutation = useSendInvitationEmailMutation();\n\tconst { data, isLoading } = useSmtpQuery();\n\n\tconst handleClick = () => {\n\t\tsendInvitationMutation.mutate({ emails: getEmails(text) });\n\t};\n\n\tif (isLoading) {\n\t\treturn (\n\t\t\t<ContextualbarContent>\n\t\t\t\t<FormSkeleton />\n\t\t\t</ContextualbarContent>\n\t\t);\n\t}\n\n\tif (!data?.isSMTPConfigured) {\n\t\treturn (\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<States>\n\t\t\t\t\t<StatesTitle>{t('SMTP_Server_Not_Setup_Title')}</StatesTitle>\n\t\t\t\t\t<StatesSubtitle>{t('SMTP_Server_Not_Setup_Description')}</StatesSubtitle>\n\t\t\t\t\t<StatesActions>\n\t\t\t\t\t\t<StatesAction role='link' onClick={() => adminRouter.push({ group: 'Email' })}>\n\t\t\t\t\t\t\t{t('Setup_SMTP')}\n\t\t\t\t\t\t</StatesAction>\n\t\t\t\t\t</StatesActions>\n\t\t\t\t</States>\n\t\t\t</ContextualbarScrollableContent>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<Box is='h2' fontScale='h2' mb={8}>\n\t\t\t\t\t{t('Send_invitation_email')}\n\t\t\t\t</Box>\n\t\t\t\t<Box fontScale='p2' mb={8}>\n\t\t\t\t\t{t('Send_invitation_email_info')}\n\t\t\t\t</Box>\n\t\t\t\t<TextAreaInput rows={5} flexGrow={0} onChange={(e: ChangeEvent<HTMLInputElement>): void => setText(e.currentTarget.value)} />\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button icon='send' primary onClick={handleClick} disabled={!getEmails(text).length} alignItems='stretch' mb={8}>\n\t\t\t\t\t\t{t('Send')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default AdminInviteUsers;\n",null],"names":["_slicedToArray","Box","Button","ButtonGroup","States","StatesAction","StatesActions","StatesSubtitle","StatesTitle","TextAreaInput","useTranslation","useRoute","React","useCallback","useState","validateEmail","ContextualbarScrollableContent","ContextualbarFooter","ContextualbarContent","FormSkeleton","useSendInvitationEmailMutation","useSmtpQuery","module","link","default","v","exportDefault","t","_useState2","text","setText","getEmails","split","filter","val","adminRouter","sendInvitationMutation","_useSmtpQuery","data","isLoading","createElement","isSMTPConfigured","Fragment","is","fontScale","mb","rows","flexGrow","onChange","e","currentTarget","value","stretch","icon","primary","onClick","mutate","emails","disabled","length","alignItems","role","push","group"],"mappings":"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"}