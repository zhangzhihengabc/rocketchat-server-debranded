function module(e,n,t){var r,a,o,l,u,c,i,s,f,d,m,p,h,b,g,E,k,v,y,x,C,S,w,F,_=["goToNew","close","onChange"];t.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},2),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){l=e}},3),t.link("@rocket.chat/fuselage",{Field:function(e){u=e},FieldLabel:function(e){c=e},FieldRow:function(e){i=e},TextInput:function(e){s=e},Box:function(e){f=e},Icon:function(e){d=e},Margins:function(e){m=e},Button:function(e){p=e},ButtonGroup:function(e){h=e}},0),t.link("@rocket.chat/ui-contexts",{useToastMessageDispatch:function(e){b=e},useMethod:function(e){g=e},useTranslation:function(e){E=e}},1),t.link("react",{default:function(e){k=e},useState:function(e){v=e},useCallback:function(e){y=e}},2),t.link("../../../components/Contextualbar",{ContextualbarScrollableContent:function(e){x=e},ContextualbarFooter:function(e){C=e}},3),t.link("../../../hooks/useFileInput",{useFileInput:function(e){S=e}},4),t.link("./lib",{validate:function(e){w=e},createSoundData:function(e){F=e}},5),t.exportDefault(function(e){var n=e.goToNew,t=e.close,T=e.onChange,M=l(e,_),N=E(),B=b(),D=o(v(""),2),I=D[0],P=D[1],j=o(v(),2),q=j[0],A=j[1],R=g("uploadCustomSound"),U=g("insertOrUpdateSound"),z=o(S(y(function(e){A(e)},[]),"audio/mp3"),1)[0],G=y(function(e,n){var t,o,l;return r.async(function(u){for(;;)switch(u.prev=u.next){case 0:return w(t=F(n,e),n).forEach(function(e){throw Error(N("error-the-field-is-required",{field:N(e)}))}),u.prev=3,u.next=6,r.awrap(U(t));case 6:if(o=u.sent){u.next=9;break}return u.abrupt("return",void 0);case 9:return B({type:"success",message:N("Uploading_file")}),(l=new FileReader).readAsBinaryString(n),l.onloadend=function(){try{R(l.result,n.type,a(a({},t),{},{_id:o,random:Math.round(1e3*Math.random())})),B({type:"success",message:N("File_uploaded")})}catch(e){("string"==typeof e||e instanceof Error)&&B({type:"error",message:e})}},u.abrupt("return",o);case 16:u.prev=16,u.t0=u.catch(3),("string"==typeof u.t0||u.t0 instanceof Error)&&B({type:"error",message:u.t0});case 19:case"end":return u.stop()}},null,null,[[3,16]],Promise)},[B,U,N,R]),L=y(function(){var e;return r.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.awrap(G(I,q));case 3:(e=t.sent)&&B({type:"success",message:N("Custom_Sound_Saved_Successfully")}),e&&n(e),T(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),B({type:"error",message:t.t0});case 12:case"end":return t.stop()}},null,null,[[0,9]],Promise)},[B,n,I,T,G,q,N]);return k.createElement(k.Fragment,null,k.createElement(x,M,k.createElement(u,null,k.createElement(c,null,N("Name")),k.createElement(i,null,k.createElement(s,{value:I,onChange:function(e){return P(e.currentTarget.value)},placeholder:N("Name")}))),k.createElement(u,null,k.createElement(c,{alignSelf:"stretch"},N("Sound_File_mp3")),k.createElement(f,{display:"flex",flexDirection:"row",mbs:"none"},k.createElement(m,{inline:4},k.createElement(p,{square:!0,onClick:z},k.createElement(d,{name:"upload",size:"x20"})),(null==q?void 0:q.name)||N("None"))))),k.createElement(C,null,k.createElement(h,{stretch:!0},k.createElement(p,{mie:4,onClick:t},N("Cancel")),k.createElement(p,{primary:!0,onClick:L,disabled:""===I},N("Save")))))})}
//# sourceMappingURL=/dynamic/client/views/admin/customSounds/5c6c01a9a66eaa4a00762bcc01b996f194476934.map
