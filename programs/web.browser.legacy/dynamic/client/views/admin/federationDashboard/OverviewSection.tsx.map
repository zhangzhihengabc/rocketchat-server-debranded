)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/federationDashboard/OverviewSection.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Skeleton } from '@rocket.chat/fuselage';\nimport { useMethod, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement, ReactNode } from 'react';\nimport React from 'react';\n\nimport CounterSet from '../../../components/dataView/CounterSet';\n\nconst useOverviewData = (): [eventCount: ReactNode, userCount: ReactNode, serverCount: ReactNode] => {\n\tconst getFederationOverviewData = useMethod('federation:getOverviewData');\n\n\tconst result = useQuery(['admin/federation-dashboard/overview'], async () => getFederationOverviewData(), {\n\t\trefetchInterval: 10_000,\n\t});\n\n\tif (result.isLoading) {\n\t\treturn [\n\t\t\t<Skeleton key='event-count' variant='text' />,\n\t\t\t<Skeleton key='user-count' variant='text' />,\n\t\t\t<Skeleton key='server-count' variant='text' />,\n\t\t];\n\t}\n\n\tif (result.isError) {\n\t\treturn [\n\t\t\t<Box key='event-count' color='status-font-on-danger'>\n\t\t\t\tError\n\t\t\t</Box>,\n\t\t\t<Box key='user-count' color='status-font-on-danger'>\n\t\t\t\tError\n\t\t\t</Box>,\n\t\t\t<Box key='server-count' color='status-font-on-danger'>\n\t\t\t\tError\n\t\t\t</Box>,\n\t\t];\n\t}\n\n\tconst { data } = result.data;\n\n\treturn [data[0].value, data[1].value, data[2].value];\n};\n\nfunction OverviewSection(): ReactElement {\n\tconst t = useTranslation();\n\n\tconst [eventCount, userCount, serverCount] = useOverviewData();\n\n\treturn (\n\t\t<CounterSet\n\t\t\tcounters={[\n\t\t\t\t{\n\t\t\t\t\tcount: eventCount,\n\t\t\t\t\tdescription: t('Number_of_events'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcount: userCount,\n\t\t\t\t\tdescription: t('Number_of_federated_users'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcount: serverCount,\n\t\t\t\t\tdescription: t('Number_of_federated_servers'),\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t);\n}\n\nexport default OverviewSection;\n",null],"names":["module","link","default","_slicedToArray","_regeneratorRuntime","Box","Skeleton","useMethod","useTranslation","useQuery","v","React","CounterSet","useOverviewData","getFederationOverviewData","result","async","_context","prev","next","abrupt","stop","Promise","refetchInterval","isLoading","createElement","key","variant","isError","color","data","value","exportDefault","t","_useOverviewData2","eventCount","userCount","serverCount","counters","count","description"],"mappings":"uBAAcA,EAAUC,IAAM,CAAA,uCAAwB,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAAH,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAE,QAAAA,SAAAA,CAAAA,EAAAE,EAAAA,CAAA,CAAA,EAAA,GAAxCJ,EAAUC,IAAAA,CAAAA,wBAA6B,CAACI,IAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAO,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAR,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAS,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAT,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAU,CAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAAX,EAAAA,IAAAA,CAAAA,0CAAAA,CAAA,QAAA,SAAAU,CAAA,EAAAE,EAAAA,CAAA,CAAA,EAAA,GAQtD,IARAT,EAAsDC,EAAtDC,EAAOC,EAA+CC,EAAAC,EAAAC,EAAAE,EAAAC,EAQhDC,EAAkB,WACvB,IAAMC,EAA4BP,EAAU,8BAEtCQ,EAASN,EAAS,CAAC,sCAAsC,CAAE,WAAA,OAAAL,EAAAY,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAG,MAAA,CAAA,SAAYN,IAA2B,MAAA,EAAA,IAAA,MAAA,OAAAG,EAAAI,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAAE,CACzGC,gBAAiB,MAGlB,GAAIR,EAAOS,SAAS,CACnB,MAAO,CACNb,EAAAc,aAAA,CAACnB,EAAQ,CAACoB,IAAI,cAAcC,QAAQ,MAAM,GAC1ChB,EAAAc,aAAA,CAACnB,EAAQ,CAACoB,IAAI,aAAaC,QAAQ,MAAM,GACzChB,EAAAc,aAAA,CAACnB,EAAQ,CAACoB,IAAI,eAAeC,QAAQ,MAAM,GAC3C,CAGF,GAAIZ,EAAOa,OAAO,CACjB,MAAO,CACNjB,EAAAc,aAAA,CAACpB,EAAG,CAACqB,IAAI,cAAcG,MAAM,uBAAuB,EACnD,SAEDlB,EAAAc,aAAA,CAACpB,EAAG,CAACqB,IAAI,aAAaG,MAAM,uBAAuB,EAClD,SAEDlB,EAAAc,aAAA,CAACpB,EAAG,CAACqB,IAAI,eAAeG,MAAM,uBAAuB,EACpD,SAED,CAGF,IAAQC,EAASf,EAAOe,IAAI,CAApBA,IAAI,CAEZ,MAAO,CAACA,CAAI,CAAC,EAAE,CAACC,KAAK,CAAED,CAAI,CAAC,EAAE,CAACC,KAAK,CAAED,CAAI,CAAC,EAAE,CAACC,KAAK,CAAC,AACrD,EAxCA/B,EAAOgC,aAAO,CA0Cd,WACC,IAAMC,EAAIzB,IAEoD0B,EAAA/B,EAAjBU,IAAiB,GAAvDsB,EAAUD,CAAA,CAAA,EAAA,CAAEE,EAASF,CAAA,CAAA,EAAA,CAAEG,EAAWH,CAAA,CAAA,EAAA,CAEzC,OACCvB,EAAAc,aAAA,CAACb,EAAU,CACV0B,SAAU,CACT,CACCC,MAAOJ,EACPK,YAAaP,EAAE,qBAEhB,CACCM,MAAOH,EACPI,YAAaP,EAAE,8BAEhB,CACCM,MAAOF,EACPG,YAAaP,EAAE,gCACf,AACA,EAGL"}