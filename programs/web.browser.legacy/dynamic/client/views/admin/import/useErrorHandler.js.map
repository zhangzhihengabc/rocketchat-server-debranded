)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/import/useErrorHandler.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\n\nexport const useErrorHandler = () => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\treturn useMutableCallback((error, defaultMessage) => {\n\t\tconsole.error(error);\n\n\t\tif (typeof error === 'string') {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\treturn;\n\t\t}\n\n\t\tconst errorType = error?.xhr?.responseJSON?.errorType;\n\n\t\tif (typeof errorType === 'string' && t.has(errorType)) {\n\t\t\tdispatchToastMessage({ type: 'error', message: t(errorType) });\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof errorType?.error === 'string' && t.has(errorType.error)) {\n\t\t\tdispatchToastMessage({ type: 'error', message: t(errorType?.error) });\n\t\t\treturn;\n\t\t}\n\n\t\tif (defaultMessage) {\n\t\t\tdispatchToastMessage({ type: 'error', message: defaultMessage });\n\t\t}\n\t});\n};\n",null],"names":["module","export","useErrorHandler","link","useMutableCallback","v","useToastMessageDispatch","useTranslation","t","dispatchToastMessage","error","defaultMessage","console","type","message","_error$xhr","_error$xhr$responseJS","errorType","xhr","responseJSON","has"],"mappings":"uBAAAA,EAAOC,MAAM,CAAC,CAACC,gBAAgB,WAAW,OAAOA,CAAe,CAAC,GAA0BF,EAAOG,IAAI,CAAC,8BAA8B,CAACC,mBAAmB,SAASC,CAAC,EAAED,EAAmBC,CAAC,CAAC,EAAE,GAA8CL,EAAOG,IAAI,CAAC,2BAA2B,CAACG,wBAAwB,SAASD,CAAC,EAAEC,EAAwBD,CAAC,EAAEE,eAAe,SAASF,CAAC,EAAEE,EAAeF,CAAC,CAAC,EAAE,GAGxX,IAHiED,EAA2HE,EAAwBC,EAG9ML,EAAkB,WAC9B,IAAMM,EAAID,IACJE,EAAuBH,IAE7B,OAAOF,EAAmB,SAACM,CAAK,CAAEC,CAAc,EAG/C,GAFAC,QAAQF,KAAK,CAACA,GAEV,AAAiB,UAAjB,OAAOA,EAAoB,CAC9BD,EAAqB,CAAEI,KAAM,QAASC,QAASJ,CAAM,GACrD,MACD,CAEA,IARoDK,EAAAC,EAQ9CC,EAAYP,MAAAA,EAAK,KAAA,EAAA,AAAK,OAALK,CAAAA,EAALL,EAAOQ,GAAG,AAAHA,GAAGH,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAA,AAAc,OAAdC,CAAAA,EAAVD,EAAYI,YAAY,AAAZA,GAAYH,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAxBA,EAA0BC,SAAS,CAErD,GAAI,AAAqB,UAArB,OAAOA,GAA0BT,EAAEY,GAAG,CAACH,GAAY,CACtDR,EAAqB,CAAEI,KAAM,QAASC,QAASN,EAAES,EAAW,GAC5D,MACD,CAEA,GAAI,AAA4B,UAA5B,MAAOA,CAAAA,MAAAA,EAAS,KAAA,EAATA,EAAWP,KAAK,AAALA,GAAsBF,EAAEY,GAAG,CAACH,EAAUP,KAAK,EAAG,CACnED,EAAqB,CAAEI,KAAM,QAASC,QAASN,EAAES,MAAAA,EAAS,KAAA,EAATA,EAAWP,KAAK,CAAE,GACnE,MACD,CAEIC,GACHF,EAAqB,CAAEI,KAAM,QAASC,QAASH,CAAe,EAEhE,EACD"}