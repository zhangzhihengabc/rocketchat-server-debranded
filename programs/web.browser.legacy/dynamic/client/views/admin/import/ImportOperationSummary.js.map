)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/import/ImportOperationSummary.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { TableRow, TableCell } from '@rocket.chat/fuselage';\nimport { useRouter, useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useMemo } from 'react';\n\nimport {\n\tImportWaitingStates,\n\tImportFileReadyStates,\n\tImportPreparingStartedStates,\n\tImportingStartedStates,\n\tProgressStep,\n} from '../../../../app/importer/lib/ImporterProgressStep';\nimport { useFormatDateAndTime } from '../../../hooks/useFormatDateAndTime';\nimport ImportOperationSummarySkeleton from './ImportOperationSummarySkeleton';\n\nfunction ImportOperationSummary({\n\ttype,\n\t_updatedAt,\n\tstatus,\n\tfile = '',\n\tuser,\n\tsmall,\n\tcount: { users = 0, channels = 0, messages = 0, total = 0 } = {},\n\tvalid,\n}) {\n\tconst t = useTranslation();\n\tconst formatDateAndTime = useFormatDateAndTime();\n\n\tconst fileName = useMemo(() => {\n\t\tif (!file) {\n\t\t\treturn '';\n\t\t}\n\n\t\tconst fileName = file;\n\n\t\tconst userPattern = `_${user}_`;\n\t\tconst idx = fileName.indexOf(userPattern);\n\t\tif (idx >= 0) {\n\t\t\treturn fileName.slice(idx + userPattern.length);\n\t\t}\n\n\t\treturn fileName;\n\t}, [file, user]);\n\n\tconst canContinue = useMemo(\n\t\t() =>\n\t\t\tvalid &&\n\t\t\t[ProgressStep.USER_SELECTION, ...ImportWaitingStates, ...ImportFileReadyStates, ...ImportPreparingStartedStates].includes(status),\n\t\t[valid, status],\n\t);\n\n\tconst canCheckProgress = useMemo(() => valid && ImportingStartedStates.includes(status), [valid, status]);\n\n\tconst router = useRouter();\n\n\tconst handleClick = () => {\n\t\tif (canContinue) {\n\t\t\trouter.navigate('/admin/import/prepare');\n\t\t\treturn;\n\t\t}\n\n\t\tif (canCheckProgress) {\n\t\t\trouter.navigate('/admin/import/progress');\n\t\t}\n\t};\n\n\tconst hasAction = canContinue || canCheckProgress;\n\n\tconst props = hasAction\n\t\t? {\n\t\t\t\ttabIndex: 0,\n\t\t\t\trole: 'link',\n\t\t\t\taction: true,\n\t\t\t\tonClick: handleClick,\n\t\t  }\n\t\t: {};\n\n\treturn (\n\t\t<TableRow {...props}>\n\t\t\t<TableCell>{type}</TableCell>\n\t\t\t<TableCell>{formatDateAndTime(_updatedAt)}</TableCell>\n\t\t\t{!small && (\n\t\t\t\t<>\n\t\t\t\t\t<TableCell>{status && t(status.replace('importer_', 'importer_status_'))}</TableCell>\n\t\t\t\t\t<TableCell>{fileName}</TableCell>\n\t\t\t\t\t<TableCell align='center'>{users}</TableCell>\n\t\t\t\t\t<TableCell align='center'>{channels}</TableCell>\n\t\t\t\t\t<TableCell align='center'>{messages}</TableCell>\n\t\t\t\t\t<TableCell align='center'>{total}</TableCell>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</TableRow>\n\t);\n}\n\nexport default Object.assign(ImportOperationSummary, {\n\tSkeleton: ImportOperationSummarySkeleton,\n});\n",null],"names":["_toConsumableArray","TableRow","TableCell","useRouter","useTranslation","React","useMemo","ImportWaitingStates","ImportFileReadyStates","ImportPreparingStartedStates","ImportingStartedStates","ProgressStep","useFormatDateAndTime","ImportOperationSummarySkeleton","module","link","default","v","exportDefault","Object","assign","_ref","type","_updatedAt","status","_ref$file","file","user","small","_ref$count","count","_ref$count$users","users","_ref$count$channels","channels","_ref$count$messages","messages","_ref$count$total","total","valid","t","formatDateAndTime","fileName","userPattern","idx","indexOf","slice","length","canContinue","USER_SELECTION","concat","includes","canCheckProgress","router","createElement","hasAction","tabIndex","role","action","onClick","navigate","Fragment","replace","align","Skeleton"],"mappings":"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"}