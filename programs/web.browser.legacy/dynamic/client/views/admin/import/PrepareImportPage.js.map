)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/import/PrepareImportPage.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Badge, Box, Button, ButtonGroup, Margins, ProgressBar, Throbber, Tabs } from '@rocket.chat/fuselage';\nimport { useDebouncedValue, useSafely } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useTranslation, useStream, useRouter } from '@rocket.chat/ui-contexts';\nimport React, { useEffect, useState, useMemo } from 'react';\n\nimport {\n\tProgressStep,\n\tImportWaitingStates,\n\tImportFileReadyStates,\n\tImportPreparingStartedStates,\n\tImportingStartedStates,\n\tImportingErrorStates,\n} from '../../../../app/importer/lib/ImporterProgressStep';\nimport { numberFormat } from '../../../../lib/utils/stringUtils';\nimport Page from '../../../components/Page';\nimport PrepareChannels from './PrepareChannels';\nimport PrepareUsers from './PrepareUsers';\nimport { useErrorHandler } from './useErrorHandler';\n\nconst waitFor = (fn, predicate) =>\n\tnew Promise((resolve, reject) => {\n\t\tconst callPromise = () => {\n\t\t\tfn().then((result) => {\n\t\t\t\tif (predicate(result)) {\n\t\t\t\t\tresolve(result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(callPromise, 1000);\n\t\t\t}, reject);\n\t\t};\n\n\t\tcallPromise();\n\t});\n\nfunction PrepareImportPage() {\n\tconst t = useTranslation();\n\tconst handleError = useErrorHandler();\n\n\tconst [isPreparing, setPreparing] = useSafely(useState(true));\n\tconst [progressRate, setProgressRate] = useSafely(useState(null));\n\tconst [status, setStatus] = useSafely(useState(null));\n\tconst [messageCount, setMessageCount] = useSafely(useState(0));\n\tconst [users, setUsers] = useState([]);\n\tconst [channels, setChannels] = useState([]);\n\tconst [isImporting, setImporting] = useSafely(useState(false));\n\n\tconst usersCount = useMemo(() => users.filter(({ do_import }) => do_import).length, [users]);\n\tconst channelsCount = useMemo(() => channels.filter(({ do_import }) => do_import).length, [channels]);\n\n\tconst router = useRouter();\n\n\tconst getImportFileData = useEndpoint('GET', '/v1/getImportFileData');\n\tconst getCurrentImportOperation = useEndpoint('GET', '/v1/getCurrentImportOperation');\n\tconst startImport = useEndpoint('POST', '/v1/startImport');\n\n\tconst streamer = useStream('importers');\n\n\tuseEffect(\n\t\t() =>\n\t\t\tstreamer('progress', ({ rate }) => {\n\t\t\t\tsetProgressRate(rate);\n\t\t\t}),\n\t\t[streamer, setProgressRate],\n\t);\n\n\tuseEffect(() => {\n\t\tconst loadImportFileData = async () => {\n\t\t\ttry {\n\t\t\t\tconst data = await waitFor(getImportFileData, (data) => data && !data.waiting);\n\n\t\t\t\tif (!data) {\n\t\t\t\t\thandleError(t('Importer_not_setup'));\n\t\t\t\t\trouter.navigate('/admin/import');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (data.step) {\n\t\t\t\t\thandleError(t('Failed_To_Load_Import_Data'));\n\t\t\t\t\trouter.navigate('/admin/import');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetMessageCount(data.message_count);\n\t\t\t\tsetUsers(data.users.map((user) => ({ ...user, do_import: true })));\n\t\t\t\tsetChannels(data.channels.map((channel) => ({ ...channel, do_import: true })));\n\t\t\t\tsetPreparing(false);\n\t\t\t\tsetProgressRate(null);\n\t\t\t} catch (error) {\n\t\t\t\thandleError(error, t('Failed_To_Load_Import_Data'));\n\t\t\t\trouter.navigate('/admin/import');\n\t\t\t}\n\t\t};\n\n\t\tconst loadCurrentOperation = async () => {\n\t\t\ttry {\n\t\t\t\tconst { operation } = await waitFor(\n\t\t\t\t\tgetCurrentImportOperation,\n\t\t\t\t\t({ operation }) => operation.valid && !ImportWaitingStates.includes(operation.status),\n\t\t\t\t);\n\n\t\t\t\tif (!operation.valid) {\n\t\t\t\t\trouter.navigate('/admin/import/new');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (ImportingStartedStates.includes(operation.status)) {\n\t\t\t\t\trouter.navigate('/admin/import/progress');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\toperation.status === ProgressStep.USER_SELECTION ||\n\t\t\t\t\tImportPreparingStartedStates.includes(operation.status) ||\n\t\t\t\t\tImportFileReadyStates.includes(operation.status)\n\t\t\t\t) {\n\t\t\t\t\tsetStatus(operation.status);\n\t\t\t\t\tloadImportFileData();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (ImportingErrorStates.includes(operation.status)) {\n\t\t\t\t\thandleError(t('Import_Operation_Failed'));\n\t\t\t\t\trouter.navigate('/admin/import');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (operation.status === ProgressStep.DONE) {\n\t\t\t\t\trouter.navigate('/admin/import');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\thandleError(t('Unknown_Import_State'));\n\t\t\t\trouter.navigate('/admin/import');\n\t\t\t} catch (error) {\n\t\t\t\thandleError(t('Failed_To_Load_Import_Data'));\n\t\t\t\trouter.navigate('/admin/import');\n\t\t\t}\n\t\t};\n\n\t\tloadCurrentOperation();\n\t}, [getCurrentImportOperation, getImportFileData, handleError, router, setMessageCount, setPreparing, setProgressRate, setStatus, t]);\n\n\tconst handleBackToImportsButtonClick = () => {\n\t\trouter.navigate('/admin/import');\n\t};\n\n\tconst handleStartButtonClick = async () => {\n\t\tsetImporting(true);\n\n\t\ttry {\n\t\t\tawait startImport({ input: { users, channels } });\n\t\t\trouter.navigate('/admin/import/progress');\n\t\t} catch (error) {\n\t\t\thandleError(error, t('Failed_To_Start_Import'));\n\t\t\trouter.navigate('/admin/import');\n\t\t}\n\t};\n\n\tconst [tab, setTab] = useState('users');\n\tconst handleTabClick = useMemo(() => (tab) => () => setTab(tab), []);\n\n\tconst statusDebounced = useDebouncedValue(status, 100);\n\n\tconst handleMinimumImportData = !!(\n\t\t(!usersCount && !channelsCount && !messageCount) ||\n\t\t(!usersCount && !channelsCount && messageCount !== 0)\n\t);\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Importing_Data')}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button icon='back' secondary onClick={handleBackToImportsButtonClick}>\n\t\t\t\t\t\t{t('Back_to_imports')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button primary disabled={isImporting || handleMinimumImportData} onClick={handleStartButtonClick}>\n\t\t\t\t\t\t{t('Importer_Prepare_Start_Import')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Page.Header>\n\n\t\t\t<Page.ScrollableContentWithShadow>\n\t\t\t\t<Box marginInline='auto' marginBlock='x24' width='full' maxWidth='590px'>\n\t\t\t\t\t<Box is='h2' fontScale='p2m'>\n\t\t\t\t\t\t{statusDebounced && t(statusDebounced.replace('importer_', 'importer_status_'))}\n\t\t\t\t\t</Box>\n\t\t\t\t\t{!isPreparing && (\n\t\t\t\t\t\t<Tabs flexShrink={0}>\n\t\t\t\t\t\t\t<Tabs.Item selected={tab === 'users'} onClick={handleTabClick('users')}>\n\t\t\t\t\t\t\t\t{t('Users')} <Badge>{usersCount}</Badge>\n\t\t\t\t\t\t\t</Tabs.Item>\n\t\t\t\t\t\t\t<Tabs.Item selected={tab === 'channels'} onClick={handleTabClick('channels')}>\n\t\t\t\t\t\t\t\t{t('Channels')} <Badge>{channelsCount}</Badge>\n\t\t\t\t\t\t\t</Tabs.Item>\n\t\t\t\t\t\t\t<Tabs.Item disabled>\n\t\t\t\t\t\t\t\t{t('Messages')}\n\t\t\t\t\t\t\t\t<Badge>{messageCount}</Badge>\n\t\t\t\t\t\t\t</Tabs.Item>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t)}\n\t\t\t\t\t<Margins block='x24'>\n\t\t\t\t\t\t{isPreparing && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{progressRate ? (\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center' fontScale='p2'>\n\t\t\t\t\t\t\t\t\t\t<ProgressBar percentage={progressRate.toFixed(0)} />\n\t\t\t\t\t\t\t\t\t\t<Box is='span' mis='x24'>\n\t\t\t\t\t\t\t\t\t\t\t{numberFormat(progressRate, 0)}%\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Throbber justifyContent='center' />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isPreparing && tab === 'users' && <PrepareUsers usersCount={usersCount} users={users} setUsers={setUsers} />}\n\t\t\t\t\t\t{!isPreparing && tab === 'channels' && (\n\t\t\t\t\t\t\t<PrepareChannels channels={channels} channelsCount={channelsCount} setChannels={setChannels} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Margins>\n\t\t\t\t</Box>\n\t\t\t</Page.ScrollableContentWithShadow>\n\t\t</Page>\n\t);\n}\n\nexport default PrepareImportPage;\n",null],"names":["module","link","default","v","_regeneratorRuntime","_objectSpread","_slicedToArray","Badge","Box","Button","ButtonGroup","Margins","ProgressBar","Throbber","Tabs","useDebouncedValue","useSafely","useEndpoint","useTranslation","useStream","useRouter","React","useEffect","useState","useMemo","ProgressStep","ImportWaitingStates","ImportFileReadyStates","ImportPreparingStartedStates","ImportingStartedStates","ImportingErrorStates","numberFormat","Page","PrepareChannels","PrepareUsers","useErrorHandler","waitFor","fn","predicate","Promise","resolve","reject","callPromise","then","result","setTimeout","exportDefault","t","handleError","_useSafely2","isPreparing","setPreparing","_useSafely4","progressRate","setProgressRate","_useSafely6","status","setStatus","_useSafely8","messageCount","setMessageCount","_useState2","users","setUsers","_useState4","channels","setChannels","_useSafely10","isImporting","setImporting","usersCount","filter","_ref","do_import","length","channelsCount","_ref2","router","getImportFileData","getCurrentImportOperation","startImport","streamer","_ref3","rate","operation","loadImportFileData","data","async","_context","prev","next","awrap","waiting","sent","navigate","abrupt","step","message_count","map","user","channel","t0","stop","_context2","_ref4","valid","includes","_await$waitFor","USER_SELECTION","DONE","_useState6","tab","setTab","handleTabClick","statusDebounced","handleMinimumImportData","createElement","Header","title","icon","secondary","onClick","primary","disabled","_context3","input","ScrollableContentWithShadow","marginInline","marginBlock","width","maxWidth","is","fontScale","replace","flexShrink","Item","selected","block","Fragment","display","justifyContent","percentage","toFixed","mis"],"mappings":"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"}