function module(e,n,t){var i,a,o,l,c,r,u,s,m,d,f,p,k,v,g,E,C,S,b,h,A,x,L,w,I,y,_,M,R,U,P,B,D,T,F,G,O,W;t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){i=e}},0),t.link("@rocket.chat/fuselage",{Accordion:function(e){a=e},Box:function(e){o=e},Button:function(e){l=e},ButtonGroup:function(e){c=e},Callout:function(e){r=e},Grid:function(e){u=e}},0),t.link("@rocket.chat/fuselage-hooks",{useDebouncedValue:function(e){s=e},useSessionStorage:function(e){m=e}},1),t.link("@rocket.chat/ui-contexts",{useSearchParameter:function(e){d=e},useRouter:function(e){f=e}},2),t.link("i18next",{t:function(e){p=e}},3),t.link("react",{default:function(e){k=e},memo:function(e){v=e},useCallback:function(e){g=e},useEffect:function(e){E=e}},4),t.link("tinykeys",{default:function(e){C=e}},5),t.link("../../../components/Page",{default:function(e){S=e}},6),t.link("../../../hooks/useIsEnterprise",{useIsEnterprise:function(e){b=e}},7),t.link("../../../hooks/useLicense",{useInvalidateLicense:function(e){h=e},useLicense:function(e){A=e}},8),t.link("../../../hooks/useRegistrationStatus",{useRegistrationStatus:function(e){x=e}},9),t.link("./SubscriptionCalloutLimits",{SubscriptionCalloutLimits:function(e){L=e}},10),t.link("./SubscriptionPageSkeleton",{default:function(e){w=e}},11),t.link("./components/UpgradeButton",{default:function(e){I=e}},12),t.link("./components/UpgradeToGetMore",{default:function(e){y=e}},13),t.link("./components/cards/ActiveSessionsCard",{default:function(e){_=e}},14),t.link("./components/cards/ActiveSessionsPeakCard",{default:function(e){M=e}},15),t.link("./components/cards/AppsUsageCard",{default:function(e){R=e}},16),t.link("./components/cards/CountMACCard",{default:function(e){U=e}},17),t.link("./components/cards/CountSeatsCard",{default:function(e){P=e}},18),t.link("./components/cards/FeaturesCard",{default:function(e){B=e}},19),t.link("./components/cards/MACCard",{default:function(e){D=e}},20),t.link("./components/cards/PlanCard",{default:function(e){T=e}},21),t.link("./components/cards/PlanCard/PlanCardCommunity",{default:function(e){F=e}},22),t.link("./components/cards/SeatsCard",{default:function(e){G=e}},23),t.link("./hooks/useRemoveLicense",{useRemoveLicense:function(e){O=e}},24),t.link("./hooks/useWorkspaceSync",{useWorkspaceSync:function(e){W=e}},25),t.exportDefault(v(function(){var e,n,t,v,j=(n=(e=i(m("admin:showLicenseTab",!1),2))[0],t=e[1],E(function(){var e=C(window,{"ArrowUp ArrowUp ArrowDown ArrowDown ArrowLeft ArrowRight ArrowLeft ArrowRight b a":function(){t(function(e){return!e})}});return function(){e()}}),n),N=f(),V=b().data,H=x().isRegistered,J=A({loadValues:!0}),q=J.data,z=J.isLoading,K=W(),Q=h(),X=d("subscriptionSuccess"),Y=s(X||K.isLoading,1e4),Z=q||{},$=Z.license,ee=Z.limits,en=Z.activeModules,et=void 0===en?[]:en,ei=(V||{}).isEnterprise,ea=void 0===ei||ei,eo=function(e){var n=(null==ee?void 0:ee[e])||{},t=n.max;return{max:void 0!==t&&-1!==t?t:1/0,value:n.value}},el=eo("monthlyActiveContacts"),ec=eo("activeUsers"),er=g(function(){K.mutate(void 0,{onSuccess:function(){return Q(100)}})},[Q,K]);E(function(){if(X&&K.isIdle){er();return}X&&N.navigate({name:N.getRouteName(),params:Object.fromEntries(Object.entries(N.getSearchParameters()).filter(function(e){return"subscriptionSuccess"!==i(e,1)[0]}))},{replace:!0})},[er,N,X,K.isIdle]);var eu=O();return k.createElement(S,{bg:"tint"},k.createElement(S.Header,{title:p("Subscription")},k.createElement(c,null,H&&k.createElement(l,{loading:K.isLoading,icon:"reload",onClick:function(){return er()}},p("Sync_license_update")),k.createElement(I,{target:"subscription_header",action:ea?"manage_subscription":"upgrade",primary:!0},p(ea?"Manage_subscription":"Upgrade")))),k.createElement(S.ScrollableContentWithShadow,{p:16},(Y||K.isLoading)&&k.createElement(r,{type:"info",title:p("Sync_license_update_Callout_Title"),m:8},p("Sync_license_update_Callout")),k.createElement(L,null),z&&k.createElement(w,null),!z&&k.createElement(k.Fragment,null,j&&k.createElement(a,null,k.createElement(a.Item,{title:p("License")},k.createElement("pre",null,JSON.stringify(q,null,2)))),k.createElement(o,{marginBlock:"none",marginInline:"auto",width:"full",color:"default"},k.createElement(u,{m:0},k.createElement(u.Item,{lg:4,xs:4,p:8},$&&k.createElement(T,{licenseInformation:$.information,licenseLimits:{activeUsers:ec}}),!$&&k.createElement(F,null)),k.createElement(u.Item,{lg:8,xs:4,p:8},k.createElement(B,{activeModules:et,isEnterprise:ea})),void 0!==ec.value&&k.createElement(u.Item,{lg:6,xs:4,p:8},ec.max!==1/0?k.createElement(G,{value:ec.value,max:ec.max,hideManageSubscription:null==q?void 0:q.trial}):k.createElement(P,{activeUsers:null==ec?void 0:ec.value})),void 0!==el.value&&k.createElement(u.Item,{lg:6,xs:4,p:8},el.max!==1/0?k.createElement(D,{max:el.max,value:el.value,hideManageSubscription:null==q?void 0:q.trial}):k.createElement(U,{macsCount:el.value})),!$&&k.createElement(k.Fragment,null,(null==ee?void 0:ee.marketplaceApps)!==void 0&&k.createElement(u.Item,{lg:4,xs:4,p:8},k.createElement(R,{privateAppsLimit:null==ee?void 0:ee.privateApps,marketplaceAppsLimit:ee.marketplaceApps})),k.createElement(u.Item,{lg:4,xs:4,p:8},k.createElement(_,null)),k.createElement(u.Item,{lg:4,xs:4,p:8},k.createElement(M,null)))),k.createElement(y,{activeModules:et,isEnterprise:ea},!!(null==q?void 0:null===(v=q.license)||void 0===v?void 0:v.information.cancellable)&&k.createElement(l,{loading:eu.isLoading,secondary:!0,danger:!0,onClick:function(){return eu.mutate()}},p("Cancel_subscription")))))))}))}
//# sourceMappingURL=/dynamic/client/views/admin/subscription/fca0a5b26560faba2a5e87821291b23c34f9a21f.map
