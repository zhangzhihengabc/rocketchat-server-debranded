)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/invite/hooks/useInviteTokenMutation.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useEndpoint, useRouter, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useMutation } from '@tanstack/react-query';\n\nexport const useInviteTokenMutation = () => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst getInviteRoom = useEndpoint('POST', '/v1/useInviteToken');\n\n\tconst { mutate } = useMutation({\n\t\tmutationFn: (token: string) => getInviteRoom({ token }),\n\t\tonSuccess: (result) => {\n\t\t\tif (!result.room.name) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: t('Failed_to_activate_invite_token') });\n\t\t\t\trouter.navigate('/home');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (result.room.t === 'p') {\n\t\t\t\trouter.navigate(`/group/${result.room.name}`);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trouter.navigate(`/channel/${result.room.name}`);\n\t\t},\n\t\tonError: () => {\n\t\t\tdispatchToastMessage({ type: 'error', message: t('Failed_to_activate_invite_token') });\n\t\t\trouter.navigate('/home');\n\t\t},\n\t});\n\n\treturn mutate;\n};\n",null],"names":["module","export","useInviteTokenMutation","useEndpoint","useRouter","useToastMessageDispatch","useTranslation","useMutation","t","router","dispatchToastMessage","getInviteRoom","_useMutation","mutationFn","token","onSuccess","result","room","name","type","message","navigate","onError","mutate"],"mappings":"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,uBAAwB,WAAA,OAAuBA,CAAkB,CAAA,GAAiCF,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAG,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAO,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAGpG,IAHyEJ,EAAAC,EAA2BC,EAAAC,EAAAC,EAG9FL,EAAyB,WACrC,IAAMM,EAAIF,IACJG,EAASL,IAETM,EAAuBL,IAEvBM,EAAgBR,EAAY,OAAQ,sBAwB1C,OAtBcS,AAAKL,EAAY,CAC9BM,WAAY,SAACC,CAAa,EAAA,OAAKH,EAAc,CAAEG,MAAAA,CAAK,EAAG,EACvDC,UAAW,SAACC,CAAM,EACjB,GAAI,CAACA,EAAOC,IAAI,CAACC,IAAI,CAAE,CACtBR,EAAqB,CAAES,KAAM,QAASC,QAASZ,EAAE,kCAAkC,GACnFC,EAAOY,QAAQ,CAAC,SAChB,OAGD,GAAIL,AAAkB,MAAlBA,EAAOC,IAAI,CAACT,CAAC,CAAU,CAC1BC,EAAOY,QAAQ,CAAA,UAAWL,EAAOC,IAAI,CAACC,IAAI,EAC1C,OAGDT,EAAOY,QAAQ,CAAA,YAAaL,EAAOC,IAAI,CAACC,IAAI,CAC7C,EACAI,QAAS,WACRZ,EAAqB,CAAES,KAAM,QAASC,QAASZ,EAAE,kCAAkC,GACnFC,EAAOY,QAAQ,CAAC,QACjB,IAnBOE,MAAM,AAuBf"}