)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/composer/EmojiPicker/EmojiPicker.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { TextInput, Icon, Button, Divider } from '@rocket.chat/fuselage';\nimport { useMediaQuery, useOutsideClick } from '@rocket.chat/fuselage-hooks';\nimport {\n\tEmojiPickerCategoryHeader,\n\tEmojiPickerContainer,\n\tEmojiPickerFooter,\n\tEmojiPickerPreviewArea,\n\tEmojiPickerHeader,\n\tEmojiPickerListArea,\n\tEmojiPickerPreview,\n} from '@rocket.chat/ui-client';\nimport { useTranslation, usePermission, useRoute } from '@rocket.chat/ui-contexts';\nimport type { ChangeEvent, KeyboardEvent, MouseEvent, RefObject } from 'react';\nimport React, { useLayoutEffect, useState, useEffect, useRef } from 'react';\nimport type { VirtuosoHandle } from 'react-virtuoso';\n\nimport type { EmojiItem, EmojiCategoryPosition } from '../../../../app/emoji/client';\nimport { emoji, getCategoriesList, getEmojisBySearchTerm } from '../../../../app/emoji/client';\nimport { usePreviewEmoji, useEmojiPickerData } from '../../../contexts/EmojiPickerContext';\nimport { useIsVisible } from '../../room/hooks/useIsVisible';\nimport CategoriesResult from './CategoriesResult';\nimport EmojiPickerCategoryItem from './EmojiPickerCategoryItem';\nimport EmojiPickerDropdown from './EmojiPickerDropDown';\nimport SearchingResult from './SearchingResult';\nimport ToneSelector from './ToneSelector';\nimport ToneSelectorWrapper from './ToneSelector/ToneSelectorWrapper';\n\ntype EmojiPickerProps = {\n\treference: Element;\n\tonClose: () => void;\n\tonPickEmoji: (emoji: string) => void;\n};\n\nconst EmojiPicker = ({ reference, onClose, onPickEmoji }: EmojiPickerProps) => {\n\tconst t = useTranslation();\n\n\tconst ref = useRef<Element | null>(reference);\n\tconst categoriesPosition = useRef<EmojiCategoryPosition[]>([]);\n\tconst textInputRef = useRef<HTMLInputElement>(null);\n\tconst virtuosoRef = useRef<VirtuosoHandle>(null);\n\tconst emojiContainerRef = useRef<HTMLDivElement>(null);\n\n\tconst isInputVisible = useIsVisible(textInputRef);\n\n\tconst emojiCategories = getCategoriesList();\n\n\tconst canManageEmoji = usePermission('manage-emoji');\n\tconst customEmojiRoute = useRoute('emoji-custom');\n\n\tconst [searching, setSearching] = useState(false);\n\tconst [searchTerm, setSearchTerm] = useState('');\n\tconst [searchResults, setSearchResults] = useState<EmojiItem[]>([]);\n\n\tconst { emojiToPreview, handleRemovePreview } = usePreviewEmoji();\n\tconst {\n\t\trecentEmojis,\n\t\tsetCurrentCategory,\n\t\taddRecentEmoji,\n\t\tsetRecentEmojis,\n\t\tactualTone,\n\t\tcurrentCategory,\n\t\tgetEmojiListsByCategory,\n\t\tcustomItemsLimit,\n\t\tsetActualTone,\n\t\tsetCustomItemsLimit,\n\t} = useEmojiPickerData();\n\n\tuseEffect(() => () => handleRemovePreview(), [handleRemovePreview]);\n\n\tconst scrollCategories = useMediaQuery('(width < 340px)');\n\n\tuseOutsideClick([emojiContainerRef], onClose);\n\n\tuseLayoutEffect(() => {\n\t\tif (!reference) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst resizeObserver = new ResizeObserver(() => {\n\t\t\tconst anchorRect = reference.getBoundingClientRect();\n\t\t\tif (anchorRect.width === 0 && anchorRect.height === 0) {\n\t\t\t\t// The element is hidden, skip it\n\t\t\t\tref.current = null;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tref.current = reference;\n\t\t});\n\n\t\tresizeObserver.observe(reference);\n\n\t\treturn () => {\n\t\t\tresizeObserver.disconnect();\n\t\t};\n\t}, [reference]);\n\n\tuseEffect(() => {\n\t\tif (textInputRef.current && isInputVisible) {\n\t\t\ttextInputRef.current.focus();\n\t\t}\n\t}, [isInputVisible]);\n\n\tconst handleSelectEmoji = (event: MouseEvent<HTMLElement>) => {\n\t\tevent.stopPropagation();\n\n\t\tconst _emoji = event.currentTarget.dataset?.emoji;\n\n\t\tif (!_emoji) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet tone = '';\n\n\t\tfor (const emojiPackage in emoji.packages) {\n\t\t\tif (emoji.packages.hasOwnProperty(emojiPackage)) {\n\t\t\t\tif (actualTone > 0 && emoji.packages[emojiPackage].toneList.hasOwnProperty(_emoji)) {\n\t\t\t\t\ttone = `_tone${actualTone}`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetSearchTerm('');\n\n\t\tonPickEmoji(_emoji + tone);\n\t\taddRecentEmoji(_emoji + tone);\n\t\tonClose();\n\t};\n\n\tuseEffect(() => {\n\t\tif (recentEmojis.length === 0 && currentCategory === 'recent') {\n\t\t\tconst customEmojiList = getEmojiListsByCategory().filter(({ key }) => key === 'rocket');\n\t\t\thandleGoToCategory(customEmojiList.length > 0 ? 0 : 1);\n\t\t}\n\t}, [actualTone, recentEmojis, getEmojiListsByCategory, currentCategory, setRecentEmojis]);\n\n\tconst handleSearch = (e: ChangeEvent<HTMLInputElement>) => {\n\t\tsetSearchTerm(e.target.value);\n\t\tsetCurrentCategory('');\n\t\tsetSearching(e.target.value !== '');\n\n\t\tconst emojisResult = getEmojisBySearchTerm(e.target.value, actualTone, recentEmojis, setRecentEmojis);\n\n\t\tif (emojisResult.filter((emoji) => emoji.image).length === 0) {\n\t\t\tsetCurrentCategory('no-results');\n\t\t}\n\t\tsetSearchResults(emojisResult as EmojiItem[]);\n\t};\n\n\tconst handleKeyDown = (e: KeyboardEvent<HTMLInputElement>) => {\n\t\tif (e.key === 'Escape') {\n\t\t\tonClose();\n\t\t}\n\t};\n\n\tconst handleLoadMore = () => {\n\t\tsetCustomItemsLimit(customItemsLimit + 90);\n\t};\n\n\t// FIXME: not able to type the event scroll yet due the virtuoso version\n\tconst handleScroll = (event: any) => {\n\t\tconst scrollTop = event?.scrollTop;\n\t\tconst last = categoriesPosition.current?.filter((pos) => pos.top <= scrollTop).pop();\n\n\t\tif (!last) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { el } = last;\n\t\tconst category = el.id.replace('emoji-list-category-', '');\n\n\t\tsetCurrentCategory(category);\n\t};\n\n\tconst handleGoToCategory = (categoryIndex: number) => {\n\t\tsetSearching(false);\n\t\tvirtuosoRef.current?.scrollToIndex({ index: categoryIndex });\n\t};\n\n\tconst handleGoToAddCustom = () => {\n\t\tcustomEmojiRoute.push();\n\t\tonClose();\n\t};\n\n\treturn (\n\t\t<EmojiPickerDropdown reference={ref as RefObject<HTMLElement>} ref={emojiContainerRef}>\n\t\t\t<EmojiPickerContainer role='dialog' aria-label={t('Emoji_picker')} onKeyDown={handleKeyDown}>\n\t\t\t\t<EmojiPickerHeader>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tref={textInputRef}\n\t\t\t\t\t\tvalue={searchTerm}\n\t\t\t\t\t\tonChange={handleSearch}\n\t\t\t\t\t\taddon={<Icon name='magnifier' size='x20' />}\n\t\t\t\t\t\tplaceholder={t('Search')}\n\t\t\t\t\t\taria-label={t('Search')}\n\t\t\t\t\t/>\n\t\t\t\t</EmojiPickerHeader>\n\t\t\t\t<EmojiPickerCategoryHeader role='tablist' {...(scrollCategories && { overflowX: 'scroll', h: 'x64' })}>\n\t\t\t\t\t{emojiCategories.map((category, index) => (\n\t\t\t\t\t\t<EmojiPickerCategoryItem\n\t\t\t\t\t\t\tkey={category.key}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\tcategory={category}\n\t\t\t\t\t\t\tactive={category.key === currentCategory}\n\t\t\t\t\t\t\thandleGoToCategory={handleGoToCategory}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</EmojiPickerCategoryHeader>\n\t\t\t\t<Divider mb={12} />\n\t\t\t\t<EmojiPickerListArea role='tabpanel'>\n\t\t\t\t\t{searching && <SearchingResult searchResults={searchResults} handleSelectEmoji={handleSelectEmoji} />}\n\t\t\t\t\t{!searching && (\n\t\t\t\t\t\t<CategoriesResult\n\t\t\t\t\t\t\tref={virtuosoRef}\n\t\t\t\t\t\t\temojiListByCategory={getEmojiListsByCategory()}\n\t\t\t\t\t\t\tcategoriesPosition={categoriesPosition}\n\t\t\t\t\t\t\tcustomItemsLimit={customItemsLimit}\n\t\t\t\t\t\t\thandleLoadMore={handleLoadMore}\n\t\t\t\t\t\t\thandleSelectEmoji={handleSelectEmoji}\n\t\t\t\t\t\t\thandleScroll={handleScroll}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</EmojiPickerListArea>\n\t\t\t\t<EmojiPickerPreviewArea>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{emojiToPreview && <EmojiPickerPreview emoji={emojiToPreview.emoji} name={emojiToPreview.name} />}\n\t\t\t\t\t\t{canManageEmoji && emojiToPreview === null && (\n\t\t\t\t\t\t\t<Button small onClick={handleGoToAddCustom}>\n\t\t\t\t\t\t\t\t{t('Add_emoji')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<ToneSelectorWrapper caption={t('Skin_tone')}>\n\t\t\t\t\t\t<ToneSelector tone={actualTone} setTone={setActualTone} />\n\t\t\t\t\t</ToneSelectorWrapper>\n\t\t\t\t</EmojiPickerPreviewArea>\n\t\t\t\t<EmojiPickerFooter>{t('Powered_by_JoyPixels')}</EmojiPickerFooter>\n\t\t\t</EmojiPickerContainer>\n\t\t</EmojiPickerDropdown>\n\t);\n};\n\nexport default EmojiPicker;\n",null],"names":["_extends","_slicedToArray","TextInput","Icon","Button","Divider","useMediaQuery","useOutsideClick","EmojiPickerCategoryHeader","EmojiPickerContainer","EmojiPickerFooter","EmojiPickerPreviewArea","EmojiPickerHeader","EmojiPickerListArea","EmojiPickerPreview","useTranslation","usePermission","useRoute","React","useLayoutEffect","useState","useEffect","useRef","emoji","getCategoriesList","getEmojisBySearchTerm","usePreviewEmoji","useEmojiPickerData","useIsVisible","CategoriesResult","EmojiPickerCategoryItem","EmojiPickerDropdown","SearchingResult","ToneSelector","ToneSelectorWrapper","module","link","default","v","exportDefault","_ref","reference","onClose","onPickEmoji","t","ref","categoriesPosition","textInputRef","virtuosoRef","emojiContainerRef","isInputVisible","emojiCategories","canManageEmoji","customEmojiRoute","_useState2","searching","setSearching","_useState4","searchTerm","setSearchTerm","_useState6","searchResults","setSearchResults","_usePreviewEmoji","emojiToPreview","handleRemovePreview","_useEmojiPickerData","recentEmojis","setCurrentCategory","addRecentEmoji","setRecentEmojis","actualTone","currentCategory","getEmojiListsByCategory","customItemsLimit","setActualTone","setCustomItemsLimit","scrollCategories","resizeObserver","ResizeObserver","anchorRect","getBoundingClientRect","width","height","current","observe","disconnect","focus","handleSelectEmoji","event","stopPropagation","_event$currentTarget$","_emoji","currentTarget","dataset","tone","emojiPackage","meteorBabelHelpers","sanitizeForInObject","packages","hasOwnProperty","toneList","length","handleGoToCategory","customEmojiList","filter","_ref2","key","categoryIndex","_virtuosoRef$current","scrollToIndex","index","createElement","role","onKeyDown","e","autoFocus","value","onChange","target","emojisResult","image","addon","name","size","placeholder","overflowX","h","map","category","active","mb","emojiListByCategory","handleLoadMore","handleScroll","_categoriesPosition$c","scrollTop","last","pos","top","pop","el","id","replace","small","onClick","push","caption","setTone"],"mappings":"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"}