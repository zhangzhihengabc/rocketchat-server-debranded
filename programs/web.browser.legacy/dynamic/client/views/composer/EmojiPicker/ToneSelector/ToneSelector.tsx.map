)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/composer/EmojiPicker/ToneSelector/ToneSelector.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { IconButton, useCursor, PositionAnimated, Options } from '@rocket.chat/fuselage';\nimport type { ReactElement } from 'react';\nimport React, { useMemo, useRef, useCallback, useEffect } from 'react';\n\nimport ToneItem from './ToneItem';\n\nconst ToneSelector = ({ tone, setTone }: { tone: number; setTone: (tone: number) => void }) => {\n\tconst options = useMemo(() => {\n\t\tconst renderOption = (tone: number): ReactElement => <ToneItem tone={tone} />;\n\n\t\tconst statuses: Array<[value: number, label: ReactElement, selected: boolean]> = [\n\t\t\t[0, renderOption(0), tone === 0],\n\t\t\t[1, renderOption(1), tone === 1],\n\t\t\t[2, renderOption(2), tone === 2],\n\t\t\t[3, renderOption(3), tone === 3],\n\t\t\t[4, renderOption(4), tone === 4],\n\t\t\t[5, renderOption(5), tone === 5],\n\t\t];\n\n\t\treturn statuses;\n\t}, [tone]);\n\n\tconst [cursor, handleKeyDown, handleKeyUp, reset, [visible, hide, show]] = useCursor(-1, options, ([selected], [, hide]) => {\n\t\tsetTone(selected);\n\t\treset();\n\t\thide();\n\t});\n\n\tconst ref = useRef<HTMLButtonElement>(null);\n\tconst onClick = useCallback(() => {\n\t\tif (!ref?.current) {\n\t\t\treturn;\n\t\t}\n\t\tref.current.focus();\n\t\tshow();\n\t\tref.current.classList.add('focus-visible');\n\t}, [show]);\n\n\tconst handleSelection = useCallback(\n\t\t([selected]) => {\n\t\t\tsetTone(selected);\n\t\t\treset();\n\t\t\thide();\n\t\t},\n\t\t[hide, reset, setTone],\n\t);\n\n\tuseEffect(() => setTone(tone), [tone, setTone]);\n\n\treturn (\n\t\t<>\n\t\t\t<IconButton\n\t\t\t\tmedium\n\t\t\t\tref={ref}\n\t\t\t\tonClick={onClick}\n\t\t\t\tonBlur={hide}\n\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\tonKeyDown={handleKeyDown}\n\t\t\t\tmis={4}\n\t\t\t\ticon={<ToneItem tone={tone} />}\n\t\t\t/>\n\t\t\t<PositionAnimated width='auto' visible={visible} anchor={ref} placement='left-middle'>\n\t\t\t\t<Options onSelect={handleSelection} options={options} cursor={cursor} />\n\t\t\t</PositionAnimated>\n\t\t</>\n\t);\n};\n\nexport default ToneSelector;\n",null],"names":["_slicedToArray","IconButton","useCursor","PositionAnimated","Options","React","useMemo","useRef","useCallback","useEffect","ToneItem","module","link","default","v","exportDefault","_ref","tone","setTone","options","renderOption","createElement","_useCursor","_ref2","_ref3","selected","_ref4","hide","_ref5","reset","_useCursor2","cursor","handleKeyDown","handleKeyUp","_useCursor2$","visible","show","ref","onClick","current","focus","classList","add","handleSelection","_ref6","_ref7","Fragment","medium","onBlur","onKeyUp","onKeyDown","mis","icon","width","anchor","placement","onSelect"],"mappings":"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"}