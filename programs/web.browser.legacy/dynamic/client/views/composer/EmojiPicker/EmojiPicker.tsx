function module(e,n,t){var i,o,r,c,l,a,u,s,f,m,d,k,E,g,v,j,h,p,y,P,C,b,T,w,x,S,I,L,R,B,D,_,A,O,z;t.link("@babel/runtime/helpers/extends",{default:function(e){i=e}},0),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},1),t.link("@rocket.chat/fuselage",{TextInput:function(e){r=e},Icon:function(e){c=e},Button:function(e){l=e},Divider:function(e){a=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMediaQuery:function(e){u=e},useOutsideClick:function(e){s=e}},1),t.link("@rocket.chat/ui-client",{EmojiPickerCategoryHeader:function(e){f=e},EmojiPickerContainer:function(e){m=e},EmojiPickerFooter:function(e){d=e},EmojiPickerPreviewArea:function(e){k=e},EmojiPickerHeader:function(e){E=e},EmojiPickerListArea:function(e){g=e},EmojiPickerPreview:function(e){v=e}},2),t.link("@rocket.chat/ui-contexts",{useTranslation:function(e){j=e},usePermission:function(e){h=e},useRoute:function(e){p=e}},3),t.link("react",{default:function(e){y=e},useLayoutEffect:function(e){P=e},useState:function(e){C=e},useEffect:function(e){b=e},useRef:function(e){T=e}},4),t.link("../../../../app/emoji/client",{emoji:function(e){w=e},getCategoriesList:function(e){x=e},getEmojisBySearchTerm:function(e){S=e}},5),t.link("../../../contexts/EmojiPickerContext",{usePreviewEmoji:function(e){I=e},useEmojiPickerData:function(e){L=e}},6),t.link("../../room/hooks/useIsVisible",{useIsVisible:function(e){R=e}},7),t.link("./CategoriesResult",{default:function(e){B=e}},8),t.link("./EmojiPickerCategoryItem",{default:function(e){D=e}},9),t.link("./EmojiPickerDropDown",{default:function(e){_=e}},10),t.link("./SearchingResult",{default:function(e){A=e}},11),t.link("./ToneSelector",{default:function(e){O=e}},12),t.link("./ToneSelector/ToneSelectorWrapper",{default:function(e){z=e}},13),t.exportDefault(function(e){var n=e.reference,t=e.onClose,F=e.onPickEmoji,H=j(),M=T(n),V=T([]),G=T(null),J=T(null),K=T(null),Q=R(G),W=x(),X=h("manage-emoji"),q=p("emoji-custom"),N=o(C(!1),2),U=N[0],Y=N[1],Z=o(C(""),2),$=Z[0],ee=Z[1],en=o(C([]),2),et=en[0],ei=en[1],eo=I(),er=eo.emojiToPreview,ec=eo.handleRemovePreview,el=L(),ea=el.recentEmojis,eu=el.setCurrentCategory,es=el.addRecentEmoji,ef=el.setRecentEmojis,em=el.actualTone,ed=el.currentCategory,ek=el.getEmojiListsByCategory,eE=el.customItemsLimit,eg=el.setActualTone,ev=el.setCustomItemsLimit;b(function(){return function(){return ec()}},[ec]);var ej=u("(width < 340px)");s([K],t),P(function(){if(n){var e=new ResizeObserver(function(){var e=n.getBoundingClientRect();if(0===e.width&&0===e.height){M.current=null;return}M.current=n});return e.observe(n),function(){e.disconnect()}}},[n]),b(function(){G.current&&Q&&G.current.focus()},[Q]);var eh=function(e){e.stopPropagation();var n,i=null===(n=e.currentTarget.dataset)||void 0===n?void 0:n.emoji;if(i){var o="";for(var r in meteorBabelHelpers.sanitizeForInObject(w.packages))w.packages.hasOwnProperty(r)&&em>0&&w.packages[r].toneList.hasOwnProperty(i)&&(o="_tone"+em);ee(""),F(i+o),es(i+o),t()}};b(function(){0===ea.length&&"recent"===ed&&ep(ek().filter(function(e){return"rocket"===e.key}).length>0?0:1)},[em,ea,ek,ed,ef]);var ep=function(e){var n;Y(!1),null===(n=J.current)||void 0===n||n.scrollToIndex({index:e})};return y.createElement(_,{reference:M,ref:K},y.createElement(m,{role:"dialog","aria-label":H("Emoji_picker"),onKeyDown:function(e){"Escape"===e.key&&t()}},y.createElement(E,null,y.createElement(r,{autoFocus:!0,ref:G,value:$,onChange:function(e){ee(e.target.value),eu(""),Y(""!==e.target.value);var n=S(e.target.value,em,ea,ef);0===n.filter(function(e){return e.image}).length&&eu("no-results"),ei(n)},addon:y.createElement(c,{name:"magnifier",size:"x20"}),placeholder:H("Search"),"aria-label":H("Search")})),y.createElement(f,i({role:"tablist"},ej&&{overflowX:"scroll",h:"x64"}),W.map(function(e,n){return y.createElement(D,{key:e.key,index:n,category:e,active:e.key===ed,handleGoToCategory:ep})})),y.createElement(a,{mb:12}),y.createElement(g,{role:"tabpanel"},U&&y.createElement(A,{searchResults:et,handleSelectEmoji:eh}),!U&&y.createElement(B,{ref:J,emojiListByCategory:ek(),categoriesPosition:V,customItemsLimit:eE,handleLoadMore:function(){ev(eE+90)},handleSelectEmoji:eh,handleScroll:function(e){var n,t=null==e?void 0:e.scrollTop,i=null===(n=V.current)||void 0===n?void 0:n.filter(function(e){return e.top<=t}).pop();i&&eu(i.el.id.replace("emoji-list-category-",""))}})),y.createElement(k,null,y.createElement("div",null,er&&y.createElement(v,{emoji:er.emoji,name:er.name}),X&&null===er&&y.createElement(l,{small:!0,onClick:function(){q.push(),t()}},H("Add_emoji"))),y.createElement(z,{caption:H("Skin_tone")},y.createElement(O,{tone:em,setTone:eg}))),y.createElement(d,null,H("Powered_by_JoyPixels"))))})}
//# sourceMappingURL=/dynamic/client/views/composer/EmojiPicker/a5f6ea62b11a3ece61225daca8144a196c61b4a9.map
