)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/departments/DepartmentAgentsTable/DepartmentAgentsTable.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Pagination } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useMemo } from 'react';\nimport type { Control, UseFormRegister } from 'react-hook-form';\nimport { useWatch, useFieldArray } from 'react-hook-form';\n\nimport { GenericTable, GenericTableBody, GenericTableHeader, GenericTableHeaderCell } from '../../../../components/GenericTable';\nimport { usePagination } from '../../../../components/GenericTable/hooks/usePagination';\nimport type { FormValues } from '../EditDepartment';\nimport AddAgent from './AddAgent';\nimport AgentRow from './AgentRow';\n\ntype DepartmentAgentsTableProps = {\n\tcontrol: Control<FormValues>;\n\tregister: UseFormRegister<FormValues>;\n};\n\nfunction DepartmentAgentsTable({ control, register }: DepartmentAgentsTableProps) {\n\tconst t = useTranslation();\n\tconst { fields, append, remove } = useFieldArray({ control, name: 'agentList' });\n\tconst agentList = useWatch({ control, name: 'agentList' });\n\n\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = usePagination();\n\tconst page = useMemo(() => fields.slice(current, current + itemsPerPage), [current, fields, itemsPerPage]);\n\n\treturn (\n\t\t<>\n\t\t\t<AddAgent agentList={agentList} data-qa='DepartmentSelect-AgentsTable' onAdd={append} />\n\n\t\t\t<GenericTable>\n\t\t\t\t<GenericTableHeader>\n\t\t\t\t\t<GenericTableHeaderCell w='x200'>{t('Name')}</GenericTableHeaderCell>\n\t\t\t\t\t<GenericTableHeaderCell w='x140'>{t('Count')}</GenericTableHeaderCell>\n\t\t\t\t\t<GenericTableHeaderCell w='x120'>{t('Order')}</GenericTableHeaderCell>\n\t\t\t\t\t<GenericTableHeaderCell w='x40'>{t('Remove')}</GenericTableHeaderCell>\n\t\t\t\t</GenericTableHeader>\n\n\t\t\t\t<GenericTableBody>\n\t\t\t\t\t{page.map((agent, index) => (\n\t\t\t\t\t\t<AgentRow key={agent.id} index={index} agent={agent} register={register} onRemove={() => remove(index)} />\n\t\t\t\t\t))}\n\t\t\t\t</GenericTableBody>\n\t\t\t</GenericTable>\n\n\t\t\t<Pagination\n\t\t\t\tdivider\n\t\t\t\tcurrent={current}\n\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\tcount={fields.length}\n\t\t\t\tonSetItemsPerPage={onSetItemsPerPage}\n\t\t\t\tonSetCurrent={onSetCurrent}\n\t\t\t\t{...paginationProps}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default DepartmentAgentsTable;\n",null],"names":["_extends","_objectWithoutProperties","Pagination","useTranslation","React","useMemo","useWatch","useFieldArray","GenericTable","GenericTableBody","GenericTableHeader","GenericTableHeaderCell","usePagination","AddAgent","AgentRow","module","link","default","v","exportDefault","_ref","control","register","t","_useFieldArray","name","fields","append","remove","agentList","_usePagination","current","itemsPerPage","onSetItemsPerPage","setItemsPerPage","onSetCurrent","setCurrent","paginationProps","_excluded","page","slice","createElement","Fragment","onAdd","w","map","agent","index","key","id","onRemove","divider","count","length"],"mappings":"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"}