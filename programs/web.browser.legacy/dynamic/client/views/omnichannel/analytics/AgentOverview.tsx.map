)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/analytics/AgentOverview.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Table, TableBody, TableCell, TableHead, TableRow } from '@rocket.chat/fuselage';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useMemo, useEffect, useState } from 'react';\n\nconst style = { width: '100%' };\n\nconst AgentOverview = ({\n\ttype,\n\tdateRange,\n\tdepartmentId,\n}: {\n\ttype: string;\n\tdateRange: { start: string; end: string };\n\tdepartmentId: string;\n}) => {\n\tconst t = useTranslation();\n\tconst { start, end } = dateRange;\n\n\tconst params = useMemo(\n\t\t() => ({\n\t\t\tname: type,\n\t\t\tfrom: start,\n\t\t\tto: end,\n\t\t\t...(departmentId && { departmentId }),\n\t\t}),\n\t\t[departmentId, end, start, type],\n\t);\n\n\tconst [displayData, setDisplayData] = useState<{ head: { name: string }[]; data: { name: string; value: number | string }[] }>({\n\t\thead: [],\n\t\tdata: [],\n\t});\n\n\tconst loadData = useEndpoint('GET', '/v1/livechat/analytics/agent-overview');\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tif (!start || !end) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst value = await loadData(params);\n\t\t\tsetDisplayData(value);\n\t\t}\n\t\tfetchData();\n\t}, [start, end, loadData, params]);\n\n\treturn (\n\t\t<Table style={style} fixed>\n\t\t\t<TableHead>\n\t\t\t\t<TableRow>\n\t\t\t\t\t{displayData.head?.map(({ name }, i) => (\n\t\t\t\t\t\t<TableCell key={i}>{t(name as TranslationKey)}</TableCell>\n\t\t\t\t\t))}\n\t\t\t\t</TableRow>\n\t\t\t</TableHead>\n\t\t\t<TableBody>\n\t\t\t\t{displayData.data?.map(({ name, value }, i) => (\n\t\t\t\t\t<TableRow key={i}>\n\t\t\t\t\t\t<TableCell>{name}</TableCell>\n\t\t\t\t\t\t<TableCell>{value}</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t))}\n\t\t\t</TableBody>\n\t\t</Table>\n\t);\n};\n\nexport default AgentOverview;\n",null],"names":["module","link","default","_regeneratorRuntime","v","_slicedToArray","_objectSpread","Table","TableBody","TableCell","TableHead","TableRow","useEndpoint","useTranslation","React","useMemo","useEffect","useState","style","width","exportDefault","_ref","_displayData$head","_displayData$data","type","dateRange","departmentId","t","start","end","params","name","from","to","_useState2","head","data","displayData","setDisplayData","loadData","async","_context","prev","next","abrupt","awrap","sent","stop","Promise","createElement","fixed","map","_ref2","i","key","_ref3","value"],"mappings":"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"}