)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/triggers/TriggersRow.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { ILivechatTrigger } from '@rocket.chat/core-typings';\nimport { IconButton } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSetModal, useToastMessageDispatch, useRoute, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\nimport React, { memo } from 'react';\n\nimport GenericModal from '../../../components/GenericModal';\nimport { GenericTableCell, GenericTableRow } from '../../../components/GenericTable';\n\ntype TriggersRowProps = Pick<ILivechatTrigger, '_id' | 'name' | 'description' | 'enabled'> & { reload: () => void };\n\nconst TriggersRow = ({ _id, name, description, enabled, reload }: TriggersRowProps) => {\n\tconst t = useTranslation();\n\tconst setModal = useSetModal();\n\tconst triggersRoute = useRoute('omnichannel-triggers');\n\tconst deleteTrigger = useEndpoint('DELETE', '/v1/livechat/triggers/:_id', { _id });\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleClick = useMutableCallback(() => {\n\t\ttriggersRoute.push({\n\t\t\tcontext: 'edit',\n\t\t\tid: _id,\n\t\t});\n\t});\n\n\tconst handleKeyDown = useMutableCallback((e) => {\n\t\tif (!['Enter', 'Space'].includes(e.nativeEvent.code)) {\n\t\t\treturn;\n\t\t}\n\n\t\thandleClick();\n\t});\n\n\tconst handleDelete = useMutableCallback((e) => {\n\t\te.stopPropagation();\n\t\tconst onDeleteTrigger = async () => {\n\t\t\ttry {\n\t\t\t\tawait deleteTrigger();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Trigger_removed') });\n\t\t\t\treload();\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tsetModal();\n\t\t};\n\n\t\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteTrigger} onCancel={() => setModal()} confirmText={t('Delete')} />);\n\t});\n\n\treturn (\n\t\t<GenericTableRow key={_id} role='link' action tabIndex={0} onClick={handleClick} onKeyDown={handleKeyDown}>\n\t\t\t<GenericTableCell withTruncatedText>{name}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{description}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{enabled ? t('Yes') : t('No')}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>\n\t\t\t\t<IconButton icon='trash' small title={t('Remove')} onClick={handleDelete} />\n\t\t\t</GenericTableCell>\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default memo(TriggersRow);\n",null],"names":["_regeneratorRuntime","IconButton","useMutableCallback","useSetModal","useToastMessageDispatch","useRoute","useTranslation","useEndpoint","React","memo","GenericModal","GenericTableCell","GenericTableRow","module","link","default","v","exportDefault","_ref","_id","name","description","enabled","reload","t","setModal","triggersRoute","deleteTrigger","dispatchToastMessage","handleClick","push","context","id","handleKeyDown","e","includes","nativeEvent","code","handleDelete","stopPropagation","createElement","variant","onConfirm","async","_context","prev","next","awrap","type","message","t0","stop","Promise","onCancel","confirmText","key","role","action","tabIndex","onClick","onKeyDown","withTruncatedText","icon","small","title"],"mappings":"uBAWA,IAVAA,EAAAC,EAAmDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9BC,EAAMC,IAAA,CAAA,6BAAwB,CAAAC,QAAAA,SAAAA,CAAAA,EAAAf,EAAAA,CAAA,CAAA,EAAA,GAA1Ca,EAAYC,IAAA,CAAM,wBAAwB,CAAAb,WAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAY,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAX,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAW,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAV,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAR,EAAAA,CAAA,EAAAC,KAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,mCAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAF,iBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAnDC,EAAOI,aAAY,CA4DJR,EAlDK,SAAAS,CAAA,EAAkE,IAA/DC,EAAGD,EAAHC,GAAG,CAAEC,EAAIF,EAAJE,IAAI,CAAEC,EAAWH,EAAXG,WAAW,CAAEC,EAAOJ,EAAPI,OAAO,CAAEC,EAAML,EAANK,MAAM,CACvDC,EAAIlB,IACJmB,EAAWtB,IACXuB,EAAgBrB,EAAS,wBACzBsB,EAAgBpB,EAAY,SAAU,6BAA8B,CAAEY,IAAAA,CAAG,GACzES,EAAuBxB,IAEvByB,EAAc3B,EAAmB,WACtCwB,EAAcI,IAAI,CAAC,CAClBC,QAAS,OACTC,GAAIb,GAEN,GAEMc,EAAgB/B,EAAmB,SAACgC,CAAC,EACrC,CAAC,QAAS,QAAQ,CAACC,QAAQ,CAACD,EAAEE,WAAW,CAACC,IAAI,GAInDR,GACD,GAEMS,EAAepC,EAAmB,SAACgC,CAAC,EACzCA,EAAEK,eAAe,GAYjBd,EAASjB,EAAAgC,aAAA,CAAC9B,EAAY,CAAC+B,QAAQ,SAASC,UAXhB,WAAA,OAAA1C,EAAA2C,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAE,IAAA,CAAA,EAAA9C,EAAA+C,KAAA,CAEhBpB,IAAe,MAAA,EACrBC,EAAqB,CAAEoB,KAAM,UAAWC,QAASzB,EAAE,kBAAkB,GACrED,IAASqB,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,EAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAM,EAAA,CAAAN,EAAA,KAAA,CAAA,GAEThB,EAAqB,CAAEoB,KAAM,QAASC,QAAOL,EAAAM,EAAA,AAAO,EAAI,MAAA,GAEzDzB,GAAW,MAAA,GAAA,IAAA,MAAA,OAAAmB,EAAAO,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAAC,QAAA,EAGwDC,SAAU,WAAA,OAAM5B,GAAU,EAAE6B,YAAa9B,EAAE,SAAU,GAC1H,GAEA,OACChB,EAAAgC,aAAA,CAAC5B,EAAe,CAAC2C,IAAKpC,EAAKqC,KAAK,OAAOC,OAAM,CAAA,EAACC,SAAU,EAAGC,QAAS9B,EAAa+B,UAAW3B,CAAc,EACzGzB,EAAAgC,aAAA,CAAC7B,EAAgB,CAACkD,kBAAiB,CAAA,CAAA,EAAEzC,GACrCZ,EAAAgC,aAAA,CAAC7B,EAAgB,CAACkD,kBAAiB,CAAA,CAAA,EAAExC,GACrCb,EAAAgC,aAAA,CAAC7B,EAAgB,CAACkD,kBAAiB,CAAA,CAAA,EAAEvC,EAAUE,EAAE,OAASA,EAAE,OAC5DhB,EAAAgC,aAAA,CAAC7B,EAAgB,CAACkD,kBAAiB,CAAA,CAAA,EAClCrD,EAAAgC,aAAA,CAACvC,EAAU,CAAC6D,KAAK,QAAQC,MAAK,CAAA,EAACC,MAAOxC,EAAE,UAAWmC,QAASrB,CAAa,IAI7E"}