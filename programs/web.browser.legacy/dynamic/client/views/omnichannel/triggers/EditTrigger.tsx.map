)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/triggers/EditTrigger.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { ILivechatTrigger, ILivechatTriggerCondition, Serialized } from '@rocket.chat/core-typings';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport {\n\tFieldGroup,\n\tButton,\n\tButtonGroup,\n\tBox,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tFieldError,\n\tTextInput,\n\tToggleSwitch,\n\tSelect,\n\tTextAreaInput,\n} from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useRouter, useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport React, { useMemo } from 'react';\nimport { Controller, useFieldArray, useForm } from 'react-hook-form';\n\nimport {\n\tContextualbarScrollableContent,\n\tContextualbarTitle,\n\tContextualbarFooter,\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarClose,\n} from '../../../components/Contextualbar';\n\nconst getInitialValues = (triggerData: Serialized<ILivechatTrigger> | undefined) => ({\n\tname: triggerData?.name || '',\n\tdescription: triggerData?.description || '',\n\tenabled: triggerData?.enabled || true,\n\trunOnce: !!triggerData?.runOnce || false,\n\tconditions: triggerData?.conditions.map(({ name, value }) => ({ name: name || 'page-url', value: value || '' })) || [\n\t\t{ name: 'page-url' as unknown as ILivechatTriggerCondition['name'], value: '' },\n\t],\n\tactions: triggerData?.actions.map(({ name, params }) => ({\n\t\tname: name || '',\n\t\tparams: {\n\t\t\tsender: params?.sender || 'queue',\n\t\t\tmsg: params?.msg || '',\n\t\t\tname: params?.name || '',\n\t\t},\n\t})) || [\n\t\t{\n\t\t\tname: 'send-message',\n\t\t\tparams: {\n\t\t\t\tsender: 'queue',\n\t\t\t\tmsg: '',\n\t\t\t\tname: '',\n\t\t\t},\n\t\t},\n\t],\n});\n\ntype TriggersPayload = {\n\tname: string;\n\tdescription: string;\n\tenabled: boolean;\n\trunOnce: boolean;\n\t// In the future, this will be an array\n\tconditions: ILivechatTrigger['conditions'];\n\t// In the future, this will be an array\n\tactions: ILivechatTrigger['actions'];\n};\n\nconst EditTrigger = ({ triggerData }: { triggerData?: Serialized<ILivechatTrigger> }) => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst queryClient = useQueryClient();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst saveTrigger = useEndpoint('POST', '/v1/livechat/triggers');\n\n\tconst {\n\t\tcontrol,\n\t\thandleSubmit,\n\t\tformState: { isDirty, errors },\n\t\twatch,\n\t} = useForm<TriggersPayload>({ mode: 'onBlur', values: getInitialValues(triggerData) });\n\n\tconst { fields: conditionsFields } = useFieldArray({\n\t\tcontrol,\n\t\tname: 'conditions',\n\t});\n\n\tconst { fields: actionsFields } = useFieldArray({\n\t\tcontrol,\n\t\tname: 'actions',\n\t});\n\n\tconst { description, conditions, actions } = watch();\n\n\tconst conditionOptions: SelectOption[] = useMemo(\n\t\t() => [\n\t\t\t['page-url', t('Visitor_page_URL')],\n\t\t\t['time-on-site', t('Visitor_time_on_site')],\n\t\t\t['chat-opened-by-visitor', t('Chat_opened_by_visitor')],\n\t\t\t['after-guest-registration', t('After_guest_registration')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst conditionValuePlaceholders: { [conditionName: string]: string } = useMemo(\n\t\t() => ({\n\t\t\t'page-url': t('Enter_a_regex'),\n\t\t\t'time-on-site': t('Time_in_seconds'),\n\t\t}),\n\t\t[t],\n\t);\n\n\tconst senderOptions: SelectOption[] = useMemo(\n\t\t() => [\n\t\t\t['queue', t('Impersonate_next_agent_from_queue')],\n\t\t\t['custom', t('Custom_agent')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst saveTriggerMutation = useMutation({\n\t\tmutationFn: saveTrigger,\n\t\tonSuccess: () => {\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t\tqueryClient.invalidateQueries(['livechat-triggers']);\n\t\t\trouter.navigate('/omnichannel/triggers');\n\t\t},\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleSave = async (data: TriggersPayload) => {\n\t\tsaveTriggerMutation.mutateAsync({ ...data, _id: triggerData?._id });\n\t};\n\n\tconst formId = useUniqueId();\n\tconst enabledField = useUniqueId();\n\tconst runOnceField = useUniqueId();\n\tconst nameField = useUniqueId();\n\tconst descriptionField = useUniqueId();\n\tconst conditionField = useUniqueId();\n\tconst actionField = useUniqueId();\n\tconst actionMessageField = useUniqueId();\n\n\treturn (\n\t\t<Contextualbar>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{triggerData?._id ? t('Edit_Trigger') : t('New_Trigger')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/omnichannel/triggers')} />\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<form id={formId} onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row'>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={enabledField}>{t('Enabled')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='enabled'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => <ToggleSwitch id={enabledField} {...field} checked={value} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='row'>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={runOnceField}>{t('Run_only_once_for_each_visitor')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='runOnce'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => <ToggleSwitch id={runOnceField} {...field} checked={value} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={nameField} required>\n\t\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('The_field_is_required', t('Name')) }}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tid={nameField}\n\t\t\t\t\t\t\t\t\t\t\terror={errors?.name?.message}\n\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.name)}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${nameField}-error`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.name && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors?.name.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={descriptionField}>{t('Description')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput id={descriptionField} {...field} value={description} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t{conditionsFields.map((_, index) => {\n\t\t\t\t\t\t\tconst conditionValuePlaceholder = conditionValuePlaceholders[conditions[index].name];\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Field key={index}>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={conditionField}>{t('Condition')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\tname={`conditions.${index}.name`}\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field }) => <Select id={conditionField} {...field} options={conditionOptions} />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t\t{conditionValuePlaceholder && (\n\t\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\t\tname={`conditions.${index}.value`}\n\t\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput {...field} placeholder={conditionValuePlaceholder} />}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t{actionsFields.map((_, index) => (\n\t\t\t\t\t\t\t<Field key={index}>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={actionField}>{t('Action')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<TextInput value={t('Send_a_message')} readOnly />\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname={`actions.${index}.params.sender`}\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<Select id={actionField} {...field} options={senderOptions} placeholder={t('Select_an_option')} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t{actions[index].params?.sender === 'custom' && (\n\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\tname={`actions.${index}.params.name`}\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput {...field} placeholder={t('Name_of_agent')} />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname={`actions.${index}.params.msg`}\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trules={{ required: t('The_field_is_required', t('Message')) }}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<TextAreaInput\n\t\t\t\t\t\t\t\t\t\t\t\terror={errors.actions?.[index]?.params?.msg?.message}\n\t\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors.actions?.[index]?.params?.msg)}\n\t\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${actionMessageField}-error`}\n\t\t\t\t\t\t\t\t\t\t\t\taria-required={true}\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={`${t('Message')}*`}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t{errors.actions?.[index]?.params?.msg && (\n\t\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${actionMessageField}-error`}>\n\t\t\t\t\t\t\t\t\t\t{errors.actions?.[index]?.params?.msg?.message}\n\t\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</form>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={() => router.navigate('/omnichannel/triggers')}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={formId} type='submit' primary disabled={!isDirty}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default EditTrigger;\n",null],"names":["_extends","_objectWithoutProperties","_regeneratorRuntime","_objectSpread","FieldGroup","Button","ButtonGroup","Box","Field","FieldLabel","FieldRow","FieldError","TextInput","ToggleSwitch","Select","TextAreaInput","useUniqueId","useToastMessageDispatch","useRouter","useEndpoint","useTranslation","useMutation","useQueryClient","React","useMemo","Controller","useFieldArray","useForm","ContextualbarScrollableContent","ContextualbarTitle","ContextualbarFooter","Contextualbar","ContextualbarHeader","ContextualbarClose","module","link","default","v","exportDefault","_ref3","triggerData","t","router","queryClient","dispatchToastMessage","saveTrigger","_useForm","mode","values","name","description","enabled","runOnce","conditions","map","_ref","value","actions","_ref2","params","sender","msg","control","handleSubmit","_useForm$formState","formState","isDirty","errors","watch","conditionsFields","_useFieldArray","fields","actionsFields","_useFieldArray2","_watch","conditionOptions","conditionValuePlaceholders","senderOptions","saveTriggerMutation","mutationFn","onSuccess","type","message","invalidateQueries","navigate","onError","error","formId","enabledField","runOnceField","nameField","descriptionField","conditionField","actionField","actionMessageField","createElement","_id","onClick","id","onSubmit","data","async","_context","prev","next","mutateAsync","stop","Promise","display","flexDirection","htmlFor","render","_ref4","_ref4$field","field","_excluded","checked","_ref5","_ref5$field","_excluded2","required","rules","_ref6","_errors$name","Boolean","_ref7","_","index","conditionValuePlaceholder","key","_ref8","options","_ref9","placeholder","_actions$index$params","_errors$actions3","_errors$actions3$inde","_errors$actions3$inde2","_errors$actions4","_errors$actions4$inde","_errors$actions4$inde2","_errors$actions4$inde3","readOnly","_ref10","_ref11","_ref12","_errors$actions","_errors$actions$index","_errors$actions$index2","_errors$actions$index3","_errors$actions2","_errors$actions2$inde","_errors$actions2$inde2","rows","stretch","form","primary","disabled"],"mappings":"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"}