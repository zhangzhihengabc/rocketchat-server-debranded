)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/webhooks/WebhooksPageContainer.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { ISetting, Serialized, SettingValue } from '@rocket.chat/core-typings';\nimport { Callout } from '@rocket.chat/fuselage';\nimport { useEndpoint, usePermission, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport React from 'react';\n\nimport Page from '../../../components/Page';\nimport PageSkeleton from '../../../components/PageSkeleton';\nimport NotAuthorizedPage from '../../notAuthorized/NotAuthorizedPage';\nimport WebhooksPage from './WebhooksPage';\n\nconst reduceSettings = (settings: Serialized<ISetting>[]) =>\n\tsettings.reduce<Record<string, SettingValue>>((acc, { _id, value }) => {\n\t\tacc = { ...acc, [_id]: value };\n\t\treturn acc;\n\t}, {});\n\nconst WebhooksPageContainer = () => {\n\tconst t = useTranslation();\n\n\tconst getIntegrationsSettings = useEndpoint('GET', '/v1/livechat/integrations.settings');\n\n\tconst { data, isLoading, isError } = useQuery(['/v1/livechat/integrations.settings'], async () => {\n\t\tconst { settings, success } = await getIntegrationsSettings();\n\t\treturn { settings: reduceSettings(settings), success };\n\t});\n\n\tconst canViewLivechatWebhooks = usePermission('view-livechat-webhooks');\n\n\tif (!canViewLivechatWebhooks) {\n\t\treturn <NotAuthorizedPage />;\n\t}\n\n\tif (isLoading) {\n\t\treturn <PageSkeleton />;\n\t}\n\n\tif (!data?.success || !data?.settings || isError) {\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Page.Header title={t('Webhooks')} />\n\t\t\t\t<Page.ScrollableContentWithShadow>\n\t\t\t\t\t<Callout type='danger'>{t('Error')}</Callout>\n\t\t\t\t</Page.ScrollableContentWithShadow>\n\t\t\t</Page>\n\t\t);\n\t}\n\n\treturn <WebhooksPage settings={data.settings} />;\n};\n\nexport default WebhooksPageContainer;\n",null],"names":["_regeneratorRuntime","_objectSpread","Callout","useEndpoint","usePermission","useTranslation","useQuery","React","Page","PageSkeleton","NotAuthorizedPage","WebhooksPage","module","default","link","v","exportDefault","t","getIntegrationsSettings","_useQuery","_await$getIntegration","settings","success","async","_context","prev","next","awrap","sent","abrupt","reduce","acc","_ref","_objectSpread2","_id","value","stop","Promise","data","isLoading","isError","createElement","Header","title","ScrollableContentWithShadow","type"],"mappings":"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"}