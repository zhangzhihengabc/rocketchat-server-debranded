function module(e,t,n){var l,o,i,a,u,c,r,s,m,f,d,E,p,k,v,h,g,b,y,F,T,C,_,D,A,x,I,M,B,S,w,Q,z,N;n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},0),n.link("@rocket.chat/fuselage",{Box:function(e){o=e},Margins:function(e){i=e},Tag:function(e){a=e},Button:function(e){u=e},ButtonGroup:function(e){c=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){r=e}},1),n.link("@rocket.chat/ui-contexts",{useToastMessageDispatch:function(e){s=e},useRoute:function(e){m=e},useUserSubscription:function(e){f=e},useTranslation:function(e){d=e}},2),n.link("meteor/meteor",{Meteor:function(e){E=e}},3),n.link("moment",{default:function(e){p=e}},4),n.link("react",{default:function(e){k=e},useEffect:function(e){v=e},useMemo:function(e){h=e},useState:function(e){g=e}},5),n.link("../../../../../../app/authorization/client",{hasPermission:function(e){b=e}},6),n.link("../../../../../components/Contextualbar",{ContextualbarScrollableContent:function(e){y=e},ContextualbarFooter:function(e){F=e}},7),n.link("../../../../../hooks/useEndpointData",{useEndpointData:function(e){T=e}},8),n.link("../../../../../hooks/useFormatDateAndTime",{useFormatDateAndTime:function(e){C=e}},9),n.link("../../../../../hooks/useFormatDuration",{useFormatDuration:function(e){_=e}},10),n.link("../../../components/CustomField",{default:function(e){D=e}},11),n.link("../../../components/Field",{default:function(e){A=e}},12),n.link("../../../components/Info",{default:function(e){x=e}},13),n.link("../../../components/Label",{default:function(e){I=e}},14),n.link("../../components",{AgentField:function(e){M=e},ContactField:function(e){B=e},SlaField:function(e){S=e}},15),n.link("../../components/PriorityField",{default:function(e){w=e}},16),n.link("../../utils/formatQueuedAt",{formatQueuedAt:function(e){Q=e}},17),n.link("./DepartmentField",{default:function(e){z=e}},18),n.link("./VisitorClientInfo",{default:function(e){N=e}},19),n.exportDefault(function(e){var t,n=e.id,P=e.route,R=void 0===P?void 0:P,j=e.room,q=d(),G=C(),L=T("/v1/livechat/custom-fields"),O=L.value,U=L.phase,V=l(g([]),2),H=V[0],J=V[1],K=_(),W=j||{room:{v:{}}},X=W.ts,Y=W.tags,Z=W.closedAt,$=W.departmentId,ee=W.v,et=W.servedBy,en=W.metrics,el=W.topic,eo=W.waitingResponse,ei=W.responseBy,ea=W.slaId,eu=W.priorityId,ec=W.livechatData,er=W.queuedAt,es=m(R||"omnichannel-directory"),em=f(n),ef=b("save-others-livechat-room-info"),ed=(null==et?void 0:et._id)===E.userId(),eE=null==ee?void 0:ee._id,ep=er||X,ek=h(function(){return Q(j)},[j]),ev=s();v(function(){O&&J(O.customFields)},[O,U]);var eh=function(e){var t=H.find(function(t){return t._id===e});return!!t&&"visible"===t.visibility&&"room"===t.scope},eg=r(function(){if(!(em||ed||ef))return ev({type:"error",message:q("Not_authorized")});es.push(R?{tab:"room-info",context:"edit",id:n}:{page:"chats",id:n,bar:"edit"})});return k.createElement(k.Fragment,null,k.createElement(y,{p:24},k.createElement(i,{block:"x4"},j&&ee&&k.createElement(B,{contact:ee,room:j}),eE&&k.createElement(N,{uid:eE}),et&&k.createElement(M,{agent:et}),$&&k.createElement(z,{departmentId:$}),Y&&Y.length>0&&k.createElement(A,null,k.createElement(I,null,q("Tags")),k.createElement(x,null,Y.map(function(e){return k.createElement(o,{key:e,mie:4,display:"inline"},k.createElement(a,{style:{display:"inline"},disabled:!0},e))}))),el&&k.createElement(A,null,k.createElement(I,null,q("Topic")),k.createElement(x,null,el)),ep&&k.createElement(A,null,k.createElement(I,null,q("Queue_Time")),ek),Z&&k.createElement(A,null,k.createElement(I,null,q("Chat_Duration")),k.createElement(x,null,p(Z).from(p(X),!0))),X&&k.createElement(A,null,k.createElement(I,null,q("Created_at")),k.createElement(x,null,G(X))),Z&&k.createElement(A,null,k.createElement(I,null,q("Closed_At")),k.createElement(x,null,G(Z))),(null==et?void 0:et.ts)&&k.createElement(A,null,k.createElement(I,null,q("Taken_at")),k.createElement(x,null,G(et.ts))),(null==en?void 0:null===(t=en.response)||void 0===t?void 0:t.avg)&&K(en.response.avg)&&k.createElement(A,null,k.createElement(I,null,q("Avg_response_time")),k.createElement(x,null,K(en.response.avg))),!eo&&(null==ei?void 0:ei.lastMessageTs)&&k.createElement(A,null,k.createElement(I,null,q("Inactivity_Time")),k.createElement(x,null,p(ei.lastMessageTs).fromNow(!0))),b("view-livechat-room-customfields")&&ec&&Object.keys(ec).map(function(e){return eh(e)&&ec[e]&&k.createElement(D,{key:e,id:e,value:ec[e]})}),ea&&k.createElement(S,{id:ea}),eu&&k.createElement(w,{id:eu}))),k.createElement(F,null,k.createElement(c,{stretch:!0},k.createElement(u,{icon:"pencil",onClick:eg},q("Edit")))))})}
//# sourceMappingURL=/dynamic/client/views/omnichannel/directory/chats/contextualBar/bf272029d0bb1fa3fba33aafb212b147d5833742.map
