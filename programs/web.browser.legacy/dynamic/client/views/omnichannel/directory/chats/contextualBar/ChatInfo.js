function module(e,n,t){var l,o,i,u,a,c,r,s,m,f,d,E,p,k,v,h,g,b,F,y,T,C,_,D,A,I,x,M,B,S,R,w,O,Q,N,P;t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},0),t.link("@rocket.chat/fuselage",{Box:function(e){o=e},Margins:function(e){i=e},Tag:function(e){u=e},Button:function(e){a=e},ButtonGroup:function(e){c=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){r=e}},1),t.link("@rocket.chat/ui-contexts",{useToastMessageDispatch:function(e){s=e},useRoute:function(e){m=e},useUserSubscription:function(e){f=e},useTranslation:function(e){d=e},usePermission:function(e){E=e}},2),t.link("meteor/meteor",{Meteor:function(e){p=e}},3),t.link("moment",{default:function(e){k=e}},4),t.link("react",{default:function(e){v=e},useEffect:function(e){h=e},useMemo:function(e){g=e},useState:function(e){b=e}},5),t.link("../../../../../components/Contextualbar",{ContextualbarScrollableContent:function(e){F=e},ContextualbarFooter:function(e){y=e}},6),t.link("../../../../../hooks/useEndpointData",{useEndpointData:function(e){T=e}},7),t.link("../../../../../hooks/useFormatDateAndTime",{useFormatDateAndTime:function(e){C=e}},8),t.link("../../../../../hooks/useFormatDuration",{useFormatDuration:function(e){_=e}},9),t.link("../../../components/CustomField",{default:function(e){D=e}},10),t.link("../../../components/Field",{default:function(e){A=e}},11),t.link("../../../components/Info",{default:function(e){I=e}},12),t.link("../../../components/Label",{default:function(e){x=e}},13),t.link("../../components",{AgentField:function(e){M=e},SlaField:function(e){B=e},ContactField:function(e){S=e},SourceField:function(e){R=e}},14),t.link("../../components/PriorityField",{default:function(e){w=e}},15),t.link("../../hooks/useOmnichannelRoomInfo",{useOmnichannelRoomInfo:function(e){O=e}},16),t.link("../../utils/formatQueuedAt",{formatQueuedAt:function(e){Q=e}},17),t.link("./DepartmentField",{default:function(e){N=e}},18),t.link("./VisitorClientInfo",{default:function(e){P=e}},19),t.exportDefault(function(e){var n,t=e.id,j=e.route,q=d(),z=s(),G=C(),L=T("/v1/livechat/custom-fields"),U=L.value,V=L.phase,H=l(b([]),2),J=H[0],K=H[1],W=_(),X=O(t).data,Y=X||{room:{v:{}}},Z=Y.ts,$=Y.tags,ee=Y.closedAt,en=Y.departmentId,et=Y.v,el=Y.servedBy,eo=Y.metrics,ei=Y.topic,eu=Y.waitingResponse,ea=Y.responseBy,ec=Y.slaId,er=Y.priorityId,es=Y.livechatData,em=Y.source,ef=Y.queuedAt,ed=m(j||"omnichannel-directory"),eE=E("view-livechat-room-customfields"),ep=f(t),ek=E("save-others-livechat-room-info"),ev=(null==el?void 0:el._id)===p.userId(),eh=null==et?void 0:et._id,eg=ef||Z,eb=g(function(){return Q(X)},[X]);h(function(){U&&K(U.customFields)},[U,V]);var eF=function(e){var n=J.find(function(n){return n._id===e});return(null==n?void 0:n.visibility)==="visible"&&(null==n?void 0:n.scope)==="room"},ey=r(function(){if(!(ep||ev||ek))return z({type:"error",message:q("Not_authorized")});ed.push(j?{tab:"room-info",context:"edit",id:t}:{page:"chats",id:t,bar:"edit"})}),eT=Object.entries(es||{}).filter(function(e){var n=l(e,1)[0];return eF(n)&&es[n]});return v.createElement(v.Fragment,null,v.createElement(F,{p:24},v.createElement(i,{block:"x4"},em&&v.createElement(R,{room:X}),X&&et&&v.createElement(S,{contact:et,room:X}),eh&&v.createElement(P,{uid:eh}),el&&v.createElement(M,{agent:el}),en&&v.createElement(N,{departmentId:en}),$&&$.length>0&&v.createElement(A,null,v.createElement(x,null,q("Tags")),v.createElement(I,null,$.map(function(e){return v.createElement(o,{key:e,mie:4,display:"inline"},v.createElement(u,{style:{display:"inline"},disabled:!0},e))}))),ei&&v.createElement(A,null,v.createElement(x,null,q("Topic")),v.createElement(I,null,ei)),eg&&v.createElement(A,null,v.createElement(x,null,q("Queue_Time")),v.createElement(I,null,eb)),ee&&v.createElement(A,null,v.createElement(x,null,q("Chat_Duration")),v.createElement(I,null,k(ee).from(k(Z),!0))),Z&&v.createElement(A,null,v.createElement(x,null,q("Created_at")),v.createElement(I,null,G(Z))),ee&&v.createElement(A,null,v.createElement(x,null,q("Closed_At")),v.createElement(I,null,G(ee))),(null==el?void 0:el.ts)&&v.createElement(A,null,v.createElement(x,null,q("Taken_at")),v.createElement(I,null,G(el.ts))),(null==eo?void 0:null===(n=eo.response)||void 0===n?void 0:n.avg)&&W(eo.response.avg)&&v.createElement(A,null,v.createElement(x,null,q("Avg_response_time")),v.createElement(I,null,W(eo.response.avg))),!eu&&(null==ea?void 0:ea.lastMessageTs)&&v.createElement(A,null,v.createElement(x,null,q("Inactivity_Time")),v.createElement(I,null,k(ea.lastMessageTs).fromNow(!0))),eE&&eT.map(function(e){var n=l(e,2),t=n[0],o=n[1];return v.createElement(D,{key:t,id:t,value:o})}),ec&&v.createElement(B,{id:ec}),er&&v.createElement(w,{id:er}))),v.createElement(y,null,v.createElement(c,{stretch:!0},v.createElement(a,{icon:"pencil",onClick:ey},q("Edit")))))})}
//# sourceMappingURL=/dynamic/client/views/omnichannel/directory/chats/contextualBar/50e3302bbfa56cde3b4e77f906f0862484c31594.map
