function module(e,t,n){var r,o,a,i,l,c,u,s,m,f,d,h,k,E,g,p,T,b,x,C,y,v,w,S,P,_,G,A,D,L,I,N,R,B,F=["current","itemsPerPage","setItemsPerPage","setCurrent"];n.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){o=e}},1),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){a=e}},2),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){i=e}},3),n.link("@rocket.chat/fuselage",{Tag:function(e){l=e},Box:function(e){c=e},Pagination:function(e){u=e},States:function(e){s=e},StatesIcon:function(e){m=e},StatesTitle:function(e){f=e},StatesActions:function(e){d=e},StatesAction:function(e){h=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){k=e}},1),n.link("@rocket.chat/ui-contexts",{useRoute:function(e){E=e},useTranslation:function(e){g=e},useUserId:function(e){p=e}},2),n.link("@tanstack/react-query",{hashQueryKey:function(e){T=e}},3),n.link("moment",{default:function(e){b=e}},4),n.link("react",{default:function(e){x=e},useState:function(e){C=e},useMemo:function(e){y=e},useCallback:function(e){v=e}},5),n.link("../../../../components/FilterByText",{default:function(e){w=e}},6),n.link("../../../../components/GenericNoResults/GenericNoResults",{default:function(e){S=e}},7),n.link("../../../../components/GenericTable",{GenericTable:function(e){P=e},GenericTableBody:function(e){_=e},GenericTableCell:function(e){G=e},GenericTableHeader:function(e){A=e},GenericTableHeaderCell:function(e){D=e},GenericTableLoadingTable:function(e){L=e},GenericTableRow:function(e){I=e}},8),n.link("../../../../components/GenericTable/hooks/usePagination",{usePagination:function(e){N=e}},9),n.link("../../../../components/GenericTable/hooks/useSort",{useSort:function(e){R=e}},10),n.link("../../currentChats/hooks/useCurrentChats",{useCurrentChats:function(e){B=e}},11),n.exportDefault(function(){var e=g(),t=i(C(""),2),n=t[0],H=t[1],j=p(),q=E("omnichannel-directory"),M=N(),K=M.current,O=M.itemsPerPage,Q=M.setItemsPerPage,U=M.setCurrent,W=a(M,F),z=R("fname"),J=z.sortBy,V=z.sortDirection,X=z.setSort,Y=y(function(){return o(o({sort:'{ "'+J+'": '+("asc"===V?1:-1)+" }",open:!1,roomName:n||"",agents:j?[j]:[]},O&&{count:O}),K&&{offset:K})},[J,K,V,O,j,n]),Z=k(function(e){return q.push({page:"chats",bar:"info",id:e})}),$=x.createElement(x.Fragment,null,x.createElement(D,{key:"fname",direction:V,active:"fname"===J,onClick:X,sort:"fname",w:"x400"},e("Contact_Name")),x.createElement(D,{key:"department",direction:V,active:"department"===J,onClick:X,sort:"department",w:"x200"},e("Department")),x.createElement(D,{key:"ts",direction:V,active:"ts"===J,onClick:X,sort:"ts",w:"x200"},e("Started_At")),x.createElement(D,{key:"chatDuration",direction:V,active:"chatDuration"===J,onClick:X,sort:"chatDuration",w:"x120"},e("Chat_Duration")),x.createElement(D,{key:"closedAt",direction:V,active:"closedAt"===J,onClick:X,sort:"closedAt",w:"x200"},e("Closed_At"))),ee=B(Y),et=ee.data,en=ee.isLoading,er=ee.isSuccess,eo=ee.isError,ea=ee.refetch,ei=i(C(T([Y])),1)[0]!==T([Y]),el=v(function(e){var t=e._id,n=e.fname,r=e.ts,o=e.closedAt,a=e.department,i=e.tags;return x.createElement(I,{key:t,tabIndex:0,role:"link",onClick:function(){return Z(t)},action:!0,"qa-user-id":t},x.createElement(G,{withTruncatedText:!0},x.createElement(c,{display:"flex",flexDirection:"column"},x.createElement(c,{withTruncatedText:!0},n),i&&x.createElement(c,{color:"hint",display:"flex","flex-direction":"row"},i.map(function(e){return x.createElement(c,{style:{marginTop:4,whiteSpace:"nowrap",overflow:e.length>10?"hidden":"visible",textOverflow:"ellipsis"},key:e,mie:4},x.createElement(l,{style:{display:"inline"},disabled:!0},e))})))),x.createElement(G,{withTruncatedText:!0},a?a.name:""),x.createElement(G,{withTruncatedText:!0},b(r).format("L LTS")),x.createElement(G,{withTruncatedText:!0},b(o).from(b(r),!0)),x.createElement(G,{withTruncatedText:!0},b(o).format("L LTS")))},[Z]);return x.createElement(x.Fragment,null,(er&&(null==et?void 0:et.rooms.length)>0||ei)&&x.createElement(w,{onChange:function(e){return H(e.text)}}),en&&x.createElement(P,null,x.createElement(A,null,$),x.createElement(_,null,x.createElement(L,{headerCells:5}))),er&&(null==et?void 0:et.rooms.length)===0&&ei&&x.createElement(S,null),er&&(null==et?void 0:et.rooms.length)===0&&!ei&&x.createElement(S,{icon:"message",title:e("No_chats_yet"),description:e("No_chats_yet_description"),linkHref:"https://go.rocket.chat/omnichannel-docs",linkText:e("Learn_more_about_conversations")}),er&&(null==et?void 0:et.rooms.length)>0&&x.createElement(x.Fragment,null,x.createElement(P,null,x.createElement(A,null,$),x.createElement(_,null,null==et?void 0:et.rooms.map(function(e){return el(e)}))),x.createElement(u,r({divider:!0,current:K,itemsPerPage:O,count:(null==et?void 0:et.total)||0,onSetItemsPerPage:Q,onSetCurrent:U},W))),eo&&x.createElement(s,null,x.createElement(m,{name:"warning",variation:"danger"}),x.createElement(f,null,e("Something_went_wrong")),x.createElement(d,null,x.createElement(h,{onClick:function(){return ea()}},e("Reload_page")))))})}
//# sourceMappingURL=/dynamic/client/views/omnichannel/directory/chats/8fedd95af18257e6a0d87e5a80448ca361012195.map
