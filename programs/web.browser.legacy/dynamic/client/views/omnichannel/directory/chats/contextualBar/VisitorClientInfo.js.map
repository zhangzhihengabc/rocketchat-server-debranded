)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/directory/chats/contextualBar/VisitorClientInfo.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useMemo } from 'react';\nimport UAParser from 'ua-parser-js';\n\nimport { useEndpointData } from '../../../../../hooks/useEndpointData';\nimport { AsyncStatePhase } from '../../../../../lib/asyncState';\nimport Field from '../../../components/Field';\nimport Info from '../../../components/Info';\nimport Label from '../../../components/Label';\nimport { FormSkeleton } from '../../components/FormSkeleton';\n\nconst VisitorClientInfo = ({ uid }) => {\n\tconst t = useTranslation();\n\tconst {\n\t\tvalue: userData,\n\t\tphase: state,\n\t\terror,\n\t} = useEndpointData('/v1/livechat/visitors.info', { params: useMemo(() => ({ visitorId: uid }), [uid]) });\n\n\tif (state === AsyncStatePhase.LOADING) {\n\t\treturn <FormSkeleton />;\n\t}\n\n\tif (error || !userData || !userData.visitor.userAgent) {\n\t\treturn null;\n\t}\n\n\tconst clientData = {};\n\tconst ua = new UAParser();\n\tua.setUA(userData.visitor.userAgent);\n\tclientData.os = `${ua.getOS().name} ${ua.getOS().version}`;\n\tclientData.browser = `${ua.getBrowser().name} ${ua.getBrowser().version}`;\n\tclientData.host = userData.visitor.host;\n\tclientData.ip = userData.visitor.ip;\n\n\treturn (\n\t\t<>\n\t\t\t{clientData.os && (\n\t\t\t\t<Field>\n\t\t\t\t\t<Label>{t('OS')}</Label>\n\t\t\t\t\t<Info>{clientData.os}</Info>\n\t\t\t\t</Field>\n\t\t\t)}\n\t\t\t{clientData.browser && (\n\t\t\t\t<Field>\n\t\t\t\t\t<Label>{t('Browser')}</Label>\n\t\t\t\t\t<Info>{clientData.browser}</Info>\n\t\t\t\t</Field>\n\t\t\t)}\n\t\t\t{clientData.host && (\n\t\t\t\t<Field>\n\t\t\t\t\t<Label>{t('Host')}</Label>\n\t\t\t\t\t<Info>{clientData.host}</Info>\n\t\t\t\t</Field>\n\t\t\t)}\n\t\t\t{clientData.ip && (\n\t\t\t\t<Field>\n\t\t\t\t\t<Label>{t('IP')}</Label>\n\t\t\t\t\t<Info>{clientData.ip}</Info>\n\t\t\t\t</Field>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default VisitorClientInfo;\n",null],"names":["useTranslation","React","useMemo","UAParser","useEndpointData","AsyncStatePhase","Field","Info","Label","FormSkeleton","module","link","v","exportDefault","_ref","uid","t","_useEndpointData","params","visitorId","userData","value","state","phase","error","LOADING","createElement","visitor","userAgent","clientData","ua","setUA","os","getOS","name","version","browser","getBrowser","host","ip","Fragment"],"mappings":"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"}