function module(e,t,n){var l,a,o,i,c,u,r,s,m,f,d,E,v,p,h,k,b,C,x,g,y,F,B,_,I,N,D,S,M,T,R,P;n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},0),n.link("@rocket.chat/fuselage",{Box:function(e){a=e},Margins:function(e){o=e},ButtonGroup:function(e){i=e},Button:function(e){c=e},Divider:function(e){u=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){r=e}},1),n.link("@rocket.chat/ui-contexts",{useToastMessageDispatch:function(e){s=e},useRoute:function(e){m=e},useTranslation:function(e){f=e},useEndpoint:function(e){d=e},usePermission:function(e){E=e},useRouter:function(e){v=e}},2),n.link("@tanstack/react-query",{useQuery:function(e){p=e}},3),n.link("react",{default:function(e){h=e},useCallback:function(e){k=e}},4),n.link("use-sync-external-store/shim",{useSyncExternalStore:function(e){b=e}},5),n.link("../../../../../../ee/client/lib/voip/parseOutboundPhoneNumber",{parseOutboundPhoneNumber:function(e){C=e}},6),n.link("../../../../../../ee/client/omnichannel/ContactManagerInfo",{default:function(e){x=e}},7),n.link("../../../../../components/Contextualbar",{ContextualbarScrollableContent:function(e){g=e},ContextualbarFooter:function(e){y=e}},8),n.link("../../../../../components/UserStatus",{UserStatus:function(e){F=e}},9),n.link("../../../../../components/avatar/UserAvatar",{default:function(e){B=e}},10),n.link("../../../../../contexts/CallContext",{useIsCallReady:function(e){_=e}},11),n.link("../../../../../hooks/useFormatDate",{useFormatDate:function(e){I=e}},12),n.link("../../../components/AgentInfoDetails",{default:function(e){N=e}},13),n.link("../../../components/CustomField",{default:function(e){D=e}},14),n.link("../../../components/Field",{default:function(e){S=e}},15),n.link("../../../components/Info",{default:function(e){M=e}},16),n.link("../../../components/Label",{default:function(e){T=e}},17),n.link("../../calls/contextualBar/VoipInfoCallButton",{VoipInfoCallButton:function(e){R=e}},18),n.link("../../components/FormSkeleton",{FormSkeleton:function(e){P=e}},19),n.exportDefault(function(e){var t=e.id,n=e.rid,U=void 0===n?"":n,w=e.route,A=f(),G=s(),L=v(),O=m("live"),z=b(L.subscribeToRouteChange,k(function(){return L.getRouteName()},[L])),V=I(),j=_(),q=E("view-livechat-room-customfields"),H=E("edit-omnichannel-contact"),Q=d("GET","/v1/livechat/custom-fields"),W=p(["/v1/livechat/custom-fields"],function(){return Q()}).data,J=(W=void 0===W?{}:W).customFields,K=d("GET","/v1/omnichannel/contact"),X=p(["/v1/omnichannel/contact",t],function(){return K({contactId:t})},{enabled:q&&!!t}),Y=X.data,Z=(Y=void 0===Y?{}:Y).contact,$=X.isInitialLoading,ee=X.isError,et=r(function(){if(!H)return G({type:"error",message:A("Not_authorized")});if(w){L.navigate({name:w,params:{tab:"contact-profile",context:"edit",id:U}});return}L.navigate({name:"omnichannel-directory",params:{page:"contacts",id:t,bar:"edit"}})});if($)return h.createElement(a,{pi:24},h.createElement(P,null));if(ee||!Z)return h.createElement(a,{mbs:16},A("Contact_not_found"));var en=Z.username,el=Z.visitorEmails,ea=Z.phone,eo=Z.ts,ei=Z.livechatData,ec=Z.lastChat,eu=Z.contactManager,er=Z.status,es="live"===z&&ec,em=l(null!=ea?ea:[{}],1)[0].phoneNumber,ef=void 0===em?"":em,ed=l(null!=el?el:[{}],1)[0].address,eE=void 0===ed?"":ed,ev=function(e){var t=null==J?void 0:J.find(function(t){return t._id===e});return(null==t?void 0:t.visibility)==="visible"&&(null==t?void 0:t.scope)==="visitor"},ep=Object.entries(null!=ei?ei:{}).filter(function(e){var t=l(e,2),n=t[0],a=t[1];return ev(n)&&a});return h.createElement(h.Fragment,null,h.createElement(g,{p:24},h.createElement(o,{block:4},en&&h.createElement(S,null,h.createElement(T,null,A("Name")+" / "+A("Username")),h.createElement(M,{style:{display:"flex"}},h.createElement(B,{size:"x40",title:en,username:en}),h.createElement(N,{mis:10,name:en,shortName:en,status:h.createElement(F,{status:er})}))),eE&&h.createElement(S,null,h.createElement(T,null,A("Email")),h.createElement(M,null,eE)),ef&&h.createElement(S,null,h.createElement(T,null,A("Phone")),h.createElement(M,null,C(ef))),eo&&h.createElement(S,null,h.createElement(T,null,A("Created_at")),h.createElement(M,null,V(eo))),ec&&h.createElement(S,null,h.createElement(T,null,A("Last_Chat")),h.createElement(M,null,V(ec.ts))),q&&ep.map(function(e){var t=l(e,2),n=t[0],a=t[1];return h.createElement(D,{key:n,id:n,value:a})}),eu&&h.createElement(S,null,h.createElement(T,null,A("Contact_Manager")),h.createElement(x,{username:eu.username})))),h.createElement(y,null,h.createElement(i,{stretch:!0,flexWrap:"wrap"},j&&h.createElement(h.Fragment,null,h.createElement(R,{phoneNumber:ef,mi:0,flexBasis:"0"}),es&&h.createElement(u,{width:"100%"})),es&&h.createElement(c,{icon:"history",onClick:function(){var e=(null!=ec?ec:{})._id;O.push({id:void 0===e?"":e,tab:"contact-chat-history"})},mis:0,flexBasis:"0"},A("Chat_History")),h.createElement(c,{icon:"pencil",onClick:et,flexBasis:"0"},A("Edit")))))})}
//# sourceMappingURL=/dynamic/client/views/omnichannel/directory/contacts/contextualBar/39e14e6f0d26dc78c0bb4978182a922844c4ecc9.map
