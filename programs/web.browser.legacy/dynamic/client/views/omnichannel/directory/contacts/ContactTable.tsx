function module(e,t,n){var o,a,i,l,c,r,u,s,m,d,f,h,k,b,E,p,g,v,C,T,x,y,P,S,_,w,G,N,B,D,F,I,R,A,L,H,j=["current","itemsPerPage","setItemsPerPage","setCurrent"];n.link("@babel/runtime/helpers/extends",{default:function(e){o=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},1),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){i=e}},2),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){l=e}},3),n.link("@rocket.chat/fuselage",{Pagination:function(e){c=e},States:function(e){r=e},StatesAction:function(e){u=e},StatesActions:function(e){s=e},StatesIcon:function(e){m=e},StatesTitle:function(e){d=e},Box:function(e){f=e}},0),n.link("@rocket.chat/fuselage-hooks",{useDebouncedState:function(e){h=e},useDebouncedValue:function(e){k=e},useMutableCallback:function(e){b=e}},1),n.link("@rocket.chat/ui-contexts",{useRoute:function(e){E=e},useTranslation:function(e){p=e}},2),n.link("@tanstack/react-query",{hashQueryKey:function(e){g=e}},3),n.link("react",{default:function(e){v=e},useMemo:function(e){C=e},useState:function(e){T=e}},4),n.link("../../../../../ee/client/lib/voip/parseOutboundPhoneNumber",{parseOutboundPhoneNumber:function(e){x=e}},5),n.link("../../../../components/FilterByText",{default:function(e){y=e}},6),n.link("../../../../components/GenericNoResults",{default:function(e){P=e}},7),n.link("../../../../components/GenericTable",{GenericTable:function(e){S=e},GenericTableHeader:function(e){_=e},GenericTableCell:function(e){w=e},GenericTableBody:function(e){G=e},GenericTableRow:function(e){N=e},GenericTableHeaderCell:function(e){B=e},GenericTableLoadingRow:function(e){D=e}},8),n.link("../../../../components/GenericTable/hooks/usePagination",{usePagination:function(e){F=e}},9),n.link("../../../../components/GenericTable/hooks/useSort",{useSort:function(e){I=e}},10),n.link("../../../../contexts/CallContext",{useIsCallReady:function(e){R=e}},11),n.link("../../../../hooks/useFormatDate",{useFormatDate:function(e){A=e}},12),n.link("../components/CallDialpadButton",{CallDialpadButton:function(e){L=e}},13),n.link("./hooks/useCurrentContacts",{useCurrentContacts:function(e){H=e}},14),n.exportDefault(function(){var e=F(),t=e.current,n=e.itemsPerPage,q=e.setItemsPerPage,M=e.setCurrent,O=l(e,j),K=I("username"),Q=K.sortBy,U=K.sortDirection,V=K.setSort,W=R(),z=i(h("",500),2),J=z[0],X=z[1],Y=p(),Z=k(C(function(){return a(a({term:J,sort:'{ "'+Q+'": '+("asc"===U?1:-1)+" }"},n&&{count:n}),t&&{offset:t})},[n,t,Q,U,J]),500),$=E("omnichannel-directory"),ee=A(),et=b(function(){return $.push({page:"contacts",bar:"new"})}),en=b(function(e){return function(){return $.push({page:"contacts",id:e,bar:"info"})}}),eo=H(Z),ea=eo.data,ei=eo.isLoading,el=eo.isError,ec=eo.isSuccess,er=eo.refetch,eu=i(T(g([Z])),1)[0]!==g([Z]),es=v.createElement(v.Fragment,null,v.createElement(B,{key:"username",direction:U,active:"username"===Q,onClick:V,sort:"username"},Y("Username")),v.createElement(B,{key:"name",direction:U,active:"name"===Q,onClick:V,sort:"name"},Y("Name")),v.createElement(B,{key:"phone",direction:U,active:"phone"===Q,onClick:V,sort:"phone"},Y("Phone")),v.createElement(B,{key:"email",direction:U,active:"visitorEmails.address"===Q,onClick:V,sort:"visitorEmails.address"},Y("Email")),v.createElement(B,{key:"lastchat",direction:U,active:"lastchat"===Q,onClick:V,sort:"lastchat"},Y("Last_Chat")),v.createElement(B,{key:"call",width:44}));return v.createElement(v.Fragment,null,(ec&&(null==ea?void 0:ea.visitors.length)>0||eu)&&v.createElement(y,{displayButton:!0,textButton:Y("New_contact"),onButtonClick:et,onChange:function(e){return X(e.text)}}),ei&&v.createElement(S,null,v.createElement(_,null,es),v.createElement(G,null,v.createElement(D,{cols:6}))),ec&&(null==ea?void 0:ea.visitors.length)===0&&eu&&v.createElement(P,null),ec&&(null==ea?void 0:ea.visitors.length)===0&&!eu&&v.createElement(P,{icon:"user-plus",title:Y("No_contacts_yet"),description:Y("No_contacts_yet_description"),buttonTitle:Y("New_contact"),buttonAction:et,linkHref:"https://go.rocket.chat/omnichannel-docs",linkText:Y("Learn_more_about_contacts")}),ec&&(null==ea?void 0:ea.visitors.length)>0&&v.createElement(v.Fragment,null,v.createElement(S,null,v.createElement(_,null,es),v.createElement(G,null,null==ea?void 0:ea.visitors.map(function(e){var t=e._id,n=e.username,o=e.fname,a=e.name,i=e.visitorEmails,l=e.phone,c=e.lastChat,r=(null==l?void 0:l.length)&&l[0].phoneNumber||"",u=(null==i?void 0:i.length)&&i[0].address;return v.createElement(N,{action:!0,key:t,tabIndex:0,role:"link",height:"40px","qa-user-id":t,"rcx-show-call-button-on-hover":!0,onClick:en(t)},v.createElement(w,{withTruncatedText:!0},n),v.createElement(w,{withTruncatedText:!0},x(o||a)),v.createElement(w,{withTruncatedText:!0},x(r)),v.createElement(w,{withTruncatedText:!0},u),v.createElement(w,{withTruncatedText:!0},c&&ee(c.ts)),v.createElement(w,null,W&&v.createElement(L,{phoneNumber:r})))}))),v.createElement(c,o({divider:!0,current:t,itemsPerPage:n,count:null==ea?void 0:ea.total,onSetItemsPerPage:q,onSetCurrent:M},O))),el&&v.createElement(f,{mbs:20},v.createElement(r,null,v.createElement(m,{variation:"danger",name:"circle-exclamation"}),v.createElement(d,null,Y("Connection_error")),v.createElement(s,null,v.createElement(u,{icon:"reload",onClick:function(){return er()}},Y("Reload_page"))))))})}
//# sourceMappingURL=/dynamic/client/views/omnichannel/directory/contacts/9633f542194110a393091039bb7690eb61437dc3.map
