function module(e,n,t){var o,l,i,r,c,a,u,s,m,f,d,k,h,p,b,g,E,v,y,P,T,C,x,_,w,G,S=["current","itemsPerPage","setItemsPerPage","setCurrent"];t.link("@babel/runtime/regenerator",{default:function(e){o=e}},0),t.link("@babel/runtime/helpers/extends",{default:function(e){l=e}},1),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){i=e}},2),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){r=e}},3),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){c=e}},4),t.link("@rocket.chat/fuselage",{Pagination:function(e){a=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){u=e}},1),t.link("@rocket.chat/ui-contexts",{useRoute:function(e){s=e},useTranslation:function(e){m=e},useEndpoint:function(e){f=e},useUserId:function(e){d=e}},2),t.link("@tanstack/react-query",{useQuery:function(e){k=e},hashQueryKey:function(e){h=e}},3),t.link("react",{default:function(e){p=e},useState:function(e){b=e},useMemo:function(e){g=e}},4),t.link("../../../../components/FilterByText",{default:function(e){E=e}},5),t.link("../../../../components/GenericNoResults/GenericNoResults",{default:function(e){v=e}},6),t.link("../../../../components/GenericTable",{GenericTable:function(e){y=e},GenericTableBody:function(e){P=e},GenericTableHeader:function(e){T=e},GenericTableHeaderCell:function(e){C=e},GenericTableLoadingRow:function(e){x=e}},7),t.link("../../../../components/GenericTable/hooks/usePagination",{usePagination:function(e){_=e}},8),t.link("../../../../components/GenericTable/hooks/useSort",{useSort:function(e){w=e}},9),t.link("./CallTableRow",{CallTableRow:function(e){G=e}},10),t.exportDefault(function(){var e=m(),n=d(),t=c(b(""),2),R=t[0],D=t[1],N=s("omnichannel-directory"),F=_(),I=F.current,q=F.itemsPerPage,B=F.setItemsPerPage,H=F.setCurrent,L=r(F,S),Q=w("fname"),j=Q.sortBy,A=Q.sortDirection,M=Q.setSort,K=g(function(){return i(i({sort:'{ "'+j+'": '+("asc"===A?1:-1)+" }",open:"false",roomName:R||"",agents:n?[n]:[]},q&&{count:q}),I&&{offset:I})},[j,I,A,q,n,R]),U=u(function(e,n){N.push({page:"calls",bar:"info",id:e},{token:n})}),W=f("GET","/v1/voip/rooms"),z=k(["voip-rooms",K],function(){return o.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",W(K));case 1:case"end":return e.stop()}},null,null,null,Promise)}),J=z.data,O=z.isSuccess,V=z.isLoading,X=c(b(h([K])),1)[0]!==h([K]),Y=p.createElement(p.Fragment,null,p.createElement(C,{key:"fname",direction:A,active:"fname"===j,onClick:M,sort:"fname",w:"x400"},e("Contact_Name")),p.createElement(C,{key:"phone",direction:A,active:"phone"===j,onClick:M,sort:"phone",w:"x200"},e("Phone")),p.createElement(C,{key:"queue",direction:A,active:"queue"===j,onClick:M,sort:"ts",w:"x100"},e("Queue")),p.createElement(C,{key:"ts",direction:A,active:"ts"===j,onClick:M,sort:"ts",w:"x200"},e("Started_At")),p.createElement(C,{key:"callDuration",direction:A,active:"callDuration"===j,onClick:M,sort:"callDuration",w:"x120"},e("Talk_Time")),p.createElement(C,{key:"direction",direction:A,active:"direction"===j,onClick:M,sort:"direction",w:"x200"},e("Direction")),p.createElement(C,{key:"call",width:44}));return p.createElement(p.Fragment,null,(O&&(null==J?void 0:J.rooms.length)>0||X)&&p.createElement(E,{onChange:function(e){return D(e.text)}}),V&&p.createElement(y,null,p.createElement(T,null,Y),p.createElement(P,null,p.createElement(x,{cols:7}))),O&&(null==J?void 0:J.rooms.length)===0&&X&&p.createElement(v,null),O&&(null==J?void 0:J.rooms.length)===0&&!X&&p.createElement(v,{icon:"phone",title:e("No_calls_yet"),description:e("No_calls_yet_description"),linkHref:"https://go.rocket.chat/omnichannel-docs",linkText:e("Learn_more_about_voice_channel")}),O&&(null==J?void 0:J.rooms.length)>0&&p.createElement(p.Fragment,null,p.createElement(y,null,p.createElement(T,null,Y),p.createElement(P,null,null==J?void 0:J.rooms.map(function(e){return p.createElement(G,{key:e._id,room:e,onRowClick:U})}))),p.createElement(a,l({divider:!0,current:I,itemsPerPage:q,count:(null==J?void 0:J.total)||0,onSetItemsPerPage:B,onSetCurrent:H},L))))})}
//# sourceMappingURL=/dynamic/client/views/omnichannel/directory/calls/424c1070a351bcd0a386e8be12aeca0615b2d167.map
