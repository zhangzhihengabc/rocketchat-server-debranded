)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/directory/calls/CallTableRow.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IVoipRoom, Serialized } from '@rocket.chat/core-typings';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport moment from 'moment';\nimport type { ReactElement } from 'react';\nimport React, { useCallback } from 'react';\n\nimport { parseOutboundPhoneNumber } from '../../../../../ee/client/lib/voip/parseOutboundPhoneNumber';\nimport { GenericTableRow, GenericTableCell } from '../../../../components/GenericTable';\nimport { useIsCallReady } from '../../../../contexts/CallContext';\nimport { CallDialpadButton } from '../components/CallDialpadButton';\n\ntype CallTableRowProps = {\n\troom: Serialized<IVoipRoom>;\n\tonRowClick(_id: string, token?: string): void;\n};\n\nexport const CallTableRow = ({ room, onRowClick }: CallTableRowProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst isCallReady = useIsCallReady();\n\n\tconst { _id, fname, callStarted, queue, callDuration = 0, v, direction } = room;\n\tconst duration = moment.duration(callDuration / 1000, 'seconds');\n\tconst phoneNumber = Array.isArray(v?.phone) ? v?.phone[0]?.phoneNumber : v?.phone;\n\n\tconst resolveDirectionLabel = useCallback(\n\t\t(direction: IVoipRoom['direction']) => {\n\t\t\tconst labels = {\n\t\t\t\tinbound: 'Incoming',\n\t\t\t\toutbound: 'Outgoing',\n\t\t\t} as const;\n\t\t\treturn t(labels[direction] || 'Not_Available');\n\t\t},\n\t\t[t],\n\t);\n\n\treturn (\n\t\t<GenericTableRow\n\t\t\tkey={_id}\n\t\t\trcx-show-call-button-on-hover\n\t\t\ttabIndex={0}\n\t\t\trole='link'\n\t\t\tonClick={(): void => onRowClick(_id, v?.token)}\n\t\t\taction\n\t\t\tqa-user-id={_id}\n\t\t\theight='40px'\n\t\t>\n\t\t\t<GenericTableCell withTruncatedText>{parseOutboundPhoneNumber(fname)}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{parseOutboundPhoneNumber(phoneNumber)}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{queue}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{moment(callStarted).format('L LTS')}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{duration.isValid() && duration.humanize()}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{resolveDirectionLabel(direction)}</GenericTableCell>\n\t\t\t<GenericTableCell>{isCallReady && <CallDialpadButton phoneNumber={phoneNumber} />}</GenericTableCell>\n\t\t</GenericTableRow>\n\t);\n};\n",null],"names":["module","export","CallTableRow","useTranslation","v","moment","React","useCallback","parseOutboundPhoneNumber","GenericTableRow","GenericTableCell","useIsCallReady","CallDialpadButton","_ref","_v$phone$","room","onRowClick","t","isCallReady","_id","fname","callStarted","queue","_room$callDuration","callDuration","direction","duration","phoneNumber","Array","isArray","phone","resolveDirectionLabel","labels","inbound","outbound","createElement","key","tabIndex","role","onClick","token","action","height","withTruncatedText","format","isValid","humanize"],"mappings":"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"}