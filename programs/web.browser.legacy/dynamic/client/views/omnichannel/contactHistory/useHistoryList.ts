function module(e,t,n){n.link("@babel/runtime/regenerator",{default:function(e){i=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){o=e}},1),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){s=e}},2),n.export({useHistoryList:function(){return m}}),n.link("@rocket.chat/ui-contexts",{useEndpoint:function(e){r=e}},0),n.link("react",{useCallback:function(e){u=e},useState:function(e){l=e}},1),n.link("../../../hooks/lists/useScrollableRecordList",{useScrollableRecordList:function(e){a=e}},2),n.link("../../../hooks/useComponentDidUpdate",{useComponentDidUpdate:function(e){c=e}},3),n.link("../../../lib/lists/RecordList",{RecordList:function(e){d=e}},4),n.link("../../../lib/utils/mapMessageFromApi",{mapMessageFromApi:function(e){f=e}},5);var i,o,s,r,u,l,a,c,d,f,m=function(e){var t=s(l(function(){return new d}),2),n=t[0],m=t[1],v=u(function(){return m(new d)},[]),p=r("GET","/v1/livechat/visitors.searchChats/room/:roomId/visitor/:visitorId",{roomId:e.roomId,visitorId:e.visitorId});c(function(){e&&v()},[e,v]);var b=a(n,u(function(t,n){var s,r,u;return i.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,i.awrap(p(o(o({},e.filter&&{searchText:e.filter}),{},{closedChatsOnly:"true",servedChatsOnly:"true",offset:t,count:n+t})));case 2:return r=(s=l.sent).history,u=s.total,l.abrupt("return",{items:r.map(function(e){return o(o({},e),{},{ts:new Date(e.ts),_updatedAt:new Date(e.ts),closedAt:e.closedAt?new Date(e.closedAt):void 0,servedBy:e.servedBy?o(o({},e.servedBy),{},{ts:new Date(e.servedBy.ts)}):void 0,closingMessage:e.closingMessage?f(e.closingMessage):void 0})}),itemCount:u});case 6:case"end":return l.stop()}},null,null,null,Promise)},[p,e]),25),h=b.loadMoreItems,k=b.initialItemCount;return{itemsList:n,loadMoreItems:h,initialItemCount:k}}}
//# sourceMappingURL=/dynamic/client/views/omnichannel/contactHistory/d65f504e495ce0723965b70e71de2d4c2d5f0905.map
