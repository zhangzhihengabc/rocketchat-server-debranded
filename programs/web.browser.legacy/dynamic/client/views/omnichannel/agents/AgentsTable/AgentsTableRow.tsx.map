)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/agents/AgentsTable/AgentsTableRow.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box } from '@rocket.chat/fuselage';\nimport { useRoute, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React, { useCallback } from 'react';\n\nimport { GenericTableRow, GenericTableCell } from '../../../../components/GenericTable';\nimport UserAvatar from '../../../../components/avatar/UserAvatar';\nimport RemoveAgentButton from './RemoveAgentButton';\n\nconst AgentsTableRow = ({\n\tuser: { _id, name, username, avatarETag, emails, statusLivechat, departments },\n\tmediaQuery,\n\treload,\n}: {\n\tuser: {\n\t\t_id: string;\n\t\tname?: string;\n\t\tusername?: string;\n\t\tavatarETag?: string;\n\t\temails?: { address: string }[];\n\t\tstatusLivechat: string;\n\t\tdepartments: string[];\n\t};\n\tmediaQuery: boolean;\n\treload: () => void;\n}): ReactElement => {\n\tconst t = useTranslation();\n\tconst agentsRoute = useRoute('omnichannel-agents');\n\tconst queryClient = useQueryClient();\n\n\tconst onRowClick = useCallback(() => {\n\t\tagentsRoute.push({\n\t\t\tcontext: 'info',\n\t\t\tid: _id,\n\t\t});\n\t}, [_id, agentsRoute]);\n\n\tconst onAgentRemoved = useCallback(() => {\n\t\tdepartments.forEach((departmentId) => {\n\t\t\tqueryClient.removeQueries(['/v1/livechat/department/:_id', departmentId]);\n\t\t});\n\t}, [queryClient, departments]);\n\n\treturn (\n\t\t<GenericTableRow action onClick={onRowClick}>\n\t\t\t<GenericTableCell>\n\t\t\t\t<Box display='flex' alignItems='center'>\n\t\t\t\t\t{username && <UserAvatar size={mediaQuery ? 'x28' : 'x40'} title={username} username={username} etag={avatarETag} />}\n\t\t\t\t\t<Box display='flex' withTruncatedText mi={8}>\n\t\t\t\t\t\t<Box display='flex' flexDirection='column' alignSelf='center' withTruncatedText>\n\t\t\t\t\t\t\t<Box fontScale='p2m' withTruncatedText color='default'>\n\t\t\t\t\t\t\t\t{name || username}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t{!mediaQuery && name && (\n\t\t\t\t\t\t\t\t<Box fontScale='p2' color='hint' withTruncatedText>\n\t\t\t\t\t\t\t\t\t{`@${username}`}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t\t{mediaQuery && (\n\t\t\t\t<GenericTableCell>\n\t\t\t\t\t<Box fontScale='p2m' withTruncatedText color='hint'>\n\t\t\t\t\t\t{username}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mi={4} />\n\t\t\t\t</GenericTableCell>\n\t\t\t)}\n\t\t\t<GenericTableCell withTruncatedText>{emails?.length && emails[0].address}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{statusLivechat === 'available' ? t('Available') : t('Not_Available')}</GenericTableCell>\n\t\t\t<RemoveAgentButton _id={_id} reload={reload} onAgentRemoved={onAgentRemoved} />\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default AgentsTableRow;\n",null],"names":["Box","useRoute","useTranslation","useQueryClient","React","useCallback","GenericTableRow","GenericTableCell","UserAvatar","RemoveAgentButton","module","link","v","exportDefault","_ref","_ref$user","user","_id","name","username","avatarETag","emails","statusLivechat","departments","mediaQuery","reload","t","agentsRoute","queryClient","onRowClick","push","context","id","onAgentRemoved","forEach","departmentId","removeQueries","createElement","action","onClick","display","alignItems","size","title","etag","withTruncatedText","mi","flexDirection","alignSelf","fontScale","color","length","address"],"mappings":"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"}