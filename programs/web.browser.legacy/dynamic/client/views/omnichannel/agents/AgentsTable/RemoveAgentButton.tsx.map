)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/agents/AgentsTable/RemoveAgentButton.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { IconButton } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSetModal, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport GenericModal from '../../../../components/GenericModal';\nimport { GenericTableCell } from '../../../../components/GenericTable';\nimport { useEndpointAction } from '../../../../hooks/useEndpointAction';\n\ntype RemoveAgentButtonProps = {\n\t_id: string;\n\treload: () => void;\n\tonAgentRemoved?: () => void;\n};\n\nconst RemoveAgentButton = ({ _id, reload, onAgentRemoved }: RemoveAgentButtonProps): ReactElement => {\n\tconst deleteAction = useEndpointAction('DELETE', '/v1/livechat/users/agent/:_id', { keys: { _id } });\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst t = useTranslation();\n\n\tconst handleRemoveClick = useMutableCallback(async () => {\n\t\tconst result = await deleteAction();\n\t\tif (result.success === true) {\n\t\t\treload();\n\t\t\tonAgentRemoved?.();\n\t\t}\n\t});\n\n\tconst handleDelete = useMutableCallback((e) => {\n\t\te.stopPropagation();\n\t\tconst onDeleteAgent = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait handleRemoveClick();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Agent_removed') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tsetModal();\n\t\t};\n\n\t\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteAgent} onCancel={(): void => setModal()} confirmText={t('Delete')} />);\n\t});\n\n\treturn (\n\t\t<GenericTableCell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t<IconButton icon='trash' small title={t('Remove')} onClick={handleDelete} />\n\t\t</GenericTableCell>\n\t);\n};\n\nexport default RemoveAgentButton;\n",null],"names":["_regeneratorRuntime","IconButton","useMutableCallback","useSetModal","useToastMessageDispatch","useTranslation","React","GenericModal","GenericTableCell","useEndpointAction","module","link","default","v","exportDefault","_ref","_id","reload","onAgentRemoved","deleteAction","keys","setModal","dispatchToastMessage","t","handleRemoveClick","async","_context","prev","next","awrap","result","sent","success","stop","Promise","handleDelete","e","stopPropagation","createElement","variant","onConfirm","_context2","type","message","t0","onCancel","confirmText","fontScale","color","withTruncatedText","icon","small","title","onClick"],"mappings":"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"}