)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/agents/AgentInfoActions.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSetModal, useToastMessageDispatch, useRouteParameter, useRoute, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport GenericModal from '../../../components/GenericModal';\nimport { useEndpointAction } from '../../../hooks/useEndpointAction';\nimport AgentInfoAction from './AgentInfoAction';\n\nconst AgentInfoActions = ({ reload }: { reload: () => void }): ReactElement => {\n\tconst t = useTranslation();\n\tconst _id = useRouteParameter('id') ?? '';\n\tconst agentsRoute = useRoute('omnichannel-agents');\n\tconst deleteAction = useEndpointAction('DELETE', '/v1/livechat/users/agent/:_id', { keys: { _id } });\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleRemoveClick = useMutableCallback(async () => {\n\t\tconst result = await deleteAction();\n\t\tif (result.success === true) {\n\t\t\tagentsRoute.push({});\n\t\t\treload();\n\t\t}\n\t});\n\n\tconst handleDelete = useMutableCallback((e) => {\n\t\te.stopPropagation();\n\t\tconst onDeleteAgent = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait handleRemoveClick();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Agent_removed') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tsetModal();\n\t\t};\n\n\t\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteAgent} onCancel={(): void => setModal()} confirmText={t('Delete')} />);\n\t});\n\n\tconst handleEditClick = useMutableCallback(() =>\n\t\tagentsRoute.push({\n\t\t\tcontext: 'edit',\n\t\t\tid: _id,\n\t\t}),\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<AgentInfoAction key={t('Edit')} title={t('Edit')} label={t('Edit')} onClick={handleEditClick} icon='edit' />\n\t\t\t<AgentInfoAction key={t('Remove')} title={t('Remove')} label={t('Remove')} onClick={handleDelete} icon='trash' />\n\t\t</>\n\t);\n};\n\nexport default AgentInfoActions;\n",null],"names":["_regeneratorRuntime","useMutableCallback","useSetModal","useToastMessageDispatch","useRouteParameter","useRoute","useTranslation","React","GenericModal","useEndpointAction","AgentInfoAction","module","link","default","v","exportDefault","_ref","_useRouteParameter","reload","t","_id","agentsRoute","deleteAction","keys","setModal","dispatchToastMessage","handleRemoveClick","async","_context","prev","next","awrap","result","sent","success","push","stop","Promise","handleDelete","e","stopPropagation","createElement","variant","onConfirm","_context2","type","message","t0","onCancel","confirmText","handleEditClick","context","id","Fragment","key","title","label","onClick","icon"],"mappings":"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"}