)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/agents/AgentEditWithData.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box } from '@rocket.chat/fuselage';\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport { FormSkeleton } from '../../../components/Skeleton';\nimport AgentEdit from './AgentEdit';\n\ntype AgentEditWithDataProps = {\n\tuid: string;\n\treload: () => void;\n};\n\nconst AgentEditWithData = ({ uid, reload }: AgentEditWithDataProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst getDepartments = useEndpoint('GET', '/v1/livechat/department');\n\n\tconst getAgent = useEndpoint('GET', '/v1/livechat/users/agent/:_id', { _id: uid });\n\n\tconst getAgentDepartments = useEndpoint('GET', '/v1/livechat/agents/:agentId/departments', { agentId: uid });\n\n\tconst { data, isInitialLoading: isLoading, error } = useQuery(['getAgent'], async () => getAgent());\n\tconst {\n\t\tdata: userDepartments,\n\t\tisLoading: isUserDepartmentsLoading,\n\t\terror: userDepartmentsError,\n\t} = useQuery({ queryKey: ['getAgentDepartments'], queryFn: async () => getAgentDepartments(), cacheTime: 0 });\n\n\tconst {\n\t\tdata: availableDepartments,\n\t\tisLoading: isAvailableDepartmentsLoading,\n\t\terror: availableDepartmentsError,\n\t} = useQuery(['getDepartments'], async () => getDepartments({ showArchived: 'true' }));\n\n\tif (isLoading || isAvailableDepartmentsLoading || isUserDepartmentsLoading || !userDepartments || !availableDepartments) {\n\t\treturn <FormSkeleton />;\n\t}\n\n\tif (error || userDepartmentsError || availableDepartmentsError || !data || !data.user) {\n\t\treturn <Box p={16}>{t('User_not_found')}</Box>;\n\t}\n\n\treturn <AgentEdit uid={uid} data={data} userDepartments={userDepartments} availableDepartments={availableDepartments} reset={reload} />;\n};\n\nexport default AgentEditWithData;\n",null],"names":["_regeneratorRuntime","Box","useEndpoint","useTranslation","useQuery","React","FormSkeleton","AgentEdit","module","default","link","v","exportDefault","_ref","uid","reload","t","getDepartments","getAgent","_id","getAgentDepartments","agentId","_useQuery","async","_context","prev","next","abrupt","stop","Promise","data","isLoading","isInitialLoading","error","_useQuery2","queryKey","queryFn","_context2","cacheTime","userDepartments","isUserDepartmentsLoading","userDepartmentsError","_useQuery3","_context3","showArchived","availableDepartments","isAvailableDepartmentsLoading","availableDepartmentsError","createElement","user","p","reset"],"mappings":"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"}