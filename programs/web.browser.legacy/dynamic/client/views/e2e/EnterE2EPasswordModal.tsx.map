)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/e2e/EnterE2EPasswordModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, PasswordInput, Field, FieldGroup, FieldRow, FieldError } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState, useCallback } from 'react';\n\nimport GenericModal from '../../components/GenericModal';\n\nconst EnterE2EPasswordModal = ({\n\tonConfirm,\n\tonClose,\n\tonCancel,\n}: {\n\tonConfirm: (password: string) => void;\n\tonClose: () => void;\n\tonCancel: () => void;\n}): ReactElement => {\n\tconst t = useTranslation();\n\tconst [password, setPassword] = useState('');\n\tconst [passwordError, setPasswordError] = useState<string | undefined>();\n\n\tconst handleChange = useCallback(\n\t\t(e: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\te.target.value !== '' && setPasswordError(undefined);\n\t\t\tsetPassword(e.currentTarget.value);\n\t\t},\n\t\t[setPassword],\n\t);\n\n\tconst handleConfirm = useMutableCallback((e): void => {\n\t\te.preventDefault();\n\t\tif (password === '') {\n\t\t\tsetPasswordError(t('Invalid_pass'));\n\t\t\treturn;\n\t\t}\n\n\t\treturn onConfirm(password);\n\t});\n\n\treturn (\n\t\t<GenericModal\n\t\t\twrapperFunction={(props) => <Box is='form' onSubmit={handleConfirm} {...props} />}\n\t\t\tvariant='warning'\n\t\t\ttitle={t('Enter_E2E_password')}\n\t\t\tcancelText={t('Do_It_Later')}\n\t\t\tconfirmText={t('Decode_Key')}\n\t\t\tonClose={onClose}\n\t\t\tonCancel={onCancel}\n\t\t>\n\t\t\t<Box dangerouslySetInnerHTML={{ __html: t('E2E_password_request_text') }} />\n\t\t\t<FieldGroup mbs={24} w='full'>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\terror={passwordError}\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tplaceholder={t('New_Password_Placeholder')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t<FieldError>{passwordError}</FieldError>\n\t\t\t\t</Field>\n\t\t\t</FieldGroup>\n\t\t</GenericModal>\n\t);\n};\n\nexport default EnterE2EPasswordModal;\n",null],"names":["_extends","_slicedToArray","Box","PasswordInput","Field","FieldGroup","FieldRow","FieldError","useMutableCallback","useTranslation","React","useState","useCallback","GenericModal","module","link","default","v","exportDefault","_ref","onConfirm","onClose","onCancel","t","_useState2","password","setPassword","_useState4","passwordError","setPasswordError","handleChange","e","target","value","undefined","currentTarget","handleConfirm","preventDefault","createElement","wrapperFunction","props","is","onSubmit","variant","title","cancelText","confirmText","dangerouslySetInnerHTML","__html","mbs","w","autoFocus","error","onChange","placeholder"],"mappings":"uBAQA,IARAA,EAAmGC,EAAnGC,EAAOC,EAAOC,EAAaC,EAASC,EAAYC,EAAoDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxFC,EAAEC,IAAA,CAAA,iCAA4C,CAAAC,QAAAA,SAAkBC,CAAAA,EAAAjB,EAAAA,CAAA,CAAA,EAAA,GAAwBc,EAAAA,IAAAA,CAAAA,uCAAAA,CAAAE,QAAAA,SAAAA,CAAAA,EAAAf,EAAAA,CAAA,CAAA,EAAA,GAA1Ca,EAAAA,IAAY,CAAA,wBAAM,CAAAZ,IAAwB,SAAAe,CAAA,EAAAf,EAAAA,CAAA,EAAAC,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,MAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAN,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAL,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAP,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,gCAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAApGC,EAAOI,aAAO,CAQgB,SAAAC,CAAA,EAQX,IAPlBC,EAASD,EAATC,SAAS,CACTC,EAAOF,EAAPE,OAAO,CACPC,EAAQH,EAARG,QAAQ,CAMFC,EAAId,IACkCe,EAAAvB,EAAZU,EAAS,IAAG,GAArCc,EAAQD,CAAA,CAAA,EAAA,CAAEE,EAAWF,CAAA,CAAA,EAAA,CAC4CG,EAAA1B,EAA9BU,IAA8B,GAAjEiB,EAAaD,CAAA,CAAA,EAAA,CAAEE,EAAgBF,CAAA,CAAA,EAAA,CAEhCG,EAAelB,EACpB,SAACmB,CAAsC,EACtCA,AAAmB,KAAnBA,EAAEC,MAAM,CAACC,KAAK,EAAWJ,EAAiBK,KAAAA,GAC1CR,EAAYK,EAAEI,aAAa,CAACF,KAAK,CAClC,EACA,CAACP,EAAY,EAGRU,EAAgB5B,EAAmB,SAACuB,CAAC,EAE1C,GADAA,EAAEM,cAAc,GACZZ,AAAa,KAAbA,EAAiB,CACpBI,EAAiBN,EAAE,iBACnB,OAGD,OAAOH,EAAUK,EAClB,GAEA,OACCf,EAAA4B,aAAA,CAACzB,EAAY,CACZ0B,gBAAiB,SAACC,CAAK,EAAA,OAAK9B,EAAA4B,aAAA,CAACpC,EAAGF,EAAA,CAACyC,GAAG,OAAOC,SAAUN,CAAc,EAAKI,GAAS,EACjFG,QAAQ,UACRC,MAAOrB,EAAE,sBACTsB,WAAYtB,EAAE,eACduB,YAAavB,EAAE,cACfF,QAASA,EACTC,SAAUA,CAAS,EAEnBZ,EAAA4B,aAAA,CAACpC,EAAG,CAAC6C,wBAAyB,CAAEC,OAAQzB,EAAE,4BAA4B,CAAG,GACzEb,EAAA4B,aAAA,CAACjC,EAAU,CAAC4C,IAAK,GAAIC,EAAE,MAAM,EAC5BxC,EAAA4B,aAAA,CAAClC,EAAK,KACLM,EAAA4B,aAAA,CAAChC,EAAQ,KACRI,EAAA4B,aAAA,CAACnC,EAAa,CACbgD,UAAS,CAAA,EACTC,MAAOxB,EACPK,MAAOR,EACP4B,SAAUvB,EACVwB,YAAa/B,EAAE,2BAA4B,IAG7Cb,EAAA4B,aAAA,CAAC/B,EAAU,KAAEqB,KAKlB"}