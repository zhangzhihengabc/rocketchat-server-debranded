function module(e,n,t){var o,r,l,a,i,u,s,c,d,m,f,v,k,p,b,y,g,x,E;t.link("@babel/runtime/regenerator",{default:function(e){o=e}},0),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){r=e}},1),t.link("@rocket.chat/fuselage",{Button:function(e){l=e},Box:function(e){a=e},Flex:function(e){i=e}},0),t.link("@rocket.chat/ui-contexts",{useRouteParameter:function(e){u=e},useSearchParameter:function(e){s=e},useTranslation:function(e){c=e}},1),t.link("meteor/meteor",{Meteor:function(e){d=e}},2),t.link("react",{default:function(e){m=e},useEffect:function(e){f=e},useState:function(e){v=e},useCallback:function(e){k=e}},3),t.link("../../../app/utils/client/lib/SDKClient",{sdk:function(e){p=e}},4),t.link("../../components/avatar/UserAvatar",{default:function(e){b=e}},5),t.link("../../hooks/useEmbeddedLayout",{useEmbeddedLayout:function(e){y=e}},6),t.link("../notFound/NotFoundPage",{default:function(e){g=e}},7),t.link("../root/PageLoading",{default:function(e){x=e}},8),t.link("./CallPage",{default:function(e){E=e}},9),t.link("./styles.css"),t.exportDefault(function(){var e=c(),n=r(v(!1),2),t=n[0],h=n[1],w=r(v(null),2),C=w[0],S=w[1],B=r(v(null),2),I=B[0],_=B[1],P=u("rid"),N=s("token"),T=y(),z=r(v(""),2),L=z[0],D=z[1],F=r(v(""),2),M=F[0],R=F[1],j=r(v(void 0),2),A=j[0],W=j[1],q=function(){return window.innerWidth<=450},H=k(function(){var e,n,t,r,l,a;return o.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(!N||!P)){i.next=2;break}throw Error("Missing parameters");case 2:return i.next=4,o.awrap(p.rest.get("/v1/livechat/room",{token:N,rid:P}));case 4:if((null==(t=i.sent)?void 0:null===(e=t.room)||void 0===e?void 0:null===(n=e.v)||void 0===n?void 0:n.token)!==N){i.next=12;break}return _(t.room.v._id),D(t.room.fname),null!=t&&null!==(r=t.room)&&void 0!==r&&null!==(l=r.responseBy)&&void 0!==l&&l.username?R(t.room.responseBy.username):R(t.room.servedBy.username),S((null==t?void 0:null===(a=t.room)||void 0===a?void 0:a.callStatus)||"ended"),W(t.room.webRtcCallStartTime),i.abrupt("return",h(!0));case 12:case"end":return i.stop()}},null,null,null,Promise)},[N,P]),K=k(function(){var e,n,t,r,l,a;return o.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(P){i.next=2;break}throw Error("Missing parameters");case 2:return i.next=4,o.awrap(p.rest.get("/v1/rooms.info",{roomId:P}));case 4:if((null==(t=i.sent)?void 0:null===(e=t.room)||void 0===e?void 0:null===(n=e.servedBy)||void 0===n?void 0:n._id)!==d.userId()){i.next=11;break}return D(t.room.fname),null!=t&&null!==(r=t.room)&&void 0!==r&&null!==(l=r.responseBy)&&void 0!==l&&l.username?R(t.room.responseBy.username):R(t.room.servedBy.username),S((null==t?void 0:null===(a=t.room)||void 0===a?void 0:a.callStatus)||"ended"),W(t.room.webRtcCallStartTime),i.abrupt("return",h(!0));case 11:case"end":return i.stop()}},null,null,null,Promise)},[P]);return(f(function(){if(N){H();return}K()},[K,H,N]),null===C)?m.createElement(x,null):t?"ended"===C?m.createElement(i.Container,{direction:"column",justifyContent:"center"},m.createElement(a,{width:"full",minHeight:"sh",alignItems:"center",backgroundColor:"dark",overflow:"hidden",position:"relative"},m.createElement(a,{position:"absolute",style:{top:"5%",right:"2%"},className:"Self_Video",backgroundColor:"dark",alignItems:"center"},m.createElement(b,{style:{display:"block",margin:"auto"},username:N?L:M,className:"rcx-message__avatar",size:q()?"x32":"x48"})),m.createElement(a,{position:"absolute",zIndex:1,style:{top:q()?"30%":"20%",display:"flex",justifyContent:"center",flexDirection:"column"},alignItems:"center"},m.createElement(b,{style:{display:"block",margin:"auto"},username:N?M:L,className:"rcx-message__avatar",size:"x124"}),m.createElement("p",{style:{color:"white",fontSize:16,margin:15}},"Call Ended!"),m.createElement("p",{style:{color:"white",fontSize:q()?15:22}},N?M:L)),m.createElement(a,{position:"absolute",alignItems:"center",style:{bottom:"20%"}},m.createElement(l,{icon:"cross",square:!0,title:e("Close_Window"),onClick:function(){return window.close()},backgroundColor:"dark",borderColor:"extra-dark"})))):m.createElement(E,{roomId:P,status:C,visitorToken:N,visitorId:I,setStatus:S,visitorName:L,agentName:M,isLayoutEmbedded:T,callStartTime:A}):m.createElement(g,null)})}
//# sourceMappingURL=/dynamic/client/views/meet/7d1ec90a96344a666a0e05412c9f1b7c69a751b1.map
