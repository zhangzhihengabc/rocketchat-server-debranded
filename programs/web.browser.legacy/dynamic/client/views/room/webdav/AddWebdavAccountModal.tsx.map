)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/webdav/AddWebdavAccountModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IWebdavAccountPayload } from '@rocket.chat/core-typings';\nimport { Modal, Field, FieldGroup, FieldLabel, FieldRow, FieldError, TextInput, PasswordInput, Button, Box } from '@rocket.chat/fuselage';\nimport { useToastMessageDispatch, useMethod, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState } from 'react';\nimport type { SubmitHandler } from 'react-hook-form';\nimport { useForm } from 'react-hook-form';\n\ntype AddWebdavAccountModalPayload = IWebdavAccountPayload;\n\ntype AddWebdavAccountModalProps = {\n\tonClose: () => void;\n\tonConfirm: () => void;\n};\n\nconst AddWebdavAccountModal = ({ onClose, onConfirm }: AddWebdavAccountModalProps): ReactElement => {\n\tconst handleAddWebdavAccount = useMethod('addWebdavAccount');\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tformState: { errors },\n\t} = useForm<AddWebdavAccountModalPayload>();\n\tconst t = useTranslation();\n\n\tconst onSubmit: SubmitHandler<AddWebdavAccountModalPayload> = async (data) => {\n\t\tsetIsLoading(true);\n\n\t\ttry {\n\t\t\tawait handleAddWebdavAccount(data);\n\t\t\treturn dispatchToastMessage({ type: 'success', message: t('webdav-account-saved') });\n\t\t} catch (error) {\n\t\t\treturn dispatchToastMessage({ type: 'error', message: error });\n\t\t} finally {\n\t\t\tonConfirm();\n\t\t\tsetIsLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal wrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(onSubmit)} {...props} />}>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Title>{t('Webdav_add_new_account')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<FieldGroup>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Name_optional')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput placeholder={t('Name_optional')} {...register('name')} />\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Webdav_Server_URL')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput placeholder={t('Webdav_Server_URL')} {...register('serverURL', { required: true })} />\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t{errors.serverURL && <FieldError>{t('error-the-field-is-required', { field: t('Webdav_Server_URL') })}</FieldError>}\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Username')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput placeholder={t('Username')} {...register('username', { required: true })} />\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t{errors.username && <FieldError>{t('error-the-field-is-required', { field: t('Username') })}</FieldError>}\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Password')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<PasswordInput placeholder={t('Password')} {...register('password', { required: true })} />\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t{errors.password && <FieldError>{t('error-the-field-is-required', { field: t('Password') })}</FieldError>}\n\t\t\t\t\t</Field>\n\t\t\t\t</FieldGroup>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Modal.FooterControllers>\n\t\t\t\t\t<Button secondary onClick={onClose}>\n\t\t\t\t\t\t{t('Cancel')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button primary type='submit' loading={isLoading}>\n\t\t\t\t\t\t{t('Webdav_add_new_account')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.FooterControllers>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default AddWebdavAccountModal;\n",null],"names":["_regeneratorRuntime","_extends","_slicedToArray","Modal","Field","FieldGroup","FieldLabel","FieldRow","FieldError","TextInput","PasswordInput","Button","Box","useToastMessageDispatch","useMethod","useTranslation","React","useState","useForm","module","default","v","link","exportDefault","_ref","onClose","onConfirm","handleAddWebdavAccount","dispatchToastMessage","_useState2","isLoading","setIsLoading","_useForm","register","handleSubmit","errors","formState","t","onSubmit","data","async","_context","prev","next","awrap","abrupt","type","message","t0","finish","stop","Promise","createElement","wrapperFunction","props","is","Header","Title","Close","onClick","Content","placeholder","required","serverURL","field","username","password","Footer","FooterControllers","secondary","primary","loading"],"mappings":"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"}