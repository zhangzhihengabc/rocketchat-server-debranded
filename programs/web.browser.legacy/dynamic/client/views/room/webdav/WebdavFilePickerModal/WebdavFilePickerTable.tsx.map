)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/webdav/WebdavFilePickerModal/WebdavFilePickerTable.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IWebdavNode } from '@rocket.chat/core-typings';\nimport { Box, Icon } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport GenericNoResults from '../../../../components/GenericNoResults';\nimport {\n\tGenericTable,\n\tGenericTableBody,\n\tGenericTableCell,\n\tGenericTableHeader,\n\tGenericTableHeaderCell,\n\tGenericTableLoadingRow,\n\tGenericTableRow,\n} from '../../../../components/GenericTable';\nimport { timeAgo } from '../../../../lib/utils/timeAgo';\nimport type { WebdavSortOptions } from './WebdavFilePickerModal';\nimport { getNodeFileSize } from './lib/getNodeFileSize';\nimport { getNodeIconType } from './lib/getNodeIconType';\n\ntype WebdavFilePickerTableProps = {\n\twebdavNodes: IWebdavNode[];\n\tsortBy: string;\n\tsortDirection: 'asc' | 'desc';\n\tonSort: (sortBy: WebdavSortOptions, sortDirection?: 'asc' | 'desc') => void;\n\tonNodeClick: (webdavNode: IWebdavNode) => void;\n\tisLoading: boolean;\n};\n\nconst WebdavFilePickerTable = ({\n\twebdavNodes,\n\tsortBy,\n\tsortDirection,\n\tonSort,\n\tonNodeClick,\n\tisLoading,\n}: WebdavFilePickerTableProps): ReactElement => {\n\tconst t = useTranslation();\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' overflowY='hidden' height='x256'>\n\t\t\t{(isLoading || webdavNodes?.length > 0) && (\n\t\t\t\t<GenericTable>\n\t\t\t\t\t<GenericTableHeader>\n\t\t\t\t\t\t<GenericTableHeaderCell\n\t\t\t\t\t\t\twidth='300px'\n\t\t\t\t\t\t\tkey='name'\n\t\t\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\t\t\tactive={sortBy === 'name'}\n\t\t\t\t\t\t\tonClick={onSort}\n\t\t\t\t\t\t\tsort='name'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t</GenericTableHeaderCell>\n\t\t\t\t\t\t<GenericTableHeaderCell key='size' direction={sortDirection} active={sortBy === 'size'} onClick={onSort} sort='size'>\n\t\t\t\t\t\t\t{t('Size')}\n\t\t\t\t\t\t</GenericTableHeaderCell>\n\t\t\t\t\t\t<GenericTableHeaderCell\n\t\t\t\t\t\t\tkey='dataModified'\n\t\t\t\t\t\t\tdirection={sortDirection}\n\t\t\t\t\t\t\tactive={sortBy === 'dataModified'}\n\t\t\t\t\t\t\tonClick={onSort}\n\t\t\t\t\t\t\tsort='dataModified'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{t('Data_modified')}\n\t\t\t\t\t\t</GenericTableHeaderCell>\n\t\t\t\t\t</GenericTableHeader>\n\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t{isLoading &&\n\t\t\t\t\t\t\tArray(5)\n\t\t\t\t\t\t\t\t.fill('')\n\t\t\t\t\t\t\t\t.map((_, index) => <GenericTableLoadingRow key={index} cols={3} />)}\n\t\t\t\t\t\t{!isLoading &&\n\t\t\t\t\t\t\twebdavNodes?.map((webdavNode, index) => {\n\t\t\t\t\t\t\t\tconst { icon } = getNodeIconType(webdavNode.basename, webdavNode.type, webdavNode.mime);\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<GenericTableRow key={index} onClick={(): void => onNodeClick(webdavNode)} tabIndex={index} role='link' action>\n\t\t\t\t\t\t\t\t\t\t<GenericTableCell fontScale='p2' color='default' w='x200' display='flex' alignItems='center'>\n\t\t\t\t\t\t\t\t\t\t\t<Icon mie={4} size='x20' name={icon} />\n\t\t\t\t\t\t\t\t\t\t\t<Box withTruncatedText>{webdavNode.basename}</Box>\n\t\t\t\t\t\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t\t\t\t\t\t<GenericTableCell fontScale='p2' color='default'>\n\t\t\t\t\t\t\t\t\t\t\t<Box withTruncatedText>{getNodeFileSize(webdavNode.type, webdavNode?.size)}</Box>\n\t\t\t\t\t\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t\t\t\t\t\t<GenericTableCell fontScale='p2' color='default'>\n\t\t\t\t\t\t\t\t\t\t\t<Box withTruncatedText>{timeAgo(new Date())}</Box>\n\t\t\t\t\t\t\t\t\t\t</GenericTableCell>\n\t\t\t\t\t\t\t\t\t</GenericTableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t</GenericTableBody>\n\t\t\t\t</GenericTable>\n\t\t\t)}\n\t\t\t{!isLoading && webdavNodes?.length === 0 && <GenericNoResults />}\n\t\t</Box>\n\t);\n};\n\nexport default WebdavFilePickerTable;\n",null],"names":["Box","Icon","useTranslation","React","GenericNoResults","GenericTable","GenericTableBody","GenericTableCell","GenericTableHeader","GenericTableHeaderCell","GenericTableLoadingRow","GenericTableRow","timeAgo","getNodeFileSize","getNodeIconType","module","link","v","exportDefault","_ref","webdavNodes","sortBy","sortDirection","onSort","onNodeClick","isLoading","t","createElement","display","flexDirection","overflowY","height","length","width","key","direction","active","onClick","sort","Array","fill","map","_","index","cols","webdavNode","icon","_getNodeIconType","basename","type","mime","tabIndex","role","action","fontScale","color","w","alignItems","mie","size","name","withTruncatedText","Date"],"mappings":"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"}