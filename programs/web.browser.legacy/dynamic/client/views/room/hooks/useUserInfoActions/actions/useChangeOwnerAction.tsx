function module(n,e,o){o.link("@babel/runtime/regenerator",{default:function(n){r=n}},0),o.export({useChangeOwnerAction:function(){return b}}),o.link("@rocket.chat/core-typings",{isRoomFederated:function(n){i=n}},0),o.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(n){t=n}},1),o.link("@rocket.chat/string-helpers",{escapeHTML:function(n){u=n}},2),o.link("@rocket.chat/ui-contexts",{useTranslation:function(n){s=n},usePermission:function(n){c=n},useUserRoom:function(n){a=n},useUserSubscription:function(n){l=n},useSetModal:function(n){m=n},useUser:function(n){_=n}},3),o.link("react",{default:function(n){f=n},useCallback:function(n){d=n},useMemo:function(n){v=n}},4),o.link("../../../../../components/GenericModal",{default:function(n){g=n}},5),o.link("../../../../../hooks/useEndpointAction",{useEndpointAction:function(n){k=n}},6),o.link("../../../../../lib/rooms/roomCoordinator",{roomCoordinator:function(n){p=n}},7),o.link("../../../lib/getRoomDirectives",{getRoomDirectives:function(n){w=n}},8),o.link("../../useUserHasRoomRole",{useUserHasRoomRole:function(n){h=n}},9);var r,i,t,u,s,c,a,l,m,_,f,d,v,g,k,p,w,h,R=function(n,e,o,r,i){return f.createElement(g,{variant:"warning",onClose:n,onConfirm:e,onCancel:n,title:o,confirmText:r},i)},b=function(n,e){var o=s(),f=a(e),g=n._id,b=c("set-owner",e),C=h(g,e,"owner"),I=l(e),M=m(),U=(_()||{})._id,x=void 0===U?"":U,S=h(x,e,"owner"),O=d(function(){return M(null)},[M]);if(!f)throw Error("Room not provided");var E="p"===f.t?"/v1/groups":"/v1/channels",F=w({room:f,showingUserId:g,userSubscription:I}).roomCanSetOwner,T=(null==f?void 0:f.t)&&u(p.getRoomName(f.t,f)),y=k("POST",E+"."+(C?"removeOwner":"addOwner"),{successMessage:o(C?"User__username__removed_from__room_name__owners":"User__username__is_now_an_owner_of__room_name_",{username:n.username,room_name:T})}),A=d(function(){y({roomId:e,userId:g}),O()},[y,e,g,O]),H=d(function(n){var r=n.userId;if(!i(f))return y({roomId:e,userId:g});var t=r===x;return t&&S?M(function(){return R(O,A,o("Federation_Matrix_losing_privileges"),o("Yes_continue"),o("Federation_Matrix_losing_privileges_warning"))}):!t&&S?M(function(){return R(O,A,o("Warning"),o("Yes_continue"),o("Federation_Matrix_giving_same_permission_warning"))}):void y({roomId:e,userId:g})},[M,x,S,o,e,g,y,O,A,f]),P=t(function(){return r.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",H({roomId:e,userId:g}));case 1:case"end":return n.stop()}},null,null,null,Promise)});return v(function(){return i(f)&&F||!i(f)&&F&&b?{content:o(C?"Remove_as_owner":"Set_as_owner"),icon:"shield-check",onClick:P,type:"privileges"}:void 0},[P,F,b,C,o,f])}}
//# sourceMappingURL=/dynamic/client/views/room/hooks/useUserInfoActions/actions/a9109999ec8b463526012004e710f9117229b5fd.map
