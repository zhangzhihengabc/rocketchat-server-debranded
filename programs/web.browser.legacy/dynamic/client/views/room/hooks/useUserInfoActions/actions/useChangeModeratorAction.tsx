function module(o,n,e){e.export({useChangeModeratorAction:function(){return R}}),e.link("@rocket.chat/core-typings",{isRoomFederated:function(o){r=o}},0),e.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(o){t=o}},1),e.link("@rocket.chat/string-helpers",{escapeHTML:function(o){i=o}},2),e.link("@rocket.chat/ui-contexts",{useTranslation:function(o){s=o},usePermission:function(o){u=o},useUserRoom:function(o){a=o},useUserSubscription:function(o){c=o},useUser:function(o){m=o},useSetModal:function(o){d=o}},3),e.link("react",{default:function(o){l=o},useCallback:function(o){_=o},useMemo:function(o){f=o}},4),e.link("../../../../../components/GenericModal",{default:function(o){v=o}},5),e.link("../../../../../hooks/useEndpointAction",{useEndpointAction:function(o){g=o}},6),e.link("../../../../../lib/rooms/roomCoordinator",{roomCoordinator:function(o){k=o}},7),e.link("../../../lib/getRoomDirectives",{getRoomDirectives:function(o){p=o}},8),e.link("../../useUserHasRoomRole",{useUserHasRoomRole:function(o){M=o}},9);var r,t,i,s,u,a,c,m,d,l,_,f,v,g,k,p,M,h=function(o,n,e,r,t){return l.createElement(v,{variant:"warning",onClose:o,onConfirm:n,onCancel:o,title:e,confirmText:r},t)},R=function(o,n){var e=s(),l=a(n),v=o._id,R=u("set-moderator",n),C=M(v,n,"moderator"),I=c(n),b=(m()||{})._id,U=void 0===b?"":b,w=M(U,n,"moderator"),x=M(U,n,"owner"),S=d(),E=_(function(){return S(null)},[S]);if(!l)throw Error("Room not provided");var F="p"===l.t?"/v1/groups":"/v1/channels",T=p({room:l,showingUserId:v,userSubscription:I}).roomCanSetModerator,A=(null==l?void 0:l.t)&&i(k.getRoomName(l.t,l)),H=g("POST",F+"."+(C?"removeModerator":"addModerator"),{successMessage:e(C?"User__username__removed_from__room_name__moderators":"User__username__is_now_a_moderator_of__room_name_",{username:o.username,room_name:A})}),y=_(function(){H({roomId:n,userId:v}),E()},[H,n,v,E]),D=_(function(o){var t=o.userId;if(!r(l))return H({roomId:n,userId:v});var i=t===U;return i&&w||i&&x?S(function(){return h(E,y,e("Federation_Matrix_losing_privileges"),e("Yes_continue"),e("Federation_Matrix_losing_privileges_warning"))}):!i&&w?S(function(){return h(E,y,e("Warning"),e("Yes_continue"),e("Federation_Matrix_giving_same_permission_warning"))}):void H({roomId:n,userId:v})},[S,U,w,x,e,n,v,H,E,y,l]),P=t(function(){return D({roomId:n,userId:v})});return f(function(){return r(l)&&T||!r(l)&&T&&R?{content:e(C?"Remove_as_moderator":"Set_as_moderator"),icon:"shield-blank",onClick:P,type:"privileges"}:void 0},[P,C,T,e,R,l])}}
//# sourceMappingURL=/dynamic/client/views/room/hooks/useUserInfoActions/actions/8c13cea625734ae7ef3a2dde53fdfc543bf4b562.map
