)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/MessageList/hooks/useMessageBody.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport type { Options, Root } from '@rocket.chat/message-parser';\nimport { useUserSubscription } from '@rocket.chat/ui-contexts';\nimport { useMemo } from 'react';\n\nimport { parseMessageTextToAstMarkdown } from '../../../../lib/parseMessageTextToAstMarkdown';\nimport { useAutoLinkDomains } from './useAutoLinkDomains';\nimport { useAutoTranslate } from './useAutoTranslate';\n\nexport const useMessageBody = (message: IMessage | undefined, rid: string): string | Root => {\n\tconst subscription = useUserSubscription(rid);\n\tconst autoTranslateOptions = useAutoTranslate(subscription);\n\tconst customDomains = useAutoLinkDomains();\n\n\treturn useMemo(() => {\n\t\tif (!message) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (message.md) {\n\t\t\tconst parseOptions: Options = {\n\t\t\t\tcustomDomains,\n\t\t\t\temoticons: true,\n\t\t\t};\n\n\t\t\tconst messageWithMd = parseMessageTextToAstMarkdown(message, parseOptions, autoTranslateOptions);\n\n\t\t\treturn messageWithMd.md;\n\t\t}\n\n\t\tif (message.msg) {\n\t\t\treturn message.msg;\n\t\t}\n\n\t\tif (message.attachments) {\n\t\t\tconst attachment = message.attachments.find((attachment) => attachment.title || attachment.description);\n\n\t\t\tif (attachment?.description) {\n\t\t\t\treturn attachment.description;\n\t\t\t}\n\n\t\t\tif (attachment?.title) {\n\t\t\t\treturn attachment.title;\n\t\t\t}\n\t\t}\n\n\t\treturn '';\n\t}, [message, customDomains, autoTranslateOptions]);\n};\n",null],"names":["module","export","useMessageBody","useUserSubscription","useMemo","parseMessageTextToAstMarkdown","useAutoLinkDomains","useAutoTranslate","message","rid","autoTranslateOptions","customDomains","md","messageWithMd","emoticons","msg","attachments","attachment","find","title","description"],"mappings":"uBAEAA,EAAOC,MAAE,CAAA,CAAAC,eAAqB,WAAM,OAAAA,CAA0B,CAAC,GAAAF,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAG,oBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAH,EAAAA,IAAAA,CAAAA,QAAAA,CAAAI,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAJ,EAAAA,IAAAA,CAAAA,gDAAAA,CAAAK,8BAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAL,EAAAA,IAAAA,CAAAA,uBAAAA,CAAAM,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,qBAAAA,CAAAO,iBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAOxD,IAPwDJ,EAAAC,EAAAC,EAAAC,EAAAC,EAOlDL,EAAiB,SAACM,CAA6B,CAAEC,CAAW,EAExE,IAAMC,EAAuBH,EADRJ,EAAoBM,IAEnCE,EAAgBL,IAEtB,OAAOF,EAAQ,WACd,GAAI,CAACI,EACJ,MAAO,GAGR,GAAIA,EAAQI,EAAE,CAQb,OAAOC,AAFeR,EAA8BG,EALtB,CAC7BG,cAAAA,EACAG,UAAW,CAAA,GAG+DJ,GAEtDE,EAAE,CAGxB,GAAIJ,EAAQO,GAAG,CACd,OAAOP,EAAQO,GAAG,CAGnB,GAAIP,EAAQQ,WAAW,CAAE,CACxB,IAAMC,EAAaT,EAAQQ,WAAW,CAACE,IAAI,CAAC,SAACD,CAAU,EAAA,OAAKA,EAAWE,KAAK,EAAIF,EAAWG,WAAW,GAEtG,GAAIH,MAAAA,GAAAA,EAAYG,WAAW,CAC1B,OAAOH,EAAWG,WAAW,CAG9B,GAAIH,MAAAA,GAAAA,EAAYE,KAAK,CACpB,OAAOF,EAAWE,KAAK,CAIzB,MAAO,EACR,EAAG,CAACX,EAASG,EAAeD,EAAqB,CAClD"}