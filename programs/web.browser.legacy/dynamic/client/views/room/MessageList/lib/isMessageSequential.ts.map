)]}'
{"version":3,"sources":["meteor://ğŸ’»app/client/views/room/MessageList/lib/isMessageSequential.ts","meteor://ğŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { differenceInSeconds } from 'date-fns';\n\nimport { MessageTypes } from '../../../../../app/ui-utils/lib/MessageTypes';\nimport { isMessageNewDay } from './isMessageNewDay';\n\nexport const isMessageSequential = (current: IMessage, previous: IMessage | undefined, groupingRange: number): boolean => {\n\tif (!previous) {\n\t\treturn false;\n\t}\n\n\tif (MessageTypes.isSystemMessage(current) || MessageTypes.isSystemMessage(previous)) {\n\t\treturn false;\n\t}\n\n\tif (current.tmid) {\n\t\treturn [previous.tmid, previous._id].includes(current.tmid);\n\t}\n\n\tif (previous.tmid) {\n\t\treturn false;\n\t}\n\n\tif (current.groupable === false) {\n\t\treturn false;\n\t}\n\n\tif (current.u._id !== previous.u._id) {\n\t\treturn false;\n\t}\n\n\tif (current.alias !== previous.alias) {\n\t\treturn false;\n\t}\n\treturn differenceInSeconds(current.ts, previous.ts) < groupingRange && !isMessageNewDay(current, previous);\n};\n",null],"names":["module","export","isMessageSequential","differenceInSeconds","MessageTypes","isMessageNewDay","current","previous","groupingRange","isSystemMessage","tmid","_id","includes","groupable","u","alias","ts"],"mappings":"uBACAA,EAAOC,MAAE,CAAA,CAAAC,oBAAqB,WAAgB,OAACA,CAAA,CAAA,GAAAF,EAAAA,IAAAA,CAAAA,WAAAA,CAAAG,oBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAH,EAAAA,IAAAA,CAAAA,+CAAAA,CAAAI,aAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAJ,EAAAA,IAAAA,CAAAA,oBAAAA,CAAAK,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAKxC,IALwCF,EAAAC,EAAAC,EAKlCH,EAAsB,SAACI,CAAiB,CAAEC,CAA8B,CAAEC,CAAqB,QAC3G,EAAI,CAACD,GAIDH,EAAaK,eAAe,CAACH,IAAYF,EAAaK,eAAe,CAACF,MAItED,EAAQI,IAAI,CACR,CAACH,EAASG,IAAI,CAAEH,EAASI,GAAG,CAAC,CAACC,QAAQ,CAACN,EAAQI,IAAI,GAGvDH,EAASG,IAAI,EAIbJ,AAAsB,CAAA,IAAtBA,EAAQO,SAAS,EAIjBP,EAAQQ,CAAC,CAACH,GAAG,GAAKJ,EAASO,CAAC,CAACH,GAAG,EAIhCL,EAAQS,KAAK,GAAKR,EAASQ,KAAK,EAG7BZ,EAAoBG,EAAQU,EAAE,CAAET,EAASS,EAAE,EAAIR,GAAiB,CAACH,EAAgBC,EAASC,GAClG"}