)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/composer/ComposerOmnichannel/ComposerOmnichannelInquiry.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { MessageFooterCallout, MessageFooterCalloutAction, MessageFooterCalloutContent } from '@rocket.chat/ui-composer';\nimport { useEndpoint, useMethod, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport { useOmnichannelRoom } from '../../contexts/RoomContext';\n\nexport const ComposerOmnichannelInquiry = (): ReactElement => {\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst room = useOmnichannelRoom();\n\tconst getInquire = useEndpoint('GET', `/v1/livechat/inquiries.getOne`);\n\tconst result = useQuery(['inquire', room._id], () =>\n\t\tgetInquire({\n\t\t\troomId: room._id,\n\t\t}),\n\t);\n\tconst takeInquiry = useMethod('livechat:takeInquiry');\n\n\tconst handleTakeInquiry = async (): Promise<void> => {\n\t\tif (!result.isSuccess) {\n\t\t\treturn;\n\t\t}\n\t\tif (!result.data.inquiry) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tawait takeInquiry(result.data.inquiry._id, { clientAction: true });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst t = useTranslation();\n\treturn (\n\t\t<MessageFooterCallout aria-busy={result.isLoading}>\n\t\t\t<MessageFooterCalloutContent>{t('you_are_in_preview_mode_of_incoming_livechat')}</MessageFooterCalloutContent>\n\t\t\t<MessageFooterCalloutAction disabled={result.isLoading} onClick={handleTakeInquiry}>\n\t\t\t\t{t('Take_it')}\n\t\t\t</MessageFooterCalloutAction>\n\t\t</MessageFooterCallout>\n\t);\n};\n",null],"names":["module","link","default","_regeneratorRuntime","v","export","ComposerOmnichannelInquiry","MessageFooterCallout","MessageFooterCalloutAction","MessageFooterCalloutContent","useEndpoint","useMethod","useToastMessageDispatch","useTranslation","useQuery","React","useOmnichannelRoom","dispatchToastMessage","room","getInquire","result","_id","roomId","takeInquiry","t","createElement","isLoading","disabled","onClick","async","_context","prev","next","isSuccess","abrupt","data","inquiry","awrap","clientAction","t0","type","message","stop","Promise"],"mappings":"uBAASA,EAAsBC,IAAAA,CAAAA,6BAA4B,CAAAC,QAAAA,SAAAA,CAAAA,EAA2BC,EAAQC,CAAA,CAAA,EAAA,GAA9FJ,EAAOK,MAAE,CAAA,CAAAC,2BAAsB,WAAA,OAA4BA,CAA2B,CAAA,GAAmCN,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAO,qBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,2BAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,4BAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAT,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAU,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAb,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAc,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAd,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAI,CAAA,EAAAW,EAAAA,CAAA,CAAA,EAAA,GAAAf,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAgB,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAQlH,IARPb,EAA8FI,EAAAA,EAA2BE,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAQ5GV,EAA6B,WACzC,IAAMW,EAAuBL,IAEvBM,EAAOF,IACPG,EAAaT,EAAY,MAAK,iCAC9BU,EAASN,EAAS,CAAC,UAAWI,EAAKG,GAAG,CAAC,CAAE,WAAA,OAC9CF,EAAW,CACVG,OAAQJ,EAAKG,GAAAA,EACZ,GAEGE,EAAcZ,EAAU,wBAgBxBa,EAAIX,IACV,OACCE,EAAAU,aAAA,CAAClB,EAAoB,CAAC,YAAWa,EAAOM,SAAAA,AAAU,EACjDX,EAAAU,aAAA,CAAChB,EAA2B,KAAEe,EAAE,iDAChCT,EAAAU,aAAA,CAACjB,EAA0B,CAACmB,SAAUP,EAAOM,SAAU,CAACE,QAlBhC,WAAA,OAAAzB,EAAA0B,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,GACpBZ,EAAOa,SAAS,CAAA,CAAAH,EAAAE,IAAA,CAAA,EAAA,KAAA,CAAA,OAAAF,EAAAI,MAAA,CAAA,SAAA,MAAA,EAAA,GAGhBd,EAAOe,IAAI,CAACC,OAAO,CAAA,CAAAN,EAAAE,IAAA,CAAA,EAAA,KAAA,CAAA,OAAAF,EAAAI,MAAA,CAAA,SAAA,MAAA,EAAA,OAAAJ,EAAAC,IAAA,CAAA,EAAAD,EAAAE,IAAA,CAAA,EAAA7B,EAAAkC,KAAA,CAIjBd,EAAYH,EAAOe,IAAI,CAACC,OAAO,CAACf,GAAG,CAAE,CAAEiB,aAAc,CAAA,CAAI,GAAG,MAAA,EAAAR,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,EAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAS,EAAA,CAAAT,EAAA,KAAA,CAAA,GAElEb,EAAqB,CAAEuB,KAAM,QAASC,QAAOX,EAAAS,EAAA,AAAO,EAAI,MAAA,GAAA,IAAA,MAAA,OAAAT,EAAAY,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAAC,QAAA,CAQ2B,EACjFnB,EAAE,YAIP"}