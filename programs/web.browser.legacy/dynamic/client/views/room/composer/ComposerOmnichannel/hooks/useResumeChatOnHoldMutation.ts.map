)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/composer/ComposerOmnichannel/hooks/useResumeChatOnHoldMutation.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { useEndpoint, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\nimport type { UseMutationOptions, UseMutationResult } from '@tanstack/react-query';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\n\nexport const useResumeChatOnHoldMutation = (\n\toptions?: Omit<UseMutationOptions<void, Error, IRoom['_id']>, 'mutationFn'>,\n): UseMutationResult<void, Error, IRoom['_id']> => {\n\tconst resumeChatOnHold = useEndpoint('POST', '/v1/livechat/room.resumeOnHold');\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst queryClient = useQueryClient();\n\n\treturn useMutation(\n\t\tasync (roomId) => {\n\t\t\tawait resumeChatOnHold({ roomId });\n\t\t},\n\t\t{\n\t\t\t...options,\n\t\t\tonSuccess: async (data, rid, context) => {\n\t\t\t\tawait queryClient.invalidateQueries(['current-chats']);\n\t\t\t\tawait queryClient.invalidateQueries(['rooms', rid]);\n\t\t\t\tawait queryClient.invalidateQueries(['subscriptions', { rid }]);\n\t\t\t\treturn options?.onSuccess?.(data, rid, context);\n\t\t\t},\n\t\t\tonError: (error) => {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t},\n\t\t},\n\t);\n};\n",null],"names":["module","link","default","v","_objectSpread","_regeneratorRuntime","export","useResumeChatOnHoldMutation","useEndpoint","useToastMessageDispatch","useMutation","useQueryClient","options","resumeChatOnHold","dispatchToastMessage","queryClient","roomId","async","_context","prev","next","awrap","stop","Promise","onSuccess","data","rid","context","_options$onSuccess","_context2","invalidateQueries","abrupt","call","onError","error","type","message"],"mappings":"uBACSA,EAAaC,IAAA,CAAA,uCAA+B,CAAAC,QAAAA,SAA2BC,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAAJ,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAE,QAAAA,SAAAA,CAAAA,EAAAG,EAAAA,CAAA,CAAA,EAAA,GAAhFL,EAAOM,MAAE,CAAA,CAAAC,4BAAa,WAA+B,OAAAA,CAA2B,CAAA,GAAAP,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAQ,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAT,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAU,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAIzE,IAJPP,EAAgFC,EAAAG,EAAAC,EAAAC,EAAAC,EAInEJ,EAA8B,SAC1CK,CAA2E,EAE3E,IAAMC,EAAmBL,EAAY,OAAQ,kCAEvCM,EAAuBL,IAEvBM,EAAcJ,IAEpB,OAAOD,EACN,SAAOM,CAAM,EAAA,OAAAX,EAAAY,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAE,IAAA,CAAA,EAAAf,EAAAgB,KAAA,CACNR,EAAiB,CAAEG,OAAAA,CAAM,GAAG,MAAA,EAAA,IAAA,MAAA,OAAAE,EAAAI,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAClCnB,EAAAA,EAAA,CAAA,EAEGQ,GAAO,CAAA,EAAA,CACVY,UAAW,SAAOC,CAAI,CAAEC,CAAG,CAAEC,CAAO,EAAA,IAAAC,EAAA,OAAAvB,EAAAY,KAAA,CAAA,SAAAY,CAAA,EAAA,OAAA,OAAAA,EAAAV,IAAA,CAAAU,EAAAT,IAAA,EAAA,KAAA,EAAA,OAAAS,EAAAT,IAAA,CAAA,EAAAf,EAAAgB,KAAA,CAC7BN,EAAYe,iBAAiB,CAAC,CAAC,gBAAgB,EAAC,MAAA,EAAA,OAAAD,EAAAT,IAAA,CAAA,EAAAf,EAAAgB,KAAA,CAChDN,EAAYe,iBAAiB,CAAC,CAAC,QAASJ,EAAI,EAAC,MAAA,EAAA,OAAAG,EAAAT,IAAA,CAAA,EAAAf,EAAAgB,KAAA,CAC7CN,EAAYe,iBAAiB,CAAC,CAAC,gBAAiB,CAAEJ,IAAAA,CAAG,EAAG,EAAC,MAAA,EAAA,OAAAG,EAAAE,MAAA,CAAA,SACxDnB,MAAAA,EAAO,KAAA,EAAA,AAAW,OAAXgB,CAAAA,EAAPhB,EAASY,SAAS,AAATA,GAASI,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAlBA,EAAAI,IAAA,CAAApB,EAAqBa,EAAMC,EAAKC,GAAQ,MAAA,EAAA,IAAA,MAAA,OAAAE,EAAAP,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAEhDU,QAAS,SAACC,CAAK,EACdpB,EAAqB,CAAEqB,KAAM,QAASC,QAASF,CAAK,EACrD,CAAC,GAGJ"}