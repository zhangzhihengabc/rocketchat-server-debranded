)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/composer/messageBox/MessageBoxReplies.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { MessageQuoteAttachment } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport { IconButton, Box, Margins } from '@rocket.chat/fuselage';\nimport { useSetting } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo } from 'react';\nimport { useSubscription } from 'use-subscription';\n\nimport { getUserDisplayName } from '../../../../../lib/getUserDisplayName';\nimport { QuoteAttachment } from '../../../../components/message/content/attachments/QuoteAttachment';\nimport { useChat } from '../../contexts/ChatContext';\n\nconst MessageBoxReplies = (): ReactElement | null => {\n\tconst chat = useChat();\n\n\tif (!chat?.composer?.quotedMessages) {\n\t\tthrow new Error('Chat context not found');\n\t}\n\n\tconst replies = useSubscription({\n\t\tgetCurrentValue: chat.composer.quotedMessages.get,\n\t\tsubscribe: chat.composer.quotedMessages.subscribe,\n\t});\n\n\tconst useRealName = Boolean(useSetting('UI_Use_Real_Name'));\n\n\tif (!replies.length) {\n\t\treturn null;\n\t}\n\n\tconst closeWrapperStyle = css`\n\t\tposition: absolute;\n\t\tright: 0.5rem;\n\t\ttop: 0.75rem;\n\t`;\n\n\treturn (\n\t\t<Box mbe={8} position='relative' overflowY='auto' maxHeight='x256'>\n\t\t\t{replies.map((reply, key) => (\n\t\t\t\t<Margins block={4} key={key}>\n\t\t\t\t\t<Box display='flex' position='relative'>\n\t\t\t\t\t\t<QuoteAttachment\n\t\t\t\t\t\t\tattachment={\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttext: reply.msg,\n\t\t\t\t\t\t\t\t\tmd: reply.md,\n\t\t\t\t\t\t\t\t\tauthor_name: reply.alias || getUserDisplayName(reply.u.name, reply.u.username, useRealName),\n\t\t\t\t\t\t\t\t\tauthor_icon: `/avatar/${reply.u.username}`,\n\t\t\t\t\t\t\t\t\tts: reply.ts,\n\t\t\t\t\t\t\t\t\tattachments: reply?.attachments?.map((obj) => ({ ...obj, collapsed: true })),\n\t\t\t\t\t\t\t\t\tcollapsed: true,\n\t\t\t\t\t\t\t\t} as MessageQuoteAttachment\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tclassName={closeWrapperStyle}\n\t\t\t\t\t\t\tdata-mid={reply._id}\n\t\t\t\t\t\t\tonClick={(): void => {\n\t\t\t\t\t\t\t\tchat.composer?.dismissQuotedMessage(reply._id);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<IconButton mini icon='cross' />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Margins>\n\t\t\t))}\n\t\t</Box>\n\t);\n};\n\nexport default memo(MessageBoxReplies);\n",null],"names":["_objectSpread","_taggedTemplateLiteralLoose","css","IconButton","Box","Margins","useSetting","React","memo","useSubscription","getUserDisplayName","QuoteAttachment","useChat","module","link","default","v","exportDefault","_chat$composer","chat","composer","quotedMessages","Error","replies","getCurrentValue","get","subscribe","useRealName","Boolean","length","closeWrapperStyle","_templateObject","createElement","mbe","position","overflowY","maxHeight","map","reply","key","_reply$attachments","block","display","attachment","text","msg","md","author_name","alias","u","name","username","author_icon","ts","attachments","obj","collapsed","className","_id","onClick","_chat$composer2","dismissQuotedMessage","mini","icon"],"mappings":"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"}