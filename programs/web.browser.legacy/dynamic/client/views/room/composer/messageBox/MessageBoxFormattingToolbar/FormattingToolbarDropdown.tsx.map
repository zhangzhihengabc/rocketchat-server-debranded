)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/composer/messageBox/MessageBoxFormattingToolbar/FormattingToolbarDropdown.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Dropdown, IconButton, Option, OptionTitle, OptionIcon, OptionContent } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useRef } from 'react';\n\nimport type { FormattingButton } from '../../../../../../app/ui-message/client/messageBox/messageBoxFormatting';\nimport type { ComposerAPI } from '../../../../../lib/chats/ChatAPI';\nimport { useDropdownVisibility } from '../../../../../sidebar/header/hooks/useDropdownVisibility';\n\ntype FormattingToolbarDropdownProps = {\n\tcomposer: ComposerAPI;\n\titems: FormattingButton[];\n};\n\nconst FormattingToolbarDropdown = ({ composer, items, ...props }: FormattingToolbarDropdownProps) => {\n\tconst t = useTranslation();\n\tconst reference = useRef(null);\n\tconst target = useRef(null);\n\n\tconst { isVisible, toggle } = useDropdownVisibility({ reference, target });\n\n\treturn (\n\t\t<>\n\t\t\t<IconButton {...props} small ref={reference} icon='meatballs' onClick={() => toggle()} />\n\t\t\t{isVisible && (\n\t\t\t\t<Dropdown reference={reference} ref={target} placement='bottom-start'>\n\t\t\t\t\t<OptionTitle>{t('Message_Formatting_Toolbox')}</OptionTitle>\n\t\t\t\t\t{items.map((formatter, index) => {\n\t\t\t\t\t\tconst handleFormattingAction = () => {\n\t\t\t\t\t\t\tif ('link' in formatter) {\n\t\t\t\t\t\t\t\twindow.open(formatter.link, '_blank', 'rel=noreferrer noopener');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcomposer.wrapSelection(formatter.pattern);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Option\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleFormattingAction();\n\t\t\t\t\t\t\t\t\ttoggle();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<OptionIcon name={'icon' in formatter ? formatter.icon : 'link'} />\n\t\t\t\t\t\t\t\t<OptionContent>{t(formatter.label)}</OptionContent>\n\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</Dropdown>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default FormattingToolbarDropdown;\n",null],"names":["_extends","_objectWithoutProperties","Dropdown","IconButton","Option","OptionTitle","OptionIcon","OptionContent","useTranslation","React","useRef","useDropdownVisibility","module","link","default","v","exportDefault","_ref","composer","items","props","_excluded","t","reference","target","_useDropdownVisibilit","isVisible","toggle","createElement","Fragment","small","ref","icon","onClick","placement","map","formatter","index","handleFormattingAction","window","open","wrapSelection","pattern","key","name","label"],"mappings":"2BAAAA,EAAqFC,EAArFC,EAASC,EAAUC,EAAYC,EAAQC,EAAaC,EAAyDC,EAAAC,EAAAC,EAAAC,yBAApGC,EAAUC,IAAA,CAAA,iCAAiC,CAAAC,QAAY,SAAAC,CAAa,EAAEf,EAAMe,CAAA,CAAA,EAAA,GAAwBH,EAAAA,IAAAA,CAAAA,iDAAAA,CAAAE,QAAAA,SAAAA,CAAAA,EAAAb,EAAAA,CAAA,CAAA,EAAA,GAA7CW,EAAAA,IAAe,CAAA,wBAAM,CAAAV,SAAwB,SAAAa,CAAA,EAAAb,EAAAA,CAAA,EAAAC,WAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAJ,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAN,EAAAA,CAAA,EAAAC,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,4DAAAA,CAAAD,sBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAA7GC,EAAOI,aAAY,CAae,SAAAC,CAAA,EAAkE,IAA/DC,EAAQD,EAARC,QAAQ,CAAEC,EAAKF,EAALE,KAAK,CAAKC,EAAKnB,EAAAgB,EAAAI,GACvDC,EAAId,IACJe,EAAYb,EAAO,MACnBc,EAASd,EAAO,MAEtBe,EAA8Bd,EAAsB,CAAEY,UAAAA,EAAWC,OAAAA,CAAM,GAA/DE,EAASD,EAATC,SAAS,CAAEC,EAAMF,EAANE,MAAM,CAEzB,OACClB,EAAAmB,aAAA,CAAAnB,EAAAoB,QAAA,CAAA,KACCpB,EAAAmB,aAAA,CAACzB,EAAUH,EAAA,CAAA,EAAKoB,EAAK,CAAEU,MAAK,CAAA,EAACC,IAAKR,EAAWS,KAAK,YAAYC,QAAS,WAAA,OAAMN,GAAQ,CAAC,IACrFD,GACAjB,EAAAmB,aAAA,CAAC1B,EAAQ,CAACqB,UAAWA,EAAWQ,IAAKP,EAAQU,UAAU,cAAc,EACpEzB,EAAAmB,aAAA,CAACvB,EAAW,KAAEiB,EAAE,+BACfH,EAAMgB,GAAG,CAAC,SAACC,CAAS,CAAEC,CAAK,EAC3B,IAAMC,EAAyB,WAC9B,GAAI,SAAUF,EAAW,CACxBG,OAAOC,IAAI,CAACJ,EAAUvB,IAAI,CAAE,SAAU,2BACtC,OAEDK,EAASuB,aAAa,CAACL,EAAUM,OAAO,CACzC,EAEA,OACCjC,EAAAmB,aAAA,CAACxB,EAAM,CACNuC,IAAKN,EACLJ,QAAS,WACRK,IACAX,GACD,CAAE,EAEFlB,EAAAmB,aAAA,CAACtB,EAAU,CAACsC,KAAM,SAAUR,EAAYA,EAAUJ,IAAI,CAAG,MAAO,GAChEvB,EAAAmB,aAAA,CAACrB,EAAa,KAAEe,EAAEc,EAAUS,KAAK,GAGpC,IAKL"}