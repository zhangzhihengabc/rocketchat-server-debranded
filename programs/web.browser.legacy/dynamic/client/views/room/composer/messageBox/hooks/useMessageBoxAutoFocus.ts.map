)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/composer/messageBox/hooks/useMessageBoxAutoFocus.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { Ref } from 'react';\nimport { useCallback, useEffect, useRef } from 'react';\n\n/**\n * if the user is types outside the message box and its not actually typing in any input field\n * then the message box should be focused\n * @returns callbackRef to bind the logic to the message box\n */\nexport const useMessageBoxAutoFocus = (enabled: boolean): Ref<HTMLElement> => {\n\tconst ref = useRef<HTMLElement>();\n\n\tuseEffect(() => {\n\t\tconst handleKeyDown = (e: KeyboardEvent) => {\n\t\t\tconst { current: node } = ref;\n\t\t\tconst { target } = e;\n\n\t\t\tif (!target) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (target === node) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!((e.keyCode > 45 && e.keyCode < 91) || e.keyCode === 8)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (/input|textarea|select/i.test((target as HTMLElement).tagName)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (e.ctrlKey === true || e.metaKey === true) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnode?.focus();\n\t\t};\n\n\t\tdocument.addEventListener('keydown', handleKeyDown);\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('keydown', handleKeyDown);\n\t\t};\n\t}, []);\n\n\treturn useCallback(\n\t\t(node: HTMLElement | null) => {\n\t\t\tif (!node) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tref.current = node;\n\n\t\t\tif (!enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (ref.current) {\n\t\t\t\tref.current.focus();\n\t\t\t}\n\t\t},\n\t\t[enabled, ref],\n\t);\n};\n",null],"names":["module","export","useMessageBoxAutoFocus","useCallback","useEffect","useRef","enabled","ref","handleKeyDown","e","node","current","target","keyCode","test","tagName","ctrlKey","metaKey","focus","document","addEventListener","removeEventListener"],"mappings":"uBACAA,EAAOC,MAAE,CAAA,CAAAC,uBAAwB,WAAc,OAAQA,CAAA,CAAA,GAAAF,EAAAA,IAAAA,CAAAA,QAAAA,CAAAG,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAOhD,IAPgDF,EAAAC,EAAAC,EAO1CH,EAAyB,SAACI,CAAgB,EACtD,IAAMC,EAAMF,IAoCZ,OAlCAD,EAAU,WACT,IAAMI,EAAgB,SAACC,CAAgB,EACtC,IAAiBC,EAASH,EAAlBI,OAAO,CACPC,EAAWH,EAAXG,MAAM,AAEV,EAACA,GAIDA,IAAWF,GAGX,CAAGD,CAAAA,EAAEI,OAAO,CAAG,IAAMJ,EAAEI,OAAO,CAAG,IAAOJ,AAAc,IAAdA,EAAEI,OAAO,AAAK,GAItD,yBAAyBC,IAAI,CAAEF,EAAuBG,OAAO,GAI7DN,AAAc,CAAA,IAAdA,EAAEO,OAAO,EAAaP,AAAc,CAAA,IAAdA,EAAEQ,OAAO,EAInCP,MAAAA,GAAAA,EAAMQ,KAAK,EACZ,EAIA,OAFAC,SAASC,gBAAgB,CAAC,UAAWZ,GAE9B,WACNW,SAASE,mBAAmB,CAAC,UAAWb,EACzC,CACD,EAAG,EAAE,EAEEL,EACN,SAACO,CAAwB,EACnBA,IAILH,EAAII,OAAO,CAAGD,EAETJ,GAIDC,EAAII,OAAO,EACdJ,EAAII,OAAO,CAACO,KAAK,GAEnB,EACA,CAACZ,EAASC,EAAI,CAEhB"}