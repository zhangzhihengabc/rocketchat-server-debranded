)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/composer/hooks/useMessageComposerIsReadOnly.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { ISubscription, IUser } from '@rocket.chat/core-typings';\nimport { Meteor } from 'meteor/meteor';\nimport { useCallback } from 'react';\n\nimport { useReactiveValue } from '../../../../hooks/useReactiveValue';\nimport { roomCoordinator } from '../../../../lib/rooms/roomCoordinator';\n\nexport const useMessageComposerIsReadOnly = (rid: string, subscription?: ISubscription): boolean => {\n\tconst [isReadOnly, isArchived] = useReactiveValue(\n\t\tuseCallback(\n\t\t\t() => [\n\t\t\t\troomCoordinator.readOnly(rid, Meteor.users.findOne(Meteor.userId() as string, { fields: { username: 1 } }) as IUser),\n\t\t\t\troomCoordinator.archived(rid) || Boolean(subscription && subscription.t === 'd' && subscription.archived),\n\t\t\t],\n\t\t\t[rid, subscription],\n\t\t),\n\t);\n\n\treturn Boolean(isReadOnly || isArchived);\n};\n",null],"names":["module","link","default","_slicedToArray","export","useMessageComposerIsReadOnly","Meteor","useCallback","useReactiveValue","roomCoordinator","rid","subscription","_useReactiveValue2","readOnly","users","findOne","userId","fields","username","archived","Boolean","t","isReadOnly","isArchived"],"mappings":"uBACiBA,EAAMC,IAAA,CAAA,uCAAgB,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAvCH,EAAOI,MAAE,CAAA,CAAMC,6BAAwB,WAAA,OAAAA,CAAA,CAAA,GAAAL,EAAAA,IAAAA,CAAAA,gBAAAA,CAAAM,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,QAAAA,CAAAO,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAP,EAAAA,IAAAA,CAAAA,qCAAAA,CAAAQ,iBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAR,EAAAA,IAAAA,CAAAA,wCAAAA,CAAAS,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAMhC,IANPN,EAAuCG,EAAAC,EAAAC,EAAAC,EAM1BJ,EAA+B,SAACK,CAAW,CAAEC,CAA4B,EACrF,IAQCC,EAAAT,EARgCK,EAChCD,EACC,WAAA,MAAM,CACLE,EAAgBI,QAAQ,CAACH,EAAKJ,EAAOQ,KAAK,CAACC,OAAO,CAACT,EAAOU,MAAM,GAAc,CAAEC,OAAQ,CAAEC,SAAU,CAAC,CAAE,IACvGT,EAAgBU,QAAQ,CAACT,IAAQU,CAAAA,CAAQT,CAAAA,GAAgBA,AAAmB,MAAnBA,EAAaU,CAAC,EAAYV,EAAaQ,QAAQ,AAARA,EAChG,EACD,CAACT,EAAKC,EAAa,GAEpB,GARMW,EAAUV,CAAA,CAAA,EAAA,CAAEW,EAAUX,CAAA,CAAA,EAAA,CAU7B,MAAOQ,CAAAA,CAAQE,CAAAA,GAAcC,CAAAA,CAC9B"}