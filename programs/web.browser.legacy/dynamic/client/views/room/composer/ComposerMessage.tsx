function module(e,n,t){var o,i,l,r,u,a,s,c,d,v,f,p,m,g,x=["tmid","readOnly","onSend"];t.link("@babel/runtime/regenerator",{default:function(e){o=e}},0),t.link("@babel/runtime/helpers/extends",{default:function(e){i=e}},1),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){l=e}},2),t.link("@rocket.chat/ui-contexts",{useToastMessageDispatch:function(e){r=e}},0),t.link("react",{default:function(e){u=e},memo:function(e){a=e},useCallback:function(e){s=e},useMemo:function(e){c=e}},1),t.link("../../../../app/ui-utils/client",{LegacyRoomManager:function(e){d=e}},2),t.link("../../../hooks/useReactiveValue",{useReactiveValue:function(e){v=e}},3),t.link("../contexts/ChatContext",{useChat:function(e){f=e}},4),t.link("../contexts/RoomContext",{useRoom:function(e){p=e}},5),t.link("./ComposerSkeleton",{default:function(e){m=e}},6),t.link("./messageBox/MessageBox",{default:function(e){g=e}},7),t.exportDefault(a(function(e){var n,t=e.tmid,a=e.readOnly,k=e.onSend,h=l(e,x),w=f(),y=p(),b=r(),M=c(function(){return{onJoin:function(){var e;return o.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.awrap(null==w?void 0:null===(e=w.data)||void 0===e?void 0:e.joinRoom());case 3:n.next=9;break;case 5:throw n.prev=5,n.t0=n.catch(0),b({type:"error",message:n.t0}),n.t0;case 9:case"end":return n.stop()}},null,null,[[0,5]],Promise)},onSend:function(e){var n,t,i;return o.async(function(l){for(;;)switch(l.prev=l.next){case 0:return n=e.value,t=e.tshow,i=e.previewUrls,l.prev=1,l.next=4,o.awrap(null==w?void 0:w.action.stop("typing"));case 4:return l.next=6,o.awrap(null==w?void 0:w.flows.sendMessage({text:n,tshow:t,previewUrls:i}));case 6:l.sent&&(null==k||k()),l.next=13;break;case 10:l.prev=10,l.t0=l.catch(1),b({type:"error",message:l.t0});case 13:case"end":return l.stop()}},null,null,[[1,10]],Promise)},onTyping:function(){var e,n;return o.async(function(t){for(;;)switch(t.prev=t.next){case 0:if((null==w?void 0:null===(e=w.composer)||void 0===e?void 0:null===(n=e.text)||void 0===n?void 0:n.trim())!==""){t.next=4;break}return t.next=3,o.awrap(null==w?void 0:w.action.stop("typing"));case 3:return t.abrupt("return");case 4:return t.next=6,o.awrap(null==w?void 0:w.action.start("typing"));case 6:case"end":return t.stop()}},null,null,null,Promise)},onNavigateToPreviousMessage:function(){return null==w?void 0:w.messageEditing.toPreviousMessage()},onNavigateToNextMessage:function(){return null==w?void 0:w.messageEditing.toNextMessage()},onUploadFiles:function(e){return null==w?void 0:w.flows.uploadFiles(e)}}},[null==w?void 0:w.data,null==w?void 0:w.flows,null==w?void 0:w.action,null==w?void 0:null===(n=w.composer)||void 0===n?void 0:n.text,null==w?void 0:w.messageEditing,b,k]);return v(s(function(){var e,n;return null!==(e=null===(n=d.getOpenedRoomByRid(y._id))||void 0===n?void 0:n.streamActive)&&void 0!==e&&e},[y._id]))?u.createElement(g,i({readOnly:null!=a&&a,key:y._id,tmid:t},M,{showFormattingTips:!0},h)):u.createElement(m,null)}))}
//# sourceMappingURL=/dynamic/client/views/room/composer/507440265ee05da89ab9aa21419e5fadf68836a7.map
