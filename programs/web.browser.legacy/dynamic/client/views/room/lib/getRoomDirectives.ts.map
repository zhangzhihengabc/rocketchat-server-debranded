)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/lib/getRoomDirectives.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom, ISubscription, IUser } from '@rocket.chat/core-typings';\n\nimport { RoomMemberActions } from '../../../../definition/IRoomTypeConfig';\nimport { roomCoordinator } from '../../../lib/rooms/roomCoordinator';\n\ntype getRoomDirectiesType = {\n\troomCanSetOwner: boolean;\n\troomCanSetLeader: boolean;\n\troomCanSetModerator: boolean;\n\troomCanIgnore: boolean;\n\troomCanBlock: boolean;\n\troomCanMute: boolean;\n\troomCanRemove: boolean;\n};\n\nexport const getRoomDirectives = ({\n\troom,\n\tshowingUserId,\n\tuserSubscription,\n}: {\n\troom: IRoom;\n\tshowingUserId: IUser['_id'];\n\tuserSubscription?: ISubscription;\n}): getRoomDirectiesType => {\n\tconst roomDirectives = room?.t && roomCoordinator.getRoomDirectives(room.t);\n\n\tconst [roomCanSetOwner, roomCanSetLeader, roomCanSetModerator, roomCanIgnore, roomCanBlock, roomCanMute, roomCanRemove] = [\n\t\t...((roomDirectives && [\n\t\t\troomDirectives.allowMemberAction(room, RoomMemberActions.SET_AS_OWNER, showingUserId, userSubscription),\n\t\t\troomDirectives.allowMemberAction(room, RoomMemberActions.SET_AS_LEADER, showingUserId, userSubscription),\n\t\t\troomDirectives.allowMemberAction(room, RoomMemberActions.SET_AS_MODERATOR, showingUserId, userSubscription),\n\t\t\troomDirectives.allowMemberAction(room, RoomMemberActions.IGNORE, showingUserId, userSubscription),\n\t\t\troomDirectives.allowMemberAction(room, RoomMemberActions.BLOCK, showingUserId, userSubscription),\n\t\t\troomDirectives.allowMemberAction(room, RoomMemberActions.MUTE, showingUserId, userSubscription),\n\t\t\troomDirectives.allowMemberAction(room, RoomMemberActions.REMOVE_USER, showingUserId, userSubscription),\n\t\t]) ??\n\t\t\t[]),\n\t];\n\n\treturn { roomCanSetOwner, roomCanSetLeader, roomCanSetModerator, roomCanIgnore, roomCanBlock, roomCanMute, roomCanRemove };\n};\n",null],"names":["module","link","default","_toConsumableArray","export","getRoomDirectives","RoomMemberActions","roomCoordinator","_ref","_ref3","room","showingUserId","userSubscription","roomDirectives","t","_ref2","allowMemberAction","SET_AS_OWNER","SET_AS_LEADER","SET_AS_MODERATOR","IGNORE","BLOCK","MUTE","REMOVE_USER","roomCanSetOwner","roomCanSetLeader","roomCanSetModerator","roomCanIgnore","roomCanBlock","roomCanMute","roomCanRemove"],"mappings":"uBAESA,EAAmBC,IAAM,CAAA,2CAAyC,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAA3EH,EAAOI,MAAE,CAAA,CAAAC,kBAAmB,WAAM,OAAAA,CAAA,CAAA,GAAyCL,EAAAA,IAAAA,CAAAA,yCAAAA,CAAAM,kBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,qCAAAA,CAAAO,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAapE,IAbPJ,EAA2EG,EAAAC,EAa9DF,EAAoB,SAAAG,CAAA,EAQN,IAAAC,EAP1BC,EAAIF,EAAJE,IAAI,CACJC,EAAaH,EAAbG,aAAa,CACbC,EAAgBJ,EAAhBI,gBAAgB,CAMVC,EAAiB,AAAAH,CAAAA,MAAAA,EAAI,KAAA,EAAJA,EAAMI,CAAC,AAADA,GAAKP,EAAgBF,iBAAiB,CAACK,EAAKI,CAAC,EAE1EC,EAAAZ,EAAA,AASE,OATFM,CAAAA,EACMI,GAAkB,CACtBA,EAAeG,iBAAiB,CAACN,EAAMJ,EAAkBW,YAAY,CAAEN,EAAeC,GACtFC,EAAeG,iBAAiB,CAACN,EAAMJ,EAAkBY,aAAa,CAAEP,EAAeC,GACvFC,EAAeG,iBAAiB,CAACN,EAAMJ,EAAkBa,gBAAgB,CAAER,EAAeC,GAC1FC,EAAeG,iBAAiB,CAACN,EAAMJ,EAAkBc,MAAM,CAAET,EAAeC,GAChFC,EAAeG,iBAAiB,CAACN,EAAMJ,EAAkBe,KAAK,CAAEV,EAAeC,GAC/EC,EAAeG,iBAAiB,CAACN,EAAMJ,EAAkBgB,IAAI,CAAEX,EAAeC,GAC9EC,EAAeG,iBAAiB,CAACN,EAAMJ,EAAkBiB,WAAW,CAAEZ,EAAeC,GACrF,AADsG,GACtGH,AAAA,KAAA,IAAAA,EAAAA,EACA,EAAE,EAGJ,MAAO,CAAEe,gBAbaT,CAAA,CAAA,EAAA,CAaIU,iBAbcV,CAAA,CAAA,EAAA,CAaIW,oBAbiBX,CAAA,CAAA,EAAA,CAaIY,cAbWZ,CAAA,CAAA,EAAA,CAaIa,aAbUb,CAAA,CAAA,EAAA,CAaIc,YAbSd,CAAA,CAAA,EAAA,CAaIe,cAbWf,CAAA,CAAA,EAAA,AAaE,CACzH"}