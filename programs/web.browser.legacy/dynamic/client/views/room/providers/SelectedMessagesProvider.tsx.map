)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/providers/SelectedMessagesProvider.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Emitter } from '@rocket.chat/emitter';\nimport type { FC } from 'react';\nimport React, { useMemo } from 'react';\n\nimport { SelectedMessageContext } from '../MessageList/contexts/SelectedMessagesContext';\n\n// data-qa-select\n\nexport const selectedMessageStore = new (class SelectMessageStore extends Emitter<\n\t{\n\t\tchange: undefined;\n\t\ttoggleIsSelecting: boolean;\n\t} & { [mid: string]: boolean }\n> {\n\tstore = new Set<string>();\n\n\tisSelecting = false;\n\n\tsetIsSelecting(isSelecting: boolean): void {\n\t\tthis.isSelecting = isSelecting;\n\t\tthis.emit('toggleIsSelecting', isSelecting);\n\t}\n\n\tgetIsSelecting(): boolean {\n\t\treturn this.isSelecting;\n\t}\n\n\tisSelected(mid: string): boolean {\n\t\treturn Boolean(this.store.has(mid));\n\t}\n\n\tgetSelectedMessages(): string[] {\n\t\treturn Array.from(this.store);\n\t}\n\n\ttoggle(mid: string): void {\n\t\tif (this.store.has(mid)) {\n\t\t\tthis.store.delete(mid);\n\t\t\tthis.emit(mid, false);\n\t\t\tthis.emit('change');\n\t\t\treturn;\n\t\t}\n\t\tthis.store.add(mid);\n\t\tthis.emit(mid, true);\n\t\tthis.emit('change');\n\t}\n\n\tcount(): number {\n\t\treturn this.store.size;\n\t}\n\n\tclearStore(): void {\n\t\tconst selectedMessages = this.getSelectedMessages();\n\t\tthis.store.clear();\n\t\tselectedMessages.forEach((mid) => this.emit(mid, false));\n\t\tthis.emit('change');\n\t}\n\n\treset(): void {\n\t\tthis.clearStore();\n\t\tthis.isSelecting = false;\n\t\tthis.emit('toggleIsSelecting', false);\n\t}\n})();\n\nexport const SelectedMessagesProvider: FC = ({ children }) => {\n\tconst value = useMemo(\n\t\t() => ({\n\t\t\tselectedMessageStore,\n\t\t}),\n\t\t[],\n\t);\n\n\treturn <SelectedMessageContext.Provider value={value}>{children}</SelectedMessageContext.Provider>;\n};\n",null],"names":["module","link","default","_inheritsLoose","export","selectedMessageStore","SelectedMessagesProvider","Emitter","v","React","useMemo","SelectedMessageContext","_Emitter","SelectMessageStore","_this","_len","arguments","length","args","Array","_key","call","apply","concat","store","Set","isSelecting","_proto","prototype","setIsSelecting","emit","getIsSelecting","isSelected","mid","Boolean","has","getSelectedMessages","from","toggle","delete","add","count","size","clearStore","_this2","selectedMessages","clear","forEach","reset","_ref","children","value","createElement","Provider"],"mappings":"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"}