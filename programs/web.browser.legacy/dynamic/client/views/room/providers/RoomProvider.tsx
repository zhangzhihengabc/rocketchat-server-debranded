function module(e,o,n){var t,i,a,u,r,s,l,c,f,m,d,M,g,k,v,R,h,p,b,x,y;n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){t=e}},0),n.link("@rocket.chat/ui-contexts",{useRouter:function(e){i=e}},0),n.link("react",{default:function(e){a=e},useMemo:function(e){u=e},memo:function(e){r=e},useEffect:function(e){s=e},useCallback:function(e){l=e}},1),n.link("../../../../app/models/client",{ChatSubscription:function(e){c=e}},2),n.link("../../../../app/ui-utils/client",{RoomHistoryManager:function(e){f=e}},3),n.link("../../../../app/ui/client/lib/UserAction",{UserAction:function(e){m=e}},4),n.link("../../../hooks/useReactiveQuery",{useReactiveQuery:function(e){d=e}},5),n.link("../../../hooks/useReactiveValue",{useReactiveValue:function(e){M=e}},6),n.link("../../../lib/RoomManager",{RoomManager:function(e){g=e}},7),n.link("../../../lib/rooms/roomCoordinator",{roomCoordinator:function(e){k=e}},8),n.link("../RoomNotFound",{default:function(e){v=e}},9),n.link("../RoomSkeleton",{default:function(e){R=e}},10),n.link("../body/hooks/useRoomRolesManagement",{useRoomRolesManagement:function(e){h=e}},11),n.link("../contexts/RoomContext",{RoomContext:function(e){p=e}},12),n.link("./ComposerPopupProvider",{default:function(e){b=e}},13),n.link("./RoomToolboxProvider",{default:function(e){x=e}},14),n.link("./hooks/useRoomQuery",{useRoomQuery:function(e){y=e}},15),n.exportDefault(r(function(e){var o=e.rid,n=e.children;h(o);var r=y(o),C=r.data,N=r.isSuccess,P=i();s(function(){N&&!C&&P.navigate("/home")},[N,C,P]);var E=d(["subscriptions",{rid:o}],function(){var e;return null!==(e=c.findOne({rid:o}))&&void 0!==e?e:null}),S=u(function(){return C?t(t(t({},E.data),C),{},{name:k.getRoomName(C.t,C),federationOriginalName:C.name}):null},[C,E.data]),L=M(l(function(){var e=f.getRoom(o),n=e.hasMore,t=e.hasMoreNext,i=e.isLoading;return{hasMorePreviousMessages:n.get(),hasMoreNextMessages:t.get(),isLoadingMoreMessages:i.get()}},[o])),Q=L.hasMorePreviousMessages,A=L.hasMoreNextMessages,O=L.isLoadingMoreMessages,U=u(function(){var e;return S?{rid:o,room:S,subscription:null!==(e=E.data)&&void 0!==e?e:void 0,hasMorePreviousMessages:Q,hasMoreNextMessages:A,isLoadingMoreMessages:O}:null},[A,Q,O,S,o,E.data]);s(function(){return g.open(o),function(){g.back(o)}},[o]);var V=!!E.data;return(s(function(){if(V)return m.addStream(o),function(){try{m.cancel(o)}catch(e){}}},[o,V]),S)?a.createElement(p.Provider,{value:U},a.createElement(x,null,a.createElement(b,{room:S},n))):N&&!C?a.createElement(v,null):a.createElement(R,null)}))}
//# sourceMappingURL=/dynamic/client/views/room/providers/0b74fc5d574fe695d1965891347d4b156beb7d76.map
