)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/OTR/OTR.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IUser } from '@rocket.chat/core-typings';\nimport { Box, Button, Throbber } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { MouseEventHandler, ReactElement } from 'react';\nimport React from 'react';\n\nimport { OtrRoomState } from '../../../../../app/otr/lib/OtrRoomState';\nimport {\n\tContextualbarHeader,\n\tContextualbarIcon,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarScrollableContent,\n} from '../../../../components/Contextualbar';\nimport OTREstablished from './components/OTREstablished';\nimport OTRStates from './components/OTRStates';\n\ntype OTRProps = {\n\tisOnline: boolean;\n\tonClickClose: MouseEventHandler<HTMLOrSVGElement>;\n\tonClickStart: () => void;\n\tonClickEnd: () => void;\n\tonClickRefresh: () => void;\n\totrState: string;\n\tpeerUsername: IUser['username'];\n};\n\nconst OTR = ({ isOnline, onClickClose, onClickStart, onClickEnd, onClickRefresh, otrState, peerUsername }: OTRProps): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst renderOTRState = (): ReactElement => {\n\t\tswitch (otrState) {\n\t\t\tcase OtrRoomState.NOT_STARTED:\n\t\t\t\treturn (\n\t\t\t\t\t<Button onClick={onClickStart} primary>\n\t\t\t\t\t\t{t('Start_OTR')}\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\tcase OtrRoomState.ESTABLISHING:\n\t\t\t\treturn (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Box fontScale='p2'>{t('Please_wait_while_OTR_is_being_established')}</Box>\n\t\t\t\t\t\t<Box mb={16}>\n\t\t\t\t\t\t\t<Throbber />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t);\n\t\t\tcase OtrRoomState.ESTABLISHED:\n\t\t\t\treturn <OTREstablished onClickEnd={onClickEnd} onClickRefresh={onClickRefresh} />;\n\t\t\tcase OtrRoomState.DECLINED:\n\t\t\t\treturn (\n\t\t\t\t\t<OTRStates\n\t\t\t\t\t\ttitle={t('OTR_Chat_Declined_Title')}\n\t\t\t\t\t\tdescription={t('OTR_Chat_Declined_Description', peerUsername || '')}\n\t\t\t\t\t\ticon='cross'\n\t\t\t\t\t\tonClickStart={onClickStart}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase OtrRoomState.TIMEOUT:\n\t\t\t\treturn (\n\t\t\t\t\t<OTRStates\n\t\t\t\t\t\ttitle={t('OTR_Chat_Timeout_Title')}\n\t\t\t\t\t\tdescription={t('OTR_Chat_Timeout_Description', peerUsername || '')}\n\t\t\t\t\t\ticon='clock'\n\t\t\t\t\t\tonClickStart={onClickStart}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<OTRStates\n\t\t\t\t\t\ttitle={t('OTR_Chat_Error_Title')}\n\t\t\t\t\t\tdescription={t('OTR_Chat_Error_Description')}\n\t\t\t\t\t\ticon='warning'\n\t\t\t\t\t\tonClickStart={onClickStart}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarIcon name='stopwatch' />\n\t\t\t\t<ContextualbarTitle>{t('OTR')}</ContextualbarTitle>\n\t\t\t\t{onClickClose && <ContextualbarClose onClick={onClickClose} />}\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent p={24} color='default'>\n\t\t\t\t<Box fontScale='h4'>{t('Off_the_record_conversation')}</Box>\n\t\t\t\t{isOnline ? renderOTRState() : <Box fontScale='p2m'>{t('OTR_is_only_available_when_both_users_are_online')}</Box>}\n\t\t\t</ContextualbarScrollableContent>\n\t\t</>\n\t);\n};\n\nexport default OTR;\n",null],"names":["Box","Button","Throbber","useTranslation","React","OtrRoomState","ContextualbarHeader","ContextualbarIcon","ContextualbarTitle","ContextualbarClose","ContextualbarScrollableContent","OTREstablished","OTRStates","module","link","v","exportDefault","_ref","isOnline","onClickClose","onClickStart","onClickEnd","onClickRefresh","otrState","peerUsername","t","createElement","Fragment","name","onClick","p","color","fontScale","renderOTRState","NOT_STARTED","primary","ESTABLISHING","mb","ESTABLISHED","DECLINED","title","description","icon","TIMEOUT"],"mappings":"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"}