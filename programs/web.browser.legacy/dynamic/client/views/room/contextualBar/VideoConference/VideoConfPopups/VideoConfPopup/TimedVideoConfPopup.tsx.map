)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/TimedVideoConfPopup.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { useUserRoom } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState } from 'react';\n\nimport {\n\tuseVideoConfAcceptCall,\n\tuseVideoConfAbortCall,\n\tuseVideoConfRejectIncomingCall,\n\tuseVideoConfDismissCall,\n\tuseVideoConfStartCall,\n\tuseVideoConfDismissOutgoing,\n} from '../../../../../../contexts/VideoConfContext';\nimport IncomingPopup from './IncomingPopup';\nimport OutgoingPopup from './OutgoingPopup';\nimport StartCallPopup from './StartCallPopup';\n\ntype TimedVideoConfPopupProps = {\n\tid: string;\n\trid: IRoom['_id'];\n\tisReceiving?: boolean;\n\tisCalling?: boolean;\n\tposition: number;\n\tonClose?: (id: string) => void;\n};\n\nconst TimedVideoConfPopup = ({\n\tid,\n\trid,\n\tisReceiving = false,\n\tisCalling = false,\n\tposition,\n}: TimedVideoConfPopupProps): ReactElement | null => {\n\tconst [starting, setStarting] = useState(false);\n\tconst acceptCall = useVideoConfAcceptCall();\n\tconst abortCall = useVideoConfAbortCall();\n\tconst rejectCall = useVideoConfRejectIncomingCall();\n\tconst dismissCall = useVideoConfDismissCall();\n\tconst startCall = useVideoConfStartCall();\n\tconst dismissOutgoing = useVideoConfDismissOutgoing();\n\tconst room = useUserRoom(rid);\n\n\tif (!room) {\n\t\treturn null;\n\t}\n\n\tconst handleConfirm = (): void => {\n\t\tacceptCall(id);\n\t};\n\n\tconst handleClose = (id: string): void => {\n\t\tif (isReceiving) {\n\t\t\trejectCall(id);\n\t\t\treturn;\n\t\t}\n\n\t\tabortCall();\n\t};\n\n\tconst handleMute = (): void => {\n\t\tdismissCall(id);\n\t};\n\n\tconst handleStartCall = async (): Promise<void> => {\n\t\tsetStarting(true);\n\t\tstartCall(rid);\n\t};\n\n\tif (isReceiving) {\n\t\treturn <IncomingPopup room={room} id={id} position={position} onClose={handleClose} onMute={handleMute} onConfirm={handleConfirm} />;\n\t}\n\n\tif (isCalling) {\n\t\treturn <OutgoingPopup room={room} id={id} onClose={handleClose} />;\n\t}\n\n\treturn <StartCallPopup loading={starting} room={room} id={id} onClose={dismissOutgoing} onConfirm={handleStartCall} />;\n};\n\nexport default TimedVideoConfPopup;\n",null],"names":["_regeneratorRuntime","_slicedToArray","useUserRoom","React","useState","useVideoConfAcceptCall","useVideoConfAbortCall","useVideoConfRejectIncomingCall","useVideoConfDismissCall","useVideoConfStartCall","useVideoConfDismissOutgoing","IncomingPopup","OutgoingPopup","StartCallPopup","module","link","default","v","exportDefault","_ref","id","rid","_ref$isReceiving","isReceiving","_ref$isCalling","isCalling","position","_useState2","starting","setStarting","acceptCall","abortCall","rejectCall","dismissCall","startCall","dismissOutgoing","room","handleClose","createElement","onClose","onMute","onConfirm","loading","async","_context","prev","next","stop","Promise"],"mappings":"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"}