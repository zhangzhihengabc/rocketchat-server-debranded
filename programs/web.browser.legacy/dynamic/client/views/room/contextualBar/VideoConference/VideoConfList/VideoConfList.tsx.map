)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/VideoConference/VideoConfList/VideoConfList.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IGroupVideoConference } from '@rocket.chat/core-typings';\nimport { Box, States, StatesIcon, StatesTitle, StatesSubtitle } from '@rocket.chat/fuselage';\nimport { useResizeObserver } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { Virtuoso } from 'react-virtuoso';\n\nimport {\n\tContextualbarSkeleton,\n\tContextualbarHeader,\n\tContextualbarIcon,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarContent,\n\tContextualbarEmptyContent,\n} from '../../../../../components/Contextualbar';\nimport ScrollableContentWrapper from '../../../../../components/ScrollableContentWrapper';\nimport { getErrorMessage } from '../../../../../lib/errorHandling';\nimport VideoConfListItem from './VideoConfListItem';\n\ntype VideoConfListProps = {\n\tonClose: () => void;\n\ttotal: number;\n\tvideoConfs: IGroupVideoConference[];\n\tloading: boolean;\n\terror?: Error;\n\treload: () => void;\n\tloadMoreItems: (min: number, max: number) => void;\n};\n\nconst VideoConfList = ({ onClose, total, videoConfs, loading, error, reload, loadMoreItems }: VideoConfListProps): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst { ref, contentBoxSize: { inlineSize = 378, blockSize = 1 } = {} } = useResizeObserver<HTMLElement>({\n\t\tdebounceDelay: 200,\n\t});\n\n\tif (loading) {\n\t\treturn <ContextualbarSkeleton />;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarIcon name='phone' />\n\t\t\t\t<ContextualbarTitle>{t('Calls')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={onClose} />\n\t\t\t</ContextualbarHeader>\n\n\t\t\t<ContextualbarContent paddingInline={0} ref={ref}>\n\t\t\t\t{(total === 0 || error) && (\n\t\t\t\t\t<Box display='flex' flexDirection='column' justifyContent='center' height='100%'>\n\t\t\t\t\t\t{error && (\n\t\t\t\t\t\t\t<States>\n\t\t\t\t\t\t\t\t<StatesIcon name='circle-exclamation' variation='danger' />\n\t\t\t\t\t\t\t\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\n\t\t\t\t\t\t\t\t<StatesSubtitle>{getErrorMessage(error)}</StatesSubtitle>\n\t\t\t\t\t\t\t</States>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!error && total === 0 && (\n\t\t\t\t\t\t\t<ContextualbarEmptyContent\n\t\t\t\t\t\t\t\ticon='phone'\n\t\t\t\t\t\t\t\ttitle={t('No_history')}\n\t\t\t\t\t\t\t\tsubtitle={t('There_is_no_video_conference_history_in_this_room')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{videoConfs.length > 0 && (\n\t\t\t\t\t<Box flexGrow={1} flexShrink={1} overflow='hidden' display='flex'>\n\t\t\t\t\t\t<Virtuoso\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\theight: blockSize,\n\t\t\t\t\t\t\t\twidth: inlineSize,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttotalCount={total}\n\t\t\t\t\t\t\tendReached={(start): unknown => loadMoreItems(start, Math.min(50, total - start))}\n\t\t\t\t\t\t\toverscan={25}\n\t\t\t\t\t\t\tdata={videoConfs}\n\t\t\t\t\t\t\tcomponents={{ Scroller: ScrollableContentWrapper as any }}\n\t\t\t\t\t\t\titemContent={(_index, data): ReactElement => <VideoConfListItem videoConfData={data} reload={reload} />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarContent>\n\t\t</>\n\t);\n};\n\nexport default VideoConfList;\n",null],"names":["Box","States","StatesIcon","StatesTitle","StatesSubtitle","useResizeObserver","useTranslation","React","Virtuoso","ContextualbarSkeleton","ContextualbarHeader","ContextualbarIcon","ContextualbarTitle","ContextualbarClose","ContextualbarContent","ContextualbarEmptyContent","ScrollableContentWrapper","getErrorMessage","VideoConfListItem","module","v","exportDefault","_ref","onClose","total","videoConfs","loading","error","reload","loadMoreItems","t","_useResizeObserver","debounceDelay","ref","_useResizeObserver$co","contentBoxSize","_useResizeObserver$co2","inlineSize","_useResizeObserver$co3","blockSize","createElement","Fragment","name","onClick","paddingInline","display","flexDirection","justifyContent","height","variation","icon","title","subtitle","length","flexGrow","flexShrink","overflow","style","width","totalCount","endReached","start","Math","min","overscan","data","components","Scroller","itemContent","_index","videoConfData"],"mappings":"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"}