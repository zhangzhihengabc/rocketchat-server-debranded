)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/StartCallPopup.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { useOutsideClick, useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport {\n\tVideoConfPopup,\n\tVideoConfPopupHeader,\n\tVideoConfPopupContent,\n\tVideoConfPopupControllers,\n\tVideoConfController,\n\tuseVideoConfControllers,\n\tVideoConfButton,\n\tVideoConfPopupFooter,\n\tVideoConfPopupTitle,\n\tVideoConfPopupFooterButtons,\n} from '@rocket.chat/ui-video-conf';\nimport type { ReactElement } from 'react';\nimport React, { useRef } from 'react';\n\nimport { useVideoConfSetPreferences, useVideoConfCapabilities, useVideoConfPreferences } from '../../../../../../contexts/VideoConfContext';\nimport VideoConfPopupRoomInfo from './VideoConfPopupRoomInfo';\n\ntype StartCallPopupProps = {\n\tid: string;\n\troom: IRoom;\n\tonClose: () => void;\n\tonConfirm: () => void;\n\tloading: boolean;\n};\n\nconst StartCallPopup = ({ loading, room, onClose, onConfirm }: StartCallPopupProps): ReactElement => {\n\tconst ref = useRef<HTMLDivElement>(null);\n\tuseOutsideClick([ref], !loading ? onClose : (): void => undefined);\n\n\tconst t = useTranslation();\n\tconst setPreferences = useVideoConfSetPreferences();\n\tconst videoConfPreferences = useVideoConfPreferences();\n\tconst { controllersConfig, handleToggleMic, handleToggleCam } = useVideoConfControllers(videoConfPreferences);\n\tconst capabilities = useVideoConfCapabilities();\n\n\tconst showCam = !!capabilities.cam;\n\tconst showMic = !!capabilities.mic;\n\n\tconst handleStartCall = useMutableCallback(() => {\n\t\tsetPreferences(controllersConfig);\n\t\tonConfirm();\n\t});\n\n\treturn (\n\t\t<VideoConfPopup ref={ref}>\n\t\t\t<VideoConfPopupHeader>\n\t\t\t\t<VideoConfPopupTitle text={t('Start_a_call')} />\n\t\t\t\t{(showCam || showMic) && (\n\t\t\t\t\t<VideoConfPopupControllers>\n\t\t\t\t\t\t{showCam && (\n\t\t\t\t\t\t\t<VideoConfController\n\t\t\t\t\t\t\t\tactive={controllersConfig.cam}\n\t\t\t\t\t\t\t\ttitle={controllersConfig.cam ? t('Cam_on') : t('Cam_off')}\n\t\t\t\t\t\t\t\ticon={controllersConfig.cam ? 'video' : 'video-off'}\n\t\t\t\t\t\t\t\tonClick={handleToggleCam}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{showMic && (\n\t\t\t\t\t\t\t<VideoConfController\n\t\t\t\t\t\t\t\tactive={controllersConfig.mic}\n\t\t\t\t\t\t\t\ttitle={controllersConfig.mic ? t('Mic_on') : t('Mic_off')}\n\t\t\t\t\t\t\t\ticon={controllersConfig.mic ? 'mic' : 'mic-off'}\n\t\t\t\t\t\t\t\tonClick={handleToggleMic}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</VideoConfPopupControllers>\n\t\t\t\t)}\n\t\t\t</VideoConfPopupHeader>\n\t\t\t<VideoConfPopupContent>\n\t\t\t\t<VideoConfPopupRoomInfo room={room} />\n\t\t\t</VideoConfPopupContent>\n\t\t\t<VideoConfPopupFooter>\n\t\t\t\t<VideoConfPopupFooterButtons>\n\t\t\t\t\t<VideoConfButton disabled={loading} primary onClick={handleStartCall}>\n\t\t\t\t\t\t{t('Start_call')}\n\t\t\t\t\t</VideoConfButton>\n\t\t\t\t</VideoConfPopupFooterButtons>\n\t\t\t</VideoConfPopupFooter>\n\t\t</VideoConfPopup>\n\t);\n};\n\nexport default StartCallPopup;\n",null],"names":["useOutsideClick","useMutableCallback","useTranslation","VideoConfPopup","VideoConfPopupHeader","VideoConfPopupContent","VideoConfPopupControllers","VideoConfController","useVideoConfControllers","VideoConfButton","VideoConfPopupFooter","VideoConfPopupTitle","VideoConfPopupFooterButtons","React","useRef","useVideoConfSetPreferences","useVideoConfCapabilities","useVideoConfPreferences","VideoConfPopupRoomInfo","module","link","v","exportDefault","_ref","loading","room","onClose","onConfirm","ref","t","setPreferences","_useVideoConfControll","controllersConfig","handleToggleMic","handleToggleCam","capabilities","showCam","cam","showMic","mic","handleStartCall","createElement","text","active","title","icon","onClick","disabled","primary"],"mappings":"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"}