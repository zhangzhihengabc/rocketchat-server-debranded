function module(e,t,n){n.link("@babel/runtime/regenerator",{default:function(e){i=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){o=e}},1),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){s=e}},2),n.export({useFilesList:function(){return g}}),n.link("@rocket.chat/ui-contexts",{useUserRoom:function(e){u=e},useUserId:function(e){r=e},useEndpoint:function(e){l=e}},0),n.link("react",{useCallback:function(e){a=e},useEffect:function(e){c=e},useMemo:function(e){f=e},useState:function(e){d=e}},1),n.link("../../../../../hooks/lists/useScrollableRecordList",{useScrollableRecordList:function(e){p=e}},2),n.link("../../../../../hooks/lists/useStreamUpdatesForMessageList",{useStreamUpdatesForMessageList:function(e){m=e}},3),n.link("../../../../../hooks/useComponentDidUpdate",{useComponentDidUpdate:function(e){k=e}},4),n.link("../../../../../lib/lists/FilesList",{FilesList:function(e){v=e}},5),n.link("../../../../../lib/utils/getConfig",{getConfig:function(e){b=e}},6);var i,o,s,u,r,l,a,c,f,d,p,m,k,v,b,g=function(e){var t=s(d(function(){return new v(e)}),2),n=t[0],g=t[1],h=a(function(){return g(new v(e))},[e]),y=u(e.rid),L=r();k(function(){e&&h()},[e,h]),c(function(){n.options!==e&&n.updateFilters(e)},[n,e]);var S=l("GET",y?({c:"/v1/channels.files",l:"/v1/channels.files",v:"/v1/channels.files",d:"/v1/im.files",p:"/v1/groups.files"})[y.t]:"/v1/channels.files"),A=p(n,a(function(t,n){var s,u,r;return i.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,i.awrap(S({roomId:e.rid,offset:t,count:n,sort:JSON.stringify({uploadedAt:-1}),query:JSON.stringify(o({name:{$regex:e.text||"",$options:"i"}},"all"!==e.type&&{typeGroup:e.type}))}));case 2:return u=(s=l.sent).files,r=s.total,l.abrupt("return",{items:u.map(function(e){return o(o({},e),{},{uploadedAt:e.uploadedAt?new Date(e.uploadedAt):void 0,modifiedAt:e.modifiedAt?new Date(e.modifiedAt):void 0})}),itemCount:r});case 6:case"end":return l.stop()}},null,null,null,Promise)},[S,e.rid,e.type,e.text]),f(function(){return parseInt(""+b("discussionListSize",10))},[])),C=A.loadMoreItems,x=A.initialItemCount;return m(n,L,e.rid||null),{reload:h,filesList:n,loadMoreItems:C,initialItemCount:x}}}
//# sourceMappingURL=/dynamic/client/views/room/contextualBar/RoomFiles/hooks/e957152f63bbb261d051e8f65e8c9e227a8caea3.map
