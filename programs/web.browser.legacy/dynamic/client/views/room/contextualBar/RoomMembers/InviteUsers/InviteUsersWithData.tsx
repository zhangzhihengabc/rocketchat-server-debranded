function module(e,n,t){var i,r,s,a,u,o,c,l,f,d,_,k,x;t.link("@babel/runtime/regenerator",{default:function(e){i=e}},0),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){s=e}},2),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){a=e}},0),t.link("@rocket.chat/ui-contexts",{useEndpoint:function(e){u=e},useTranslation:function(e){o=e},useToastMessageDispatch:function(e){c=e}},1),t.link("react",{default:function(e){l=e},useState:function(e){f=e},useEffect:function(e){d=e}},2),t.link("../../../../../hooks/useFormatDateAndTime",{useFormatDateAndTime:function(e){_=e}},3),t.link("../../../contexts/RoomToolboxContext",{useRoomToolbox:function(e){k=e}},4),t.link("./InviteUsers",{default:function(e){x=e}},5),t.exportDefault(function(e){var n=e.rid,t=e.onClickBack,m=o(),p=c(),v=s(f({isEditing:!1,daysAndMaxUses:{days:"1",maxUses:"0"},url:"",caption:"",error:void 0}),2),b=v[0],U=b.isEditing,g=b.url,y=b.caption,T=b.error,E=b.daysAndMaxUses,h=E.days,C=E.maxUses,w=v[1],A=k().closeTab,M=_(),L=u("POST","/v1/findOrCreateInvite"),D=a(function(){return w(function(e){return r(r({},e),{},{isEditing:!0})})}),Y=a(function(){return w(function(e){return r(r({},e),{},{isEditing:!1})})}),B=a(function(e){if(!e)return"";if(e.expires){var n=new Date(e.expires);if(e.maxUses){var t=e.maxUses-e.uses;return m("Your_invite_link_will_expire_on__date__or_after__usesLeft__uses",{date:M(n),usesLeft:t})}return m("Your_invite_link_will_expire_on__date__",{date:M(n)})}return e.maxUses?m("Your_invite_link_will_expire_after__usesLeft__uses",{usesLeft:e.maxUses-e.uses}):m("Your_invite_link_will_never_expire")});d(function(){var e;i.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.awrap(L({rid:n,days:Number(h),maxUses:Number(C)}));case 3:e=t.sent,w(function(n){return r(r({},n),{},{url:null==e?void 0:e.url,caption:B(e)})}),p({type:"success",message:m("Invite_link_generated")}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),w(function(e){return r(r({},e),{},{error:t.t0})});case 11:case"end":return t.stop()}},null,null,[[0,8]],Promise)},[p,m,L,B,n,h,C]);var I=a(function(e){w(function(n){return r(r({},n),{},{daysAndMaxUses:e,isEditing:!1})})});return l.createElement(x,{isEditing:U,error:T,linkText:g,captionText:y,daysAndMaxUses:{days:h,maxUses:C},onClose:A,onClickBackMembers:t,onClickBackLink:Y,onClickEdit:D,onClickNewLink:I})})}
//# sourceMappingURL=/dynamic/client/views/room/contextualBar/RoomMembers/InviteUsers/dae0bac46e322c651d56bbbaa61bdb0ea00d8534.map
