)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/Info/RoomInfo/RoomInfo.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { Box, Callout, Menu, Option } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useMemo } from 'react';\n\nimport {\n\tContextualbarHeader,\n\tContextualbarScrollableContent,\n\tContextualbarBack,\n\tContextualbarIcon,\n\tContextualbarClose,\n\tContextualbarTitle,\n} from '../../../../../components/Contextualbar';\nimport InfoPanel from '../../../../../components/InfoPanel';\nimport RetentionPolicyCallout from '../../../../../components/InfoPanel/RetentionPolicyCallout';\nimport MarkdownText from '../../../../../components/MarkdownText';\nimport RoomAvatar from '../../../../../components/avatar/RoomAvatar';\nimport type { Action } from '../../../../hooks/useActionSpread';\nimport { useActionSpread } from '../../../../hooks/useActionSpread';\nimport { useRetentionPolicy } from '../../../body/hooks/useRetentionPolicy';\nimport { useRoomActions } from '../hooks/useRoomActions';\n\ntype RoomInfoProps = {\n\troom: IRoom;\n\ticon: string;\n\tonClickBack?: () => void;\n\tonClickClose?: () => void;\n\tonClickEnterRoom?: () => void;\n\tonClickEdit?: () => void;\n\tresetState?: () => void;\n};\n\nconst RoomInfo = ({ room, icon, onClickBack, onClickClose, onClickEnterRoom, onClickEdit, resetState }: RoomInfoProps) => {\n\tconst t = useTranslation();\n\tconst { name, fname, description, topic, archived, broadcast, announcement } = room;\n\tconst roomTitle = fname || name;\n\n\tconst retentionPolicy = useRetentionPolicy(room);\n\tconst memoizedActions = useRoomActions(room, { onClickEnterRoom, onClickEdit }, resetState);\n\tconst { actions: actionsDefinition, menu: menuOptions } = useActionSpread(memoizedActions);\n\n\tconst menu = useMemo(() => {\n\t\tif (!menuOptions) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<Menu\n\t\t\t\tsmall={false}\n\t\t\t\tflexShrink={0}\n\t\t\t\tmi={4}\n\t\t\t\tkey='menu'\n\t\t\t\tmaxHeight='initial'\n\t\t\t\tsecondary\n\t\t\t\trenderItem={({ label: { label, icon }, ...props }) => <Option {...props} label={label} icon={icon} />}\n\t\t\t\toptions={menuOptions}\n\t\t\t/>\n\t\t);\n\t}, [menuOptions]);\n\n\tconst actions = useMemo(() => {\n\t\tconst mapAction = ([key, { label, icon, action }]: [string, Action]) => (\n\t\t\t<InfoPanel.Action key={key} label={label} onClick={action} icon={icon} />\n\t\t);\n\n\t\treturn [...actionsDefinition.map(mapAction), menu].filter(Boolean);\n\t}, [actionsDefinition, menu]);\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t{onClickBack ? <ContextualbarBack onClick={onClickBack} /> : <ContextualbarIcon name='info-circled' />}\n\t\t\t\t<ContextualbarTitle>{t('Room_Info')}</ContextualbarTitle>\n\t\t\t\t{onClickClose && <ContextualbarClose onClick={onClickClose} />}\n\t\t\t</ContextualbarHeader>\n\n\t\t\t<ContextualbarScrollableContent p={24}>\n\t\t\t\t<InfoPanel>\n\t\t\t\t\t<InfoPanel.Avatar>\n\t\t\t\t\t\t<RoomAvatar size='x332' room={room} />\n\t\t\t\t\t</InfoPanel.Avatar>\n\n\t\t\t\t\t<InfoPanel.ActionGroup>{actions}</InfoPanel.ActionGroup>\n\n\t\t\t\t\t{archived && (\n\t\t\t\t\t\t<InfoPanel.Section>\n\t\t\t\t\t\t\t<Box mb={16}>\n\t\t\t\t\t\t\t\t<Callout type='warning'>{t('Room_archived')}</Callout>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</InfoPanel.Section>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{roomTitle && (\n\t\t\t\t\t\t<InfoPanel.Section>\n\t\t\t\t\t\t\t<InfoPanel.Title title={roomTitle} icon={icon} />\n\t\t\t\t\t\t</InfoPanel.Section>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<InfoPanel.Section>\n\t\t\t\t\t\t{broadcast && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>\n\t\t\t\t\t\t\t\t\t<b>{t('Broadcast_channel')}</b> {t('Broadcast_channel_Description')}\n\t\t\t\t\t\t\t\t</InfoPanel.Label>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{description && description !== '' && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>{t('Description')}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t<InfoPanel.Text withTruncatedText={false}>\n\t\t\t\t\t\t\t\t\t<MarkdownText variant='inline' content={description} />\n\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{announcement && announcement !== '' && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>{t('Announcement')}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t<InfoPanel.Text withTruncatedText={false}>\n\t\t\t\t\t\t\t\t\t<MarkdownText variant='inline' content={announcement} />\n\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{topic && topic !== '' && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>{t('Topic')}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t<InfoPanel.Text withTruncatedText={false}>\n\t\t\t\t\t\t\t\t\t<MarkdownText variant='inline' content={topic} />\n\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{retentionPolicy && (\n\t\t\t\t\t\t\t<RetentionPolicyCallout\n\t\t\t\t\t\t\t\tfilesOnlyDefault={retentionPolicy.filesOnly}\n\t\t\t\t\t\t\t\texcludePinnedDefault={retentionPolicy.excludePinned}\n\t\t\t\t\t\t\t\tmaxAgeDefault={retentionPolicy.maxAge}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</InfoPanel.Section>\n\t\t\t\t</InfoPanel>\n\t\t\t</ContextualbarScrollableContent>\n\t\t</>\n\t);\n};\n\nexport default RoomInfo;\n",null],"names":["_toConsumableArray","_slicedToArray","_extends","_objectWithoutProperties","Box","Callout","Menu","Option","useTranslation","React","useMemo","ContextualbarHeader","ContextualbarScrollableContent","ContextualbarBack","ContextualbarIcon","ContextualbarClose","ContextualbarTitle","InfoPanel","RetentionPolicyCallout","MarkdownText","RoomAvatar","useActionSpread","useRetentionPolicy","useRoomActions","module","link","default","v","exportDefault","_ref","room","icon","onClickBack","onClickClose","onClickEnterRoom","onClickEdit","resetState","t","name","fname","description","topic","archived","broadcast","announcement","roomTitle","retentionPolicy","_useActionSpread","actionsDefinition","actions","menuOptions","menu","createElement","small","flexShrink","mi","key","maxHeight","secondary","renderItem","_ref2","_ref2$label","label","props","_excluded","options","concat","map","_ref3","_ref4","_ref4$","action","Action","onClick","filter","Boolean","Fragment","p","Avatar","size","ActionGroup","Section","mb","type","Title","title","Field","Label","Text","withTruncatedText","variant","content","filesOnlyDefault","filesOnly","excludePinnedDefault","excludePinned","maxAgeDefault","maxAge"],"mappings":"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"}