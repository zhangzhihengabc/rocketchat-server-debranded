function module(e,n,t){var r,l,a,o,c,i,u,m,s,d,f,E,h,p,y,v,b,w,x,k,_,C,g,R,F,D,P,S,j,M,T,A,G,O,V,B,I,N,q,H,W,z,L,U,J=["hideSysMes"],K=["value"],Q=["value"],X=["value"],Y=["value"],Z=["value"],$=["value"],ee=["value"],en=["value"],et=["onChange"],er=["value"],el=["value"];t.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),t.link("@babel/runtime/helpers/extends",{default:function(e){l=e}},1),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},2),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){o=e}},3),t.link("@rocket.chat/core-typings",{isRoomFederated:function(e){c=e}},0),t.link("@rocket.chat/fuselage",{Field:function(e){i=e},FieldRow:function(e){u=e},FieldLabel:function(e){m=e},FieldHint:function(e){s=e},TextInput:function(e){d=e},PasswordInput:function(e){f=e},ToggleSwitch:function(e){E=e},MultiSelect:function(e){h=e},Accordion:function(e){p=e},Callout:function(e){y=e},NumberInput:function(e){v=e},FieldGroup:function(e){b=e},Button:function(e){w=e},ButtonGroup:function(e){x=e},Box:function(e){k=e},TextAreaInput:function(e){_=e}},1),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){C=e},useUniqueId:function(e){g=e}},2),t.link("@rocket.chat/ui-contexts",{useSetting:function(e){R=e},useTranslation:function(e){F=e},useToastMessageDispatch:function(e){D=e},useEndpoint:function(e){P=e}},3),t.link("react",{default:function(e){S=e},useMemo:function(e){j=e}},4),t.link("react-hook-form",{useForm:function(e){M=e},Controller:function(e){T=e}},5),t.link("../../../../../../app/lib/lib/MessageTypes",{MessageTypesValues:function(e){A=e}},6),t.link("../../../../../components/Contextualbar",{ContextualbarHeader:function(e){G=e},ContextualbarBack:function(e){O=e},ContextualbarTitle:function(e){V=e},ContextualbarClose:function(e){B=e},ContextualbarScrollableContent:function(e){I=e},ContextualbarFooter:function(e){N=e}},7),t.link("../../../../../components/RawText",{default:function(e){q=e}},8),t.link("../../../../../components/avatar/RoomAvatarEditor",{default:function(e){H=e}},9),t.link("../../../../../lib/getDirtyFields",{getDirtyFields:function(e){W=e}},10),t.link("../../../../hooks/roomActions/useDeleteRoom",{useDeleteRoom:function(e){z=e}},11),t.link("./useEditRoomInitialValues",{useEditRoomInitialValues:function(e){L=e}},12),t.link("./useEditRoomPermissions",{useEditRoomPermissions:function(e){U=e}},13),t.exportDefault(function(e){var n=e.room,t=e.onClickClose,ea=e.onClickBack,eo=F(),ec=D(),ei=j(function(){return c(n)},[n]),eu=R("RetentionPolicy_Enabled"),em=z(n),es=em.handleDelete,ed=em.canDeleteRoom,ef=L(n),eE=M({mode:"onBlur",defaultValues:ef}),eh=eE.watch,ep=eE.reset,ey=eE.control,ev=eE.handleSubmit,eb=eE.formState,ew=eb.isDirty,ex=eb.dirtyFields,ek=eb.errors,e_=eb.isSubmitting,eC=j(function(){return A.map(function(e){return[e.key,eo(e.i18nLabel)]})},[eo]),eg=eh(),eR=eg.readOnly,eF=eg.archived,eD=eg.joinCodeRequired,eP=eg.hideSysMes,eS=eg.retentionEnabled,ej=eg.retentionMaxAge,eM=eg.retentionOverrideGlobal,eT=U(n),eA=eT.canChangeType,eG=eT.canSetReadOnly,eO=eT.canSetReactWhenReadOnly,eV=eT.canEditRoomRetentionPolicy,eB=eT.canArchiveOrUnarchive,eI=eT.canToggleEncryption,eN=eT.canViewName,eq=eT.canViewTopic,eH=eT.canViewAnnouncement,eW=eT.canViewArchived,ez=eT.canViewDescription,eL=eT.canViewType,eU=eT.canViewReadOnly,eJ=eT.canViewHideSysMes,eK=eT.canViewJoinCode,eQ=eT.canViewEncrypted,eX=!!n.archived!==eF,eY=P("POST","/v1/rooms.saveRoomSettings"),eZ=P("POST","/v1/rooms.changeArchivationState"),e$=C(function(e){var l,c;return r.async(function(i){for(;;)switch(i.prev=i.next){case 0:return l=e.hideSysMes,c=W(o(e,J),ex),delete c.archived,i.prev=3,i.next=6,r.awrap(eY(a(a(a({rid:n._id},c),c.joinCode&&{joinCode:eD?c.joinCode:""}),(c.systemMessages||!l)&&{systemMessages:l&&c.systemMessages})));case 6:ec({type:"success",message:eo("Room_updated_successfully")}),t(),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(3),ec({type:"error",message:i.t0});case 13:case"end":return i.stop()}},null,null,[[3,10]],Promise)}),e1=C(function(){return r.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.awrap(eZ({rid:n._id,action:n.archived?"unarchive":"archive"}));case 3:ec({type:"success",message:n.archived?eo("Room_has_been_unarchived"):eo("Room_has_been_archived")}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ec({type:"error",message:e.t0});case 9:case"end":return e.stop()}},null,null,[[0,6]],Promise)}),e0=C(function(e){return r.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.awrap(Promise.all([ew&&e$(e),eX&&e1()].filter(Boolean)));case 2:case"end":return n.stop()}},null,null,null,Promise)}),e3=g(),e2=g(),e6=g(),e4=g(),e8=g(),e9=g(),e5=g(),e7=g(),ne=g(),nn=g(),nt=g(),nr=g(),nl=g(),na=g(),no=g(),nc=g(),ni=g();return S.createElement(S.Fragment,null,S.createElement(G,null,ea&&S.createElement(O,{onClick:ea}),S.createElement(V,null,n.teamId?eo("edit-team"):eo("edit-room")),t&&S.createElement(B,{onClick:t})),S.createElement(I,{p:24},S.createElement("form",{id:e3,onSubmit:ev(e0)},S.createElement(k,{display:"flex",justifyContent:"center"},S.createElement(T,{control:ey,name:"roomAvatar",render:function(e){var t=e.field,r=t.onChange,l=t.value;return S.createElement(H,{room:n,roomAvatar:l,onChangeAvatar:r})}})),S.createElement(b,null,S.createElement(i,null,S.createElement(m,{htmlFor:e2,required:!0},eo("Name")),S.createElement(u,null,S.createElement(T,{name:"roomName",control:ey,rules:{required:eo("error-the-field-is-required",{field:eo("Name")})},render:function(e){var n=e.field;return S.createElement(d,l({id:e2},n,{disabled:!eN}))}})),ek.roomName&&S.createElement(i.Error,null,ek.roomName.message)),ez&&S.createElement(i,null,S.createElement(m,{htmlFor:e6},eo("Description")),S.createElement(u,null,S.createElement(T,{name:"roomDescription",control:ey,render:function(e){var n=e.field;return S.createElement(_,l({id:e6},n,{disabled:ei,rows:4}))}}))),eH&&S.createElement(i,null,S.createElement(m,{htmlFor:e4},eo("Announcement")),S.createElement(u,null,S.createElement(T,{name:"roomAnnouncement",control:ey,render:function(e){var n=e.field;return S.createElement(_,l({id:e4},n,{disabled:ei,rows:4}))}}))),eq&&S.createElement(i,null,S.createElement(m,{htmlFor:e8},eo("Topic")),S.createElement(u,null,S.createElement(T,{name:"roomTopic",control:ey,render:function(e){var n=e.field;return S.createElement(_,l({id:e8},n,{rows:4}))}}))),eL&&S.createElement(i,null,S.createElement(k,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},S.createElement(m,{htmlFor:e9},eo("Private")),S.createElement(u,null,S.createElement(T,{control:ey,name:"roomType",render:function(e){var n=e.field,t=n.name,r=n.onBlur,l=n.onChange,a=n.value,o=n.ref;return S.createElement(E,{id:e9,ref:o,name:t,onBlur:r,disabled:!eA||ei,checked:"p"===a,onChange:function(){return l("p"===a?"c":"p")},"aria-describedby":e9+"-hint"})}}))),S.createElement(s,{id:e9+"-hint"},eo("Teams_New_Private_Description_Enabled"))),eU&&S.createElement(i,null,S.createElement(k,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},S.createElement(m,{htmlFor:e5},eo("Read_only")),S.createElement(u,null,S.createElement(T,{control:ey,name:"readOnly",render:function(e){var n=e.field,t=n.value,r=o(n,K);return S.createElement(E,l({id:e5},r,{checked:t,disabled:!eG||ei,"aria-describedby":e5+"-hint"}))}}))),S.createElement(s,{id:e5+"-hint"},eo("Only_authorized_users_can_write_new_messages"))),eR&&S.createElement(i,null,S.createElement(k,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},S.createElement(m,{htmlFor:e7},eo("React_when_read_only")),S.createElement(u,null,S.createElement(T,{control:ey,name:"reactWhenReadOnly",render:function(e){var n=e.field,t=n.value,r=o(n,Q);return S.createElement(E,l({id:e7},r,{disabled:!eO,checked:t,"aria-describedby":e7+"-hint"}))}}))),S.createElement(s,{id:e7+"-hint"},eo("Only_authorized_users_can_react_to_messages"))),eW&&S.createElement(i,null,S.createElement(k,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},S.createElement(m,{htmlFor:ne},eo("Room_archivation_state_true")),S.createElement(u,null,S.createElement(T,{control:ey,name:"archived",render:function(e){var n=e.field,t=n.value,r=o(n,X);return S.createElement(E,l({id:ne},r,{disabled:!eB,checked:t}))}})))),eK&&S.createElement(i,null,S.createElement(k,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},S.createElement(m,{htmlFor:nn},eo("Password_to_access")),S.createElement(u,null,S.createElement(T,{control:ey,name:"joinCodeRequired",render:function(e){var n=e.field,t=n.value,r=o(n,Y);return S.createElement(E,l({id:nn},r,{disabled:ei,checked:t}))}}))),S.createElement(u,null,S.createElement(T,{name:"joinCode",control:ey,render:function(e){var n=e.field;return S.createElement(f,l({},n,{placeholder:eo("Reset_password"),disabled:!eD}))}}))),eJ&&S.createElement(i,null,S.createElement(k,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},S.createElement(m,{htmlFor:nt},eo("Hide_System_Messages")),S.createElement(u,null,S.createElement(T,{control:ey,name:"hideSysMes",render:function(e){var n=e.field,t=n.value,r=o(n,Z);return S.createElement(E,l({id:nt},r,{checked:t,disabled:ei}))}}))),S.createElement(u,null,S.createElement(T,{control:ey,name:"systemMessages",render:function(e){var n=e.field;return S.createElement(h,l({},n,{options:eC,disabled:!eP||ei,placeholder:eo("Select_an_option")}))}}))),eQ&&S.createElement(i,null,S.createElement(k,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},S.createElement(m,{htmlFor:nr},eo("Encrypted")),S.createElement(u,null,S.createElement(T,{control:ey,name:"encrypted",render:function(e){var n=e.field,t=n.value,r=o(n,$);return S.createElement(E,l({id:nr},r,{disabled:!eI||ei,checked:t}))}}))))),eu&&S.createElement(p,null,S.createElement(p.Item,{title:eo("Prune")},S.createElement(b,null,S.createElement(i,null,S.createElement(k,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},S.createElement(m,{htmlFor:nl},eo("RetentionPolicyRoom_Enabled")),S.createElement(u,null,S.createElement(T,{control:ey,name:"retentionEnabled",render:function(e){var n=e.field,t=n.value,r=o(n,ee);return S.createElement(E,l({id:nl},r,{checked:t}))}})))),S.createElement(i,null,S.createElement(k,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},S.createElement(m,{htmlFor:na},eo("RetentionPolicyRoom_OverrideGlobal")),S.createElement(u,null,S.createElement(T,{control:ey,name:"retentionOverrideGlobal",render:function(e){var n=e.field,t=n.value,r=o(n,en);return S.createElement(E,l({id:na},r,{disabled:!eS||!eV,checked:t}))}})))),eM&&S.createElement(S.Fragment,null,S.createElement(y,{type:"danger"},S.createElement(q,null,eo("RetentionPolicyRoom_ReadTheDocs"))),S.createElement(i,null,S.createElement(m,{htmlFor:no},eo("RetentionPolicyRoom_MaxAge",{max:ej})),S.createElement(u,null,S.createElement(T,{control:ey,name:"retentionMaxAge",render:function(e){var n=e.field,t=n.onChange,r=o(n,et);return S.createElement(v,l({id:no},r,{onChange:function(e){return t(Math.max(1,Number(e)))}}))}}))),S.createElement(i,null,S.createElement(k,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},S.createElement(m,{htmlFor:nc},eo("RetentionPolicyRoom_ExcludePinned")),S.createElement(u,null,S.createElement(T,{control:ey,name:"retentionExcludePinned",render:function(e){var n=e.field,t=n.value,r=o(n,er);return S.createElement(E,l({id:nc},r,{checked:t}))}})))),S.createElement(i,null,S.createElement(k,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},S.createElement(m,{htmlFor:ni},eo("RetentionPolicyRoom_FilesOnly")),S.createElement(u,null,S.createElement(T,{control:ey,name:"retentionFilesOnly",render:function(e){var n=e.field,t=n.value,r=o(n,el);return S.createElement(E,l({id:ni},r,{checked:t}))}})))))))))),S.createElement(N,null,S.createElement(x,{stretch:!0},S.createElement(w,{type:"reset",disabled:!ew||e_,onClick:function(){return ep(ef)}},eo("Reset")),S.createElement(w,{form:e3,type:"submit",loading:e_,disabled:!ew},eo("Save"))),S.createElement(x,{stretch:!0,mbs:8},S.createElement(w,{icon:"trash",danger:!0,disabled:!ed||ei||e_,onClick:es},eo("Delete")))))})}
//# sourceMappingURL=/dynamic/client/views/room/contextualBar/Info/EditRoomInfo/08b446034525d7dc3da0b352c427a952b874f131.map
