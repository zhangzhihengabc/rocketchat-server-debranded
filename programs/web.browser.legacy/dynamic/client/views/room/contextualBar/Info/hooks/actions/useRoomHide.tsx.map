)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/Info/hooks/actions/useRoomHide.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useSetModal, useToastMessageDispatch, useMethod, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport React from 'react';\n\nimport { UiTextContext } from '../../../../../../../definition/IRoomTypeConfig';\nimport WarningModal from '../../../../../../components/WarningModal';\nimport { roomCoordinator } from '../../../../../../lib/rooms/roomCoordinator';\n\nexport const useRoomHide = (room: IRoom) => {\n\tconst t = useTranslation();\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst hideRoom = useMethod('hideRoom');\n\tconst router = useRouter();\n\n\tconst handleHide = useMutableCallback(async () => {\n\t\tconst hide = async () => {\n\t\t\ttry {\n\t\t\t\tawait hideRoom(room._id);\n\t\t\t\trouter.navigate('/home');\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tsetModal(null);\n\t\t};\n\n\t\tconst warnText = roomCoordinator.getRoomDirectives(room.t).getUiText(UiTextContext.HIDE_WARNING);\n\n\t\tsetModal(\n\t\t\t<WarningModal\n\t\t\t\ttext={t(warnText as TranslationKey, room.fname || room.name)}\n\t\t\t\tconfirmText={t('Yes_hide_it')}\n\t\t\t\tclose={() => setModal(null)}\n\t\t\t\tcancel={() => setModal(null)}\n\t\t\t\tcancelText={t('Cancel')}\n\t\t\t\tconfirm={hide}\n\t\t\t/>,\n\t\t);\n\t});\n\n\treturn handleHide;\n};\n",null],"names":["module","link","default","_regeneratorRuntime","export","useRoomHide","useMutableCallback","useSetModal","useToastMessageDispatch","useMethod","useTranslation","useRouter","v","React","UiTextContext","WarningModal","roomCoordinator","room","t","setModal","dispatchToastMessage","hideRoom","router","hide","warnText","async","_context2","prev","next","_callee","_callee$","_context","awrap","_id","navigate","t0","type","message","stop","Promise","getRoomDirectives","getUiText","HIDE_WARNING","createElement","text","fname","name","confirmText","close","cancel","cancelText","confirm"],"mappings":"uBACSA,EAAoBC,IAAM,CAAA,6BAA8B,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAjEH,EAAOI,MAAE,CAAA,CAAAC,YAAkB,WAAQ,OAAAA,CAAA,CAAA,GAA8BL,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAM,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAO,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAX,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAY,CAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAAb,EAAAA,IAAAA,CAAAA,kDAAAA,CAAAc,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAd,EAAAA,IAAAA,CAAAA,4CAAAA,CAAA,QAAA,SAAAY,CAAA,EAAAG,EAAAA,CAAA,CAAA,EAAA,GAAAf,EAAAA,IAAAA,CAAAA,8CAAAA,CAAAgB,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAS1D,IATPb,EAAgEG,EAACC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAE,EAAAC,EAAAC,EAAAC,EASpDX,EAAc,SAACY,CAAW,EACtC,IAAMC,EAAIR,IACJS,EAAWZ,IACXa,EAAuBZ,IACvBa,EAAWZ,EAAU,YACrBa,EAASX,IA2Bf,OAzBmBL,EAAmB,WAAA,IAAAiB,EAAAC,EAAA,OAAArB,EAAAsB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAC/BL,EAAO,SAAAM,IAAA,OAAA1B,EAAAsB,KAAA,CAAA,SAAAK,EAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAJ,IAAA,CAAAI,EAAAH,IAAA,EAAA,KAAA,EAAA,OAAAG,EAAAJ,IAAA,CAAA,EAAAI,EAAAH,IAAA,CAAA,EAAAzB,EAAA6B,KAAA,CAELX,EAASJ,EAAKgB,GAAG,EAAC,MAAA,EACxBX,EAAOY,QAAQ,CAAC,SAASH,EAAAH,IAAA,CAAA,EAAA,KAAA,MAAA,EAAAG,EAAAJ,IAAA,CAAA,EAAAI,EAAAI,EAAA,CAAAJ,EAAA,KAAA,CAAA,GAEzBX,EAAqB,CAAEgB,KAAM,QAASC,QAAON,EAAAI,EAAA,AAAO,EAAI,MAAA,EAEzDhB,EAAS,KAAM,MAAA,GAAA,IAAA,MAAA,OAAAY,EAAAO,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAAC,QAAA,EAGVf,EAAWR,EAAgBwB,iBAAiB,CAACvB,EAAKC,CAAC,EAAEuB,SAAS,CAAC3B,EAAc4B,YAAY,EAE/FvB,EACCN,EAAA8B,aAAA,CAAC5B,EAAY,CACZ6B,KAAM1B,EAAEM,EAA4BP,EAAK4B,KAAK,EAAI5B,EAAK6B,IAAI,EAC3DC,YAAa7B,EAAE,eACf8B,MAAO,WAAA,OAAM7B,EAAS,KAAK,EAC3B8B,OAAQ,WAAA,OAAM9B,EAAS,KAAK,EAC5B+B,WAAYhC,EAAE,UACdiC,QAAS5B,CAAK,GAEd,MAAA,EAAA,IAAA,MAAA,OAAAG,EAAAY,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAIJ"}