)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/ExportMessages/MailExportForm.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport {\n\tFieldError,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tTextAreaInput,\n\tTextInput,\n\tButtonGroup,\n\tButton,\n\tBox,\n\tIcon,\n\tCallout,\n\tFieldGroup,\n\tSelect,\n} from '@rocket.chat/fuselage';\nimport { useAutoFocus, useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useEffect, useContext } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\n\nimport { validateEmail } from '../../../../../lib/emailValidator';\nimport { ContextualbarScrollableContent, ContextualbarFooter } from '../../../../components/Contextualbar';\nimport UserAutoCompleteMultiple from '../../../../components/UserAutoCompleteMultiple';\nimport { SelectedMessageContext, useCountSelected } from '../../MessageList/contexts/SelectedMessagesContext';\nimport type { MailExportFormValues } from './ExportMessages';\nimport { useRoomExportMutation } from './useRoomExportMutation';\n\ntype MailExportFormProps = {\n\tformId: string;\n\trid: IRoom['_id'];\n\tonCancel: () => void;\n\texportOptions: SelectOption[];\n};\n\nconst MailExportForm = ({ formId, rid, onCancel, exportOptions }: MailExportFormProps) => {\n\tconst t = useTranslation();\n\tconst formFocus = useAutoFocus<HTMLFormElement>();\n\n\tconst {\n\t\twatch,\n\t\tsetValue,\n\t\tcontrol,\n\t\tregister,\n\t\tformState: { errors, isDirty, isSubmitting },\n\t\thandleSubmit,\n\t\tclearErrors,\n\t} = useFormContext<MailExportFormValues>();\n\tconst roomExportMutation = useRoomExportMutation();\n\n\tconst { selectedMessageStore } = useContext(SelectedMessageContext);\n\tconst messages = selectedMessageStore.getSelectedMessages();\n\n\tconst count = useCountSelected();\n\n\tconst clearSelection = useMutableCallback(() => {\n\t\tselectedMessageStore.clearStore();\n\t});\n\n\tuseEffect(() => {\n\t\tselectedMessageStore.setIsSelecting(true);\n\t\treturn (): void => {\n\t\t\tselectedMessageStore.reset();\n\t\t};\n\t}, [selectedMessageStore]);\n\n\tconst { toUsers } = watch();\n\n\tuseEffect(() => {\n\t\tsetValue('messagesCount', messages.length);\n\t}, [setValue, messages.length]);\n\n\tconst handleExport = async ({ type, toUsers, subject, additionalEmails }: MailExportFormValues) => {\n\t\troomExportMutation.mutateAsync({\n\t\t\trid,\n\t\t\ttype,\n\t\t\ttoUsers,\n\t\t\ttoEmails: additionalEmails?.split(','),\n\t\t\tsubject,\n\t\t\tmessages,\n\t\t});\n\t};\n\n\tconst clickable = css`\n\t\tcursor: pointer;\n\t`;\n\n\tconst methodField = useUniqueId();\n\tconst toUsersField = useUniqueId();\n\tconst additionalEmailsField = useUniqueId();\n\tconst subjectField = useUniqueId();\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<form ref={formFocus} tabIndex={-1} aria-labelledby={`${formId}-title`} id={formId} onSubmit={handleSubmit(handleExport)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={methodField}>{t('Method')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='type'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <Select id={methodField} {...field} placeholder={t('Type')} options={exportOptions} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<Callout onClick={clearSelection} title={t('Messages_selected')} type={count > 0 ? 'success' : 'info'}>\n\t\t\t\t\t\t\t\t<p>{`${count} Messages selected`}</p>\n\t\t\t\t\t\t\t\t{count > 0 && (\n\t\t\t\t\t\t\t\t\t<Box is='p' className={clickable}>\n\t\t\t\t\t\t\t\t\t\t{t('Click_here_to_clear_the_selection')}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{count === 0 && <Box is='p'>{t('Click_the_messages_you_would_like_to_send_by_email')}</Box>}\n\t\t\t\t\t\t\t</Callout>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='hidden'\n\t\t\t\t\t\t\t\t{...register('messagesCount', {\n\t\t\t\t\t\t\t\t\tvalidate: (messagesCount) => (messagesCount > 0 ? undefined : t('Mail_Message_No_messages_selected_select_all')),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{errors.messagesCount && <FieldError aria-live='assertive'>{errors.messagesCount.message}</FieldError>}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={toUsersField}>{t('To_users')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='toUsers'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange, onBlur, name } }) => (\n\t\t\t\t\t\t\t\t\t\t<UserAutoCompleteMultiple\n\t\t\t\t\t\t\t\t\t\t\tid={toUsersField}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\t\t\t\tonChange(value);\n\t\t\t\t\t\t\t\t\t\t\t\tclearErrors('additionalEmails');\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={additionalEmailsField}>{t('To_additional_emails')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='additionalEmails'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\tvalidate: {\n\t\t\t\t\t\t\t\t\t\t\tvalidateEmail: (additionalEmails) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails === '') {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails !== '' && validateEmail(additionalEmails)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn t('Mail_Message_Invalid_emails', additionalEmails);\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tvalidateToUsers: (additionalEmails) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails !== '' || toUsers?.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn t('Mail_Message_Missing_to');\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\tid={additionalEmailsField}\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Email_Placeholder_any')}\n\t\t\t\t\t\t\t\t\t\t\taddon={<Icon name='mail' size='x20' />}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${additionalEmailsField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.additionalEmails?.message)}\n\t\t\t\t\t\t\t\t\t\t\terror={errors?.additionalEmails?.message}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.additionalEmails && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${additionalEmailsField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.additionalEmails.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={subjectField}>{t('Subject')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='subject'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <TextAreaInput rows={3} id={subjectField} {...field} addon={<Icon name='edit' size='x20' />} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</form>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={onCancel}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button loading={isSubmitting} disabled={!isDirty} form={formId} primary type='submit'>\n\t\t\t\t\t\t{t('Send')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default MailExportForm;\n",null],"names":["_extends","_taggedTemplateLiteralLoose","_regeneratorRuntime","css","FieldError","Field","FieldLabel","FieldRow","TextAreaInput","TextInput","ButtonGroup","Button","Box","Icon","Callout","FieldGroup","Select","useAutoFocus","useMutableCallback","useUniqueId","useTranslation","React","useEffect","useContext","Controller","useFormContext","validateEmail","ContextualbarScrollableContent","ContextualbarFooter","UserAutoCompleteMultiple","SelectedMessageContext","useCountSelected","useRoomExportMutation","module","link","default","v","exportDefault","_ref","formId","rid","onCancel","exportOptions","t","formFocus","_useFormContext","watch","setValue","control","register","_useFormContext$formS","formState","errors","isDirty","isSubmitting","handleSubmit","clearErrors","roomExportMutation","selectedMessageStore","_useContext","messages","getSelectedMessages","count","clearSelection","clearStore","setIsSelecting","reset","toUsers","_watch","length","clickable","_templateObject","methodField","toUsersField","additionalEmailsField","subjectField","createElement","Fragment","ref","tabIndex","id","onSubmit","_ref2","type","subject","additionalEmails","async","_context","prev","next","mutateAsync","toEmails","split","stop","Promise","htmlFor","name","render","_ref3","field","placeholder","options","onClick","title","is","className","validate","messagesCount","undefined","message","_ref4","_ref4$field","value","onChange","onBlur","rules","validateToUsers","_ref5","_errors$additionalEma","_errors$additionalEma2","addon","size","Boolean","error","_ref6","rows","stretch","loading","disabled","form","primary"],"mappings":"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"}