function module(e,t,n){var l,a,i,o,r,s,c,u,m,d,f,E,g,p,v,_,b,h,k,C,x,M,y,S,F,I,T,U,j,w,B,A,L,R;n.link("@babel/runtime/helpers/extends",{default:function(e){a=e}},0),n.link("@babel/runtime/helpers/taggedTemplateLiteralLoose",{default:function(e){i=e}},1),n.link("@babel/runtime/regenerator",{default:function(e){o=e}},2),n.link("@rocket.chat/css-in-js",{css:function(e){r=e}},0),n.link("@rocket.chat/fuselage",{FieldError:function(e){s=e},Field:function(e){c=e},FieldLabel:function(e){u=e},FieldRow:function(e){m=e},TextAreaInput:function(e){d=e},TextInput:function(e){f=e},ButtonGroup:function(e){E=e},Button:function(e){g=e},Box:function(e){p=e},Icon:function(e){v=e},Callout:function(e){_=e},FieldGroup:function(e){b=e},Select:function(e){h=e}},1),n.link("@rocket.chat/fuselage-hooks",{useAutoFocus:function(e){k=e},useMutableCallback:function(e){C=e},useUniqueId:function(e){x=e}},2),n.link("@rocket.chat/ui-contexts",{useTranslation:function(e){M=e}},3),n.link("react",{default:function(e){y=e},useEffect:function(e){S=e},useContext:function(e){F=e}},4),n.link("react-hook-form",{Controller:function(e){I=e},useFormContext:function(e){T=e}},5),n.link("../../../../../lib/emailValidator",{validateEmail:function(e){U=e}},6),n.link("../../../../components/Contextualbar",{ContextualbarScrollableContent:function(e){j=e},ContextualbarFooter:function(e){w=e}},7),n.link("../../../../components/UserAutoCompleteMultiple",{default:function(e){B=e}},8),n.link("../../MessageList/contexts/SelectedMessagesContext",{SelectedMessageContext:function(e){A=e},useCountSelected:function(e){L=e}},9),n.link("./useRoomExportMutation",{useRoomExportMutation:function(e){R=e}},10),n.exportDefault(function(e){var t=e.formId,n=e.rid,z=e.onCancel,D=e.exportOptions,G=M(),N=k(),P=T(),V=P.watch,q=P.setValue,O=P.control,H=P.register,J=P.formState,K=J.errors,Q=J.isDirty,W=J.isSubmitting,X=P.handleSubmit,Y=P.clearErrors,Z=R(),$=F(A).selectedMessageStore,ee=$.getSelectedMessages(),et=L(),en=C(function(){$.clearStore()});S(function(){return $.setIsSelecting(!0),function(){$.reset()}},[$]);var el=V().toUsers;S(function(){q("messagesCount",ee.length)},[q,ee.length]);var ea=r(l||(l=i(["\n		cursor: pointer;\n	"]))),ei=x(),eo=x(),er=x(),es=x();return y.createElement(y.Fragment,null,y.createElement(j,null,y.createElement("form",{ref:N,tabIndex:-1,"aria-labelledby":t+"-title",id:t,onSubmit:X(function(e){var t,l,a,i;return o.async(function(o){for(;;)switch(o.prev=o.next){case 0:t=e.type,l=e.toUsers,a=e.subject,i=e.additionalEmails,Z.mutateAsync({rid:n,type:t,toUsers:l,toEmails:null==i?void 0:i.split(","),subject:a,messages:ee});case 2:case"end":return o.stop()}},null,null,null,Promise)})},y.createElement(b,null,y.createElement(c,null,y.createElement(u,{htmlFor:ei},G("Method")),y.createElement(m,null,y.createElement(I,{name:"type",control:O,render:function(e){var t=e.field;return y.createElement(h,a({id:ei},t,{placeholder:G("Type"),options:D}))}}))),y.createElement(c,null,y.createElement(_,{onClick:en,title:G("Messages_selected"),type:et>0?"success":"info"},y.createElement("p",null,et+" Messages selected"),et>0&&y.createElement(p,{is:"p",className:ea},G("Click_here_to_clear_the_selection")),0===et&&y.createElement(p,{is:"p"},G("Click_the_messages_you_would_like_to_send_by_email"))),y.createElement("input",a({type:"hidden"},H("messagesCount",{validate:function(e){return e>0?void 0:G("Mail_Message_No_messages_selected_select_all")}}))),K.messagesCount&&y.createElement(s,{"aria-live":"assertive"},K.messagesCount.message)),y.createElement(c,null,y.createElement(u,{htmlFor:eo},G("To_users")),y.createElement(m,null,y.createElement(I,{name:"toUsers",control:O,render:function(e){var t=e.field,n=t.value,l=t.onChange,a=t.onBlur,i=t.name;return y.createElement(B,{id:eo,value:n,onChange:function(e){l(e),Y("additionalEmails")},onBlur:a,name:i})}}))),y.createElement(c,null,y.createElement(u,{htmlFor:er},G("To_additional_emails")),y.createElement(m,null,y.createElement(I,{name:"additionalEmails",control:O,rules:{validate:{validateEmail:function(e){if(!(""===e||""!==e&&U(e)))return G("Mail_Message_Invalid_emails",e)},validateToUsers:function(e){if(""===e&&!((null==el?void 0:el.length)>0))return G("Mail_Message_Missing_to")}}},render:function(e){var t,n,l=e.field;return y.createElement(f,a({id:er},l,{placeholder:G("Email_Placeholder_any"),addon:y.createElement(v,{name:"mail",size:"x20"}),"aria-describedby":er+"-error","aria-invalid":!!(null==K?void 0:null===(t=K.additionalEmails)||void 0===t?void 0:t.message),error:null==K?void 0:null===(n=K.additionalEmails)||void 0===n?void 0:n.message}))}})),(null==K?void 0:K.additionalEmails)&&y.createElement(s,{"aria-live":"assertive",id:er+"-error"},K.additionalEmails.message)),y.createElement(c,null,y.createElement(u,{htmlFor:es},G("Subject")),y.createElement(m,null,y.createElement(I,{name:"subject",control:O,render:function(e){var t=e.field;return y.createElement(d,a({rows:3,id:es},t,{addon:y.createElement(v,{name:"edit",size:"x20"})}))}})))))),y.createElement(w,null,y.createElement(E,{stretch:!0},y.createElement(g,{onClick:z},G("Cancel")),y.createElement(g,{loading:W,disabled:!Q,form:t,primary:!0,type:"submit"},G("Send")))))})}
//# sourceMappingURL=/dynamic/client/views/room/contextualBar/ExportMessages/68f5e5e35b9c5694bf504d2f037dc3f03e210481.map
