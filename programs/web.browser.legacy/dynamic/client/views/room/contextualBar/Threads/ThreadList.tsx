function module(e,n,t){var o,l,i,r,u,a,c,s,d,f,m,h,x,k,p,b,v,E,C,g,T,S,y,w,I,L,G,R,D,A,z,B,M,N;t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},0),t.link("@rocket.chat/fuselage",{Box:function(e){l=e},Icon:function(e){i=e},TextInput:function(e){r=e},Select:function(e){u=e},Margins:function(e){a=e},Callout:function(e){c=e},Throbber:function(e){s=e}},0),t.link("@rocket.chat/fuselage-hooks",{useResizeObserver:function(e){d=e},useAutoFocus:function(e){f=e},useLocalStorage:function(e){m=e},useDebouncedValue:function(e){h=e}},1),t.link("@rocket.chat/ui-contexts",{useTranslation:function(e){x=e},useUserId:function(e){k=e}},2),t.link("react",{default:function(e){p=e},useMemo:function(e){b=e},useState:function(e){v=e},useCallback:function(e){E=e}},3),t.link("react-virtuoso",{Virtuoso:function(e){C=e}},4),t.link("../../../../components/Contextualbar",{ContextualbarClose:function(e){g=e},ContextualbarContent:function(e){T=e},ContextualbarHeader:function(e){S=e},ContextualbarIcon:function(e){y=e},ContextualbarTitle:function(e){w=e},ContextualbarEmptyContent:function(e){I=e}},5),t.link("../../../../components/ScrollableContentWrapper",{default:function(e){L=e}},6),t.link("../../../../hooks/lists/useRecordList",{useRecordList:function(e){G=e}},7),t.link("../../../../lib/asyncState",{AsyncStatePhase:function(e){R=e}},8),t.link("../../contexts/RoomContext",{useRoom:function(e){D=e},useRoomSubscription:function(e){A=e}},9),t.link("../../contexts/RoomToolboxContext",{useRoomToolbox:function(e){z=e}},10),t.link("../../hooks/useGoToThread",{useGoToThread:function(e){B=e}},11),t.link("./components/ThreadListItem",{default:function(e){M=e}},12),t.link("./hooks/useThreadsList",{useThreadsList:function(e){N=e}},13),t.exportDefault(function(){var e,n=x(),t=z().closeTab,O=E(function(){t()},[t]),U=d({debounceDelay:200}),F=U.ref,_=U.contentBoxSize,V=(_=void 0===_?{}:_).inlineSize,W=_.blockSize,j=f(!0),H=o(v(""),2),P=H[0],q=H[1],J=E(function(e){q(e.currentTarget.value)},[q]),K=b(function(){return[["all",n("All")],["following",n("Following")],["unread",n("Unread")]]},[n]),Q=o(m("thread-list-type","all"),2),X=Q[0],Y=Q[1],Z=E(function(e){var n=K.find(function(n){return o(n,1)[0]===e});n&&Y(n[0])},[Y,K]),$=D()._id,ee=A(),en=!!ee,et=k(),eo=null==ee?void 0:null===(e=ee.tunread)||void 0===e?void 0:e.sort().join(","),el=h(P,400),ei=N(h(b(function(){if("all"===X||!en||!et)return{rid:$,text:el,type:"all"};switch(X){case"following":return{rid:$,text:el,type:X,uid:et};case"unread":return{rid:$,text:el,type:X,tunread:null==eo?void 0:eo.split(",")}}},[$,en,el,eo,X,et]),300),et),er=ei.threadsList,eu=ei.loadMoreItems,ea=G(er),ec=ea.phase,es=ea.error,ed=ea.items,ef=ea.itemCount,em=B({replace:!0}),eh=E(function(e){em({rid:$,tmid:e})},[$,em]);return p.createElement(p.Fragment,null,p.createElement(S,null,p.createElement(y,{name:"thread"}),p.createElement(w,null,n("Threads")),p.createElement(g,{onClick:O})),p.createElement(T,{paddingInline:0,ref:F},p.createElement(l,{display:"flex",flexDirection:"row",p:24,borderBlockEndWidth:2,borderBlockEndStyle:"solid",borderBlockEndColor:"extra-light",flexShrink:0},p.createElement(l,{display:"flex",flexDirection:"row",flexGrow:1,mi:-4},p.createElement(a,{inline:4},p.createElement(r,{placeholder:n("Search_Messages"),addon:p.createElement(i,{name:"magnifier",size:"x20"}),ref:j,value:P,onChange:J}),p.createElement(l,{w:"x144"},p.createElement(u,{options:K,value:X,onChange:function(e){return Z(String(e))}}))))),ec===R.LOADING&&p.createElement(l,{pi:24,pb:12},p.createElement(s,{size:"x12"})),es&&p.createElement(c,{mi:24,type:"danger"},es.toString()),ec!==R.LOADING&&0===ef&&p.createElement(I,{title:n("No_Threads")}),p.createElement(l,{flexGrow:1,flexShrink:1,overflow:"hidden",display:"flex"},!es&&ef>0&&ed.length>0&&p.createElement(C,{style:{height:void 0===W?1:W,width:void 0===V?378:V},totalCount:ef,endReached:ec===R.LOADING?function(){}:function(e){eu(e,Math.min(50,ef-e))},overscan:25,data:ed,components:{Scroller:L},itemContent:function(e,n){var t,o,l;return p.createElement(M,{thread:n,unread:null!==(t=null==ee?void 0:ee.tunread)&&void 0!==t?t:[],unreadUser:null!==(o=null==ee?void 0:ee.tunreadUser)&&void 0!==o?o:[],unreadGroup:null!==(l=null==ee?void 0:ee.tunreadGroup)&&void 0!==l?l:[],onClick:eh})}}))))})}
//# sourceMappingURL=/dynamic/client/views/room/contextualBar/Threads/2c0a40874ddbd469c466cbb34bec836c428fbdd2.map
