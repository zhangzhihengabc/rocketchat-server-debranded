)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/Threads/components/ThreadListMessage.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { Message, Box, IconButton } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, MouseEventHandler, ReactElement, ReactNode } from 'react';\nimport React, { memo } from 'react';\n\nimport MessageAvatar from '../../../../../components/message/header/MessageAvatar';\nimport { followStyle, anchor } from '../../../../../components/message/helpers/followSyle';\nimport AllMentionNotification from '../../../../../components/message/notification/AllMentionNotification';\nimport MeMentionNotification from '../../../../../components/message/notification/MeMentionNotification';\nimport UnreadMessagesNotification from '../../../../../components/message/notification/UnreadMessagesNotification';\nimport { useTimeAgo } from '../../../../../hooks/useTimeAgo';\n\ntype ThreadListMessageProps = {\n\t_id: IMessage['_id'];\n\tmsg: ReactNode;\n\tfollowing: boolean;\n\tusername: IMessage['u']['username'];\n\tname?: IMessage['u']['name'];\n\tts: IMessage['ts'];\n\treplies: ReactNode;\n\tparticipants: ReactNode;\n\thandleFollowButton: MouseEventHandler;\n\tunread: boolean;\n\tmention: boolean;\n\tall: boolean;\n\ttlm: Date | undefined;\n\temoji: IMessage['emoji'];\n} & Omit<ComponentProps<typeof Box>, 'is'>;\n\nconst ThreadListMessage = ({\n\t_id,\n\tmsg,\n\tfollowing,\n\tusername,\n\tname = username,\n\tts,\n\treplies,\n\tparticipants,\n\thandleFollowButton,\n\tunread,\n\tmention,\n\tall,\n\ttlm,\n\tclassName = [],\n\temoji,\n\t...props\n}: ThreadListMessageProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst formatDate = useTimeAgo();\n\n\tconst button = !following ? 'bell-off' : 'bell';\n\tconst actionLabel = t(!following ? 'Not_Following' : 'Following');\n\treturn (\n\t\t<Box className={[className, !following && followStyle].flat()}>\n\t\t\t<Box pbs={16} is={Message} {...props}>\n\t\t\t\t<Message.LeftContainer>\n\t\t\t\t\t<MessageAvatar emoji={emoji} username={username} size='x36' />\n\t\t\t\t</Message.LeftContainer>\n\t\t\t\t<Message.Container>\n\t\t\t\t\t<Message.Header>\n\t\t\t\t\t\t<Message.Name title={username}>{name}</Message.Name>\n\t\t\t\t\t\t<Message.Timestamp>{formatDate(ts)}</Message.Timestamp>\n\t\t\t\t\t</Message.Header>\n\t\t\t\t\t<Message.Body clamp={2}>{msg}</Message.Body>\n\t\t\t\t\t<Message.Block>\n\t\t\t\t\t\t<Message.Metrics>\n\t\t\t\t\t\t\t<Message.Metrics.Item>\n\t\t\t\t\t\t\t\t<Message.Metrics.Item.Icon name='thread' />\n\t\t\t\t\t\t\t\t<Message.Metrics.Item.Label>{replies}</Message.Metrics.Item.Label>\n\t\t\t\t\t\t\t</Message.Metrics.Item>\n\t\t\t\t\t\t\t<Message.Metrics.Item>\n\t\t\t\t\t\t\t\t<Message.Metrics.Item.Icon name='user' />\n\t\t\t\t\t\t\t\t<Message.Metrics.Item.Label>{participants}</Message.Metrics.Item.Label>\n\t\t\t\t\t\t\t</Message.Metrics.Item>\n\t\t\t\t\t\t\t{tlm && (\n\t\t\t\t\t\t\t\t<Message.Metrics.Item>\n\t\t\t\t\t\t\t\t\t<Message.Metrics.Item.Icon name='clock' />\n\t\t\t\t\t\t\t\t\t<Message.Metrics.Item.Label>{formatDate(tlm)}</Message.Metrics.Item.Label>\n\t\t\t\t\t\t\t\t</Message.Metrics.Item>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Message.Metrics>\n\t\t\t\t\t</Message.Block>\n\t\t\t\t</Message.Container>\n\t\t\t\t<Message.ContainerFixed>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tclassName={anchor}\n\t\t\t\t\t\tsmall\n\t\t\t\t\t\ticon={button}\n\t\t\t\t\t\tflexShrink={0}\n\t\t\t\t\t\tdata-following={following}\n\t\t\t\t\t\tdata-id={_id}\n\t\t\t\t\t\tonClick={handleFollowButton}\n\t\t\t\t\t\ttitle={actionLabel}\n\t\t\t\t\t\taria-label={actionLabel}\n\t\t\t\t\t/>\n\t\t\t\t\t<Box mb={24}>\n\t\t\t\t\t\t{(mention && <MeMentionNotification />) || (all && <AllMentionNotification />) || (unread && <UnreadMessagesNotification />)}\n\t\t\t\t\t</Box>\n\t\t\t\t</Message.ContainerFixed>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default memo(ThreadListMessage);\n",null],"names":["_extends","_objectWithoutProperties","Message","Box","IconButton","useTranslation","React","memo","MessageAvatar","followStyle","anchor","AllMentionNotification","MeMentionNotification","UnreadMessagesNotification","useTimeAgo","module","link","default","v","exportDefault","_ref","_id","msg","following","username","_ref$name","name","ts","replies","participants","handleFollowButton","unread","mention","all","tlm","_ref$className","className","emoji","props","_excluded","t","formatDate","button","actionLabel","createElement","flat","pbs","is","LeftContainer","size","Container","Header","Name","title","Timestamp","Body","clamp","Block","Metrics","Item","Icon","Label","ContainerFixed","small","icon","flexShrink","onClick","mb"],"mappings":"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"}