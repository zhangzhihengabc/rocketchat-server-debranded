)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/NotificationPreferences/NotificationPreferencesForm.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { SelectOption } from '@rocket.chat/fuselage';\nimport { FieldGroup, IconButton, Margins } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React from 'react';\nimport { useFormContext, Controller } from 'react-hook-form';\n\nimport NotificationByDevice from './components/NotificationByDevice';\nimport NotificationPreference from './components/NotificationPreference';\nimport NotificationToggle from './components/NotificationToggle';\n\ntype NotificationPreferencesFormProps = {\n\tnotificationOptions: {\n\t\t[key: string]: SelectOption[];\n\t};\n\thandlePlaySound: () => void;\n};\n\nconst NotificationPreferencesForm = ({ notificationOptions, handlePlaySound }: NotificationPreferencesFormProps) => {\n\tconst t = useTranslation();\n\tconst { watch, control } = useFormContext();\n\n\tconst { showCounter } = watch();\n\n\treturn (\n\t\t<>\n\t\t\t<Controller\n\t\t\t\tcontrol={control}\n\t\t\t\tname='turnOn'\n\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t<NotificationToggle label={t('Turn_ON')} description={t('Receive_alerts')} onChange={onChange} defaultChecked={value} />\n\t\t\t\t)}\n\t\t\t/>\n\t\t\t<Controller\n\t\t\t\tcontrol={control}\n\t\t\t\tname='muteGroupMentions'\n\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t<NotificationToggle label={t('Mute_Group_Mentions')} onChange={onChange} defaultChecked={value} />\n\t\t\t\t)}\n\t\t\t/>\n\t\t\t<Controller\n\t\t\t\tcontrol={control}\n\t\t\t\tname='showCounter'\n\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t<NotificationToggle\n\t\t\t\t\t\tlabel={t('Show_counter')}\n\t\t\t\t\t\tdescription={t('Display_unread_counter')}\n\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\tdefaultChecked={value}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t/>\n\t\t\t{!showCounter && (\n\t\t\t\t<Controller\n\t\t\t\t\tcontrol={control}\n\t\t\t\t\tname='showMentions'\n\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t<NotificationToggle\n\t\t\t\t\t\t\tlabel={t('Show_mentions')}\n\t\t\t\t\t\t\tdescription={t('Display_mentions_counter')}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tdefaultChecked={value}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<FieldGroup>\n\t\t\t\t<NotificationByDevice device={t('Desktop')} icon='desktop'>\n\t\t\t\t\t<Controller\n\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\tname='desktopAlert'\n\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t<NotificationPreference\n\t\t\t\t\t\t\t\tid='DesktopAlert'\n\t\t\t\t\t\t\t\tname={t('Alerts')}\n\t\t\t\t\t\t\t\toptions={notificationOptions.alerts}\n\t\t\t\t\t\t\t\toptionValue={value}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Margins blockStart={16}>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\tname='desktopSound'\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<NotificationPreference\n\t\t\t\t\t\t\t\t\tid='DesktopSound'\n\t\t\t\t\t\t\t\t\tname={t('Sound')}\n\t\t\t\t\t\t\t\t\toptions={notificationOptions.sounds}\n\t\t\t\t\t\t\t\t\toptionValue={value}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<IconButton icon='play' mis={4} onClick={handlePlaySound} />\n\t\t\t\t\t\t\t\t</NotificationPreference>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Margins>\n\t\t\t\t</NotificationByDevice>\n\t\t\t\t<NotificationByDevice device={t('Mobile')} icon='mobile'>\n\t\t\t\t\t<Controller\n\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\tname='mobileAlert'\n\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t<NotificationPreference\n\t\t\t\t\t\t\t\tid='MobileAlert'\n\t\t\t\t\t\t\t\tname={t('Alerts')}\n\t\t\t\t\t\t\t\toptions={notificationOptions.alerts}\n\t\t\t\t\t\t\t\toptionValue={value}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</NotificationByDevice>\n\t\t\t\t<NotificationByDevice device={t('Email')} icon='mail'>\n\t\t\t\t\t<Controller\n\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\tname='emailAlert'\n\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t<NotificationPreference\n\t\t\t\t\t\t\t\tid='EmailAlert'\n\t\t\t\t\t\t\t\tname={t('Alerts')}\n\t\t\t\t\t\t\t\toptions={notificationOptions.alerts}\n\t\t\t\t\t\t\t\toptionValue={value}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</NotificationByDevice>\n\t\t\t</FieldGroup>\n\t\t</>\n\t);\n};\n\nexport default NotificationPreferencesForm;\n",null],"names":["FieldGroup","IconButton","Margins","useTranslation","React","useFormContext","Controller","NotificationByDevice","NotificationPreference","NotificationToggle","module","link","v","exportDefault","_ref","notificationOptions","handlePlaySound","t","_useFormContext","watch","control","showCounter","_watch","createElement","Fragment","name","render","_ref2","_ref2$field","field","value","onChange","label","description","defaultChecked","_ref3","_ref3$field","_ref4","_ref4$field","_ref5","_ref5$field","device","icon","_ref6","_ref6$field","id","options","alerts","optionValue","blockStart","_ref7","_ref7$field","sounds","mis","onClick","_ref8","_ref8$field","_ref9","_ref9$field"],"mappings":"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"}