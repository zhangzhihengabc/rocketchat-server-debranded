)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/PruneMessages/PruneMessages.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Field, FieldLabel, FieldRow, ButtonGroup, Button, CheckBox, Callout } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { useFormContext, Controller } from 'react-hook-form';\n\nimport {\n\tContextualbarHeader,\n\tContextualbarIcon,\n\tContextualbarTitle,\n\tContextualbarScrollableContent,\n\tContextualbarFooter,\n\tContextualbarClose,\n} from '../../../../components/Contextualbar';\nimport UserAutoCompleteMultiple from '../../../../components/UserAutoCompleteMultiple';\nimport PruneMessagesDateTimeRow from './PruneMessagesDateTimeRow';\n\ntype PruneMessagesProps = {\n\tcallOutText?: string;\n\tvalidateText?: string;\n\tusers: string[];\n\tonClickClose: () => void;\n\tonClickPrune: () => void;\n};\n\nconst PruneMessages = ({ callOutText, validateText, onClickClose, onClickPrune }: PruneMessagesProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst { control, register } = useFormContext();\n\n\tconst inclusiveCheckboxId = useUniqueId();\n\tconst pinnedCheckboxId = useUniqueId();\n\tconst discussionCheckboxId = useUniqueId();\n\tconst threadsCheckboxId = useUniqueId();\n\tconst attachedCheckboxId = useUniqueId();\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarIcon name='eraser' />\n\t\t\t\t<ContextualbarTitle>{t('Prune_Messages')}</ContextualbarTitle>\n\t\t\t\t{onClickClose && <ContextualbarClose onClick={onClickClose} />}\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<PruneMessagesDateTimeRow label={t('Newer_than')} field='newer' />\n\t\t\t\t<PruneMessagesDateTimeRow label={t('Older_than')} field='older' />\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel flexGrow={0}>{t('Only_from_users')}</FieldLabel>\n\t\t\t\t\t<Controller\n\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\tname='users'\n\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\n\t\t\t\t\t\t\t<UserAutoCompleteMultiple value={value} onChange={onChange} placeholder={t('Please_enter_usernames')} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<CheckBox id={inclusiveCheckboxId} {...register('inclusive')} />\n\t\t\t\t\t\t<FieldLabel htmlFor={inclusiveCheckboxId}>{t('Inclusive')}</FieldLabel>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<CheckBox id={pinnedCheckboxId} {...register('pinned')} />\n\t\t\t\t\t\t<FieldLabel htmlFor={pinnedCheckboxId}>{t('RetentionPolicy_DoNotPrunePinned')}</FieldLabel>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<CheckBox id={discussionCheckboxId} {...register('discussion')} />\n\t\t\t\t\t\t<FieldLabel htmlFor={discussionCheckboxId}>{t('RetentionPolicy_DoNotPruneDiscussion')}</FieldLabel>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<CheckBox id={threadsCheckboxId} {...register('threads')} />\n\t\t\t\t\t\t<FieldLabel htmlFor={threadsCheckboxId}>{t('RetentionPolicy_DoNotPruneThreads')}</FieldLabel>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<CheckBox id={attachedCheckboxId} {...register('attached')} />\n\t\t\t\t\t\t<FieldLabel htmlFor={attachedCheckboxId}>{t('Files_only')}</FieldLabel>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t{callOutText && !validateText && <Callout type='warning'>{callOutText}</Callout>}\n\t\t\t\t{validateText && <Callout type='warning'>{validateText}</Callout>}\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button danger disabled={Boolean(validateText)} onClick={onClickPrune}>\n\t\t\t\t\t\t{t('Prune')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default PruneMessages;\n",null],"names":["_extends","Field","FieldLabel","FieldRow","ButtonGroup","Button","CheckBox","Callout","useUniqueId","useTranslation","React","useFormContext","Controller","ContextualbarHeader","ContextualbarIcon","ContextualbarTitle","ContextualbarScrollableContent","ContextualbarFooter","ContextualbarClose","UserAutoCompleteMultiple","PruneMessagesDateTimeRow","module","link","default","v","exportDefault","_ref","callOutText","validateText","onClickClose","onClickPrune","t","_useFormContext","control","register","inclusiveCheckboxId","pinnedCheckboxId","discussionCheckboxId","threadsCheckboxId","attachedCheckboxId","createElement","Fragment","name","onClick","label","field","flexGrow","render","_ref2","_ref2$field","onChange","value","placeholder","id","htmlFor","type","stretch","danger","disabled","Boolean"],"mappings":"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"}