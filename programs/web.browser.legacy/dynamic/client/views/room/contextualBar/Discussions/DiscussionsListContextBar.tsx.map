)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/Discussions/DiscussionsListContextBar.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IDiscussionMessage } from '@rocket.chat/core-typings';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { useUserId } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback, useMemo, useState } from 'react';\n\nimport { useRecordList } from '../../../../hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../../../../hooks/useAsyncState';\nimport { useRoom } from '../../contexts/RoomContext';\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\nimport DiscussionsList from './DiscussionsList';\nimport { useDiscussionsList } from './useDiscussionsList';\n\nconst DiscussionListContextBar = (): ReactElement | null => {\n\tconst userId = useUserId();\n\tconst room = useRoom();\n\tconst { closeTab } = useRoomToolbox();\n\n\tconst [text, setText] = useState('');\n\tconst debouncedText = useDebouncedValue(text, 400);\n\n\tconst options = useMemo(\n\t\t() => ({\n\t\t\trid: room._id,\n\t\t\ttext: debouncedText,\n\t\t}),\n\t\t[room._id, debouncedText],\n\t);\n\n\tconst { discussionsList, loadMoreItems } = useDiscussionsList(options, userId);\n\tconst { phase, error, items: discussions, itemCount: totalItemCount } = useRecordList<IDiscussionMessage>(discussionsList);\n\n\tconst handleTextChange = useCallback((e) => {\n\t\tsetText(e.currentTarget.value);\n\t}, []);\n\n\tif (!userId) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<DiscussionsList\n\t\t\tonClose={closeTab}\n\t\t\tuserId={userId}\n\t\t\terror={error}\n\t\t\tdiscussions={discussions}\n\t\t\ttotal={totalItemCount}\n\t\t\tloading={phase === AsyncStatePhase.LOADING}\n\t\t\tloadMoreItems={loadMoreItems}\n\t\t\ttext={text}\n\t\t\tonChangeFilter={handleTextChange}\n\t\t/>\n\t);\n};\n\nexport default DiscussionListContextBar;\n",null],"names":["_slicedToArray","useDebouncedValue","useUserId","React","useCallback","useMemo","useState","useRecordList","AsyncStatePhase","useRoom","useRoomToolbox","DiscussionsList","useDiscussionsList","module","link","default","v","exportDefault","userId","room","closeTab","_useRoomToolbox","_useState2","text","setText","debouncedText","_useDiscussionsList","rid","_id","discussionsList","loadMoreItems","_useRecordList","phase","error","discussions","items","totalItemCount","itemCount","handleTextChange","e","currentTarget","value","createElement","onClose","total","loading","LOADING","onChangeFilter"],"mappings":"uBAaA,IAZAA,EAAAC,EAAgEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvDC,EAAiBC,IAAE,CAAA,uCAAoC,CAAAC,QAAAA,SAAAA,CAAAA,EAAAf,EAAAA,CAAA,CAAA,EAAA,GAAvDa,EAAmBC,IAAA,CAAM,8BAA8B,CAAAb,kBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAY,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAX,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAW,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAb,EAAAA,CAAA,EAAAC,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,wCAAAA,CAAAN,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,kCAAAA,CAAAL,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAJ,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,oCAAAA,CAAAH,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,oBAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,uBAAAA,CAAAD,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAhEC,EAAOI,aAAE,CAYwB,WAChC,IAAMC,EAAShB,IACTiB,EAAOV,IACLW,EAAQC,AAAKX,IAAbU,QAAQ,CAEoBE,EAAAtB,EAAZM,EAAS,IAAG,GAA7BiB,EAAID,CAAA,CAAA,EAAA,CAAEE,EAAOF,CAAA,CAAA,EAAA,CACdG,EAAgBxB,EAAkBsB,EAAM,KAU9CG,EAA2Cd,EAR3BP,EACf,WAAA,MAAO,CACNsB,IAAKR,EAAKS,GAAG,CACbL,KAAME,EACN,EACD,CAACN,EAAKS,GAAG,CAAEH,EAAc,EAG6CP,GAA/DW,EAAeH,EAAfG,eAAe,CAAEC,EAAaJ,EAAbI,aAAa,CACtCC,EAAwExB,EAAkCsB,GAAlGG,EAAKD,EAALC,KAAK,CAAEC,EAAKF,EAALE,KAAK,CAASC,EAAWH,EAAlBI,KAAK,CAA0BC,EAAcL,EAAzBM,SAAS,CAE7CC,EAAmBlC,EAAY,SAACmC,CAAC,EACtCf,EAAQe,EAAEC,aAAa,CAACC,KAAK,CAC9B,EAAG,EAAE,SAEL,AAAKvB,EAKJf,EAAAuC,aAAA,CAAC/B,EAAe,CACfgC,QAASvB,EACTF,OAAQA,EACRe,MAAOA,EACPC,YAAaA,EACbU,MAAOR,EACPS,QAASb,IAAUxB,EAAgBsC,OAAQ,CAC3ChB,cAAeA,EACfP,KAAMA,EACNwB,eAAgBT,CAAiB,GAb3B,IAgBT"}