)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/UserInfo/UserInfoWithData.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IUser, IRoom } from '@rocket.chat/core-typings';\nimport { Callout } from '@rocket.chat/fuselage';\nimport { useRolesDescription, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\n\nimport { getUserEmailAddress } from '../../../../../lib/getUserEmailAddress';\nimport {\n\tContextualbarHeader,\n\tContextualbarBack,\n\tContextualbarIcon,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarContent,\n} from '../../../../components/Contextualbar';\nimport { FormSkeleton } from '../../../../components/Skeleton';\nimport UserCard from '../../../../components/UserCard';\nimport UserInfo from '../../../../components/UserInfo';\nimport { ReactiveUserStatus } from '../../../../components/UserStatus';\nimport { AsyncStatePhase } from '../../../../hooks/useAsyncState';\nimport { useEndpointData } from '../../../../hooks/useEndpointData';\nimport { getUserEmailVerified } from '../../../../lib/utils/getUserEmailVerified';\nimport UserInfoActions from './UserInfoActions';\n\ntype UserInfoWithDataProps = {\n\tuid: IUser['_id'];\n\tusername?: IUser['username'];\n\trid: IRoom['_id'];\n\tonClose: () => void;\n\tonClickBack: () => void;\n};\n\nconst UserInfoWithData = ({ uid, username, rid, onClose, onClickBack }: UserInfoWithDataProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst getRoles = useRolesDescription();\n\n\tconst {\n\t\tvalue: data,\n\t\tphase: state,\n\t\terror,\n\t} = useEndpointData('/v1/users.info', { params: useMemo(() => ({ userId: uid, username }), [uid, username]) });\n\n\tconst isLoading = state === AsyncStatePhase.LOADING;\n\n\tconst user = useMemo(() => {\n\t\tif (!data?.user) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst {\n\t\t\t_id,\n\t\t\tname,\n\t\t\tusername,\n\t\t\troles = [],\n\t\t\tstatusText,\n\t\t\tbio,\n\t\t\tutcOffset,\n\t\t\tlastLogin,\n\t\t\tcustomFields,\n\t\t\tphone,\n\t\t\tnickname,\n\t\t\tcreatedAt,\n\t\t\tcanViewAllInfo,\n\t\t} = data.user;\n\n\t\treturn {\n\t\t\t_id,\n\t\t\tname,\n\t\t\tusername,\n\t\t\tlastLogin,\n\t\t\troles: roles && getRoles(roles).map((role, index) => <UserCard.Role key={index}>{role}</UserCard.Role>),\n\t\t\tbio,\n\t\t\tcanViewAllInfo,\n\t\t\tphone,\n\t\t\tcustomFields,\n\t\t\tverified: getUserEmailVerified(data.user),\n\t\t\temail: getUserEmailAddress(data.user),\n\t\t\tutcOffset,\n\t\t\tcreatedAt,\n\t\t\tstatus: <ReactiveUserStatus uid={_id} />,\n\t\t\tstatusText,\n\t\t\tnickname,\n\t\t};\n\t}, [data, getRoles]);\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t{onClickBack && <ContextualbarBack onClick={onClickBack} />}\n\t\t\t\t{!onClickBack && <ContextualbarIcon name='user' />}\n\t\t\t\t<ContextualbarTitle>{t('User_Info')}</ContextualbarTitle>\n\t\t\t\t{onClose && <ContextualbarClose onClick={onClose} />}\n\t\t\t</ContextualbarHeader>\n\n\t\t\t{isLoading && (\n\t\t\t\t<ContextualbarContent>\n\t\t\t\t\t<FormSkeleton />\n\t\t\t\t</ContextualbarContent>\n\t\t\t)}\n\n\t\t\t{error && !user && (\n\t\t\t\t<ContextualbarContent pb={16}>\n\t\t\t\t\t<Callout type='danger'>{t('User_not_found')}</Callout>\n\t\t\t\t</ContextualbarContent>\n\t\t\t)}\n\n\t\t\t{!isLoading && user && <UserInfo {...user} actions={<UserInfoActions user={user} rid={rid} backToList={onClickBack} />} />}\n\t\t</>\n\t);\n};\n\nexport default UserInfoWithData;\n",null],"names":["_extends","Callout","useRolesDescription","useTranslation","React","useMemo","getUserEmailAddress","ContextualbarHeader","ContextualbarBack","ContextualbarIcon","ContextualbarTitle","ContextualbarClose","ContextualbarContent","FormSkeleton","UserCard","UserInfo","ReactiveUserStatus","AsyncStatePhase","useEndpointData","getUserEmailVerified","UserInfoActions","module","link","default","v","exportDefault","_ref","uid","username","rid","onClose","onClickBack","t","getRoles","_useEndpointData","params","userId","data","value","state","phase","error","isLoading","LOADING","user","_data$user","_id","name","_data$user$roles","roles","statusText","bio","utcOffset","lastLogin","customFields","phone","nickname","createdAt","canViewAllInfo","map","role","index","createElement","Role","key","verified","email","status","Fragment","onClick","pb","type","actions","backToList"],"mappings":"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"}