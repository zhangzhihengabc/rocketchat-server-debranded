function module(e,i,n){var u,t,d,o,r,a,c=["_id"],l=["type"];n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){u=e}},0),n.export({useRoomRolesManagement:function(){return s}}),n.link("@rocket.chat/ui-contexts",{useMethod:function(e){t=e},useStream:function(e){d=e}},0),n.link("react",{useEffect:function(e){o=e}},1),n.link("../../../../../app/models/client",{RoomRoles:function(e){r=e},ChatMessage:function(e){a=e}},2);var s=function(e){var i=t("getRoomRoles");o(function(){i(e).then(function(e){Array.from(e).forEach(function(e){e._id;var i=u(e,c),n=i.rid,t=i.u._id;r.upsert({rid:n,"u._id":t},{$set:i})})})},[i,e]),o(function(){var i=r.find({rid:e}).observe({added:function(i){var n;null!==(n=i.u)&&void 0!==n&&n._id&&a.update({rid:e,"u._id":i.u._id},{$addToSet:{roles:i._id}},{multi:!0})},changed:function(i){var n;null!==(n=i.u)&&void 0!==n&&n._id&&a.update({rid:e,"u._id":i.u._id},{$inc:{rerender:1}},{multi:!0})},removed:function(i){var n;null!==(n=i.u)&&void 0!==n&&n._id&&a.update({rid:e,"u._id":i.u._id},{$pull:{roles:i._id}},{multi:!0})}});return function(){i.stop()}},[i,e]);var n=d("notify-logged");o(function(){return n("roles-change",function(e){var i,n=e.type,t=u(e,l);if(t.scope&&null!==(i=t.u)&&void 0!==i&&i._id)switch(n){case"added":r.upsert({rid:t.scope,"u._id":t.u._id},{$setOnInsert:{u:t.u},$addToSet:{roles:t._id}});break;case"removed":r.update({rid:t.scope,"u._id":t.u._id},{$pull:{roles:t._id}})}})},[n]),o(function(){return n("Users:NameChanged",function(e){var i=e._id,n=e.name;r.update({"u._id":i},{$set:{"u.name":n}},{multi:!0})})},[n])}}
//# sourceMappingURL=/dynamic/client/views/room/body/hooks/7edc61660512f90440e85ad7960d9770f3d6b50c.map
