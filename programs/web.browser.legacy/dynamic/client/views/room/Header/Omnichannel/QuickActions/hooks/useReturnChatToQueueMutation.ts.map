)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/Header/Omnichannel/QuickActions/hooks/useReturnChatToQueueMutation.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { useMethod } from '@rocket.chat/ui-contexts';\nimport type { UseMutationOptions, UseMutationResult } from '@tanstack/react-query';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\n\nexport const useReturnChatToQueueMutation = (\n\toptions?: Omit<UseMutationOptions<void, Error, IRoom['_id']>, 'mutationFn'>,\n): UseMutationResult<void, Error, IRoom['_id']> => {\n\tconst returnChatToQueue = useMethod('livechat:returnAsInquiry');\n\n\tconst queryClient = useQueryClient();\n\n\treturn useMutation(\n\t\tasync (rid) => {\n\t\t\tawait returnChatToQueue(rid);\n\t\t},\n\t\t{\n\t\t\t...options,\n\t\t\tonSuccess: async (data, rid, context) => {\n\t\t\t\tawait queryClient.invalidateQueries(['current-chats']);\n\t\t\t\tqueryClient.removeQueries(['rooms', rid]);\n\t\t\t\tqueryClient.removeQueries(['subscriptions', { rid }]);\n\t\t\t\treturn options?.onSuccess?.(data, rid, context);\n\t\t\t},\n\t\t},\n\t);\n};\n",null],"names":["module","link","default","_objectSpread","_regeneratorRuntime","export","useReturnChatToQueueMutation","useMethod","useMutation","useQueryClient","options","returnChatToQueue","queryClient","rid","async","_context","prev","next","awrap","stop","Promise","onSuccess","data","context","_options$onSuccess","_context2","invalidateQueries","removeQueries","abrupt","call"],"mappings":"uBACkBA,EAAEC,IAAM,CAAA,uCAA2B,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAAH,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAE,QAAAA,SAAAA,CAAAA,EAAAE,EAAAA,CAAA,CAAA,EAAA,GAArDJ,EAAOK,MAAE,CAAA,CAAAC,6BAAiB,WAA2B,OAAAA,CAAA,CAAA,GAAAN,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAO,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAP,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAQ,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAI9C,IAJPN,EAAqDC,EAAAG,EAAAC,EAAAC,EAIxCH,EAA+B,SAC3CI,CAA2E,EAE3E,IAAMC,EAAoBJ,EAAU,4BAE9BK,EAAcH,IAEpB,OAAOD,EACN,SAAOK,CAAG,EAAA,OAAAT,EAAAU,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAE,IAAA,CAAA,EAAAb,EAAAc,KAAA,CACHP,EAAkBE,GAAI,MAAA,EAAA,IAAA,MAAA,OAAAE,EAAAI,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAC5BjB,EAAAA,EAAA,CAAA,EAEGO,GAAO,CAAA,EAAA,CACVW,UAAW,SAAOC,CAAI,CAAET,CAAG,CAAEU,CAAO,EAAA,IAAAC,EAAA,OAAApB,EAAAU,KAAA,CAAA,SAAAW,CAAA,EAAA,OAAA,OAAAA,EAAAT,IAAA,CAAAS,EAAAR,IAAA,EAAA,KAAA,EAAA,OAAAQ,EAAAR,IAAA,CAAA,EAAAb,EAAAc,KAAA,CAC7BN,EAAYc,iBAAiB,CAAC,CAAC,gBAAgB,EAAC,MAAA,EAEA,OADtDd,EAAYe,aAAa,CAAC,CAAC,QAASd,EAAI,EACxCD,EAAYe,aAAa,CAAC,CAAC,gBAAiB,CAAEd,IAAAA,CAAG,EAAG,EAAEY,EAAAG,MAAA,CAAA,SAC/ClB,MAAAA,EAAO,KAAA,EAAA,AAAW,OAAXc,CAAAA,EAAPd,EAASW,SAAS,AAATA,GAASG,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAlBA,EAAAK,IAAA,CAAAnB,EAAqBY,EAAMT,EAAKU,GAAQ,MAAA,EAAA,IAAA,MAAA,OAAAE,EAAAN,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,CAC/C,GAGJ"}