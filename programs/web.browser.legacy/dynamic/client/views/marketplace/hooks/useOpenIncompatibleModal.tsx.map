)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/marketplace/hooks/useOpenIncompatibleModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useSetModal } from '@rocket.chat/ui-contexts';\nimport React, { useCallback } from 'react';\n\nimport { AppClientOrchestratorInstance } from '../../../../ee/client/apps/orchestrator';\nimport IframeModal from '../IframeModal';\nimport { handleAPIError } from '../helpers/handleAPIError';\n\nexport const useOpenIncompatibleModal = () => {\n\tconst setModal = useSetModal();\n\n\treturn useCallback(\n\t\tasync (app, actionName, cancelAction) => {\n\t\t\tconst handleCancel = () => {\n\t\t\t\tsetModal(null);\n\t\t\t\tcancelAction();\n\t\t\t};\n\n\t\t\tconst handleConfirm = () => {\n\t\t\t\tsetModal(null);\n\t\t\t\tcancelAction();\n\t\t\t};\n\n\t\t\ttry {\n\t\t\t\tconst incompatibleData = await AppClientOrchestratorInstance.buildIncompatibleExternalUrl(\n\t\t\t\t\tapp.id,\n\t\t\t\t\tapp.marketplaceVersion,\n\t\t\t\t\tactionName,\n\t\t\t\t);\n\t\t\t\tsetModal(<IframeModal url={incompatibleData.url} cancel={handleCancel} confirm={handleConfirm} />);\n\t\t\t} catch (e) {\n\t\t\t\thandleAPIError(e);\n\t\t\t}\n\t\t},\n\t\t[setModal],\n\t);\n};\n",null],"names":["module","link","default","_regeneratorRuntime","export","useOpenIncompatibleModal","useSetModal","v","React","useCallback","AppClientOrchestratorInstance","IframeModal","handleAPIError","setModal","app","actionName","cancelAction","handleCancel","handleConfirm","incompatibleData","async","_context","prev","next","awrap","buildIncompatibleExternalUrl","id","marketplaceVersion","sent","createElement","url","cancel","confirm","t0","stop","Promise"],"mappings":"uBAAsBA,EAAMC,IAAA,CAAA,6BAA2B,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAvDH,EAAOI,MAAE,CAAA,CAAAC,yBAAmB,WAAA,OAA2BA,CAAA,CAAA,GAAAL,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAM,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAO,CAAA,EAAAC,EAAAA,CAAA,EAAAC,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAT,EAAAA,IAAAA,CAAAA,0CAAAA,CAAAU,8BAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAV,EAAAA,IAAAA,CAAAA,iBAAAA,CAAA,QAAA,SAAAO,CAAA,EAAAI,EAAAA,CAAA,CAAA,EAAA,GAAAX,EAAAA,IAAAA,CAAAA,4BAAAA,CAAAY,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAOhD,IAPPT,EAAuDG,EAAAE,EAAAC,EAAAC,EAAAC,EAAAC,EAO1CP,EAA2B,WACvC,IAAMQ,EAAWP,IAEjB,OAAOG,EACN,SAAOK,CAAG,CAAEC,CAAU,CAAEC,CAAY,EAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAhB,EAAAiB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EASlC,OARKN,EAAe,WACpBJ,EAAS,MACTG,GACD,EAEME,EAAgB,WACrBL,EAAS,MACTG,GACD,EAACK,EAAAC,IAAA,CAAA,EAAAD,EAAAE,IAAA,CAAA,EAAApB,EAAAqB,KAAA,CAG+Bd,EAA8Be,4BAA4B,CACxFX,EAAIY,EAAE,CACNZ,EAAIa,kBAAkB,CACtBZ,GACA,MAAA,EAJKI,EAAgBE,EAAAO,IAAA,CAKtBf,EAASL,EAAAqB,aAAA,CAAClB,EAAW,CAACmB,IAAKX,EAAiBW,GAAI,CAACC,OAAQd,EAAce,QAASd,CAAc,IAAKG,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,EAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAY,EAAA,CAAAZ,EAAA,KAAA,CAAA,GAEnGT,EAAcS,EAAAY,EAAA,CAAI,MAAA,GAAA,IAAA,MAAA,OAAAZ,EAAAa,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAAC,QAAA,EAGpB,CAACtB,EAAS,CAEZ"}