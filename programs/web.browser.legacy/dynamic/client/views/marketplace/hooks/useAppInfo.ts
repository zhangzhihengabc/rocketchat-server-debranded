function module(n,e,t){t.link("@babel/runtime/helpers/objectSpread2",{default:function(n){r=n}},0),t.link("@babel/runtime/helpers/slicedToArray",{default:function(n){u=n}},1),t.link("@babel/runtime/regenerator",{default:function(n){i=n}},2),t.export({useAppInfo:function(){return f}}),t.link("@rocket.chat/ui-contexts",{useEndpoint:function(n){s=n}},0),t.link("react",{useState:function(n){a=n},useEffect:function(n){l=n},useContext:function(n){p=n}},1),t.link("../../../../ee/client/apps/orchestrator",{AppClientOrchestratorInstance:function(n){c=n}},2),t.link("../../../contexts/AppsContext",{AppsContext:function(n){o=n}},3);var r,u,i,s,a,l,p,c,o,d=function(n){var e,t;return i.async(function(r){for(;;)switch(r.prev=r.next){case 0:return t=void 0===(e=n.bundledIn)?[]:e,r.abrupt("return",Promise.all(t.map(function n(n){var e;return i.async(function t(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.awrap(c.getAppsOnBundle(n.bundleId));case 2:return e=t.sent,n.apps=e.slice(0,4),t.abrupt("return",n);case 5:case"end":return t.stop()}},null,null,null,Promise)})));case 2:case"end":return r.stop()}},null,null,null,Promise)},f=function(n,e){var t,c=p(o),f=c.installedApps,v=c.marketplaceApps,h=c.privateApps,k=u(a(),2),b=k[0],m=k[1],x=s("GET","/apps/:id/settings",{id:n}),g=s("GET","/apps/:id/screenshots",{id:n}),A=s("GET","/apps/:id/apis",{id:n}),y=s("GET","/apps/:id",{id:n});return l(function(){var t,s,a,l,p,c,o,k,b,E,w,I,P;i.async(function(T){for(;;)switch(T.prev=T.next){case 0:if(!(!(null!==(t=v.value)&&void 0!==t&&null!==(s=t.apps)&&void 0!==s&&s.length)&&!(null!==(a=f.value)&&void 0!==a&&a.apps.length)&&!(null!==(l=h.value)&&void 0!==l&&l.apps.length)||!n)){T.next=2;break}return T.abrupt("return");case 2:if(["explore","premium","requested"].includes(e)&&(k=null===(p=v.value)||void 0===p?void 0:p.apps.find(function(e){return e.id===n})),"private"===e&&(k=null===(c=h.value)||void 0===c?void 0:c.apps.find(function(e){return e.id===n})),"installed"===e&&(k=null===(o=f.value)||void 0===o?void 0:o.apps.find(function(e){return e.id===n})),k){T.next=8;break}return T.abrupt("return");case 8:return T.next=10,i.awrap(Promise.all([x().catch(function(){return{settings:{}}}),A().catch(function(){return{apis:[]}}),g().catch(function(){return{screenshots:[]}}),!1===k.marketplace?[]:y({marketplace:"true",update:"true",appVersion:n}).then(function(n){var e=n.app;return k.tosLink=e.tosLink,k.privacyLink=e.privacyLink,d(e)}).catch(function(){return{settings:{}}})]));case 10:E=(b=u(T.sent,4))[0],w=b[1],I=b[2],P=b[3],m(r(r({},k),{},{bundledIn:P,settings:E.settings,apis:w?w.apis:[],screenshots:I?I.screenshots:[]}));case 17:case"end":return T.stop()}},null,null,null,Promise)},[n,e,A,y,g,x,f,v,null===(t=h.value)||void 0===t?void 0:t.apps]),b}}
//# sourceMappingURL=/dynamic/client/views/marketplace/hooks/6230d78c48ba56713dfc34af1cb0191895a1fa73.map
