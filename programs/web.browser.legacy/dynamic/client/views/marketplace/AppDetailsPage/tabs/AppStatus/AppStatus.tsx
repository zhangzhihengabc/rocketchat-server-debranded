function module(e,n,t){var i,l,a,s,r,o,u,c,p,d,f,m,k,b,v,h,x,y,g,E,P,q,S,A,T,D,w=["app","showStatus","isAppDetailsPage","installed"];t.link("@babel/runtime/regenerator",{default:function(e){i=e}},0),t.link("@babel/runtime/helpers/extends",{default:function(e){l=e}},1),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},2),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){s=e}},3),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){r=e}},4),t.link("@rocket.chat/fuselage",{Box:function(e){o=e},Button:function(e){u=e},Throbber:function(e){c=e},Tag:function(e){p=e},Margins:function(e){d=e}},0),t.link("@rocket.chat/fuselage-hooks",{useSafely:function(e){f=e}},1),t.link("@rocket.chat/ui-contexts",{useRouteParameter:function(e){m=e},usePermission:function(e){k=e},useSetModal:function(e){b=e},useTranslation:function(e){v=e}},2),t.link("react",{default:function(e){h=e},useCallback:function(e){x=e},useState:function(e){y=e},memo:function(e){g=e}},3),t.link("semver",{default:function(e){E=e}},4),t.link("../../../../../hooks/useIsEnterprise",{useIsEnterprise:function(e){P=e}},5),t.link("../../../helpers",{appButtonProps:function(e){q=e},appMultiStatusProps:function(e){S=e}},6),t.link("../../../helpers/marketplaceActions",{marketplaceActions:function(e){A=e}},7),t.link("../../../hooks/useAppInstallationHandler",{useAppInstallationHandler:function(e){T=e}},8),t.link("./AppStatusPriceDisplay",{default:function(e){D=e}},9),t.exportDefault(g(function(e){var n,t,g,I=e.app,R=e.showStatus,C=e.isAppDetailsPage,U=e.installed,j=r(e,w),B=v(),M=s(y(!1),2),H=M[0],V=M[1],G=s(f(y(!1)),2),O=G[0],W=G[1],_=s(f(y(!!(null!=I&&I.isPurchased))),2),z=_[0],F=_[1],J=b(),K=k("manage-apps"),L=m("context"),N=I.price,Q=I.purchaseType,X=I.pricingPlans,Y=q(a(a({},I),{},{isAdminUser:K,endUserRequested:H})),Z="requested"===L,$=C&&Y&&!I.isEnterpriseOnly,ee=U&&(null==I?void 0:I.version)&&(null==I?void 0:I.marketplaceVersion)&&E.lt(null==I?void 0:I.version,null==I?void 0:I.marketplaceVersion),en=P().data,et=S(I,C,L||"",null!==(n=null==en?void 0:en.isEnterprise)&&void 0!==n&&n),ei=null==I?void 0:null===(t=I.appRequestStats)||void 0===t?void 0:t.totalSeen,el=null==I?void 0:null===(g=I.appRequestStats)||void 0===g?void 0:g.totalUnseen,ea=null==Y?void 0:Y.action,es=x(function(e,n){return i.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(!("request"!==e)){t.next=6;break}return F(!0),t.next=4,i.awrap(A[e](a(a({},I),{},{permissionsGranted:n})));case 4:t.next=7;break;case 6:V(!0);case 7:W(!1);case 8:case"end":return t.stop()}},null,null,null,Promise)},[I,W,F]),er=T({app:I,action:ea||"purchase",isAppPurchased:z,onDismiss:x(function(){W(!1),J(null)},[W,J]),onSuccess:es}),eo=x(function(){W(!0),er()},[er,W]),eu=function(e){if(("request"===e.label||"requests"===e.label)&&!U&&Z){var n=0;return el>=0&&(n+=el),ei>=0&&(n+=ei),n}return null};return h.createElement(o,l({},j,{display:"flex",alignItems:"center",mie:8}),Y&&C&&(!U||ee)&&h.createElement(o,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:"x4",invisible:!(void 0===R||R)&&!O},h.createElement(u,{icon:!O&&Y.icon?Y.icon:void 0,primary:!0,small:!0,disabled:O||"request"===ea&&((null==I?void 0:I.requestedEndUser)||H),onClick:eo,mie:8},O&&h.createElement(c,{inheritColor:!0}),!O&&B(Y.label.replace(" ","_"))),$&&!U&&h.createElement(D,{purchaseType:Q,pricingPlans:X,price:N,showType:!1})),null==et?void 0:et.map(function(e,n){return h.createElement(d,{inlineEnd:8,key:n},h.createElement(p,{variant:Z&&el&&("request"===e.label||"requests"===e.label)?"primary":Z&&"Requested"===e.label?void 0:e.label.includes("Disabled")?"secondary-danger":void 0,title:e.tooltipText?e.tooltipText:""},eu(e)," ",B(""+e.label)))}))}))}
//# sourceMappingURL=/dynamic/client/views/marketplace/AppDetailsPage/tabs/AppStatus/c2f953de0ae23705f3cc9a94bdceb3a093ac70a2.map
