)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/marketplace/AppsPage/AppsPageContent.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useDebouncedState } from '@rocket.chat/fuselage-hooks';\nimport { useRouteParameter, useRouter, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useEffect, useMemo, useState, useCallback } from 'react';\n\nimport { usePagination } from '../../../components/GenericTable/hooks/usePagination';\nimport { useAppsResult } from '../../../contexts/hooks/useAppsResult';\nimport { AsyncStatePhase } from '../../../lib/asyncState';\nimport type { RadioDropDownGroup } from '../definitions/RadioDropDownDefinitions';\nimport { useCategories } from '../hooks/useCategories';\nimport type { appsDataType } from '../hooks/useFilteredApps';\nimport { useFilteredApps } from '../hooks/useFilteredApps';\nimport { useRadioToggle } from '../hooks/useRadioToggle';\nimport AppsFilters from './AppsFilters';\nimport AppsPageConnectionError from './AppsPageConnectionError';\nimport AppsPageContentBody from './AppsPageContentBody';\nimport AppsPageContentSkeleton from './AppsPageContentSkeleton';\nimport NoAppRequestsEmptyState from './NoAppRequestsEmptyState';\nimport NoInstalledAppMatchesEmptyState from './NoInstalledAppMatchesEmptyState';\nimport NoInstalledAppsEmptyState from './NoInstalledAppsEmptyState';\nimport NoMarketplaceOrInstalledAppMatchesEmptyState from './NoMarketplaceOrInstalledAppMatchesEmptyState';\nimport PrivateEmptyState from './PrivateEmptyState';\n\nconst AppsPageContent = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst { marketplaceApps, installedApps, privateApps, reload } = useAppsResult();\n\tconst [text, setText] = useDebouncedState('', 500);\n\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = usePagination();\n\n\tconst router = useRouter();\n\n\tconst context = useRouteParameter('context');\n\n\tconst isMarketplace = context === 'explore';\n\tconst isPremium = context === 'premium';\n\tconst isRequested = context === 'requested';\n\n\tconst [freePaidFilterStructure, setFreePaidFilterStructure] = useState({\n\t\tlabel: t('Filter_By_Price'),\n\t\titems: [\n\t\t\t{ id: 'all', label: t('All_Prices'), checked: true },\n\t\t\t{ id: 'free', label: t('Free_Apps'), checked: false },\n\t\t\t{ id: 'paid', label: t('Paid_Apps'), checked: false },\n\t\t\t{ id: 'premium', label: t('Premium'), checked: false },\n\t\t],\n\t});\n\tconst freePaidFilterOnSelected = useRadioToggle(setFreePaidFilterStructure);\n\n\tconst [statusFilterStructure, setStatusFilterStructure] = useState({\n\t\tlabel: t('Filter_By_Status'),\n\t\titems: [\n\t\t\t{ id: 'all', label: t('All_status'), checked: true },\n\t\t\t{ id: 'enabled', label: t('Enabled'), checked: false },\n\t\t\t{ id: 'disabled', label: t('Disabled'), checked: false },\n\t\t],\n\t});\n\tconst statusFilterOnSelected = useRadioToggle(setStatusFilterStructure);\n\n\tconst baseFilterStructureItems = [\n\t\t{ id: 'az', label: 'A-Z', checked: false },\n\t\t{ id: 'za', label: 'Z-A', checked: false },\n\t\t{ id: 'mru', label: t('Most_recent_updated'), checked: true },\n\t\t{ id: 'lru', label: t('Least_recent_updated'), checked: false },\n\t];\n\n\tconst requestedFilterItems = [\n\t\t{ id: 'urf', label: t('Unread_Requested_First'), checked: false },\n\t\t{ id: 'url', label: t('Unread_Requested_Last'), checked: false },\n\t];\n\n\tconst createFilterStructureItems = () => {\n\t\treturn isRequested ? [...requestedFilterItems, ...baseFilterStructureItems] : baseFilterStructureItems;\n\t};\n\n\tconst [sortFilterStructure, setSortFilterStructure] = useState<RadioDropDownGroup>(() => {\n\t\treturn {\n\t\t\tlabel: t('Sort_By'),\n\t\t\titems: createFilterStructureItems(),\n\t\t};\n\t});\n\n\tuseEffect(() => {\n\t\tsetSortFilterStructure({\n\t\t\tlabel: t('Sort_By'),\n\t\t\titems: createFilterStructureItems(),\n\t\t});\n\t}, [isRequested]);\n\n\tconst sortFilterOnSelected = useRadioToggle(setSortFilterStructure);\n\n\tconst getAppsData = useCallback((): appsDataType => {\n\t\tswitch (context) {\n\t\t\tcase 'premium':\n\t\t\tcase 'explore':\n\t\t\tcase 'requested':\n\t\t\t\treturn marketplaceApps;\n\t\t\tcase 'private':\n\t\t\t\treturn privateApps;\n\t\t\tdefault:\n\t\t\t\treturn installedApps;\n\t\t}\n\t}, [context, marketplaceApps, installedApps, privateApps]);\n\n\tconst findSort = () => {\n\t\tconst possibleSort = sortFilterStructure.items.find(({ checked }) => checked);\n\n\t\treturn possibleSort ? possibleSort.id : 'mru';\n\t};\n\n\tconst findPurchaseType = () => {\n\t\tconst possiblePurchaseType = freePaidFilterStructure.items.find(({ checked }) => checked);\n\n\t\treturn possiblePurchaseType ? possiblePurchaseType.id : 'all';\n\t};\n\n\tconst findStatus = () => {\n\t\tconst possibleStatus = statusFilterStructure.items.find(({ checked }) => checked);\n\n\t\treturn possibleStatus ? possibleStatus.id : 'all';\n\t};\n\n\tconst [categories, selectedCategories, categoryTagList, onSelected] = useCategories();\n\tconst appsResult = useFilteredApps({\n\t\tappsData: getAppsData(),\n\t\ttext,\n\t\tcurrent,\n\t\titemsPerPage,\n\t\tcategories: useMemo(() => selectedCategories.map(({ label }) => label), [selectedCategories]),\n\t\tpurchaseType: useMemo(findPurchaseType, [freePaidFilterStructure]),\n\t\tsortingMethod: useMemo(findSort, [sortFilterStructure]),\n\t\tstatus: useMemo(findStatus, [statusFilterStructure]),\n\t\tcontext,\n\t});\n\n\tconst noInstalledApps = appsResult.phase === AsyncStatePhase.RESOLVED && !isMarketplace && appsResult.value.totalAppsLength === 0;\n\n\tconst noMarketplaceOrInstalledAppMatches =\n\t\tappsResult.phase === AsyncStatePhase.RESOLVED && (isMarketplace || isPremium) && appsResult.value.count === 0;\n\n\tconst noInstalledAppMatches =\n\t\tappsResult.phase === AsyncStatePhase.RESOLVED &&\n\t\tcontext === 'installed' &&\n\t\tappsResult.value.totalAppsLength !== 0 &&\n\t\tappsResult.value.count === 0;\n\n\tconst noAppRequests = context === 'requested' && appsResult?.value?.count === 0;\n\n\tconst noErrorsOcurred = !noMarketplaceOrInstalledAppMatches && !noInstalledAppMatches && !noInstalledApps && !noAppRequests;\n\n\tconst isFiltered =\n\t\tBoolean(text.length) ||\n\t\tfreePaidFilterStructure.items.find((item) => item.checked)?.id !== 'all' ||\n\t\tstatusFilterStructure.items.find((item) => item.checked)?.id !== 'all' ||\n\t\tsortFilterStructure.items.find((item) => item.checked)?.id !== 'mru' ||\n\t\tselectedCategories.length > 0;\n\n\tconst handleReturn = () => {\n\t\trouter.navigate({\n\t\t\tname: 'marketplace',\n\t\t\tparams: {\n\t\t\t\tcontext: 'explore',\n\t\t\t\tpage: 'list',\n\t\t\t},\n\t\t});\n\t};\n\n\tconst toggleInitialSortOption = useCallback((isRequested: boolean) => {\n\t\tsetSortFilterStructure((prevState) => {\n\t\t\tprevState.items.forEach((currentItem) => {\n\t\t\t\tif (isRequested && currentItem.id === 'urf') {\n\t\t\t\t\tcurrentItem.checked = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!isRequested && currentItem.id === 'mru') {\n\t\t\t\t\tcurrentItem.checked = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcurrentItem.checked = false;\n\t\t\t});\n\n\t\t\treturn { ...prevState };\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\ttoggleInitialSortOption(isRequested);\n\t}, [isMarketplace, isRequested, sortFilterOnSelected, t, toggleInitialSortOption]);\n\n\tconst getEmptyState = () => {\n\t\tif (noAppRequests) {\n\t\t\treturn <NoAppRequestsEmptyState />;\n\t\t}\n\n\t\tif (noMarketplaceOrInstalledAppMatches) {\n\t\t\treturn <NoMarketplaceOrInstalledAppMatchesEmptyState shouldShowSearchText={appsResult.value.shouldShowSearchText} text={text} />;\n\t\t}\n\n\t\tif (noInstalledAppMatches) {\n\t\t\treturn (\n\t\t\t\t<NoInstalledAppMatchesEmptyState\n\t\t\t\t\tshouldShowSearchText={appsResult.value.shouldShowSearchText}\n\t\t\t\t\ttext={text}\n\t\t\t\t\tonButtonClick={handleReturn}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tif (noInstalledApps) {\n\t\t\treturn context === 'private' ? <PrivateEmptyState /> : <NoInstalledAppsEmptyState onButtonClick={handleReturn} />;\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<AppsFilters\n\t\t\t\tsetText={setText}\n\t\t\t\tfreePaidFilterStructure={freePaidFilterStructure}\n\t\t\t\tfreePaidFilterOnSelected={freePaidFilterOnSelected}\n\t\t\t\tcategories={categories}\n\t\t\t\tselectedCategories={selectedCategories}\n\t\t\t\tonSelected={onSelected}\n\t\t\t\tsortFilterStructure={sortFilterStructure}\n\t\t\t\tsortFilterOnSelected={sortFilterOnSelected}\n\t\t\t\tcategoryTagList={categoryTagList}\n\t\t\t\tstatusFilterStructure={statusFilterStructure}\n\t\t\t\tstatusFilterOnSelected={statusFilterOnSelected}\n\t\t\t\tcontext={context || 'explore'}\n\t\t\t/>\n\t\t\t{appsResult.phase === AsyncStatePhase.LOADING && <AppsPageContentSkeleton />}\n\t\t\t{appsResult.phase === AsyncStatePhase.RESOLVED && noErrorsOcurred && (\n\t\t\t\t<AppsPageContentBody\n\t\t\t\t\tisMarketplace={isMarketplace}\n\t\t\t\t\tisFiltered={isFiltered}\n\t\t\t\t\tappsResult={appsResult.value}\n\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\tcurrent={current}\n\t\t\t\t\tonSetItemsPerPage={onSetItemsPerPage}\n\t\t\t\t\tonSetCurrent={onSetCurrent}\n\t\t\t\t\tpaginationProps={paginationProps}\n\t\t\t\t\tnoErrorsOcurred={noErrorsOcurred}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{getEmptyState()}\n\t\t\t{appsResult.phase === AsyncStatePhase.REJECTED && <AppsPageConnectionError onButtonClick={reload} />}\n\t\t</>\n\t);\n};\n\nexport default AppsPageContent;\n",null],"names":["_objectSpread","_objectWithoutProperties","_slicedToArray","useDebouncedState","useRouteParameter","useRouter","useTranslation","React","useEffect","useMemo","useState","useCallback","usePagination","useAppsResult","AsyncStatePhase","useCategories","useFilteredApps","useRadioToggle","AppsFilters","AppsPageConnectionError","AppsPageContentBody","AppsPageContentSkeleton","NoAppRequestsEmptyState","NoInstalledAppMatchesEmptyState","NoInstalledAppsEmptyState","NoMarketplaceOrInstalledAppMatchesEmptyState","PrivateEmptyState","module","default","link","v","exportDefault","_appsResult$value","_freePaidFilterStruct","_statusFilterStructur","_sortFilterStructure$","t","_useAppsResult","marketplaceApps","installedApps","privateApps","reload","_useDebouncedState2","text","setText","_usePagination","current","itemsPerPage","onSetItemsPerPage","setItemsPerPage","onSetCurrent","setCurrent","paginationProps","_excluded","router","context","isMarketplace","isPremium","isRequested","_useState2","label","items","id","checked","freePaidFilterStructure","freePaidFilterOnSelected","_useState4","statusFilterStructure","statusFilterOnSelected","baseFilterStructureItems","requestedFilterItems","createFilterStructureItems","concat","_useState6","sortFilterStructure","setSortFilterStructure","sortFilterOnSelected","getAppsData","_useCategories2","categories","selectedCategories","categoryTagList","onSelected","appsResult","appsData","map","_ref4","purchaseType","possiblePurchaseType","find","_ref2","sortingMethod","possibleSort","_ref","status","possibleStatus","_ref3","noInstalledApps","phase","RESOLVED","value","totalAppsLength","noMarketplaceOrInstalledAppMatches","count","noInstalledAppMatches","noAppRequests","noErrorsOcurred","isFiltered","Boolean","length","item","handleReturn","navigate","name","params","page","toggleInitialSortOption","prevState","forEach","currentItem","createElement","Fragment","LOADING","shouldShowSearchText","onButtonClick","REJECTED"],"mappings":"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"}