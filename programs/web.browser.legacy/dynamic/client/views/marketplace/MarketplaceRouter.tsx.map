)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/marketplace/MarketplaceRouter.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useAtLeastOnePermission, useRoute, useRouteParameter } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ReactNode } from 'react';\nimport React, { Suspense, useEffect } from 'react';\n\nimport PageSkeleton from '../../components/PageSkeleton';\nimport SidebarPortal from '../../sidebar/SidebarPortal';\nimport NotFoundPage from '../notFound/NotFoundPage';\nimport MarketPlaceSidebar from './MarketplaceSidebar';\n\nconst MarketplaceRouter = ({ children }: { children?: ReactNode }): ReactElement => {\n\tconst currentContext = useRouteParameter('context') || 'all';\n\tconst marketplaceRoute = useRoute('marketplace');\n\tconst canAccessMarketplace = useAtLeastOnePermission(['access-marketplace', 'manage-apps']);\n\n\tuseEffect(() => {\n\t\tconst initialize = async () => {\n\t\t\t// The currentContext === 'all' verification is for users who bookmarked\n\t\t\t// the old marketplace\n\t\t\t// TODO: Remove the all verification in the future;\n\t\t\tif (currentContext === 'all') {\n\t\t\t\tmarketplaceRoute.replace({ context: 'explore', page: 'list' });\n\t\t\t}\n\t\t};\n\n\t\tinitialize();\n\t}, [currentContext, marketplaceRoute]);\n\n\tif (!canAccessMarketplace) {\n\t\treturn <NotFoundPage />;\n\t}\n\n\treturn children ? (\n\t\t<>\n\t\t\t<Suspense fallback={<PageSkeleton />}>{children}</Suspense>\n\t\t\t<SidebarPortal>\n\t\t\t\t<MarketPlaceSidebar />\n\t\t\t</SidebarPortal>\n\t\t</>\n\t) : (\n\t\t<PageSkeleton />\n\t);\n};\n\nexport default MarketplaceRouter;\n",null],"names":["_regeneratorRuntime","useAtLeastOnePermission","useRoute","useRouteParameter","React","Suspense","useEffect","PageSkeleton","SidebarPortal","NotFoundPage","MarketPlaceSidebar","module","default","v","link","exportDefault","_ref","children","currentContext","marketplaceRoute","canAccessMarketplace","async","_context","prev","next","replace","context","page","stop","Promise","createElement","Fragment","fallback"],"mappings":"uBASA,IATAA,EAAAC,EAASC,EAAyBC,EAA8DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvFC,EAAAA,IAAyB,CAAA,6BAA6B,CAAAC,QAAM,SAAAC,CAAA,EAAAb,EAA2Ba,CAAA,CAAA,EAAA,GAApDF,EAAiBG,IAAE,CAAA,2BAAM,CAA0Bb,wBAAC,SAAAY,CAAA,EAAAZ,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,kBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAE,CAAA,EAAAT,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,gCAAAA,CAAA,QAAA,SAAAE,CAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,8BAAAA,CAAA,QAAA,SAAAE,CAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,2BAAAA,CAAA,QAAA,SAAAE,CAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,uBAAAA,CAAA,QAAA,SAAAE,CAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAAhGC,EAAOI,aAAE,CASiB,SAAAC,CAAA,EAAyD,IAAtDC,EAAQD,EAARC,QAAQ,CAC9BC,EAAiBf,EAAkB,YAAc,MACjDgB,EAAmBjB,EAAS,eAC5BkB,EAAuBnB,EAAwB,CAAC,qBAAsB,cAAc,QAe1F,CAbAK,EAAU,WACUN,EAAAqB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAIK,QAAnBN,GACHC,EAAiBM,OAAO,CAAC,CAAEC,QAAS,UAAWC,KAAM,MAAM,EAC3D,MAAA,EAAA,IAAA,MAAA,OAAAL,EAAAM,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAIH,EAAG,CAACX,EAAgBC,EAAiB,EAEhCC,GAIEH,EACNb,EAAA0B,aAAA,CAAA1B,EAAA2B,QAAA,CAAA,KACC3B,EAAA0B,aAAA,CAACzB,EAAQ,CAAC2B,SAAU5B,EAAA0B,aAAA,CAACvB,EAAY,KAAI,EAAEU,GACvCb,EAAA0B,aAAA,CAACtB,EAAa,KACbJ,EAAA0B,aAAA,CAACpB,EAAkB,QAIrBN,EAAA0B,aAAA,CAACvB,EAAY,MAXNH,EAAA0B,aAAA,CAACrB,EAAY,KAatB"}