function module(e,n,t){t.export({appEnabledStatuses:function(){return s},appButtonProps:function(){return u},appIncompatibleStatusProps:function(){return o},appStatusSpanProps:function(){return c},appMultiStatusProps:function(){return p}}),t.link("@rocket.chat/apps-engine/definition/AppStatus",{AppStatus:function(e){a=e}},0),t.link("semver",{default:function(e){i=e}},1),t.link("../../../app/utils/lib/i18n",{t:function(e){r=e}},2),t.link("./helpers/appErroredStatuses",{appErroredStatuses:function(e){l=e}},3);var a,i,r,l,s=[a.AUTO_ENABLED,a.MANUALLY_ENABLED],u=function(e){var n=e.installed,t=e.version,a=e.marketplaceVersion,r=e.isPurchased,l=e.price,s=e.purchaseType,u=e.subscriptionInfo,o=e.pricingPlans,c=e.isEnterpriseOnly,p=e.versionIncompatible,b=e.isAdminUser,d=e.requestedEndUser,f=e.endUserRequested;if(!b)return d||f?{action:"request",label:"Requested"}:{action:"request",label:"Request"};if(n&&t&&a&&i.lt(t,a))return p?{action:"update",icon:"warning",label:"Update"}:{action:"update",icon:"reload",label:"Update"};if(!n){if(r)return p?{action:"install",icon:"warning",label:"Install"}:{action:"install",label:"Install"};if("subscription"===s&&!u.status){var h=o.every(function(e){return 0===e.trialDays}),S=o.every(function(e){return e.tiers&&e.tiers.length>0});return p?{action:"purchase",label:"Subscribe",icon:"warning"}:h||c?{action:"purchase",label:"Subscribe"}:S?{action:"purchase",label:"See Pricing"}:{action:"purchase",label:"Try now"}}return l>0?p?{action:"purchase",label:"Buy",icon:"warning"}:{action:"purchase",label:"Buy"}:p?{action:"purchase",label:"Install",icon:"warning"}:{action:"purchase",label:"Install"}}},o=function(){return{icon:"check",label:"Incompatible",tooltipText:r("App_version_incompatible_tooltip")}},c=function(e,n,t,i){var u=e.installed,o=e.status,c=e.subscriptionInfo,p=e.appRequestStats,b=e.migrated,d=o&&s.includes(o);return u?d?b&&!n?{label:"Enabled*",tooltipText:r("Grandfathered_app")}:{label:"Enabled"}:b&&!n?{label:"Disabled*",tooltipText:r("Grandfathered_app")}:{type:"warning",label:"Disabled"}:o&&l.includes(o)?{type:"failed",icon:"warning",label:o===a.INVALID_SETTINGS_DISABLED?"Config Needed":"Failed"}:c&&"trialing"===c.status?{icon:"checkmark-circled",label:"Trial period"}:"requested"===t&&p?i?{label:"Requested"}:p.totalUnseen?{label:p.totalUnseen>1?"requests":"request"}:{label:p.totalSeen>1?"requests":"request"}:void 0},p=function(e,n,t,a){var i=c(e,a,t,n),r=[];return(null==e?void 0:e.versionIncompatible)===void 0||n||r.push(o()),i&&r.push(i),r}}
//# sourceMappingURL=/dynamic/client/views/marketplace/09e4c38a41fa715f6bb66d460c68c8b1d32bae80.map
