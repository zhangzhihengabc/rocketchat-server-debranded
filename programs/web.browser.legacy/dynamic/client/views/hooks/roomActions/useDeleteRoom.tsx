function module(e,n,t){t.link("@babel/runtime/regenerator",{default:function(e){o=e}},0),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},1),t.export({useDeleteRoom:function(){return h}}),t.link("@rocket.chat/core-typings",{isRoomFederated:function(e){u=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){r=e}},1),t.link("@rocket.chat/ui-contexts",{useSetModal:function(e){i=e},useToastMessageDispatch:function(e){c=e},useRouter:function(e){l=e},usePermission:function(e){s=e},useEndpoint:function(e){m=e},useTranslation:function(e){f=e}},2),t.link("@tanstack/react-query",{useMutation:function(e){d=e}},3),t.link("react",{default:function(e){g=e}},4),t.link("../../../components/GenericModal",{default:function(e){k=e}},5),t.link("../../teams/contextualBar/info/DeleteTeam",{default:function(e){p=e}},6);var o,a,u,r,i,c,l,s,m,f,d,g,k,p,h=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.reload,h=f(),v=l(),_=i(),b=c(),y=s("delete-"+e.t,e._id),R=!u(e)&&y,S="admin-rooms"===v.getRouteName(),T=m("POST","/v1/rooms.delete"),x=m("POST","/v1/teams.delete"),D=d({mutationFn:T,onSuccess:function(){return(b({type:"success",message:h("Room_has_been_deleted")}),S)?v.navigate("/admin/rooms"):v.navigate("/home")},onError:function(e){b({type:"error",message:e})},onSettled:function(){_(null),null==t||t()}}),I=d({mutationFn:x,onSuccess:function(){return(b({type:"success",message:h("Team_has_been_deleted")}),S)?v.navigate("/admin/rooms"):v.navigate("/home")},onError:function(e){b({type:"error",message:e})},onSettled:function(){_(null),null==t||t()}}),M=I.isLoading||D.isLoading;return{handleDelete:r(function(){if(e.teamMain&&e.teamId)return _(g.createElement(p,{onConfirm:function(n){return o.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.teamId){t.next=2;break}return t.abrupt("return");case 2:I.mutateAsync(a({teamId:e.teamId},n.length&&{roomsToRemove:n}));case 3:case"end":return t.stop()}},null,null,null,Promise)},onCancel:function(){return _(null)},teamId:e.teamId}));_(g.createElement(k,{variant:"danger",onConfirm:function(){return o.async(function(n){for(;;)switch(n.prev=n.next){case 0:D.mutateAsync({roomId:e._id});case 1:case"end":return n.stop()}},null,null,null,Promise)},onCancel:function(){return _(null)},confirmText:h("Yes_delete_it")},h("Delete_Room_Warning")))}),canDeleteRoom:R,isDeleting:M}}}
//# sourceMappingURL=/dynamic/client/views/hooks/roomActions/c21a074071f88974d4bc523a49b8fd66919b86aa.map
