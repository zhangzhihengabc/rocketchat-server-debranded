)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/root/hooks/useMessageLinkClicks.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useAbsoluteUrl, useLayout } from '@rocket.chat/ui-contexts';\nimport { useEffect } from 'react';\n\nimport { fireGlobalEvent } from '../../../lib/utils/fireGlobalEvent';\n\nexport const useMessageLinkClicks = () => {\n\tconst absoluteUrl = useAbsoluteUrl();\n\tconst { isEmbedded: embeddedLayout } = useLayout();\n\n\tuseEffect(() => {\n\t\tif (!embeddedLayout) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst handleMessageLinkClick = (event: Event) => {\n\t\t\tconst element = event.currentTarget as Element | null;\n\n\t\t\tif (!element || !(element instanceof HTMLElement)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!(element instanceof HTMLAnchorElement)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (element.origin !== absoluteUrl('').replace(/\\/+$/, '') || !/msg=([a-zA-Z0-9]+)/.test(element.search)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfireGlobalEvent('click-message-link', { link: element.pathname + element.search });\n\t\t};\n\n\t\tdocument.body.addEventListener('click', handleMessageLinkClick);\n\n\t\treturn () => {\n\t\t\tdocument.body.removeEventListener('click', handleMessageLinkClick);\n\t\t};\n\t}, [absoluteUrl, embeddedLayout]);\n};\n",null],"names":["module","export","useMessageLinkClicks","useAbsoluteUrl","useLayout","useEffect","fireGlobalEvent","absoluteUrl","embeddedLayout","_useLayout","isEmbedded","handleMessageLinkClick","event","element","currentTarget","HTMLElement","HTMLAnchorElement","origin","replace","test","search","link","pathname","document","body","addEventListener","removeEventListener"],"mappings":"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,qBAA2B,WAAM,OAAAA,CAA2B,CAAA,GAAAF,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAG,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAJ,EAAAA,IAAAA,CAAAA,QAAAA,CAAAK,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAL,EAAAA,IAAAA,CAAAA,qCAAAA,CAAAM,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAK9D,IAL8DH,EAAAC,EAAAC,EAAAC,EAKxDJ,EAAuB,WACnC,IAAMK,EAAcJ,IACAK,EAAcC,AAAKL,IAA/BM,UAAU,CAElBL,EAAU,WACT,GAAKG,GAIL,IAAMG,EAAyB,SAACC,CAAY,EAC3C,IAAMC,EAAUD,EAAME,aAA+B,CAEhDD,GAAaA,aAAmBE,aAI/BF,aAAmBG,mBAIrBH,EAAQI,MAAM,GAAKV,EAAY,IAAIW,OAAO,CAAC,OAAQ,KAAQ,qBAAqBC,IAAI,CAACN,EAAQO,MAAM,GAIvGd,EAAgB,qBAAsB,CAAEe,KAAMR,EAAQS,QAAQ,CAAGT,EAAQO,MAAAA,AAAM,EAChF,EAIA,OAFAG,SAASC,IAAI,CAACC,gBAAgB,CAAC,QAASd,GAEjC,WACNY,SAASC,IAAI,CAACE,mBAAmB,CAAC,QAASf,EAC5C,EACD,EAAG,CAACJ,EAAaC,EAAe,CACjC"}