function module(e,t,n){var a,r,i,l,c,u,o,s,f,m,d,p,h,g,v,E,k,w,b,F,P,S,x,y,_,T,C,D;n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){r=e}},0),n.link("@babel/runtime/helpers/taggedTemplateLiteralLoose",{default:function(e){i=e}},1),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){l=e}},2),n.link("@babel/runtime/regenerator",{default:function(e){c=e}},3),n.link("@rocket.chat/css-in-js",{css:function(e){u=e}},0),n.link("@rocket.chat/fuselage",{ButtonGroup:function(e){o=e},Button:function(e){s=e},Box:function(e){f=e},ToggleSwitch:function(e){m=e},States:function(e){d=e},StatesIcon:function(e){p=e},StatesTitle:function(e){h=e},Accordion:function(e){g=e},Field:function(e){v=e},FieldGroup:function(e){E=e},FieldLabel:function(e){k=e},FieldRow:function(e){w=e},FieldHint:function(e){b=e}},1),n.link("@rocket.chat/ui-client",{useFeaturePreviewList:function(e){F=e}},2),n.link("@rocket.chat/ui-contexts",{useToastMessageDispatch:function(e){P=e},useTranslation:function(e){S=e},useEndpoint:function(e){x=e}},3),n.link("react",{default:function(e){y=e},useEffect:function(e){_=e},Fragment:function(e){T=e}},4),n.link("react-hook-form",{useForm:function(e){C=e}},5),n.link("../../../components/Page",{default:function(e){D=e}},6),n.exportDefault(function(){var e=S(),t=P(),n=F(),j=n.features,B=n.unseenFeatures,L=x("POST","/v1/users.setPreferences");_(function(){B&&L({data:{featuresPreview:j.map(function(e){return{name:e.name,value:e.value}})}})},[L,j,B]);var G=C({defaultValues:{featuresPreview:j}}),A=G.watch,H=G.formState.isDirty,I=G.setValue,N=G.handleSubmit,O=G.reset,U=A().featuresPreview,V=function(e){I("featuresPreview",U.map(function(t){return t.name===e.target.name?l(l({},t),{},{value:e.target.checked}):t}),{shouldDirty:!0})},W=Object.entries(U.reduce(function(e,t){return(e[t.group]=e[t.group]||[]).push(t),e},{}));return y.createElement(D,null,y.createElement(D.Header,{title:e("Feature_preview")}),y.createElement(D.ScrollableContentWithShadow,null,y.createElement(f,{maxWidth:"x600",w:"full",alignSelf:"center"},0===U.length&&y.createElement(d,null,y.createElement(p,{name:"magnifier"}),y.createElement(h,null,e("No_feature_to_preview"))),U.length>0&&y.createElement(y.Fragment,null,y.createElement(f,{className:u(a||(a=i(["\n									white-space: break-spaces;\n								"]))),pbe:24,fontScale:"p1"},e("Feature_preview_page_description")),y.createElement(g,null,null==W?void 0:W.map(function(t,n){var a=r(t,2),i=a[0],l=a[1];return y.createElement(g.Item,{defaultExpanded:0===n,key:i,title:e(i)},y.createElement(E,null,l.map(function(t){return y.createElement(T,{key:t.name},y.createElement(v,null,y.createElement(f,{display:"flex",flexDirection:"row",justifyContent:"spaceBetween",flexGrow:1},y.createElement(k,{htmlFor:t.name},e(t.i18n)),y.createElement(w,null,y.createElement(m,{id:t.name,checked:t.value,name:t.name,onChange:V}))),t.description&&y.createElement(b,{mbs:12},e(t.description))),t.imageUrl&&y.createElement(f,{is:"img",width:"100%",height:"auto",mbs:16,src:t.imageUrl,alt:""}))})))}))))),y.createElement(D.Footer,{isDirty:H},y.createElement(o,null,y.createElement(s,{onClick:function(){return O({featuresPreview:j})}},e("Cancel")),y.createElement(s,{primary:!0,disabled:!H,onClick:N(function(){return c.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,c.awrap(L({data:{featuresPreview:U}}));case 3:t({type:"success",message:e("Preferences_saved")}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t({type:"error",message:n.t0});case 9:return n.prev=9,O({featuresPreview:U}),n.finish(9);case 12:case"end":return n.stop()}},null,null,[[0,6,9,12]],Promise)})},e("Save_changes")))))})}
//# sourceMappingURL=/dynamic/client/views/account/featurePreview/8a83f4239a06c6e5819501e3ec409090af5a8d1b.map
