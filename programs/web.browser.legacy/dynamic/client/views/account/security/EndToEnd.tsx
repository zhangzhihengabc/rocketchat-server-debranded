function module(e,n,t){var r,a,o,s,l,c,i,u,d,p,f,m,_,w,E,y,h,g,b,k,v;t.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){a=e}},1),t.link("@rocket.chat/fuselage",{Box:function(e){o=e},Margins:function(e){s=e},PasswordInput:function(e){l=e},Field:function(e){c=e},FieldGroup:function(e){i=e},FieldLabel:function(e){u=e},FieldRow:function(e){d=e},FieldError:function(e){p=e},FieldHint:function(e){f=e},Button:function(e){m=e}},0),t.link("@rocket.chat/ui-contexts",{useToastMessageDispatch:function(e){_=e},useMethod:function(e){w=e},useTranslation:function(e){E=e},useLogout:function(e){y=e}},1),t.link("react",{default:function(e){h=e},useCallback:function(e){g=e},useEffect:function(e){b=e}},2),t.link("react-hook-form",{useForm:function(e){k=e}},3),t.link("../../../../app/e2e/client/rocketchat.e2e",{e2e:function(e){v=e}},4),t.exportDefault(function(e){var n,t=E(),C=_(),x=y(),P=localStorage.getItem("public_key"),S=localStorage.getItem("private_key"),F=w("e2e.resetOwnE2EKey"),I=k({defaultValues:{password:"",passwordConfirm:""},mode:"onChange"}),K=I.register,M=I.handleSubmit,N=I.watch,q=I.resetField,D=I.formState,L=D.errors,R=D.isValid,T=N().password,H=!!(P&&S),B=!!(null==T?void 0:T.trim().length),V=g(function(){return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.awrap(F());case 3:e.sent&&(C({type:"success",message:t("User_e2e_key_was_reset")}),x()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),C({type:"error",message:e.t0});case 10:case"end":return e.stop()}},null,null,[[0,7]],Promise)},[C,F,x,t]);return b(function(){(null==T?void 0:T.trim())===""&&q("passwordConfirm")},[T,q]),h.createElement(o,r({display:"flex",flexDirection:"column",alignItems:"flex-start",mbs:16},e),h.createElement(s,{blockEnd:8},h.createElement(o,{fontScale:"h4"},t("E2E_Encryption_Password_Change")),h.createElement(o,{dangerouslySetInnerHTML:{__html:t("E2E_Encryption_Password_Explanation")}}),h.createElement(i,{w:"full"},h.createElement(c,null,h.createElement(u,{id:"New_encryption_password"},t("New_encryption_password")),h.createElement(d,null,h.createElement(l,r({},K("password",{required:!0}),{placeholder:t("New_Password_Placeholder"),disabled:!H,"aria-labelledby":"New_encryption_password"}))),!H&&h.createElement(f,null,t("EncryptionKey_Change_Disabled"))),B&&h.createElement(c,null,h.createElement(u,{id:"Confirm_new_encryption_password"},t("Confirm_new_encryption_password")),h.createElement(l,r({error:null===(n=L.passwordConfirm)||void 0===n?void 0:n.message},K("passwordConfirm",{required:!0,validate:function(e){return T===e||"Your passwords do no match"}}),{placeholder:t("Confirm_New_Password_Placeholder"),"aria-labelledby":"Confirm_new_encryption_password"})),L.passwordConfirm&&h.createElement(p,null,L.passwordConfirm.message))),h.createElement(m,{primary:!0,disabled:!(H&&R),onClick:M(function(e){return a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,a.awrap(v.changePassword(e.password));case 3:q("password"),C({type:"success",message:t("Encryption_key_saved_successfully")}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),C({type:"error",message:n.t0});case 10:case"end":return n.stop()}},null,null,[[0,7]],Promise)}),"data-qa-type":"e2e-encryption-save-password-button"},t("Save_changes")),h.createElement(o,{fontScale:"h4",mbs:16},t("Reset_E2E_Key")),h.createElement(o,{dangerouslySetInnerHTML:{__html:t("E2E_Reset_Key_Explanation")}}),h.createElement(m,{onClick:V,"data-qa-type":"e2e-encryption-reset-key-button"},t("Reset_E2E_Key"))))})}
//# sourceMappingURL=/dynamic/client/views/account/security/29b178d8f61368e4d242ebb957f9b8ef3960299c.map
