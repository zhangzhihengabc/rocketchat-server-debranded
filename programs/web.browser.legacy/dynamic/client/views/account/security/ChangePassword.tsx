function module(e,n,r){var t,a,o,s,i,l,c,u,d,f,m,w,h,v,p,g,E,k,P,b,_;r.link("@babel/runtime/helpers/extends",{default:function(e){t=e}},0),r.link("@babel/runtime/regenerator",{default:function(e){a=e}},1),r.link("@rocket.chat/fuselage",{Box:function(e){o=e},Field:function(e){s=e},FieldError:function(e){i=e},FieldGroup:function(e){l=e},FieldHint:function(e){c=e},FieldLabel:function(e){u=e},FieldRow:function(e){d=e},Icon:function(e){f=e},PasswordInput:function(e){m=e}},0),r.link("@rocket.chat/fuselage-hooks",{useUniqueId:function(e){w=e}},1),r.link("@rocket.chat/ui-client",{PasswordVerifier:function(e){h=e},useValidatePassword:function(e){v=e}},2),r.link("@rocket.chat/ui-contexts",{useMethod:function(e){p=e},useToastMessageDispatch:function(e){g=e},useTranslation:function(e){E=e}},3),r.link("react",{default:function(e){k=e}},4),r.link("react-hook-form",{Controller:function(e){P=e},useFormContext:function(e){b=e}},5),r.link("./useAllowPasswordChange",{useAllowPasswordChange:function(e){_=e}},6),r.exportDefault(function(e){var n=E(),r=g(),x=w(),C=w(),y=w(),F=b(),q=F.watch,D=F.formState.errors,G=F.handleSubmit,I=F.reset,S=F.control,z=q("password"),A=v(z),M=_().allowPasswordChange,T=p("saveUserProfile");return k.createElement(o,t({},e,{is:"form",autoComplete:"off",onSubmit:G(function(e){var t;return a.async(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.password,o.prev=1,o.next=4,a.awrap(T({newPassword:t},{}));case 4:r({type:"success",message:n("Password_changed_successfully")}),I(),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(1),r({type:"error",message:o.t0});case 11:case"end":return o.stop()}},null,null,[[1,8]],Promise)})}),k.createElement(l,null,k.createElement(s,null,k.createElement(u,{htmlFor:x},n("New_password")),k.createElement(d,null,k.createElement(P,{control:S,name:"password",rules:{validate:function(){return null==z||!z.length||!!A||n("Password_must_meet_the_complexity_requirements")}},render:function(e){var n,r=e.field,t=r.onChange,a=r.value;return k.createElement(m,{id:x,onChange:t,value:a,error:null===(n=D.password)||void 0===n?void 0:n.message,flexGrow:1,addon:k.createElement(f,{name:"key",size:"x20"}),disabled:!M,"aria-describedby":y+" "+x+"-hint "+x+"-error","aria-invalid":D.password?"true":"false"})}})),!M&&k.createElement(c,{id:x+"-hint"},n("Password_Change_Disabled")),(null==D?void 0:D.password)&&k.createElement(i,{"aria-live":"assertive",id:x+"-error"},D.password.message),M&&k.createElement(h,{password:z,id:y})),k.createElement(s,null,k.createElement(u,{htmlFor:C},n("Confirm_password")),k.createElement(d,null,k.createElement(P,{control:S,name:"confirmationPassword",rules:{validate:function(e){return z===e||n("Passwords_do_not_match")}},render:function(e){var n,r=e.field,t=r.onChange,a=r.value;return k.createElement(m,{id:C,onChange:t,value:a,error:null===(n=D.confirmationPassword)||void 0===n?void 0:n.message,flexGrow:1,addon:k.createElement(f,{name:"key",size:"x20"}),disabled:!M||!A,"aria-required":""!==z?"true":"false","aria-invalid":D.confirmationPassword?"true":"false","aria-describedby":C+"-error"})}})),D.confirmationPassword&&k.createElement(i,{"aria-live":"assertive",id:C+"-error"},D.confirmationPassword.message))))})}
//# sourceMappingURL=/dynamic/client/views/account/security/4b83282c03c4e5c1a15741978e85edfdf3c5c8c7.map
