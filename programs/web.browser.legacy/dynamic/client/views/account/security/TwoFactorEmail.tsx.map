)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/account/security/TwoFactorEmail.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Button, Margins } from '@rocket.chat/fuselage';\nimport { useUser, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { useCallback } from 'react';\n\nimport { useEndpointAction } from '../../../hooks/useEndpointAction';\n\nconst TwoFactorEmail = (props: ComponentProps<typeof Box>): ReactElement => {\n\tconst t = useTranslation();\n\tconst user = useUser();\n\n\tconst isEnabled = user?.services?.email2fa?.enabled;\n\n\tconst enable2faAction = useEndpointAction('POST', '/v1/users.2fa.enableEmail', {\n\t\tsuccessMessage: t('Two-factor_authentication_enabled'),\n\t});\n\tconst disable2faAction = useEndpointAction('POST', '/v1/users.2fa.disableEmail', {\n\t\tsuccessMessage: t('Two-factor_authentication_disabled'),\n\t});\n\n\tconst handleEnable = useCallback(async () => {\n\t\tawait enable2faAction();\n\t}, [enable2faAction]);\n\tconst handleDisable = useCallback(async () => {\n\t\tawait disable2faAction();\n\t}, [disable2faAction]);\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' alignItems='flex-start' mbs={16} {...props}>\n\t\t\t<Margins blockEnd={8}>\n\t\t\t\t<Box fontScale='h4'>{t('Two-factor_authentication_email')}</Box>\n\t\t\t\t{isEnabled && (\n\t\t\t\t\t<Button danger onClick={handleDisable}>\n\t\t\t\t\t\t{t('Disable_two-factor_authentication_email')}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{!isEnabled && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Box>{t('Two-factor_authentication_email_is_currently_disabled')}</Box>\n\t\t\t\t\t\t<Button primary onClick={handleEnable}>\n\t\t\t\t\t\t\t{t('Enable_two-factor_authentication_email')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</Margins>\n\t\t</Box>\n\t);\n};\n\nexport default TwoFactorEmail;\n",null],"names":["_extends","_regeneratorRuntime","Box","Button","Margins","useUser","useTranslation","React","useCallback","useEndpointAction","module","link","default","v","exportDefault","props","_user$services","_user$services$email","t","user","isEnabled","services","email2fa","enabled","enable2faAction","successMessage","disable2faAction","handleEnable","async","_context","prev","next","awrap","stop","Promise","handleDisable","_context2","createElement","display","flexDirection","alignItems","mbs","blockEnd","fontScale","danger","onClick","Fragment","primary"],"mappings":"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"}