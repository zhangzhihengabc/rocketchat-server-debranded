)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/account/security/AccountSecurityPage.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Accordion, ButtonGroup, Button } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useSetting, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport Page from '../../../components/Page';\nimport NotAuthorizedPage from '../../notAuthorized/NotAuthorizedPage';\nimport ChangePassword from './ChangePassword';\nimport EndToEnd from './EndToEnd';\nimport TwoFactorEmail from './TwoFactorEmail';\nimport TwoFactorTOTP from './TwoFactorTOTP';\n\nconst passwordDefaultValues = { password: '', confirmationPassword: '' };\n\nconst AccountSecurityPage = (): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst methods = useForm({\n\t\tdefaultValues: passwordDefaultValues,\n\t\tmode: 'onBlur',\n\t});\n\tconst {\n\t\treset,\n\t\tformState: { isDirty },\n\t} = methods;\n\n\tconst twoFactorEnabled = useSetting('Accounts_TwoFactorAuthentication_Enabled');\n\tconst twoFactorTOTP = useSetting('Accounts_TwoFactorAuthentication_By_TOTP_Enabled');\n\tconst twoFactorByEmailEnabled = useSetting('Accounts_TwoFactorAuthentication_By_Email_Enabled');\n\tconst e2eEnabled = useSetting('E2E_Enable');\n\n\tconst passwordFormId = useUniqueId();\n\n\tif (!twoFactorEnabled && !e2eEnabled) {\n\t\treturn <NotAuthorizedPage />;\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Security')} />\n\t\t\t<Page.ScrollableContentWithShadow>\n\t\t\t\t<Box maxWidth='x600' w='full' alignSelf='center' color='default'>\n\t\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t\t<Accordion.Item title={t('Password')} defaultExpanded>\n\t\t\t\t\t\t\t\t<ChangePassword id={passwordFormId} />\n\t\t\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</FormProvider>\n\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t{(twoFactorTOTP || twoFactorByEmailEnabled) && twoFactorEnabled && (\n\t\t\t\t\t\t\t<Accordion.Item title={t('Two Factor Authentication')}>\n\t\t\t\t\t\t\t\t{twoFactorTOTP && <TwoFactorTOTP />}\n\t\t\t\t\t\t\t\t{twoFactorByEmailEnabled && <TwoFactorEmail />}\n\t\t\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{e2eEnabled && (\n\t\t\t\t\t\t\t<Accordion.Item\n\t\t\t\t\t\t\t\ttitle={t('E2E Encryption')}\n\t\t\t\t\t\t\t\taria-label={t('E2E Encryption')}\n\t\t\t\t\t\t\t\tdefaultExpanded={!twoFactorEnabled}\n\t\t\t\t\t\t\t\tdata-qa-type='e2e-encryption-section'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<EndToEnd />\n\t\t\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Accordion>\n\t\t\t\t</Box>\n\t\t\t</Page.ScrollableContentWithShadow>\n\t\t\t<Page.Footer isDirty={isDirty}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => reset(passwordDefaultValues)}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={passwordFormId} primary disabled={!isDirty} type='submit'>\n\t\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Page.Footer>\n\t\t</Page>\n\t);\n};\n\nexport default AccountSecurityPage;\n",null],"names":["module","link","Box","v","Accordion","ButtonGroup","Button","useUniqueId","useSetting","useTranslation","React","FormProvider","useForm","Page","NotAuthorizedPage","ChangePassword","EndToEnd","TwoFactorEmail","TwoFactorTOTP","passwordDefaultValues","password","confirmationPassword","exportDefault","t","methods","defaultValues","mode","reset","isDirty","formState","twoFactorEnabled","twoFactorTOTP","twoFactorByEmailEnabled","e2eEnabled","passwordFormId","createElement","Header","title","ScrollableContentWithShadow","maxWidth","w","alignSelf","color","Item","defaultExpanded","id","Footer","onClick","form","primary","disabled","type"],"mappings":"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"}