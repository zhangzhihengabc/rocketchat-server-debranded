)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/account/preferences/PreferencesSoundSection.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { SelectOption } from '@rocket.chat/fuselage';\nimport { Accordion, Field, FieldLabel, FieldRow, Select, FieldGroup, ToggleSwitch, Tooltip, Box } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation, useCustomSound } from '@rocket.chat/ui-contexts';\nimport type { ChangeEvent } from 'react';\nimport React from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\n\nconst PreferencesSoundSection = () => {\n\tconst t = useTranslation();\n\n\tconst customSound = useCustomSound();\n\tconst soundsList: SelectOption[] = customSound?.getList()?.map((value) => [value._id, value.name]) || [];\n\tconst { control, watch } = useFormContext();\n\tconst { newMessageNotification, notificationsSoundVolume } = watch();\n\n\tconst newRoomNotificationId = useUniqueId();\n\tconst newMessageNotificationId = useUniqueId();\n\tconst muteFocusedConversationsId = useUniqueId();\n\tconst notificationsSoundVolumeId = useUniqueId();\n\n\treturn (\n\t\t<Accordion.Item title={t('Sound')}>\n\t\t\t<FieldGroup>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={newRoomNotificationId}>{t('New_Room_Notification')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='newRoomNotification'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tid={newRoomNotificationId}\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\t\tonChange(value);\n\t\t\t\t\t\t\t\t\t\tcustomSound.play(String(value), { volume: notificationsSoundVolume / 100 });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\toptions={soundsList}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={newMessageNotificationId}>{t('New_Message_Notification')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='newMessageNotification'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tid={newMessageNotificationId}\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\t\tonChange(value);\n\t\t\t\t\t\t\t\t\t\tcustomSound.play(String(value), { volume: notificationsSoundVolume / 100 });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\toptions={soundsList}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field display='flex' flexDirection='row' justifyContent='spaceBetween' flexGrow={1}>\n\t\t\t\t\t<FieldLabel htmlFor={muteFocusedConversationsId}>{t('Mute_Focused_Conversations')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='muteFocusedConversations'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t<ToggleSwitch id={muteFocusedConversationsId} ref={ref} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={notificationsSoundVolumeId}>{t('Notifications_Sound_Volume')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='notificationsSoundVolume'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { onChange, value, ref } }) => (\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tid={notificationsSoundVolumeId}\n\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\tis='input'\n\t\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t\t\ttype='range'\n\t\t\t\t\t\t\t\t\tmin='0'\n\t\t\t\t\t\t\t\t\tmax='100'\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>) => {\n\t\t\t\t\t\t\t\t\t\tcustomSound.play(newMessageNotification, { volume: notificationsSoundVolume / 100 });\n\t\t\t\t\t\t\t\t\t\tonChange(Math.max(0, Math.min(Number(e.currentTarget.value), 100)));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Tooltip placement='right' mis={8}>\n\t\t\t\t\t\t\t{notificationsSoundVolume}\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t</FieldGroup>\n\t\t</Accordion.Item>\n\t);\n};\n\nexport default PreferencesSoundSection;\n",null],"names":["Accordion","Field","FieldLabel","FieldRow","Select","FieldGroup","ToggleSwitch","Tooltip","Box","useUniqueId","useTranslation","useCustomSound","React","Controller","useFormContext","module","link","v","exportDefault","_customSound$getList","t","customSound","soundsList","getList","map","value","_id","name","_useFormContext","control","_watch","watch","newMessageNotification","notificationsSoundVolume","newRoomNotificationId","newMessageNotificationId","muteFocusedConversationsId","notificationsSoundVolumeId","createElement","Item","title","htmlFor","render","_ref","_ref$field","field","onChange","id","play","String","volume","options","_ref2","_ref2$field","display","flexDirection","justifyContent","flexGrow","_ref3","_ref3$field","ref","checked","_ref4","_ref4$field","is","type","min","max","e","Math","Number","currentTarget","placement","mis"],"mappings":"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"}