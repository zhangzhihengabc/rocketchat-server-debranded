function module(e,n,t){var a,r,o,l,c,s,i,u,m,f,k,d,_,E,g,T,p,P,v,h,A,b,y,I,C,S,R,x,G,w,D,M,L,N=["current","itemsPerPage","setItemsPerPage","setCurrent"];t.link("@babel/runtime/regenerator",{default:function(e){a=e}},0),t.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},1),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){o=e}},2),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},3),t.link("@rocket.chat/fuselage",{Box:function(e){c=e},Pagination:function(e){s=e},States:function(e){i=e},StatesAction:function(e){u=e},StatesActions:function(e){m=e},StatesIcon:function(e){f=e},StatesSubtitle:function(e){k=e},StatesTitle:function(e){d=e}},0),t.link("@rocket.chat/ui-contexts",{useSetModal:function(e){_=e},useToastMessageDispatch:function(e){E=e},useUserId:function(e){g=e},useMethod:function(e){T=e},useTranslation:function(e){p=e}},1),t.link("react",{default:function(e){P=e},useMemo:function(e){v=e},useCallback:function(e){h=e}},2),t.link("../../../../components/GenericModal",{default:function(e){A=e}},3),t.link("../../../../components/GenericNoResults",{default:function(e){b=e}},4),t.link("../../../../components/GenericTable",{GenericTable:function(e){y=e},GenericTableHeader:function(e){I=e},GenericTableBody:function(e){C=e},GenericTableLoadingTable:function(e){S=e},GenericTableHeaderCell:function(e){R=e}},5),t.link("../../../../components/GenericTable/hooks/usePagination",{usePagination:function(e){x=e}},6),t.link("../../../../hooks/useEndpointData",{useEndpointData:function(e){G=e}},7),t.link("../../../../hooks/useResizeInlineBreakpoint",{useResizeInlineBreakpoint:function(e){w=e}},8),t.link("../../../../lib/asyncState",{AsyncStatePhase:function(e){D=e}},9),t.link("./AccountTokensRow",{default:function(e){M=e}},10),t.link("./AddToken",{default:function(e){L=e}},11),t.exportDefault(function(){var e=p(),n=E(),t=_(),B=g(),O=T("personalAccessTokens:regenerateToken"),F=T("personalAccessTokens:removeToken"),H=G("/v1/users.getPersonalAccessTokens"),V=H.value,j=H.phase,z=H.error,U=H.reload,W=l(w([600],200),2),J=W[0],q=W[1],K=x(),Q=K.current,X=K.itemsPerPage,Y=K.setItemsPerPage,Z=K.setCurrent,$=o(K,N),ee=v(function(){if(!(null!=V&&V.tokens))return null;var e=Q>(null==V?void 0:V.tokens.length)?(null==V?void 0:V.tokens.length)-X:Q;return null==V?void 0:V.tokens.slice(e,e+X)},[Q,null==V?void 0:V.tokens,X]),en=h(function(){return t(null)},[t]),et=v(function(){return[P.createElement(R,{key:"name"},e("API_Personal_Access_Token_Name")),q&&P.createElement(R,{key:"createdAt"},e("Created_at")),P.createElement(R,{key:"lastTokenPart"},e("Last_token_part")),P.createElement(R,{key:"2fa"},e("Two Factor Authentication")),P.createElement(R,{key:"actions"})].filter(Boolean)},[q,e]),ea=h(function(r){t(P.createElement(A,{variant:"warning",confirmText:e("API_Personal_Access_Tokens_Regenerate_It"),onConfirm:function(){var o;return a.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,t(null),l.next=4,a.awrap(O({tokenName:r}));case 4:o=l.sent,t(P.createElement(A,{title:e("API_Personal_Access_Token_Generated"),onConfirm:en},P.createElement(c,{dangerouslySetInnerHTML:{__html:e("API_Personal_Access_Token_Generated_Text_Token_s_UserId_s",{token:o,userId:B})}}))),U(),l.next=13;break;case 9:l.prev=9,l.t0=l.catch(0),t(null),n({type:"error",message:l.t0});case 13:case"end":return l.stop()}},null,null,[[0,9]],Promise)},onCancel:en,onClose:en},e("API_Personal_Access_Tokens_Regenerate_Modal")))},[en,n,O,U,t,e,B]),er=h(function(r){t(P.createElement(A,{variant:"danger",confirmText:e("Remove"),onConfirm:function(){return a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.awrap(F({tokenName:r}));case 3:n({type:"success",message:e("Token_has_been_removed")}),U(),en(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:"error",message:t.t0});case 11:case"end":return t.stop()}},null,null,[[0,8]],Promise)},onCancel:en,onClose:en},e("API_Personal_Access_Tokens_Remove_Modal")))},[en,n,U,F,t,e]);return j===D.REJECTED?P.createElement(c,{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},P.createElement(i,null,P.createElement(f,{name:"warning",variation:"danger"}),P.createElement(d,null,e("Something_went_wrong")),P.createElement(k,null,e("We_Could_not_retrive_any_data")),P.createElement(k,null,null==z?void 0:z.message),P.createElement(m,null,P.createElement(u,{onClick:U},e("Retry"))))):P.createElement(P.Fragment,null,P.createElement(L,{reload:U}),j===D.LOADING&&P.createElement(y,{"aria-busy":!0},P.createElement(I,null,et),P.createElement(C,null,j===D.LOADING&&P.createElement(S,{headerCells:5}))),ee&&(null==ee?void 0:ee.length)>0&&j===D.RESOLVED&&P.createElement(P.Fragment,null,P.createElement(y,{ref:J},P.createElement(I,null,et),P.createElement(C,null,j===D.RESOLVED&&ee&&ee.map(function(e){return P.createElement(M,r({},e,{key:e.createdAt,onRegenerate:ea,onRemove:er,isMedium:q}))}))),P.createElement(s,r({divider:!0,current:Q,itemsPerPage:X,count:(null==V?void 0:V.tokens.length)||0,onSetItemsPerPage:Y,onSetCurrent:Z},$))),j===D.RESOLVED&&(null==ee?void 0:ee.length)===0&&P.createElement(b,null))})}
//# sourceMappingURL=/dynamic/client/views/account/tokens/AccountTokensTable/5d9aa874b29d442c4d5b5565eb282af0bcc7bd0b.map
