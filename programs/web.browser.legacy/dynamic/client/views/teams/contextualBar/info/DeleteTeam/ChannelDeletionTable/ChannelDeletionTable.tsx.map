)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/teams/contextualBar/info/DeleteTeam/ChannelDeletionTable/ChannelDeletionTable.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom, Serialized } from '@rocket.chat/core-typings';\nimport { Box, CheckBox } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React from 'react';\n\nimport { GenericTable, GenericTableHeaderCell, GenericTableBody, GenericTableHeader } from '../../../../../../components/GenericTable';\nimport { useSort } from '../../../../../../components/GenericTable/hooks/useSort';\nimport ChannelDeletionTableRow from './ChannelDeletionTableRow';\n\ntype ChannelDeletationTable = {\n\trooms: Serialized<IRoom>[];\n\tonToggleAllRooms: () => void;\n\tonChangeRoomSelection: (room: Serialized<IRoom>) => void;\n\tselectedRooms: { [key: string]: Serialized<IRoom> };\n};\n\nconst ChannelDeletionTable = ({ rooms, onChangeRoomSelection, selectedRooms, onToggleAllRooms }: ChannelDeletationTable) => {\n\tconst t = useTranslation();\n\tconst { sortBy, sortDirection, setSort } = useSort<'name' | 'usersCount'>('name');\n\n\tconst selectedRoomsLength = Object.values(selectedRooms).filter(Boolean).length;\n\n\tconst getSortedChannels = () => {\n\t\tif (rooms) {\n\t\t\tconst sortedRooms = [...rooms];\n\t\t\tif (sortBy === 'name') {\n\t\t\t\tsortedRooms.sort((a, b) => (a.name && b.name ? a.name.localeCompare(b.name) : 0));\n\t\t\t}\n\t\t\tif (sortBy === 'usersCount') {\n\t\t\t\tsortedRooms.sort((a, b) => a.usersCount - b.usersCount);\n\t\t\t}\n\t\t\tif (sortDirection === 'desc') {\n\t\t\t\treturn sortedRooms?.reverse();\n\t\t\t}\n\t\t\treturn sortedRooms;\n\t\t}\n\t};\n\n\tconst sortedRooms = getSortedChannels();\n\n\tconst checked = rooms.length === selectedRoomsLength;\n\tconst indeterminate = rooms.length > selectedRoomsLength && selectedRoomsLength > 0;\n\n\tconst headers = (\n\t\t<>\n\t\t\t<GenericTableHeaderCell key='name' sort='name' onClick={setSort} direction={sortDirection} active={sortBy === 'name'}>\n\t\t\t\t<CheckBox indeterminate={indeterminate} checked={checked} onChange={onToggleAllRooms} />\n\t\t\t\t<Box mi={8}>{t('Channel_name')}</Box>\n\t\t\t</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell\n\t\t\t\tkey='usersCount'\n\t\t\t\tsort='usersCount'\n\t\t\t\tonClick={setSort}\n\t\t\t\tdirection={sortDirection}\n\t\t\t\tactive={sortBy === 'usersCount'}\n\t\t\t>\n\t\t\t\t<Box width='100%' textAlign='end'>\n\t\t\t\t\t{t('Members')}\n\t\t\t\t</Box>\n\t\t\t</GenericTableHeaderCell>\n\t\t</>\n\t);\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' height='x200' mbs={24}>\n\t\t\t<GenericTable>\n\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t<GenericTableBody>\n\t\t\t\t\t{sortedRooms?.map((room) => (\n\t\t\t\t\t\t<ChannelDeletionTableRow room={room} key={room._id} onChange={onChangeRoomSelection} selected={!!selectedRooms[room._id]} />\n\t\t\t\t\t))}\n\t\t\t\t</GenericTableBody>\n\t\t\t</GenericTable>\n\t\t</Box>\n\t);\n};\n\nexport default ChannelDeletionTable;\n",null],"names":["_toConsumableArray","Box","CheckBox","useTranslation","React","GenericTable","GenericTableHeaderCell","GenericTableBody","GenericTableHeader","useSort","ChannelDeletionTableRow","module","link","default","v","exportDefault","_ref","rooms","onChangeRoomSelection","selectedRooms","onToggleAllRooms","t","_useSort","sortBy","sortDirection","setSort","selectedRoomsLength","Object","values","filter","Boolean","length","sortedRooms","getSortedChannels","sort","a","b","name","localeCompare","usersCount","reverse","checked","indeterminate","headers","createElement","Fragment","key","onClick","direction","active","onChange","mi","width","textAlign","display","flexDirection","height","mbs","map","room","_id","selected"],"mappings":"uBAgBA,IAfAA,EAAAC,EAAOC,EAA+CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAhCC,EAAQC,IAAAA,CAAAA,2CAAwB,CAAAC,QAAAA,SAAAA,CAAAA,EAAAb,EAAAA,CAAA,CAAA,EAAA,GAAxCW,EAAUC,IAAAA,CAAAA,wBAA6B,CAACX,IAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAR,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAV,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,4CAAAA,CAAAN,aAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,uBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,iBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,0DAAAA,CAAAF,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,4BAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAtDC,EAAOI,aAAO,CAee,SAAAC,CAAA,EAA8F,IAA3FC,EAAKD,EAALC,KAAK,CAAEC,EAAqBF,EAArBE,qBAAqB,CAAEC,EAAaH,EAAbG,aAAa,CAAEC,EAAgBJ,EAAhBI,gBAAgB,CACtFC,EAAIlB,IACVmB,EAA2Cb,EAA+B,QAAlEc,EAAMD,EAANC,MAAM,CAAEC,EAAaF,EAAbE,aAAa,CAAEC,EAAOH,EAAPG,OAAO,CAEhCC,EAAsBC,OAAOC,MAAM,CAACT,GAAeU,MAAM,CAACC,SAASC,MAAM,CAkBzEC,EAAcC,AAhBM,WACzB,GAAIhB,EAAO,CACV,IAAMe,EAAWhC,EAAOiB,SAOxB,CANe,SAAXM,GACHS,EAAYE,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,EAAA,OAAMD,EAAEE,IAAI,EAAID,EAAEC,IAAI,CAAGF,EAAEE,IAAI,CAACC,aAAa,CAACF,EAAEC,IAAI,EAAI,CAAC,GAEjE,eAAXd,GACHS,EAAYE,IAAI,CAAC,SAACC,CAAC,CAAEC,CAAC,EAAA,OAAKD,EAAEI,UAAU,CAAGH,EAAEG,UAAU,GAEnDf,AAAkB,SAAlBA,GACIQ,MAAAA,EAAW,KAAA,EAAXA,EAAaQ,OAAO,GAErBR,EAET,IAIMS,EAAUxB,EAAMc,MAAM,GAAKL,EAC3BgB,EAAgBzB,EAAMc,MAAM,CAAGL,GAAuBA,EAAsB,EAE5EiB,EACLvC,EAAAwC,aAAA,CAAAxC,EAAAyC,QAAA,CAAA,KACCzC,EAAAwC,aAAA,CAACtC,EAAsB,CAACwC,IAAI,OAAOZ,KAAK,OAAOa,QAAStB,EAASuB,UAAWxB,EAAeyB,OAAQ1B,AAAW,SAAXA,CAAkB,EACpHnB,EAAAwC,aAAA,CAAC1C,EAAQ,CAACwC,cAAeA,EAAeD,QAASA,EAASS,SAAU9B,CAAiB,GACrFhB,EAAAwC,aAAA,CAAC3C,EAAG,CAACkD,GAAI,CAAE,EAAE9B,EAAE,kBAEhBjB,EAAAwC,aAAA,CAACtC,EAAsB,CACtBwC,IAAI,aACJZ,KAAK,aACLa,QAAStB,EACTuB,UAAWxB,EACXyB,OAAQ1B,AAAW,eAAXA,CAAwB,EAEhCnB,EAAAwC,aAAA,CAAC3C,EAAG,CAACmD,MAAM,OAAOC,UAAU,KAAK,EAC/BhC,EAAE,cAMP,OACCjB,EAAAwC,aAAA,CAAC3C,EAAG,CAACqD,QAAQ,OAAOC,cAAc,SAASC,OAAO,OAAOC,IAAK,EAAG,EAChErD,EAAAwC,aAAA,CAACvC,EAAY,KACZD,EAAAwC,aAAA,CAACpC,EAAkB,KAAEmC,GACrBvC,EAAAwC,aAAA,CAACrC,EAAgB,KACfyB,MAAAA,EAAW,KAAA,EAAXA,EAAa0B,GAAG,CAAC,SAACC,CAAI,EAAA,OACtBvD,EAAAwC,aAAA,CAAClC,EAAuB,CAACiD,KAAMA,EAAMb,IAAKa,EAAKC,GAAI,CAACV,SAAUhC,EAAuB2C,SAAU,CAAC,CAAC1C,CAAa,CAACwC,EAAKC,GAAG,CAAA,AAAE,EAAG,KAMlI"}