)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/teams/contextualBar/info/TeamsInfo.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { Box, Button, Callout, Option, Menu } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\n\nimport {\n\tContextualbarHeader,\n\tContextualbarIcon,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarScrollableContent,\n} from '../../../../components/Contextualbar';\nimport InfoPanel from '../../../../components/InfoPanel';\nimport RetentionPolicyCallout from '../../../../components/InfoPanel/RetentionPolicyCallout';\nimport MarkdownText from '../../../../components/MarkdownText';\nimport RoomAvatar from '../../../../components/avatar/RoomAvatar';\nimport type { Action } from '../../../hooks/useActionSpread';\nimport { useActionSpread } from '../../../hooks/useActionSpread';\n\ntype RetentionPolicy = {\n\tretentionPolicyEnabled: boolean;\n\tmaxAgeDefault: number;\n\tretentionEnabledDefault: boolean;\n\texcludePinnedDefault: boolean;\n\tfilesOnlyDefault: boolean;\n};\n\ntype TeamsInfoProps = {\n\troom: IRoom;\n\tretentionPolicy: RetentionPolicy;\n\tonClickHide: () => void;\n\tonClickClose: () => void;\n\tonClickLeave: () => void;\n\tonClickEdit: () => void;\n\tonClickDelete: () => void;\n\tonClickViewChannels: () => void;\n\tonClickConvertToChannel?: () => void;\n};\n\nconst TeamsInfo = ({\n\troom,\n\tretentionPolicy,\n\tonClickHide,\n\tonClickClose,\n\tonClickLeave,\n\tonClickEdit,\n\tonClickDelete,\n\tonClickViewChannels,\n\tonClickConvertToChannel,\n}: TeamsInfoProps): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst { retentionPolicyEnabled, filesOnlyDefault, excludePinnedDefault, maxAgeDefault } = retentionPolicy;\n\n\tconst memoizedActions = useMemo(\n\t\t() => ({\n\t\t\t...(onClickEdit && {\n\t\t\t\tedit: {\n\t\t\t\t\tlabel: t('Edit'),\n\t\t\t\t\taction: onClickEdit,\n\t\t\t\t\ticon: 'edit' as const,\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...(onClickDelete && {\n\t\t\t\tdelete: {\n\t\t\t\t\tlabel: t('Delete'),\n\t\t\t\t\taction: onClickDelete,\n\t\t\t\t\ticon: 'trash' as const,\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...(onClickConvertToChannel && {\n\t\t\t\tconvertToChannel: {\n\t\t\t\t\tlabel: t('Convert_to_channel'),\n\t\t\t\t\taction: onClickConvertToChannel,\n\t\t\t\t\ticon: 'hash' as const,\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...(onClickHide && {\n\t\t\t\thide: {\n\t\t\t\t\tlabel: t('Hide'),\n\t\t\t\t\taction: onClickHide,\n\t\t\t\t\ticon: 'eye-off' as const,\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...(onClickLeave && {\n\t\t\t\tleave: {\n\t\t\t\t\tlabel: t('Leave'),\n\t\t\t\t\taction: onClickLeave,\n\t\t\t\t\ticon: 'sign-out' as const,\n\t\t\t\t},\n\t\t\t}),\n\t\t}),\n\t\t[t, onClickHide, onClickLeave, onClickEdit, onClickDelete, onClickConvertToChannel],\n\t);\n\n\tconst { actions: actionsDefinition, menu: menuOptions } = useActionSpread(memoizedActions);\n\n\tconst menu = useMemo(() => {\n\t\tif (!menuOptions) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<Menu\n\t\t\t\tsmall={false}\n\t\t\t\tflexShrink={0}\n\t\t\t\tmi={2}\n\t\t\t\tkey='menu'\n\t\t\t\tmaxHeight='initial'\n\t\t\t\tsecondary\n\t\t\t\trenderItem={({ label: { label, icon }, ...props }): ReactElement => <Option {...props} label={label} icon={icon} />}\n\t\t\t\toptions={menuOptions}\n\t\t\t/>\n\t\t);\n\t}, [menuOptions]);\n\n\tconst actions = useMemo(() => {\n\t\tconst mapAction = ([key, { label, icon, action }]: [string, Action]): ReactElement => (\n\t\t\t<InfoPanel.Action key={key} label={label as string} onClick={action} icon={icon} />\n\t\t);\n\n\t\treturn [...actionsDefinition.map(mapAction), menu].filter(Boolean);\n\t}, [actionsDefinition, menu]);\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarIcon name='info-circled' />\n\t\t\t\t<ContextualbarTitle>{t('Teams_Info')}</ContextualbarTitle>\n\t\t\t\t{onClickClose && <ContextualbarClose onClick={onClickClose} />}\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent p={24}>\n\t\t\t\t<InfoPanel>\n\t\t\t\t\t<InfoPanel.Avatar>\n\t\t\t\t\t\t<RoomAvatar size='x332' room={room} />\n\t\t\t\t\t</InfoPanel.Avatar>\n\n\t\t\t\t\t<InfoPanel.ActionGroup>{actions}</InfoPanel.ActionGroup>\n\n\t\t\t\t\t<InfoPanel.Section>\n\t\t\t\t\t\t{room.archived && (\n\t\t\t\t\t\t\t<Box mb={16}>\n\t\t\t\t\t\t\t\t<Callout type='warning'>{t('Room_archived')}</Callout>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</InfoPanel.Section>\n\n\t\t\t\t\t<InfoPanel.Section>\n\t\t\t\t\t\t<InfoPanel.Title title={room.fname || room.name || ''} icon='team' />\n\t\t\t\t\t</InfoPanel.Section>\n\n\t\t\t\t\t<InfoPanel.Section>\n\t\t\t\t\t\t{room.broadcast && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>\n\t\t\t\t\t\t\t\t\t<b>{t('Broadcast_channel')}</b> {t('Broadcast_channel_Description')}\n\t\t\t\t\t\t\t\t</InfoPanel.Label>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{room.description && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>{t('Description')}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t<InfoPanel.Text withTruncatedText={false}>\n\t\t\t\t\t\t\t\t\t<MarkdownText variant='inline' content={room.description} />\n\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{room.announcement && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>{t('Announcement')}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t<InfoPanel.Text withTruncatedText={false}>\n\t\t\t\t\t\t\t\t\t<MarkdownText variant='inline' content={room.announcement} />\n\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{room.topic && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>{t('Topic')}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t<InfoPanel.Text withTruncatedText={false}>\n\t\t\t\t\t\t\t\t\t<MarkdownText variant='inline' content={room.topic} />\n\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{onClickViewChannels && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>{t('Teams_channels')}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t<InfoPanel.Text>\n\t\t\t\t\t\t\t\t\t<Button onClick={onClickViewChannels} small>\n\t\t\t\t\t\t\t\t\t\t{t('View_channels')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{retentionPolicyEnabled && (\n\t\t\t\t\t\t\t<RetentionPolicyCallout\n\t\t\t\t\t\t\t\tfilesOnlyDefault={filesOnlyDefault}\n\t\t\t\t\t\t\t\texcludePinnedDefault={excludePinnedDefault}\n\t\t\t\t\t\t\t\tmaxAgeDefault={maxAgeDefault}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</InfoPanel.Section>\n\t\t\t\t</InfoPanel>\n\t\t\t</ContextualbarScrollableContent>\n\t\t</>\n\t);\n};\n\nexport default TeamsInfo;\n",null],"names":["_toConsumableArray","_slicedToArray","_extends","_objectWithoutProperties","_objectSpread","Box","Button","Callout","Option","Menu","useTranslation","React","useMemo","ContextualbarHeader","ContextualbarIcon","ContextualbarTitle","ContextualbarClose","ContextualbarScrollableContent","InfoPanel","RetentionPolicyCallout","MarkdownText","RoomAvatar","useActionSpread","module","link","default","v","exportDefault","_ref","room","retentionPolicy","onClickHide","onClickClose","onClickLeave","onClickEdit","onClickDelete","onClickViewChannels","onClickConvertToChannel","t","retentionPolicyEnabled","filesOnlyDefault","excludePinnedDefault","maxAgeDefault","_useActionSpread","edit","label","action","icon","convertToChannel","hide","leave","actionsDefinition","actions","menuOptions","menu","createElement","small","flexShrink","mi","key","maxHeight","secondary","renderItem","_ref2","_ref2$label","props","_excluded","options","concat","map","_ref3","_ref4","_ref4$","Action","onClick","filter","Boolean","Fragment","name","p","Avatar","size","ActionGroup","Section","archived","mb","type","Title","title","fname","broadcast","Field","Label","description","Text","withTruncatedText","variant","content","announcement","topic"],"mappings":"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"}