)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/teams/contextualBar/channels/AddExistingModal/AddExistingModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Button, Field, FieldLabel, Modal } from '@rocket.chat/fuselage';\nimport { useToastMessageDispatch, useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { memo, useCallback } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport RoomsAvailableForTeamsAutoComplete from './RoomsAvailableForTeamsAutoComplete';\n\ntype AddExistingModalProps = {\n\tteamId: string;\n\tonClose: () => void;\n};\n\nconst AddExistingModal = ({ onClose, teamId }: AddExistingModalProps) => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst addRoomEndpoint = useEndpoint('POST', '/v1/teams.addRooms');\n\n\tconst {\n\t\tcontrol,\n\t\tformState: { isDirty },\n\t\thandleSubmit,\n\t} = useForm({ defaultValues: { rooms: [] } });\n\n\tconst handleAddChannels = useCallback(\n\t\tasync ({ rooms }) => {\n\t\t\ttry {\n\t\t\t\tawait addRoomEndpoint({\n\t\t\t\t\trooms,\n\t\t\t\t\tteamId,\n\t\t\t\t});\n\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Channels_added') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t} finally {\n\t\t\t\tonClose();\n\t\t\t}\n\t\t},\n\t\t[addRoomEndpoint, teamId, onClose, dispatchToastMessage, t],\n\t);\n\n\treturn (\n\t\t<Modal wrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(handleAddChannels)} {...props} />}>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Title>{t('Team_Add_existing_channels')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<Field mbe={24}>\n\t\t\t\t\t<FieldLabel>{t('Channels')}</FieldLabel>\n\t\t\t\t\t<Controller\n\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\tname='rooms'\n\t\t\t\t\t\trender={({ field: { value, onChange } }) => <RoomsAvailableForTeamsAutoComplete value={value} onChange={onChange} />}\n\t\t\t\t\t/>\n\t\t\t\t</Field>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Modal.FooterControllers>\n\t\t\t\t\t<Button onClick={onClose}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button disabled={!isDirty} type='submit' primary>\n\t\t\t\t\t\t{t('Add')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.FooterControllers>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default memo(AddExistingModal);\n",null],"names":["_extends","_regeneratorRuntime","Box","Button","Field","FieldLabel","Modal","useToastMessageDispatch","useEndpoint","useTranslation","React","memo","useCallback","useForm","Controller","RoomsAvailableForTeamsAutoComplete","module","link","default","v","exportDefault","_ref","onClose","teamId","t","dispatchToastMessage","addRoomEndpoint","_useForm","defaultValues","rooms","control","isDirty","formState","handleSubmit","handleAddChannels","_ref2","async","_context","prev","next","awrap","type","message","t0","finish","stop","Promise","createElement","wrapperFunction","props","is","onSubmit","Header","Title","Close","onClick","Content","mbe","name","render","_ref3","_ref3$field","field","value","onChange","Footer","FooterControllers","disabled","primary"],"mappings":"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"}