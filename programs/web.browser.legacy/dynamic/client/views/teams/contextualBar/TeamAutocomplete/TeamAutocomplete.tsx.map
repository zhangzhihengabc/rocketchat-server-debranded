)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/teams/contextualBar/TeamAutocomplete/TeamAutocomplete.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { AutoComplete, Option, Box } from '@rocket.chat/fuselage';\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ComponentProps } from 'react';\nimport React, { memo, useMemo, useState } from 'react';\n\nimport Avatar from './Avatar';\n\ntype TeamAutocompleteProps = Omit<ComponentProps<typeof AutoComplete>, 'filter'>;\n\nconst TeamAutocomplete = ({ value, onChange, ...props }: TeamAutocompleteProps) => {\n\tconst [filter, setFilter] = useState('');\n\n\tconst teamsAutoCompleteEndpoint = useEndpoint('GET', '/v1/teams.autocomplete');\n\tconst { data, isSuccess } = useQuery(['teamsAutoComplete', filter], async () => teamsAutoCompleteEndpoint({ name: filter }));\n\n\tconst options = useMemo(\n\t\t() =>\n\t\t\tisSuccess\n\t\t\t\t? data?.teams.map(({ name, teamId, _id, avatarETag, t }) => ({\n\t\t\t\t\t\tvalue: teamId as string,\n\t\t\t\t\t\tlabel: { name, avatarETag, type: t, _id },\n\t\t\t\t  }))\n\t\t\t\t: [],\n\t\t[data, isSuccess],\n\t);\n\n\treturn (\n\t\t<AutoComplete\n\t\t\t{...props}\n\t\t\tvalue={value}\n\t\t\tonChange={onChange}\n\t\t\tfilter={filter}\n\t\t\tsetFilter={setFilter}\n\t\t\trenderSelected={({ selected: { value, label } }) => (\n\t\t\t\t<Box value={value}>\n\t\t\t\t\t<Avatar size='x20' {...label} /> {label.name}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\trenderItem={({ value, label, ...props }) => <Option key={value} {...props} label={label.name} avatar={<Avatar {...label} />} />}\n\t\t\toptions={options}\n\t\t/>\n\t);\n};\n\nexport default memo(TeamAutocomplete);\n",null],"names":["_regeneratorRuntime","_extends","_slicedToArray","_objectWithoutProperties","AutoComplete","Option","Box","useEndpoint","useQuery","React","memo","useMemo","useState","Avatar","module","link","default","v","exportDefault","_ref","value","onChange","props","_excluded","_useState2","filter","setFilter","teamsAutoCompleteEndpoint","_useQuery","async","_context","prev","next","abrupt","name","stop","Promise","data","isSuccess","options","teams","map","_ref2","teamId","_id","label","avatarETag","type","t","createElement","renderSelected","_ref3","_ref3$selected","selected","size","renderItem","_ref4","_excluded2","key","avatar"],"mappings":"2BAAAA,EAAkEC,EAAAC,EAAAC,EAAlEC,EAASC,EAAcC,EAA2CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,6CAA3CC,EAAQC,IAAG,CAAE,6BAA6B,CAACC,QAAAA,SAAAA,CAAAA,EAAAhB,EAAAA,CAAA,CAAA,EAAA,GAAAc,EAAAA,IAAAA,CAAAA,iCAAAA,CAAAE,QAAAA,SAAAA,CAAAA,EAAAf,EAAAA,CAAA,CAAA,EAAA,GAAAa,EAAAA,IAAAA,CAAAA,uCAAAA,CAAAE,QAAAA,SAAAA,CAAAA,EAAAd,EAAAA,CAAA,CAAA,EAAA,GAAAY,EAAAA,IAAAA,CAAAA,iDAAAA,CAAAE,QAAAA,SAAAA,CAAAA,EAAAb,EAAAA,CAAA,CAAA,EAAA,GAA3CW,EAAWC,IAAE,CAAA,wBAAM,CAAuBX,aAAC,SAAAa,CAAA,EAAAb,EAAAA,CAAA,EAAAC,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,IAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAP,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAN,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAR,EAAAA,CAAA,EAAAC,KAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,WAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAlEC,EAAOI,aAAE,CA6CMR,EAnCU,SAAAS,CAAA,EAAyD,IAAtDC,EAAKD,EAALC,KAAK,CAAEC,EAAQF,EAARE,QAAQ,CAAKC,EAAKnB,EAAAgB,EAAAI,GACZC,EAAAtB,EAAZU,EAAS,IAAG,GAAjCa,EAAMD,CAAA,CAAA,EAAA,CAAEE,EAASF,CAAA,CAAA,EAAA,CAElBG,EAA4BpB,EAAY,MAAO,0BACrDqB,EAA4BpB,EAAS,CAAC,oBAAqBiB,EAAO,CAAE,WAAA,OAAAzB,EAAA6B,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAG,MAAA,CAAA,SAAYN,EAA0B,CAAEO,KAAMT,CAAM,GAAG,MAAA,EAAA,IAAA,MAAA,OAAAK,EAAAK,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,GAAnHC,EAAIT,EAAJS,IAAI,CAAEC,EAASV,EAATU,SAAS,CAEjBC,EAAU5B,EACf,WAAA,OACC2B,EACGD,MAAAA,EAAI,KAAA,EAAJA,EAAMG,KAAK,CAACC,GAAG,CAAC,SAAAC,CAAA,EAAA,IAAGR,EAAIQ,EAAJR,IAAI,CAAES,EAAMD,EAANC,MAAM,CAAEC,EAAGF,EAAHE,GAAG,CAAe,MAAQ,CAC3DxB,MAAOuB,EACPE,MAAO,CAAEX,KAAAA,EAAMY,WAFiCJ,EAAVI,UAAU,CAErBC,KAFwBL,EAADM,CAAC,CAEfJ,IAAAA,CAAG,EACtC,GACD,EAAE,EACN,CAACP,EAAMC,EAAU,EAGlB,OACC7B,EAAAwC,aAAA,CAAC7C,EAAYH,EAAA,CAAA,EACRqB,EAAK,CACTF,MAAOA,EACPC,SAAUA,EACVI,OAAQA,EACRC,UAAWA,EACXwB,eAAgB,SAAAC,CAAA,EAAA,IAAAC,EAAAD,EAAGE,QAAQ,CAAIjC,EAAKgC,EAALhC,KAAK,CAAEyB,EAAKO,EAALP,KAAK,CAAA,OAC1CpC,EAAAwC,aAAA,CAAC3C,EAAG,CAACc,MAAOA,CAAM,EACjBX,EAAAwC,aAAA,CAACpC,EAAMZ,EAAA,CAACqD,KAAK,KAAK,EAAKT,IAAU,IAACA,EAAMX,IAAI,CACvC,EAEPqB,WAAY,SAAAC,CAAA,EAAA,IAAGpC,EAAKoC,EAALpC,KAAK,CAAEyB,EAAKW,EAALX,KAAK,CAAKvB,EAAKnB,EAAAqD,EAAAC,GAAA,OAAOhD,EAAAwC,aAAA,CAAC5C,EAAMJ,EAAA,CAACyD,IAAKtC,CAAM,EAAKE,EAAK,CAAEuB,MAAOA,EAAMX,IAAK,CAACyB,OAAQlD,EAAAwC,aAAA,CAACpC,EAAWgC,EAAU,GAAG,EAC/HN,QAASA,CAAQ,GAGpB"}