)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/hooks/useDialModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useSetModal, useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { Suspense, lazy, useCallback, useMemo } from 'react';\n\nimport { useIsVoipEnterprise } from '../contexts/CallContext';\nimport { dispatchToastMessage } from '../lib/toast';\n\nconst DialPadModal = lazy(() => import('../../ee/client/voip/modal/DialPad/DialPadModal'));\n\ntype DialModalProps = {\n\tinitialValue?: string;\n\terrorMessage?: string;\n};\n\ntype DialModalControls = {\n\topenDialModal: (props?: DialModalProps) => void;\n\tcloseDialModal: () => void;\n};\n\nexport const useDialModal = (): DialModalControls => {\n\tconst setModal = useSetModal();\n\tconst isEnterprise = useIsVoipEnterprise();\n\tconst t = useTranslation();\n\n\tconst closeDialModal = useCallback(() => setModal(null), [setModal]);\n\n\tconst openDialModal = useCallback(\n\t\t({ initialValue, errorMessage }: DialModalProps = {}) => {\n\t\t\tif (!isEnterprise) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: t('You_do_not_have_permission_to_do_this') });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetModal(\n\t\t\t\t// TODO: Revisit Modal's FocusScope which currently does not accept null as children.\n\t\t\t\t// Added dummy div fallback for that reason.\n\t\t\t\t<Suspense fallback={<div />}>\n\t\t\t\t\t<DialPadModal initialValue={initialValue} errorMessage={errorMessage} handleClose={closeDialModal} />\n\t\t\t\t</Suspense>,\n\t\t\t);\n\t\t},\n\t\t[setModal, isEnterprise, t, closeDialModal],\n\t);\n\n\treturn useMemo(\n\t\t() => ({\n\t\t\topenDialModal,\n\t\t\tcloseDialModal,\n\t\t}),\n\t\t[openDialModal, closeDialModal],\n\t);\n};\n",null],"names":["module","export","useDialModal","useSetModal","useTranslation","v","React","Suspense","lazy","useCallback","useMemo","useIsVoipEnterprise","dispatchToastMessage","DialPadModal","dynamicImport","setModal","isEnterprise","t","closeDialModal","openDialModal","_ref","arguments","length","undefined","initialValue","errorMessage","type","message","createElement","fallback","handleClose"],"mappings":"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,aAAa,WAAgB,OAAMA,CAAA,CAAA,GAA2BF,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAG,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAJ,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAK,CAAA,EAAAC,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,KAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAV,EAAAA,IAAAA,CAAAA,0BAAAA,CAAAW,oBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAX,EAAAA,IAAAA,CAAAA,eAAAA,CAAAY,qBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAMvE,IAN4CT,EAA2BC,EAAAE,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAMjEC,EAAeL,EAAK,WAAA,OAAMR,EAAAc,aAAA,CAAO,kDAAkD,GAY5EZ,EAAe,WAC3B,IAAMa,EAAWZ,IACXa,EAAeL,IACfM,EAAIb,IAEJc,EAAiBT,EAAY,WAAA,OAAMM,EAAS,KAAK,EAAE,CAACA,EAAS,EAE7DI,EAAgBV,EACrB,WAAwD,IAAAW,EAAAC,UAAAC,MAAA,CAAA,GAAAD,AAAAE,KAAAA,IAAAF,SAAA,CAAA,EAAA,CAAAA,SAAA,CAAA,EAAA,CAAN,CAAA,EAA/CG,EAAYJ,EAAZI,YAAY,CAAEC,EAAYL,EAAZK,YAAY,CAC5B,GAAI,CAACT,EAAc,CAClBJ,EAAqB,CAAEc,KAAM,QAASC,QAASV,EAAE,wCAAwC,GACzF,OAGDF,EAGCT,EAAAsB,aAAA,CAACrB,EAAQ,CAACsB,SAAUvB,EAAAsB,aAAA,CAAA,MAAA,KAAQ,EAC3BtB,EAAAsB,aAAA,CAACf,EAAY,CAACW,aAAcA,EAAcC,aAAcA,EAAcK,YAAaZ,CAAe,IAGrG,EACA,CAACH,EAAUC,EAAcC,EAAGC,EAAe,EAG5C,OAAOR,EACN,WAAA,MAAO,CACNS,cAAAA,EACAD,eAAAA,EACA,EACD,CAACC,EAAeD,EAAe,CAEjC"}