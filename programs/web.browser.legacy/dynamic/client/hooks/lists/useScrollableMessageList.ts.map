)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/hooks/lists/useScrollableMessageList.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage, Serialized } from '@rocket.chat/core-typings';\nimport { useCallback } from 'react';\n\nimport type { MessageList } from '../../lib/lists/MessageList';\nimport type { RecordListBatchChanges } from '../../lib/lists/RecordList';\nimport { mapMessageFromApi } from '../../lib/utils/mapMessageFromApi';\nimport { useScrollableRecordList } from './useScrollableRecordList';\n\nexport const useScrollableMessageList = (\n\tmessageList: MessageList,\n\tfetchMessages: (start: number, end: number) => Promise<RecordListBatchChanges<Serialized<IMessage>>>,\n\tinitialItemCount?: number,\n): ReturnType<typeof useScrollableRecordList> => {\n\tconst fetchItems = useCallback(\n\t\tasync (start: number, end: number): Promise<RecordListBatchChanges<IMessage>> => {\n\t\t\tconst batchChanges = await fetchMessages(start, end);\n\t\t\treturn {\n\t\t\t\t...(batchChanges.items && { items: batchChanges.items.map(mapMessageFromApi) }),\n\t\t\t\t...(batchChanges.itemCount && { itemCount: batchChanges.itemCount }),\n\t\t\t};\n\t\t},\n\t\t[fetchMessages],\n\t);\n\n\treturn useScrollableRecordList(messageList, fetchItems, initialItemCount);\n};\n",null],"names":["module","link","default","_regeneratorRuntime","_objectSpread","export","useScrollableMessageList","useCallback","mapMessageFromApi","useScrollableRecordList","messageList","fetchMessages","initialItemCount","start","end","batchChanges","async","_context","prev","next","awrap","sent","abrupt","items","map","itemCount","stop","Promise"],"mappings":"uBACsBA,EAAMC,IAAO,CAAC,6BAAA,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAAH,EAAAA,IAAAA,CAAAA,uCAAAA,CAAAE,QAAAA,SAAAA,CAAAA,EAAAE,EAAAA,CAAA,CAAA,EAAA,GAApCJ,EAAOK,MAAE,CAAA,CAAAC,yBAA2B,WAAA,OAAAA,CAAA,CAAA,GAAAN,EAAAA,IAAAA,CAAAA,QAAAA,CAAAO,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAP,EAAAA,IAAAA,CAAAA,oCAAAA,CAAAQ,kBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAR,EAAAA,IAAAA,CAAAA,4BAAAA,CAAAS,wBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAO7B,IAPPN,EAAoCC,EAAAG,EAAAC,EAAAC,EAOvBH,EAA2B,SACvCI,CAAwB,CACxBC,CAAoG,CACpGC,CAAyB,EAazB,OAAOH,EAAwBC,EAXZH,EAClB,SAAOM,CAAa,CAAEC,CAAW,EAAA,IAAAC,EAAA,OAAAZ,EAAAa,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAE,IAAA,CAAA,EAAAhB,EAAAiB,KAAA,CACLT,EAAcE,EAAOC,GAAI,MAAA,EAAlC,OAAZC,EAAYE,EAAAI,IAAA,CAAAJ,EAAAK,MAAA,CAAA,SAAAlB,EAAAA,EAAA,CAAA,EAEbW,EAAaQ,KAAK,EAAI,CAAEA,MAAOR,EAAaQ,KAAK,CAACC,GAAG,CAAChB,EAAkB,GACxEO,EAAaU,SAAS,EAAI,CAAEA,UAAWV,EAAaU,SAAAA,AAAS,GAAE,MAAA,EAAA,IAAA,MAAA,OAAAR,EAAAS,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAGrE,CAAChB,EAAc,EAGwCC,EACzD"}