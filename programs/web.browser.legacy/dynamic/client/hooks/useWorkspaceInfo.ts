function module(e,n,t){t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){i=e}},1),t.export({useWorkspaceInfo:function(){return c},useRefreshStatistics:function(){return f}}),t.link("@rocket.chat/ui-contexts",{useEndpoint:function(e){s=e}},0),t.link("@tanstack/react-query",{useMutation:function(e){a=e},useQueries:function(e){u=e},useQueryClient:function(e){o=e}},1);var r,i,s,a,u,o,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.refreshStatistics,t=s("GET","/v1/statistics"),a=s("GET","/v1/instances.get"),o=s("GET","/info");return u({queries:[{queryKey:["info","serverInfo"],queryFn:function(){var e;return i.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.awrap(o());case 2:if("minimumClientVersions"in(e=n.sent)){n.next=5;break}throw Error("Invalid server info");case 5:if("info"in e){n.next=7;break}throw Error("Invalid server info");case 7:if("version"in e){n.next=9;break}throw Error("Invalid server info");case 9:return n.abrupt("return",e);case 10:case"end":return n.stop()}},null,null,null,Promise)},staleTime:1/0,keepPreviousData:!0},{queryKey:["info","instances"],queryFn:function(){return a()},staleTime:1/0,keepPreviousData:!0,select:function(e){return e.instances.map(function(e){return r(r({},e),e.instanceRecord&&{instanceRecord:r(r({},e.instanceRecord),{},{_createdAt:new Date(e.instanceRecord._createdAt)})})})}},{queryKey:["info","statistics"],queryFn:function(){return t({refresh:n?"true":"false"})},staleTime:1/0,keepPreviousData:!0,select:function(e){return r(r({},e),{},{lastMessageSentAt:e.lastMessageSentAt?new Date(e.lastMessageSentAt):void 0})}}]})},f=function(){var e=o();return a({mutationFn:function(){return e.invalidateQueries(["info","statistics"])}})}}
//# sourceMappingURL=/dynamic/client/hooks/cdf1e3da7b06722d0550a84a38fd11fc2c17e3e9.map
