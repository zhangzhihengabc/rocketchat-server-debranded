)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/hooks/omnichannel/useIsRoomOverMacLimit.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { isOmnichannelRoom, type IOmnichannelGenericRoom, isVoipRoom } from '@rocket.chat/core-typings';\n\nimport { useIsOverMacLimit } from './useIsOverMacLimit';\n\nconst getPeriod = (date: Date) => `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n\nexport const useIsRoomOverMacLimit = (room: IRoom) => {\n\tconst isOverMacLimit = useIsOverMacLimit();\n\n\tif (!isOmnichannelRoom(room) && !isVoipRoom(room)) {\n\t\treturn false;\n\t}\n\n\tif (room.closedAt) {\n\t\treturn false;\n\t}\n\n\tconst { v: { activity = [] } = {} } = room as IOmnichannelGenericRoom;\n\n\tconst currentPeriod = getPeriod(new Date());\n\treturn isOverMacLimit && !activity.includes(currentPeriod);\n};\n",null],"names":["module","export","useIsRoomOverMacLimit","isOmnichannelRoom","isVoipRoom","useIsOverMacLimit","room","date","isOverMacLimit","closedAt","_room$v","v","_room$v$activity","activity","currentPeriod","Date","getFullYear","String","getMonth","padStart","includes"],"mappings":"uBACAA,EAAOC,MAAE,CAAA,CAAAC,sBAAiD,WAAkB,OAAAA,CAA4B,CAAA,GAAAF,EAAAA,IAAAA,CAAAA,4BAAAA,CAAAG,kBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAJ,EAAAA,IAAAA,CAAAA,sBAAAA,CAAAK,kBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAMjG,IANiGF,EAAAC,EAAAC,EAM3FH,EAAwB,SAACI,CAAW,EAChD,IAHkBC,EAGZC,EAAiBH,IAEvB,GAAI,CAACF,EAAkBG,IAAS,CAACF,EAAWE,IAIxCA,EAAKG,QAAQ,CAHhB,MAAO,CAAA,EAOR,IAAAC,EAAsCJ,EAA9BK,CAAC,CAATC,EAAAF,CAAAA,EAAAA,AAAA,KAAA,IAAAA,EAA+B,CAAA,EAAEA,CAAA,EAApBG,QAAQ,CAEfC,EAf8BP,CAAlBA,EAec,IAAIQ,MAfKC,WAAW,GAAE,IAAIC,OAAOV,EAAKW,QAAQ,GAAK,GAAGC,QAAQ,CAAC,EAAG,KAgBlG,OAAOX,GAAkB,CAACK,AAHLD,CAAAA,AAAA,KAAA,IAAAA,EAAG,EAAE,CAAAA,CAAA,EAGSQ,QAAQ,CAACN,EAC7C"}