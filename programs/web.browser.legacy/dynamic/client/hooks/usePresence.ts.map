)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/hooks/usePresence.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useCallback } from 'react';\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\n\nimport type { UserPresence } from '../lib/presence';\nimport { Presence } from '../lib/presence';\n\n/**\n * @deprecated\n * Hook to fetch and subscribe users presence\n *\n * @param uid - User Id\n * @returns UserPresence\n * @public\n */\nexport const usePresence = (uid: string | undefined): UserPresence | undefined => {\n\tconst subscribe = useCallback(\n\t\t(callback: any): any => {\n\t\t\tuid && Presence.listen(uid, callback);\n\t\t\treturn (): void => {\n\t\t\t\tuid && Presence.stop(uid, callback);\n\t\t\t};\n\t\t},\n\t\t[uid],\n\t);\n\n\tconst getSnapshot = (): UserPresence | undefined => (uid ? Presence.store.get(uid) : undefined);\n\n\treturn useSyncExternalStore(subscribe, getSnapshot);\n};\n",null],"names":["module","export","usePresence","useCallback","useSyncExternalStore","Presence","uid","callback","listen","stop","store","get","undefined"],"mappings":"uBAAAA,EAAOC,MAAE,CAAA,CAAAC,YAAa,WAAc,OAAAA,CAAA,CAAA,GAAAF,EAAAA,IAAAA,CAAAA,QAAAA,CAAAG,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAH,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAI,qBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAJ,EAAAA,IAAAA,CAAAA,kBAAAA,CAAAK,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAc7B,IAd6BF,EAAAC,EAAAC,EAcvBH,EAAc,SAACI,CAAuB,EAalD,OAAOF,EAZWD,EACjB,SAACI,CAAa,EAEb,OADAD,GAAOD,EAASG,MAAM,CAACF,EAAKC,GACrB,WACND,GAAOD,EAASI,IAAI,CAACH,EAAKC,EAC3B,CACD,EACA,CAACD,EAAI,EAGc,WAAA,OAAiCA,EAAMD,EAASK,KAAK,CAACC,GAAG,CAACL,GAAOM,KAAAA,CAAS,EAG/F"}