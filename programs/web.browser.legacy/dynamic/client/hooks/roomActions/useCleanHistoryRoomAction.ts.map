)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/hooks/roomActions/useCleanHistoryRoomAction.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { isRoomFederated } from '@rocket.chat/core-typings';\nimport { usePermission } from '@rocket.chat/ui-contexts';\nimport { lazy, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useRoom } from '../../views/room/contexts/RoomContext';\nimport type { RoomToolboxActionConfig } from '../../views/room/contexts/RoomToolboxContext';\n\nconst PruneMessages = lazy(() => import('../../views/room/contextualBar/PruneMessages'));\n\nexport const useCleanHistoryRoomAction = () => {\n\tconst room = useRoom();\n\tconst federated = isRoomFederated(room);\n\tconst permitted = usePermission('clean-channel-history', room._id);\n\tconst { t } = useTranslation();\n\n\treturn useMemo((): RoomToolboxActionConfig | undefined => {\n\t\tif (!permitted) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn {\n\t\t\tid: 'clean-history',\n\t\t\tgroups: ['channel', 'group', 'team', 'direct_multiple', 'direct'],\n\t\t\tfull: true,\n\t\t\ttitle: 'Prune_Messages',\n\t\t\ticon: 'eraser',\n\t\t\t...(federated && {\n\t\t\t\ttooltip: t('core.Clean_History_unavailable_for_federation'),\n\t\t\t\tdisabled: true,\n\t\t\t}),\n\t\t\ttabComponent: PruneMessages,\n\t\t\torder: 250,\n\t\t\ttype: 'customization',\n\t\t};\n\t}, [federated, permitted, t]);\n};\n",null],"names":["module","link","default","_objectSpread","export","useCleanHistoryRoomAction","isRoomFederated","usePermission","lazy","useMemo","useTranslation","useRoom","PruneMessages","dynamicImport","room","federated","permitted","_id","t","_useTranslation","id","groups","full","title","icon","tooltip","disabled","tabComponent","order","type"],"mappings":"uBAASA,EAAeC,IAAE,CAAA,uCAAkC,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAA5DH,EAAOI,MAAE,CAAA,CAAAC,0BAAuB,WAAA,OAA2BA,CAAC,CAAA,GAAAL,EAAAA,IAAAA,CAAAA,4BAAAA,CAAAM,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAO,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAP,EAAAA,IAAAA,CAAAA,QAAAA,CAAAQ,KAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAT,EAAAA,IAAAA,CAAAA,gBAAAA,CAAAU,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAV,EAAAA,IAAAA,CAAAA,wCAAAA,CAAAW,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAQ5D,IARAR,EAA4DG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAQtDC,EAAgBJ,EAAK,WAAA,OAAMR,EAAAa,aAAA,CAAO,+CAA+C,GAE1ER,EAA4B,WACxC,IAAMS,EAAOH,IACPI,EAAYT,EAAgBQ,GAC5BE,EAAYT,EAAc,wBAAyBO,EAAKG,GAAG,EACzDC,EAACC,AAAKT,IAANQ,CAAC,CAET,OAAOT,EAAQ,WACd,GAAKO,EAIL,OAAAb,EAAAA,EAAA,CACCiB,GAAI,gBACJC,OAAQ,CAAC,UAAW,QAAS,OAAQ,kBAAmB,SAAS,CACjEC,KAAM,CAAA,EACNC,MAAO,iBACPC,KAAM,QAAQ,EACVT,GAAa,CAChBU,QAASP,EAAE,iDACXQ,SAAU,CAAA,IACV,CAAA,EAAA,CACDC,aAAcf,EACdgB,MAAO,IACPC,KAAM,eAAe,EAEvB,EAAG,CAACd,EAAWC,EAAWE,EAAE,CAC7B"}