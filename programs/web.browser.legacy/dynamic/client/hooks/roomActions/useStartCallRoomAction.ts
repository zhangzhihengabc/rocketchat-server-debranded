function module(n,e,o){o.link("@babel/runtime/helpers/objectSpread2",{default:function(n){t=n}},0),o.link("@babel/runtime/regenerator",{default:function(n){i=n}},1),o.export({useStartCallRoomAction:function(){return k}}),o.link("@rocket.chat/core-typings",{isRoomFederated:function(n){r=n}},0),o.link("@rocket.chat/fuselage-hooks",{useStableArray:function(n){l=n},useMutableCallback:function(n){a=n}},1),o.link("@rocket.chat/ui-contexts",{useSetting:function(n){u=n},useUser:function(n){c=n},usePermission:function(n){s=n}},2),o.link("react",{useMemo:function(n){f=n}},3),o.link("react-i18next",{useTranslation:function(n){d=n}},4),o.link("../../contexts/VideoConfContext",{useVideoConfDispatchOutgoing:function(n){p=n},useVideoConfIsCalling:function(n){m=n},useVideoConfIsRinging:function(n){C=n}},5),o.link("../../lib/VideoConfManager",{VideoConfManager:function(n){_=n}},6),o.link("../../views/room/contexts/RoomContext",{useRoom:function(n){b=n}},7),o.link("../../views/room/contextualBar/VideoConference/hooks/useVideoConfWarning",{useVideoConfWarning:function(n){g=n}},8);var t,i,r,l,a,u,c,s,f,d,p,m,C,_,b,g,k=function(){var n,e,o,k,v,h=b(),V=r(h),x=n=(null===(e=h.uids)||void 0===e?void 0:e.length)===1,y=o=(null==h?void 0:null===(k=h.streamingOptions)||void 0===k?void 0:k.type)==="call",M=s("post-readonly",h._id),R=s("call-management",h._id),w=g(),E=p(),S=m(),O=C(),A=d().t,D=u("VideoConf_Enable_DMs",!0),I=u("VideoConf_Enable_Channels",!0),P=u("VideoConf_Enable_Teams",!0),T=l([D&&"direct",D&&"direct_multiple",u("VideoConf_Enable_Groups",!0)&&"group","default-provider"===u("Omnichannel_call_provider","default-provider")&&"live",P&&"team",I&&"channel"].filter(function(n){return!!n})),W=T.length>0,j=c(),B=W&&R&&(!(null!=j&&j.username)||!(null!==(v=h.muted)&&void 0!==v&&v.includes(j.username)))&&!x,F=a(function(){return i.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(S||O)){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,i.awrap(_.loadCapabilities());case 5:E({rid:h._id}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),w(n.t0.error);case 11:case"end":return n.stop()}},null,null,[[2,8]],Promise)}),G=V||!!h.ro&&!M;return f(function(){if(B)return t(t({id:"start-call",groups:T,title:"Call",icon:"phone",action:function(){F()}},G&&{tooltip:A("core.Video_Call_unavailable_for_this_type_of_room"),disabled:!0}),{},{full:!0,order:y?-1:4,featured:!0})},[B,G,T,F,y,A])}}
//# sourceMappingURL=/dynamic/client/hooks/roomActions/4d110683343abe3d188937bdbf099c4d543e2988.map
