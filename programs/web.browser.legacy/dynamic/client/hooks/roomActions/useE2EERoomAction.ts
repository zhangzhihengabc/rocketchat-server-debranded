function module(e,n,t){t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){o=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){i=e}},1),t.export({useE2EERoomAction:function(){return E}}),t.link("@rocket.chat/core-typings",{isRoomFederated:function(e){r=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){a=e}},1),t.link("@rocket.chat/ui-contexts",{useSetting:function(e){c=e},usePermission:function(e){u=e},useEndpoint:function(e){s=e}},2),t.link("react",{useCallback:function(e){l=e},useMemo:function(e){d=e}},3),t.link("react-i18next",{useTranslation:function(e){f=e}},4),t.link("../../../app/e2e/client/rocketchat.e2e",{e2e:function(e){m=e}},5),t.link("../../lib/toast",{dispatchToastMessage:function(e){p=e}},6),t.link("../../views/room/contexts/RoomContext",{useRoom:function(e){_=e},useRoomSubscription:function(e){b=e}},7),t.link("../useReactiveValue",{useReactiveValue:function(e){k=e}},8);var o,i,r,a,c,u,s,l,d,f,m,p,_,b,k,E=function(){var e=c("E2E_Enable",!1),n=_(),t=b(),E=k(l(function(){return m.isReady()},[]))||n.encrypted,y=u("toggle-room-e2e-encryption",n._id),g=u("edit-room",n._id),v=("d"===n.t||g&&y)&&E,R=r(n),h=f().t,x=s("POST","/v1/rooms.saveRoomSettings"),S=a(function(){return i.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.awrap(x({rid:n._id,encrypted:!n.encrypted}));case 2:if(e.sent.success){e.next=6;break}return e.abrupt("return");case 6:p({type:"success",message:n.encrypted?h("E2E_Encryption_disabled_for_room",{roomName:n.name}):h("E2E_Encryption_enabled_for_room",{roomName:n.name})}),null!=t&&t.autoTranslate&&p({type:"success",message:h("AutoTranslate_Disabled_for_room",{roomName:n.name})});case 8:case"end":return e.stop()}},null,null,null,Promise)}),T=!!n.encrypted;return d(function(){if(e&&v)return o({id:"e2e",groups:["direct","direct_multiple","group","team"],title:T?"E2E_disable":"E2E_enable",icon:"key",order:13,action:S,type:"organization"},R&&{tooltip:h("core.E2E_unavailable_for_federation"),disabled:!0})},[e,v,R,h,T,S])}}
//# sourceMappingURL=/dynamic/client/hooks/roomActions/84bb80af9fce4cb8c3d84411c8ef8b63cf7f01d2.map
