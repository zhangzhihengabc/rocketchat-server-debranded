)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/hooks/roomActions/useOTRRoomAction.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { isRoomFederated } from '@rocket.chat/core-typings';\nimport { useSetting } from '@rocket.chat/ui-contexts';\nimport { lazy, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { useRoom } from '../../views/room/contexts/RoomContext';\nimport type { RoomToolboxActionConfig } from '../../views/room/contexts/RoomToolboxContext';\n\nconst OTR = lazy(() => import('../../views/room/contextualBar/OTR'));\n\nexport const useOTRRoomAction = () => {\n\tconst enabled = useSetting('OTR_Enable', false);\n\tconst room = useRoom();\n\tconst federated = isRoomFederated(room);\n\tconst capable = !!global.crypto;\n\tconst { t } = useTranslation();\n\n\treturn useMemo((): RoomToolboxActionConfig | undefined => {\n\t\tif (!enabled || !capable) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn {\n\t\t\tid: 'otr',\n\t\t\tgroups: ['direct'],\n\t\t\ttitle: 'OTR',\n\t\t\ticon: 'stopwatch',\n\t\t\ttabComponent: OTR,\n\t\t\torder: 13,\n\t\t\tfull: true,\n\t\t\ttype: 'communication',\n\t\t\t...(federated && {\n\t\t\t\ttooltip: t('core.OTR_unavailable_for_federation'),\n\t\t\t\tdisabled: true,\n\t\t\t}),\n\t\t};\n\t}, [enabled, capable, federated, t]);\n};\n",null],"names":["module","link","default","_objectSpread","export","useOTRRoomAction","isRoomFederated","useSetting","lazy","useMemo","useTranslation","useRoom","OTR","dynamicImport","enabled","federated","capable","global","crypto","t","_useTranslation","id","groups","title","icon","tabComponent","order","full","type","tooltip","disabled"],"mappings":"uBAASA,EAAeC,IAAE,CAAA,uCAAkC,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAA5DH,EAAOI,MAAE,CAAA,CAAAC,iBAAuB,WAAA,OAAAA,CAA4B,CAAA,GAAAL,EAAAA,IAAAA,CAAAA,4BAAAA,CAAAM,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAO,WAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAP,EAAAA,IAAAA,CAAAA,QAAAA,CAAAQ,KAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAT,EAAAA,IAAAA,CAAAA,gBAAAA,CAAAU,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAV,EAAAA,IAAAA,CAAAA,wCAAAA,CAAAW,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAQ5D,IARAR,EAA4DG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAQtDC,EAAMJ,EAAK,WAAA,OAAMR,EAAAa,aAAA,CAAO,qCAAqC,GAEtDR,EAAmB,WAC/B,IAAMS,EAAUP,EAAW,aAAc,CAAA,GAEnCQ,EAAYT,EADLK,KAEPK,EAAU,CAAC,CAACC,OAAOC,MAAM,CACvBC,EAACC,AAAKV,IAANS,CAAC,CAET,OAAOV,EAAQ,WACd,GAAI,AAACK,GAAYE,EAIjB,OAAAb,EAAA,CACCkB,GAAI,MACJC,OAAQ,CAAC,SAAS,CAClBC,MAAO,MACPC,KAAM,YACNC,aAAcb,EACdc,MAAO,GACPC,KAAM,CAAA,EACNC,KAAM,eAAe,EACjBb,GAAa,CAChBc,QAASV,EAAE,uCACXW,SAAU,CAAA,GAGb,EAAG,CAAChB,EAASE,EAASD,EAAWI,EAAE,CACpC"}