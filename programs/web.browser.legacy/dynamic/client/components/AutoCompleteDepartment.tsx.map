)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/AutoCompleteDepartment.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { PaginatedSelectFiltered } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo, useMemo, useState } from 'react';\n\nimport { useRecordList } from '../hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../hooks/useAsyncState';\nimport { useDepartmentsList } from './Omnichannel/hooks/useDepartmentsList';\n\ntype AutoCompleteDepartmentProps = {\n\tvalue?: string;\n\tonChange: (value: string) => void;\n\texcludeDepartmentId?: string;\n\tonlyMyDepartments?: boolean;\n\thaveAll?: boolean;\n\thaveNone?: boolean;\n\tshowArchived?: boolean;\n};\n\nconst AutoCompleteDepartment = ({\n\tvalue,\n\texcludeDepartmentId,\n\tonlyMyDepartments,\n\tonChange,\n\thaveAll,\n\thaveNone,\n\tshowArchived = false,\n}: AutoCompleteDepartmentProps): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst [departmentsFilter, setDepartmentsFilter] = useState<string>('');\n\n\tconst debouncedDepartmentsFilter = useDebouncedValue(departmentsFilter, 500);\n\n\tconst { itemsList: departmentsList, loadMoreItems: loadMoreDepartments } = useDepartmentsList(\n\t\tuseMemo(\n\t\t\t() => ({\n\t\t\t\tfilter: debouncedDepartmentsFilter,\n\t\t\t\tonlyMyDepartments,\n\t\t\t\thaveAll,\n\t\t\t\thaveNone,\n\t\t\t\texcludeDepartmentId,\n\t\t\t\tshowArchived,\n\t\t\t}),\n\t\t\t[debouncedDepartmentsFilter, onlyMyDepartments, haveAll, haveNone, excludeDepartmentId, showArchived],\n\t\t),\n\t);\n\n\tconst { phase: departmentsPhase, items: departmentsItems, itemCount: departmentsTotal } = useRecordList(departmentsList);\n\n\treturn (\n\t\t<PaginatedSelectFiltered\n\t\t\twithTitle\n\t\t\tvalue={value}\n\t\t\tonChange={onChange}\n\t\t\tfilter={departmentsFilter}\n\t\t\tsetFilter={setDepartmentsFilter as (value?: string | number) => void}\n\t\t\toptions={departmentsItems}\n\t\t\tplaceholder={t('Select_an_option')}\n\t\t\tdata-qa='autocomplete-department'\n\t\t\tendReached={\n\t\t\t\tdepartmentsPhase === AsyncStatePhase.LOADING\n\t\t\t\t\t? (): void => undefined\n\t\t\t\t\t: (start): void => loadMoreDepartments(start, Math.min(50, departmentsTotal))\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default memo(AutoCompleteDepartment);\n",null],"names":["_slicedToArray","PaginatedSelectFiltered","useDebouncedValue","useTranslation","React","memo","useMemo","useState","useRecordList","AsyncStatePhase","useDepartmentsList","module","default","link","v","exportDefault","_ref","value","excludeDepartmentId","onlyMyDepartments","onChange","haveAll","haveNone","_ref$showArchived","showArchived","t","_useState2","departmentsFilter","setDepartmentsFilter","debouncedDepartmentsFilter","_useDepartmentsList","filter","departmentsList","itemsList","loadMoreDepartments","loadMoreItems","_useRecordList","departmentsPhase","phase","departmentsItems","items","departmentsTotal","itemCount","createElement","withTitle","setFilter","options","placeholder","endReached","LOADING","start","Math","min"],"mappings":"uBAoBA,IApBAA,EAAAC,EAAgEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvDC,EAAAA,IAAAA,CAAAA,uCAAuD,CAAAC,QAAAA,SAAAA,CAAAA,EAAAZ,EAAAA,CAAA,CAAA,EAAA,GAAvDW,EAAyBE,IAAA,CAAM,wBAAwB,CAAAZ,wBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAT,kBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAR,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAV,EAAAA,CAAA,EAAAC,KAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAH,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,yBAAAA,CAAAF,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,yCAAAA,CAAAD,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAhEC,EAAOI,aAAE,CAqEMV,EAjDgB,SAAAW,CAAA,EAQwB,IAPtDC,EAAKD,EAALC,KAAK,CACLC,EAAmBF,EAAnBE,mBAAmB,CACnBC,EAAiBH,EAAjBG,iBAAiB,CACjBC,EAAQJ,EAARI,QAAQ,CACRC,EAAOL,EAAPK,OAAO,CACPC,EAAQN,EAARM,QAAQ,CAAAC,EAAAP,EACRQ,YAAY,CAAZA,EAAYD,AAAA,KAAA,IAAAA,GAAQA,EAEdE,EAAItB,IAC4DuB,EAAA1B,EAApBO,EAAiB,IAAG,GAA/DoB,EAAiBD,CAAA,CAAA,EAAA,CAAEE,EAAoBF,CAAA,CAAA,EAAA,CAExCG,EAA6B3B,EAAkByB,EAAmB,KAExEG,EAA2EpB,EAC1EJ,EACC,WAAA,MAAO,CACNyB,OAAQF,EACRV,kBAAAA,EACAE,QAAAA,EACAC,SAAAA,EACAJ,oBAAAA,EACAM,aAAAA,EACA,EACD,CAACK,EAA4BV,EAAmBE,EAASC,EAAUJ,EAAqBM,EAAa,GAVpFQ,EAAeF,EAA1BG,SAAS,CAAkCC,EAAmBJ,EAAlCK,aAAa,CAcjDC,EAA0F5B,EAAcwB,GAAzFK,EAAgBD,EAAvBE,KAAK,CAA2BC,EAAgBH,EAAvBI,KAAK,CAA+BC,EAAgBL,EAA3BM,SAAS,CAEnE,OACCtC,EAAAuC,aAAA,CAAC1C,EAAuB,CACvB2C,UAAS,CAAA,EACT3B,MAAOA,EACPG,SAAUA,EACVW,OAAQJ,EACRkB,UAAWjB,EACXkB,QAASP,EACTQ,YAAatB,EAAE,oBACf,UAAQ,0BACRuB,WACCX,IAAqB5B,EAAgBwC,OAAO,CACzC,WAAqB,EACrB,SAACC,CAAK,EAAA,OAAWhB,EAAoBgB,EAAOC,KAAKC,GAAG,CAAC,GAAIX,GAAkB,CAC9E,EAGJ"}