)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/UserInfo/UserInfo.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IUser, Serialized } from '@rocket.chat/core-typings';\nimport { Box, Margins, Tag } from '@rocket.chat/fuselage';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ReactNode } from 'react';\nimport React, { memo } from 'react';\n\nimport { useTimeAgo } from '../../hooks/useTimeAgo';\nimport { useUserCustomFields } from '../../hooks/useUserCustomFields';\nimport { useUserDisplayName } from '../../hooks/useUserDisplayName';\nimport { ContextualbarScrollableContent } from '../Contextualbar';\nimport InfoPanel from '../InfoPanel';\nimport MarkdownText from '../MarkdownText';\nimport UTCClock from '../UTCClock';\nimport UserCard from '../UserCard';\nimport UserInfoAvatar from './UserInfoAvatar';\n\ntype UserInfoDataProps = Serialized<\n\tPick<\n\t\tIUser,\n\t\t| 'name'\n\t\t| 'username'\n\t\t| 'nickname'\n\t\t| 'bio'\n\t\t| 'lastLogin'\n\t\t| 'avatarETag'\n\t\t| 'utcOffset'\n\t\t| 'phone'\n\t\t| 'createdAt'\n\t\t| 'statusText'\n\t\t| 'canViewAllInfo'\n\t\t| 'customFields'\n\t>\n>;\n\ntype UserInfoProps = UserInfoDataProps & {\n\tstatus: ReactNode;\n\temail?: string;\n\tverified?: boolean;\n\tactions: ReactElement;\n\troles: ReactElement[];\n};\n\nconst UserInfo = ({\n\tusername,\n\tname,\n\tlastLogin,\n\tnickname,\n\tbio,\n\tavatarETag,\n\troles,\n\tutcOffset,\n\tphone,\n\temail,\n\tverified,\n\tcreatedAt,\n\tstatus,\n\tstatusText,\n\tcustomFields,\n\tcanViewAllInfo,\n\tactions,\n\t...props\n}: UserInfoProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst timeAgo = useTimeAgo();\n\tconst userDisplayName = useUserDisplayName({ name, username });\n\tconst userCustomFields = useUserCustomFields(customFields);\n\n\treturn (\n\t\t<ContextualbarScrollableContent p={24} {...props}>\n\t\t\t<InfoPanel>\n\t\t\t\t{username && (\n\t\t\t\t\t<InfoPanel.Avatar>\n\t\t\t\t\t\t<UserInfoAvatar username={username} etag={avatarETag} />\n\t\t\t\t\t</InfoPanel.Avatar>\n\t\t\t\t)}\n\n\t\t\t\t{actions && <InfoPanel.Section>{actions}</InfoPanel.Section>}\n\n\t\t\t\t<InfoPanel.Section>\n\t\t\t\t\t{userDisplayName && <InfoPanel.Title icon={status} title={userDisplayName} />}\n\t\t\t\t\t{statusText && (\n\t\t\t\t\t\t<InfoPanel.Text>\n\t\t\t\t\t\t\t<MarkdownText content={statusText} parseEmoji={true} />\n\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t)}\n\t\t\t\t</InfoPanel.Section>\n\n\t\t\t\t<InfoPanel.Section>\n\t\t\t\t\t{roles.length !== 0 && (\n\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t<InfoPanel.Label>{t('Roles')}</InfoPanel.Label>\n\t\t\t\t\t\t\t<UserCard.Roles>{roles}</UserCard.Roles>\n\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{Number.isInteger(utcOffset) && (\n\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t<InfoPanel.Label>{t('Local_Time')}</InfoPanel.Label>\n\t\t\t\t\t\t\t<InfoPanel.Text>{utcOffset && <UTCClock utcOffset={utcOffset} />}</InfoPanel.Text>\n\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{username && username !== name && (\n\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t<InfoPanel.Label>{t('Username')}</InfoPanel.Label>\n\t\t\t\t\t\t\t<InfoPanel.Text data-qa='UserInfoUserName'>{username}</InfoPanel.Text>\n\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{canViewAllInfo && (\n\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t<InfoPanel.Label>{t('Last_login')}</InfoPanel.Label>\n\t\t\t\t\t\t\t<InfoPanel.Text>{lastLogin ? timeAgo(lastLogin) : t('Never')}</InfoPanel.Text>\n\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{name && (\n\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t<InfoPanel.Label>{t('Full_Name')}</InfoPanel.Label>\n\t\t\t\t\t\t\t<InfoPanel.Text>{name}</InfoPanel.Text>\n\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{nickname && (\n\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t<InfoPanel.Label>{t('Nickname')}</InfoPanel.Label>\n\t\t\t\t\t\t\t<InfoPanel.Text>{nickname}</InfoPanel.Text>\n\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{bio && (\n\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t<InfoPanel.Label>{t('Bio')}</InfoPanel.Label>\n\t\t\t\t\t\t\t<InfoPanel.Text withTruncatedText={false}>\n\t\t\t\t\t\t\t\t<MarkdownText variant='inline' content={bio} />\n\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{phone && (\n\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t<InfoPanel.Label>{t('Phone')}</InfoPanel.Label>\n\t\t\t\t\t\t\t<InfoPanel.Text display='flex' flexDirection='row' alignItems='center'>\n\t\t\t\t\t\t\t\t<Box is='a' withTruncatedText href={`tel:${phone}`}>\n\t\t\t\t\t\t\t\t\t{phone}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{email && (\n\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t<InfoPanel.Label>{t('Email')}</InfoPanel.Label>\n\t\t\t\t\t\t\t<InfoPanel.Text display='flex' flexDirection='row' alignItems='center'>\n\t\t\t\t\t\t\t\t<Box is='a' withTruncatedText href={`mailto:${email}`}>\n\t\t\t\t\t\t\t\t\t{email}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<Margins inline={4}>\n\t\t\t\t\t\t\t\t\t<Tag>{verified ? t('Verified') : t('Not_verified')}</Tag>\n\t\t\t\t\t\t\t\t</Margins>\n\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{userCustomFields?.map(\n\t\t\t\t\t\t(customField) =>\n\t\t\t\t\t\t\tcustomField?.value && (\n\t\t\t\t\t\t\t\t<InfoPanel.Field key={customField.value}>\n\t\t\t\t\t\t\t\t\t<InfoPanel.Label>{t(customField.label as TranslationKey)}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t\t<InfoPanel.Text>\n\t\t\t\t\t\t\t\t\t\t<MarkdownText content={customField.value} variant='inline' />\n\t\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t\t),\n\t\t\t\t\t)}\n\n\t\t\t\t\t{createdAt && (\n\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t<InfoPanel.Label>{t('Created_at')}</InfoPanel.Label>\n\t\t\t\t\t\t\t<InfoPanel.Text>{timeAgo(createdAt)}</InfoPanel.Text>\n\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t)}\n\t\t\t\t</InfoPanel.Section>\n\t\t\t</InfoPanel>\n\t\t</ContextualbarScrollableContent>\n\t);\n};\n\nexport default memo(UserInfo);\n",null],"names":["_extends","_objectWithoutProperties","Box","Margins","Tag","useTranslation","React","memo","useTimeAgo","useUserCustomFields","useUserDisplayName","ContextualbarScrollableContent","InfoPanel","MarkdownText","UTCClock","UserCard","UserInfoAvatar","module","link","default","v","exportDefault","_ref","username","name","lastLogin","nickname","bio","avatarETag","roles","utcOffset","phone","email","verified","createdAt","status","statusText","customFields","canViewAllInfo","actions","props","_excluded","t","timeAgo","userDisplayName","userCustomFields","createElement","p","Avatar","etag","Section","Title","icon","title","Text","content","parseEmoji","length","Field","Label","Roles","Number","isInteger","withTruncatedText","variant","display","flexDirection","alignItems","is","href","inline","map","customField","value","key","label"],"mappings":"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"}