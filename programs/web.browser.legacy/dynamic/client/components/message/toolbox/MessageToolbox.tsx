function module(e,n,t){var o,i,s,a,u,c,r,l,m,f,d,g,k,p,b,v,h,x,M,A,C,y,E,T,j,w;t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){o=e}},0),t.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){i=e}},1),t.link("@babel/runtime/regenerator",{default:function(e){s=e}},2),t.link("@rocket.chat/core-typings",{isThreadMessage:function(e){a=e},isRoomFederated:function(e){u=e},isVideoConfMessage:function(e){c=e}},0),t.link("@rocket.chat/fuselage",{MessageToolbox:function(e){r=e},MessageToolboxItem:function(e){l=e}},1),t.link("@rocket.chat/ui-client",{useFeaturePreview:function(e){m=e}},2),t.link("@rocket.chat/ui-contexts",{useUser:function(e){f=e},useSettings:function(e){d=e},useTranslation:function(e){g=e},useMethod:function(e){k=e}},3),t.link("@tanstack/react-query",{useQuery:function(e){p=e}},4),t.link("react",{default:function(e){b=e},memo:function(e){v=e},useMemo:function(e){h=e}},5),t.link("../../../../app/ui-utils/client/lib/MessageAction",{MessageAction:function(e){x=e}},6),t.link("../../../contexts/EmojiPickerContext",{useEmojiPickerData:function(e){M=e}},7),t.link("../../../hooks/useAppActionButtons",{useMessageActionAppsActionButtons:function(e){A=e}},8),t.link("../../../views/composer/EmojiPicker/EmojiElement",{default:function(e){C=e}},9),t.link("../../../views/room/MessageList/contexts/SelectedMessagesContext",{useIsSelecting:function(e){y=e}},10),t.link("../../../views/room/MessageList/hooks/useAutoTranslate",{useAutoTranslate:function(e){E=e}},11),t.link("../../../views/room/contexts/ChatContext",{useChat:function(e){T=e}},12),t.link("../../../views/room/contexts/RoomToolboxContext",{useRoomToolbox:function(e){j=e}},13),t.link("./MessageActionMenu",{default:function(e){w=e}},14),t.exportDefault(v(function(e){var n,t,v,R,q=e.message,S=e.messageContext,P=e.room,_=e.subscription,B=e.onChangeMenuVisibility,O=g(),V=null!==(n=f())&&void 0!==n?n:void 0,D=d(),F=m("quickReactions"),I=k("setReaction"),L=S||(c(q)?"videoconf":u(P)?"federated":a(q)?"threads":"message"),Q=h(function(){return Object.fromEntries(D.map(function(e){return[e._id,e.value]}))},[D]),U=T(),z=M(),G=z.quickReactions,H=z.addRecentEmoji,J=A(L),K=p(["rooms",P._id,"messages",q._id,"actions"],function(){var e,n,t;return s.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e={message:q,room:P,user:V,subscription:_,settings:Q,chat:U},o.next=3,s.awrap(x.getAll(e,L,"message"));case 3:return n=o.sent,o.next=6,s.awrap(x.getAll(e,L,"menu"));case 6:return t=o.sent,o.abrupt("return",{message:n,menu:t});case 8:case"end":return o.stop()}},null,null,null,Promise)}),N=j(),W=y(),X=E(_);if(W)return null;var Y=null===(t=K.data)||void 0===t?void 0:t.message.find(function(e){return"reaction-message"===e.id}),Z=function(e){I(":"+e+":",q._id),H(e)};return b.createElement(r,null,F&&Y&&G.slice(0,3).map(function(e){var n=e.emoji,t=e.image;return b.createElement(C,{small:!0,key:n,title:n,emoji:n,image:t,onClick:function(){return Z(n)}})}),K.isSuccess&&K.data.message.map(function(e){return b.createElement(l,{onClick:function(n){return e.action(n,{message:q,tabbar:N,room:P,chat:U,autoTranslateOptions:X})},key:e.id,icon:e.icon,title:O(e.label),"data-qa-id":e.label,"data-qa-type":"message-action-menu"})}),K.isSuccess&&K.data.menu.length>0&&b.createElement(w,{onChangeMenuVisibility:B,options:[].concat(i(null===(v=K.data)||void 0===v?void 0:v.menu),i(null!==(R=J.data)&&void 0!==R?R:[])).filter(Boolean).map(function(e){return o(o({},e),{},{action:function(n){return e.action(n,{message:q,tabbar:N,room:P,chat:U,autoTranslateOptions:X})}})}),"data-qa-type":"message-action-menu-options"}))}))}
//# sourceMappingURL=/dynamic/client/components/message/toolbox/f17b6ad016c419889b58baee1919a032edd1e1b2.map
