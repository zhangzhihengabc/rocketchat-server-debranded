)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/message/hooks/useNormalizedMessage.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport type { Options } from '@rocket.chat/message-parser';\nimport { useSetting } from '@rocket.chat/ui-contexts';\nimport { useMemo } from 'react';\n\nimport type { MessageWithMdEnforced } from '../../../lib/parseMessageTextToAstMarkdown';\nimport { parseMessageTextToAstMarkdown, removePossibleNullMessageValues } from '../../../lib/parseMessageTextToAstMarkdown';\nimport { useAutoLinkDomains } from '../../../views/room/MessageList/hooks/useAutoLinkDomains';\nimport { useAutoTranslate } from '../../../views/room/MessageList/hooks/useAutoTranslate';\nimport { useKatex } from '../../../views/room/MessageList/hooks/useKatex';\nimport { useSubscriptionFromMessageQuery } from './useSubscriptionFromMessageQuery';\n\nexport const useNormalizedMessage = <TMessage extends IMessage>(message: TMessage): MessageWithMdEnforced => {\n\tconst { katexEnabled, katexDollarSyntaxEnabled, katexParenthesisSyntaxEnabled } = useKatex();\n\tconst customDomains = useAutoLinkDomains();\n\tconst subscription = useSubscriptionFromMessageQuery(message).data ?? undefined;\n\tconst autoTranslateOptions = useAutoTranslate(subscription);\n\tconst showColors = useSetting<boolean>('HexColorPreview_Enabled');\n\n\treturn useMemo(() => {\n\t\tconst parseOptions: Options = {\n\t\t\tcolors: showColors,\n\t\t\temoticons: true,\n\t\t\tcustomDomains,\n\t\t\t...(katexEnabled && {\n\t\t\t\tkatex: {\n\t\t\t\t\tdollarSyntax: katexDollarSyntaxEnabled,\n\t\t\t\t\tparenthesisSyntax: katexParenthesisSyntaxEnabled,\n\t\t\t\t},\n\t\t\t}),\n\t\t};\n\n\t\treturn parseMessageTextToAstMarkdown(removePossibleNullMessageValues(message), parseOptions, autoTranslateOptions);\n\t}, [showColors, customDomains, katexEnabled, katexDollarSyntaxEnabled, katexParenthesisSyntaxEnabled, message, autoTranslateOptions]);\n};\n",null],"names":["module","link","default","_objectSpread","export","useNormalizedMessage","useSetting","useMemo","parseMessageTextToAstMarkdown","removePossibleNullMessageValues","useAutoLinkDomains","useAutoTranslate","useKatex","useSubscriptionFromMessageQuery","message","_useSubscriptionFromM","_useKatex","katexEnabled","katexDollarSyntaxEnabled","katexParenthesisSyntaxEnabled","customDomains","autoTranslateOptions","data","undefined","showColors","parseOptions","colors","emoticons","katex","dollarSyntax","parenthesisSyntax"],"mappings":"uBAESA,EAAYC,IAAM,CAAA,uCAA2B,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAtDH,EAAOI,MAAE,CAAA,CAAAC,qBAAkB,WAAA,OAA2BA,CAAA,CAAA,GAAAL,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAM,WAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,QAAAA,CAAAO,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAP,EAAAA,IAAAA,CAAAA,6CAAAA,CAAAQ,8BAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,gCAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAT,EAAAA,IAAAA,CAAAA,2DAAAA,CAAAU,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAV,EAAAA,IAAAA,CAAAA,yDAAAA,CAAAW,iBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAX,EAAAA,IAAAA,CAAAA,iDAAAA,CAAAY,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAZ,EAAAA,IAAAA,CAAAA,oCAAAA,CAAAa,gCAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAU/C,IAVPV,EAAsDG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAUzCR,EAAuB,SAA4BS,CAAiB,EAChF,IAD2GC,EAC3GC,EAAkFJ,IAA1EK,EAAYD,EAAZC,YAAY,CAAEC,EAAwBF,EAAxBE,wBAAwB,CAAEC,EAA6BH,EAA7BG,6BAA6B,CACvEC,EAAgBV,IAEhBW,EAAuBV,EADX,AAAgD,OAAhDI,CAAAA,EAAGF,EAAgCC,GAASQ,IAAI,AAAJA,GAAIP,AAAA,KAAA,IAAAA,EAAAA,EAAIQ,KAAAA,GAEhEC,EAAalB,EAAoB,2BAEvC,OAAOC,EAAQ,WACd,IAAMkB,EAAYtB,EAAA,CACjBuB,OAAQF,EACRG,UAAW,CAAA,EACXP,cAAAA,CAAa,EACTH,GAAgB,CACnBW,MAAO,CACNC,aAAcX,EACdY,kBAAmBX,KAKtB,OAAOX,EAA8BC,EAAgCK,GAAUW,EAAcJ,EAC9F,EAAG,CAACG,EAAYJ,EAAeH,EAAcC,EAA0BC,EAA+BL,EAASO,EAAqB,CACrI"}