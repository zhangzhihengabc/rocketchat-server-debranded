)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/message/content/reactions/useToggleReactionMutation.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { useEndpoint, useUserId } from '@rocket.chat/ui-contexts';\nimport type { UseMutationOptions, UseMutationResult } from '@tanstack/react-query';\nimport { useMutation } from '@tanstack/react-query';\n\ntype UseToggleReactionMutationVariables = {\n\tmid: IMessage['_id'];\n\treaction: string;\n};\n\nexport const useToggleReactionMutation = (\n\toptions?: Omit<UseMutationOptions<void, Error, UseToggleReactionMutationVariables>, 'mutationFn'>,\n): UseMutationResult<void, Error, UseToggleReactionMutationVariables> => {\n\tconst uid = useUserId();\n\tconst reactToMessage = useEndpoint('POST', '/v1/chat.react');\n\n\treturn useMutation(async ({ mid, reaction }) => {\n\t\tif (!uid) {\n\t\t\tthrow new Error('Not logged in');\n\t\t}\n\n\t\tawait reactToMessage({ messageId: mid, reaction });\n\t}, options);\n};\n",null],"names":["module","link","default","_regeneratorRuntime","export","useToggleReactionMutation","useEndpoint","useUserId","useMutation","options","uid","reactToMessage","_ref","mid","reaction","async","_context","prev","next","Error","awrap","messageId","stop","Promise"],"mappings":"uBACsBA,EAASC,IAAE,CAAA,6BAAgC,CAACC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAlEH,EAAOI,MAAE,CAAA,CAAAC,0BAA8B,WAAA,OAAAA,CAA2B,CAAA,GAAAL,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAM,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAP,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAQ,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAS3D,IATPL,EAAkEG,EAAAC,EAAAC,EASrDH,EAA4B,SACxCI,CAAiG,EAEjG,IAAMC,EAAMH,IACNI,EAAiBL,EAAY,OAAQ,kBAE3C,OAAOE,EAAY,SAAAI,CAAA,EAAA,IAAAC,EAAAC,EAAA,OAAAX,EAAAY,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAsB,GAAbL,EAAGD,EAAHC,GAAG,CAAEC,EAAQF,EAARE,QAAQ,CACnCJ,EAAG,CAAAM,EAAAE,IAAA,CAAA,EAAA,KAAA,CAAA,MACD,AAAIC,MAAM,gBAAgB,MAAA,EAAA,OAAAH,EAAAE,IAAA,CAAA,EAAAf,EAAAiB,KAAA,CAG3BT,EAAe,CAAEU,UAAWR,EAAKC,SAAAA,CAAQ,GAAG,MAAA,EAAA,IAAA,MAAA,OAAAE,EAAAM,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAChDd,EACJ"}