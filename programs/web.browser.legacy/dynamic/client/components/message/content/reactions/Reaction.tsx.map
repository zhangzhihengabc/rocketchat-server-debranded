)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/message/content/reactions/Reaction.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { MessageReaction as MessageReactionTemplate, MessageReactionEmoji, MessageReactionCounter } from '@rocket.chat/fuselage';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useTooltipClose, useTooltipOpen, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useRef } from 'react';\n\nimport { getEmojiClassNameAndDataTitle } from '../../../../lib/utils/renderEmoji';\nimport MarkdownText from '../../../MarkdownText';\n\n// TODO: replace it with proper usage of i18next plurals\nconst getTranslationKey = (users: string[], mine: boolean): TranslationKey => {\n\tif (users.length === 0) {\n\t\tif (mine) {\n\t\t\treturn 'You_reacted_with';\n\t\t}\n\t}\n\n\tif (users.length > 10) {\n\t\tif (mine) {\n\t\t\treturn 'You_users_and_more_Reacted_with';\n\t\t}\n\t\treturn 'Users_and_more_reacted_with';\n\t}\n\n\tif (mine) {\n\t\treturn 'You_and_users_Reacted_with';\n\t}\n\treturn 'Users_reacted_with';\n};\n\ntype ReactionProps = {\n\thasReacted: (name: string) => boolean;\n\tcounter: number;\n\tname: string;\n\tnames: string[];\n\tonClick: () => void;\n};\n\nconst Reaction = ({ hasReacted, counter, name, names, ...props }: ReactionProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst ref = useRef<HTMLDivElement>(null);\n\tconst openTooltip = useTooltipOpen();\n\tconst closeTooltip = useTooltipClose();\n\n\tconst mine = hasReacted(name);\n\n\tconst key = getTranslationKey(names, mine);\n\n\tconst emojiProps = getEmojiClassNameAndDataTitle(name);\n\n\treturn (\n\t\t<MessageReactionTemplate\n\t\t\tref={ref}\n\t\t\tkey={name}\n\t\t\tmine={mine}\n\t\t\ttabIndex={0}\n\t\t\trole='button'\n\t\t\tonMouseOver={(e): void => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tref.current &&\n\t\t\t\t\topenTooltip(\n\t\t\t\t\t\t<MarkdownText\n\t\t\t\t\t\t\tcontent={t(key, {\n\t\t\t\t\t\t\t\tcounter: names.length > 10 ? names.length - 10 : names.length,\n\t\t\t\t\t\t\t\tusers: names.slice(0, 10).join(', '),\n\t\t\t\t\t\t\t\temoji: name,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tvariant='inline'\n\t\t\t\t\t\t/>,\n\t\t\t\t\t\tref.current,\n\t\t\t\t\t);\n\t\t\t}}\n\t\t\tonMouseLeave={(): void => {\n\t\t\t\tcloseTooltip();\n\t\t\t}}\n\t\t\t{...props}\n\t\t>\n\t\t\t<MessageReactionEmoji {...emojiProps} />\n\t\t\t<MessageReactionCounter counter={counter} />\n\t\t</MessageReactionTemplate>\n\t);\n};\n\nexport default Reaction;\n",null],"names":["_extends","_objectWithoutProperties","MessageReactionTemplate","MessageReactionEmoji","useTooltipClose","useTooltipOpen","useTranslation","React","useRef","getEmojiClassNameAndDataTitle","MarkdownText","module","default","v","link","MessageReaction","MessageReactionCounter","exportDefault","_ref","users","mine","hasReacted","counter","name","names","props","_excluded","t","ref","openTooltip","closeTooltip","key","length","emojiProps","createElement","tabIndex","role","onMouseOver","e","stopPropagation","preventDefault","current","content","slice","join","emoji","variant","onMouseLeave"],"mappings":"2BAAAA,EAAmGC,EAAnGC,EAA4BC,EAAAA,EAAqGC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,4CAAxHC,EAAAA,IAAe,CAAA,iCAA6B,CAAAC,QAAAA,SAAsBC,CAAAA,EAAAb,EAAAA,CAAA,CAAA,EAAA,GAA8BW,EAAwBG,IAAA,CAAA,iDAAA,CAAAF,QAAAA,SAAAA,CAAAA,EAAAX,EAAAA,CAAA,CAAA,EAAA,GAA5EU,EAAsBG,IAAA,CAAA,wBAA8B,CAAAC,gBAAAA,SAAwBF,CAAAA,EAAAX,EAAAA,CAAA,EAAAC,qBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAa,uBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAL,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAP,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAE,CAAA,EAAAN,EAAAA,CAAA,EAAAC,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,oCAAAA,CAAAF,8BAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,wBAAAA,CAAA,QAAA,SAAAE,CAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAAjIC,EAAOM,aAAE,CAsCQ,SAAAC,CAAA,EAAgF,IA5BtEC,EAAiBC,EA4BxBC,EAAUH,EAAVG,UAAU,CAAEC,EAAOJ,EAAPI,OAAO,CAAEC,EAAIL,EAAJK,IAAI,CAAEC,EAAKN,EAALM,KAAK,CAAKC,EAAKxB,EAAAiB,EAAAQ,GACvDC,EAAIrB,IACJsB,EAAMpB,EAAuB,MAC7BqB,EAAcxB,IACdyB,EAAe1B,IAEfgB,EAAOC,EAAWE,GAElBQ,EAnCN,AAAIZ,AAAiB,IAAjBA,AAmC0BK,EAnCpBQ,MAAM,EAmCqBZ,EAjC5B,mBAILD,AA6B0BK,EA7BpBQ,MAAM,CAAG,GAClB,AA4BoCZ,EA3B5B,kCAED,8BAGR,AAsBqCA,EArB7B,6BAED,qBAqBDa,EAAaxB,EAA8Bc,GAEjD,OACChB,EAAA2B,aAAA,CAAChC,EAAuBF,EAAA,CACvB4B,IAAKA,EACLG,IAAKR,EACLH,KAAMA,EACNe,SAAU,EACVC,KAAK,SACLC,YAAa,SAACC,CAAC,EACdA,EAAEC,eAAe,GACjBD,EAAEE,cAAc,GAChBZ,EAAIa,OAAO,EACVZ,EACCtB,EAAA2B,aAAA,CAACxB,EAAY,CACZgC,QAASf,EAAEI,EAAK,CACfT,QAASE,EAAMQ,MAAM,CAAG,GAAKR,EAAMQ,MAAM,CAAG,GAAKR,EAAMQ,MAAM,CAC7Db,MAAOK,EAAMmB,KAAK,CAAC,EAAG,IAAIC,IAAI,CAAC,MAC/BC,MAAOtB,IAERuB,QAAQ,QAAQ,GAEjBlB,EAAIa,OAAO,CAEd,EACAM,aAAc,WACbjB,GACD,CAAE,EACEL,GAEJlB,EAAA2B,aAAA,CAAC/B,EAAyB8B,GAC1B1B,EAAA2B,aAAA,CAAClB,EAAsB,CAACM,QAASA,CAAQ,GAG5C"}