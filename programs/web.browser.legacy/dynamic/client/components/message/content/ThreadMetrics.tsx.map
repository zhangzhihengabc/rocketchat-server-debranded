)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/message/content/ThreadMetrics.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { MessageMetricsItem, MessageBlock, MessageMetrics, MessageMetricsReply, MessageMetricsFollowing } from '@rocket.chat/fuselage';\nimport { useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback } from 'react';\n\nimport { useTimeAgo } from '../../../hooks/useTimeAgo';\nimport { useToggleFollowingThreadMutation } from '../../../views/room/contextualBar/Threads/hooks/useToggleFollowingThreadMutation';\nimport { useGoToThread } from '../../../views/room/hooks/useGoToThread';\nimport { followStyle, anchor } from '../helpers/followSyle';\nimport AllMentionNotification from '../notification/AllMentionNotification';\nimport MeMentionNotification from '../notification/MeMentionNotification';\nimport UnreadMessagesNotification from '../notification/UnreadMessagesNotification';\n\ntype ThreadMetricsProps = {\n\tunread: boolean;\n\tmention: boolean;\n\tall: boolean;\n\tlm: Date;\n\tmid: string;\n\trid: string;\n\tcounter: number;\n\tparticipants: number;\n\tfollowing: boolean;\n};\n\nconst ThreadMetrics = ({ unread, mention, all, rid, mid, counter, participants, following, lm }: ThreadMetricsProps): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst format = useTimeAgo();\n\n\tconst goToThread = useGoToThread();\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst toggleFollowingThreadMutation = useToggleFollowingThreadMutation({\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleFollow = useCallback(() => {\n\t\ttoggleFollowingThreadMutation.mutate({ rid, tmid: mid, follow: !following });\n\t}, [following, rid, mid, toggleFollowingThreadMutation]);\n\n\treturn (\n\t\t<MessageBlock className={followStyle}>\n\t\t\t<MessageMetrics>\n\t\t\t\t<MessageMetricsReply data-rid={rid} data-mid={mid} onClick={() => goToThread({ rid, tmid: mid })}>\n\t\t\t\t\t{t('Reply')}\n\t\t\t\t</MessageMetricsReply>\n\t\t\t\t<MessageMetricsItem title={t('Replies')}>\n\t\t\t\t\t<MessageMetricsItem.Icon name='thread' />\n\t\t\t\t\t<MessageMetricsItem.Label>{counter}</MessageMetricsItem.Label>\n\t\t\t\t</MessageMetricsItem>\n\t\t\t\t{!!participants && (\n\t\t\t\t\t<MessageMetricsItem title={t('Participants')}>\n\t\t\t\t\t\t<MessageMetricsItem.Icon name='user' />\n\t\t\t\t\t\t<MessageMetricsItem.Label>{participants}</MessageMetricsItem.Label>\n\t\t\t\t\t</MessageMetricsItem>\n\t\t\t\t)}\n\t\t\t\t<MessageMetricsItem title={lm?.toLocaleString()}>\n\t\t\t\t\t<MessageMetricsItem.Icon name='clock' />\n\t\t\t\t\t<MessageMetricsItem.Label>{format(lm)}</MessageMetricsItem.Label>\n\t\t\t\t</MessageMetricsItem>\n\t\t\t\t<MessageMetricsItem\n\t\t\t\t\tclassName={!following ? anchor : undefined}\n\t\t\t\t\ttitle={t(following ? 'Following' : 'Not_following')}\n\t\t\t\t\tdata-rid={rid}\n\t\t\t\t\tonClick={handleFollow}\n\t\t\t\t>\n\t\t\t\t\t<MessageMetricsFollowing name={following ? 'bell' : 'bell-off'} />\n\t\t\t\t</MessageMetricsItem>\n\t\t\t\t{(mention || all || unread) && (\n\t\t\t\t\t<MessageMetricsItem>\n\t\t\t\t\t\t<MessageMetricsItem.Label>\n\t\t\t\t\t\t\t{(mention && <MeMentionNotification />) || (all && <AllMentionNotification />) || (unread && <UnreadMessagesNotification />)}\n\t\t\t\t\t\t</MessageMetricsItem.Label>\n\t\t\t\t\t</MessageMetricsItem>\n\t\t\t\t)}\n\t\t\t</MessageMetrics>\n\t\t</MessageBlock>\n\t);\n};\n\nexport default ThreadMetrics;\n",null],"names":["MessageMetricsItem","MessageBlock","MessageMetrics","MessageMetricsReply","MessageMetricsFollowing","useToastMessageDispatch","useTranslation","React","useCallback","useTimeAgo","useToggleFollowingThreadMutation","useGoToThread","followStyle","anchor","AllMentionNotification","MeMentionNotification","UnreadMessagesNotification","module","v","exportDefault","_ref","unread","mention","all","rid","mid","counter","participants","following","lm","t","format","goToThread","dispatchToastMessage","toggleFollowingThreadMutation","onError","error","type","message","handleFollow","mutate","tmid","follow","createElement","className","onClick","title","Icon","name","Label","toLocaleString","undefined"],"mappings":"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"}