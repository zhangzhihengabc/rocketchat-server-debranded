)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/message/variants/RoomMessage.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { Message, MessageLeftContainer, MessageContainer, CheckBox } from '@rocket.chat/fuselage';\nimport { useToggle } from '@rocket.chat/fuselage-hooks';\nimport { useUserId } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useRef, memo } from 'react';\n\nimport type { MessageActionContext } from '../../../../app/ui-utils/client/lib/MessageAction';\nimport { useIsMessageHighlight } from '../../../views/room/MessageList/contexts/MessageHighlightContext';\nimport {\n\tuseIsSelecting,\n\tuseToggleSelect,\n\tuseIsSelectedMessage,\n\tuseCountSelected,\n} from '../../../views/room/MessageList/contexts/SelectedMessagesContext';\nimport { useJumpToMessage } from '../../../views/room/MessageList/hooks/useJumpToMessage';\nimport { useChat } from '../../../views/room/contexts/ChatContext';\nimport IgnoredContent from '../IgnoredContent';\nimport MessageHeader from '../MessageHeader';\nimport MessageToolboxHolder from '../MessageToolboxHolder';\nimport StatusIndicators from '../StatusIndicators';\nimport MessageAvatar from '../header/MessageAvatar';\nimport RoomMessageContent from './room/RoomMessageContent';\n\ntype RoomMessageProps = {\n\tmessage: IMessage & { ignored?: boolean };\n\tshowUserAvatar: boolean;\n\tsequential: boolean;\n\tunread: boolean;\n\tmention: boolean;\n\tall: boolean;\n\tcontext?: MessageActionContext;\n\tignoredUser?: boolean;\n\tsearchText?: string;\n};\n\nconst RoomMessage = ({\n\tmessage,\n\tshowUserAvatar,\n\tsequential,\n\tall,\n\tmention,\n\tunread,\n\tcontext,\n\tignoredUser,\n\tsearchText,\n}: RoomMessageProps): ReactElement => {\n\tconst uid = useUserId();\n\tconst editing = useIsMessageHighlight(message._id);\n\tconst [displayIgnoredMessage, toggleDisplayIgnoredMessage] = useToggle(false);\n\tconst ignored = (ignoredUser || message.ignored) && !displayIgnoredMessage;\n\tconst chat = useChat();\n\tconst messageRef = useRef(null);\n\n\tconst selecting = useIsSelecting();\n\tconst toggleSelected = useToggleSelect(message._id);\n\tconst selected = useIsSelectedMessage(message._id);\n\n\tuseCountSelected();\n\n\tuseJumpToMessage(message._id, messageRef);\n\treturn (\n\t\t<Message\n\t\t\tref={messageRef}\n\t\t\tid={message._id}\n\t\t\tonClick={selecting ? toggleSelected : undefined}\n\t\t\tisSelected={selected}\n\t\t\tisEditing={editing}\n\t\t\tisPending={message.temp}\n\t\t\tsequential={sequential}\n\t\t\tdata-qa-editing={editing}\n\t\t\tdata-qa-selected={selected}\n\t\t\tdata-id={message._id}\n\t\t\tdata-mid={message._id}\n\t\t\tdata-unread={unread}\n\t\t\tdata-sequential={sequential}\n\t\t\tdata-own={message.u._id === uid}\n\t\t\tdata-qa-type='message'\n\t\t\taria-busy={message.temp}\n\t\t>\n\t\t\t<MessageLeftContainer>\n\t\t\t\t{!sequential && message.u.username && !selecting && showUserAvatar && (\n\t\t\t\t\t<MessageAvatar\n\t\t\t\t\t\temoji={message.emoji}\n\t\t\t\t\t\tavatarUrl={message.avatar}\n\t\t\t\t\t\tusername={message.u.username}\n\t\t\t\t\t\tsize='x36'\n\t\t\t\t\t\t{...(chat?.userCard && {\n\t\t\t\t\t\t\tonClick: chat?.userCard.open(message.u.username),\n\t\t\t\t\t\t\tstyle: { cursor: 'pointer' },\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{selecting && <CheckBox checked={selected} onChange={toggleSelected} />}\n\t\t\t\t{sequential && <StatusIndicators message={message} />}\n\t\t\t</MessageLeftContainer>\n\n\t\t\t<MessageContainer>\n\t\t\t\t{!sequential && <MessageHeader message={message} />}\n\n\t\t\t\t{ignored ? (\n\t\t\t\t\t<IgnoredContent onShowMessageIgnored={toggleDisplayIgnoredMessage} />\n\t\t\t\t) : (\n\t\t\t\t\t<RoomMessageContent message={message} unread={unread} mention={mention} all={all} searchText={searchText} />\n\t\t\t\t)}\n\t\t\t</MessageContainer>\n\t\t\t{!message.private && <MessageToolboxHolder message={message} context={context} />}\n\t\t</Message>\n\t);\n};\n\nexport default memo(RoomMessage);\n",null],"names":["_extends","_slicedToArray","Message","MessageLeftContainer","MessageContainer","CheckBox","useToggle","useUserId","React","useRef","memo","useIsMessageHighlight","useIsSelecting","useToggleSelect","useIsSelectedMessage","useCountSelected","useJumpToMessage","useChat","IgnoredContent","MessageHeader","MessageToolboxHolder","StatusIndicators","MessageAvatar","RoomMessageContent","module","link","default","v","exportDefault","_ref","message","showUserAvatar","sequential","all","mention","unread","context","ignoredUser","searchText","uid","editing","_id","_useToggle2","displayIgnoredMessage","toggleDisplayIgnoredMessage","ignored","chat","messageRef","selecting","toggleSelected","selected","createElement","ref","id","onClick","undefined","isSelected","isEditing","isPending","temp","u","username","emoji","avatarUrl","avatar","size","userCard","open","style","cursor","checked","onChange","onShowMessageIgnored","private"],"mappings":"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"}