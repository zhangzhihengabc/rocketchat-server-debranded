)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/message/variants/ThreadMessage.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { type IThreadMessage, type IThreadMainMessage, isVideoConfMessage } from '@rocket.chat/core-typings';\nimport { Message, MessageLeftContainer, MessageContainer } from '@rocket.chat/fuselage';\nimport { useToggle } from '@rocket.chat/fuselage-hooks';\nimport { useUserId } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo, useRef } from 'react';\n\nimport type { MessageActionContext } from '../../../../app/ui-utils/client/lib/MessageAction';\nimport { useIsMessageHighlight } from '../../../views/room/MessageList/contexts/MessageHighlightContext';\nimport { useJumpToMessage } from '../../../views/room/MessageList/hooks/useJumpToMessage';\nimport { useChat } from '../../../views/room/contexts/ChatContext';\nimport IgnoredContent from '../IgnoredContent';\nimport MessageHeader from '../MessageHeader';\nimport MessageToolboxHolder from '../MessageToolboxHolder';\nimport StatusIndicators from '../StatusIndicators';\nimport MessageAvatar from '../header/MessageAvatar';\nimport ThreadMessageContent from './thread/ThreadMessageContent';\n\ntype ThreadMessageProps = {\n\tmessage: IThreadMessage | IThreadMainMessage;\n\tunread: boolean;\n\tsequential: boolean;\n\tshowUserAvatar: boolean;\n};\n\nconst ThreadMessage = ({ message, sequential, unread, showUserAvatar }: ThreadMessageProps): ReactElement => {\n\tconst uid = useUserId();\n\tconst editing = useIsMessageHighlight(message._id);\n\tconst [ignored, toggleIgnoring] = useToggle((message as { ignored?: boolean }).ignored);\n\tconst chat = useChat();\n\n\tconst messageRef = useRef(null);\n\n\t// Checks if is videoconf message to limit toolbox actions\n\tconst messageContext: MessageActionContext = isVideoConfMessage(message) ? 'videoconf-threads' : 'threads';\n\n\tuseJumpToMessage(message._id, messageRef);\n\n\treturn (\n\t\t<Message\n\t\t\tid={message._id}\n\t\t\tref={messageRef}\n\t\t\tisEditing={editing}\n\t\t\tisPending={message.temp}\n\t\t\tsequential={sequential}\n\t\t\tdata-qa-editing={editing}\n\t\t\tdata-id={message._id}\n\t\t\tdata-mid={message._id}\n\t\t\tdata-unread={unread}\n\t\t\tdata-sequential={sequential}\n\t\t\tdata-own={message.u._id === uid}\n\t\t\tdata-qa-type='message'\n\t\t>\n\t\t\t<MessageLeftContainer>\n\t\t\t\t{!sequential && message.u.username && showUserAvatar && (\n\t\t\t\t\t<MessageAvatar\n\t\t\t\t\t\temoji={message.emoji}\n\t\t\t\t\t\tavatarUrl={message.avatar}\n\t\t\t\t\t\tusername={message.u.username}\n\t\t\t\t\t\tsize='x36'\n\t\t\t\t\t\t{...(chat?.userCard && {\n\t\t\t\t\t\t\tonClick: chat?.userCard.open(message.u.username),\n\t\t\t\t\t\t\tstyle: { cursor: 'pointer' },\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{sequential && <StatusIndicators message={message} />}\n\t\t\t</MessageLeftContainer>\n\n\t\t\t<MessageContainer>\n\t\t\t\t{!sequential && <MessageHeader message={message} />}\n\n\t\t\t\t{ignored ? <IgnoredContent onShowMessageIgnored={toggleIgnoring} /> : <ThreadMessageContent message={message} />}\n\t\t\t</MessageContainer>\n\t\t\t{!message.private && <MessageToolboxHolder message={message} context={messageContext} />}\n\t\t</Message>\n\t);\n};\n\nexport default memo(ThreadMessage);\n",null],"names":["_extends","_slicedToArray","isVideoConfMessage","Message","MessageLeftContainer","MessageContainer","useToggle","useUserId","React","memo","useRef","useIsMessageHighlight","useJumpToMessage","useChat","IgnoredContent","MessageHeader","MessageToolboxHolder","StatusIndicators","MessageAvatar","ThreadMessageContent","module","default","v","link","exportDefault","_ref","message","sequential","unread","showUserAvatar","uid","editing","_id","_useToggle2","ignored","toggleIgnoring","chat","messageRef","messageContext","createElement","id","ref","isEditing","isPending","temp","u","username","emoji","avatarUrl","avatar","size","userCard","onClick","open","style","cursor","onShowMessageIgnored","private","context"],"mappings":"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"}