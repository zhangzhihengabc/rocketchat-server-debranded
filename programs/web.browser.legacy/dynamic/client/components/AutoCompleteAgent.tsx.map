)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/AutoCompleteAgent.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { PaginatedSelectFiltered } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport type { ReactElement } from 'react';\nimport React, { memo, useMemo, useState } from 'react';\n\nimport { useRecordList } from '../hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../lib/asyncState';\nimport { useAgentsList } from './Omnichannel/hooks/useAgentsList';\n\ntype AutoCompleteAgentProps = {\n\tvalue: string;\n\terror?: string;\n\tplaceholder?: string;\n\thaveAll?: boolean;\n\thaveNoAgentsSelectedOption?: boolean;\n\texcludeId?: string;\n\tshowIdleAgents?: boolean;\n\tonlyAvailable?: boolean;\n\twithTitle?: boolean;\n\tonChange: (value: string) => void;\n};\n\nconst AutoCompleteAgent = ({\n\tvalue,\n\terror,\n\tplaceholder,\n\thaveAll = false,\n\thaveNoAgentsSelectedOption = false,\n\texcludeId,\n\tshowIdleAgents = true,\n\tonlyAvailable = false,\n\twithTitle = false,\n\tonChange,\n}: AutoCompleteAgentProps): ReactElement => {\n\tconst [agentsFilter, setAgentsFilter] = useState<string>('');\n\n\tconst debouncedAgentsFilter = useDebouncedValue(agentsFilter, 500);\n\n\tconst { itemsList: AgentsList, loadMoreItems: loadMoreAgents } = useAgentsList(\n\t\tuseMemo(\n\t\t\t() => ({ text: debouncedAgentsFilter, onlyAvailable, haveAll, haveNoAgentsSelectedOption, excludeId, showIdleAgents }),\n\t\t\t[debouncedAgentsFilter, excludeId, haveAll, haveNoAgentsSelectedOption, onlyAvailable, showIdleAgents],\n\t\t),\n\t);\n\n\tconst { phase: agentsPhase, itemCount: agentsTotal, items: agentsItems } = useRecordList(AgentsList);\n\n\treturn (\n\t\t<PaginatedSelectFiltered\n\t\t\twithTitle={withTitle}\n\t\t\tvalue={value}\n\t\t\terror={error}\n\t\t\tplaceholder={placeholder}\n\t\t\tonChange={onChange}\n\t\t\tflexShrink={0}\n\t\t\tfilter={agentsFilter}\n\t\t\tsetFilter={setAgentsFilter as (value: string | number | undefined) => void}\n\t\t\toptions={agentsItems}\n\t\t\tdata-qa='autocomplete-agent'\n\t\t\tendReached={\n\t\t\t\tagentsPhase === AsyncStatePhase.LOADING ? (): void => undefined : (start): void => loadMoreAgents(start, Math.min(50, agentsTotal))\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default memo(AutoCompleteAgent);\n",null],"names":["_slicedToArray","PaginatedSelectFiltered","useDebouncedValue","React","memo","useMemo","useState","useRecordList","AsyncStatePhase","useAgentsList","module","default","link","v","exportDefault","_ref","value","error","placeholder","_ref$haveAll","haveAll","_ref$haveNoAgentsSele","haveNoAgentsSelectedOption","excludeId","_ref$showIdleAgents","showIdleAgents","_ref$onlyAvailable","onlyAvailable","_ref$withTitle","withTitle","onChange","_useState2","agentsFilter","setAgentsFilter","debouncedAgentsFilter","_useAgentsList","text","AgentsList","itemsList","loadMoreAgents","loadMoreItems","_useRecordList","agentsPhase","phase","agentsTotal","itemCount","agentsItems","items","createElement","flexShrink","filter","setFilter","options","endReached","LOADING","start","Math","min"],"mappings":"uBAsBA,IAtBAA,EAAAC,EAAgEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvDC,EAAAA,IAAAA,CAAAA,uCAAuD,CAAAC,QAAAA,SAAAA,CAAAA,EAAAX,EAAAA,CAAA,CAAA,EAAA,GAAvDU,EAAyBE,IAAA,CAAM,wBAAwB,CAAAX,wBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAR,kBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAV,EAAAA,CAAA,EAAAC,KAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAH,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,oBAAAA,CAAAF,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,oCAAAA,CAAAD,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAhEC,EAAOI,aAAE,CAkEMV,EA5CW,SAAAW,CAAA,EAWiB,IAV1CC,EAAKD,EAALC,KAAK,CACLC,EAAKF,EAALE,KAAK,CACLC,EAAWH,EAAXG,WAAW,CAAAC,EAAAJ,EACXK,OAAO,CAAPA,EAAOD,AAAA,KAAA,IAAAA,GAAQA,EAAAE,EAAAN,EACfO,0BAA0B,CAA1BA,EAA0BD,AAAA,KAAA,IAAAA,GAAQA,EAClCE,EAASR,EAATQ,SAAS,CAAAC,EAAAT,EACTU,cAAc,CAAdA,EAAcD,AAAA,KAAA,IAAAA,GAAOA,EAAAE,EAAAX,EACrBY,aAAa,CAAbA,EAAaD,AAAA,KAAA,IAAAA,GAAQA,EAAAE,EAAAb,EACrBc,SAAS,CACTC,EAAQf,EAARe,QAAQ,CAEoDC,EAAA/B,EAApBM,EAAiB,IAAG,GAArD0B,EAAYD,CAAA,CAAA,EAAA,CAAEE,EAAeF,CAAA,CAAA,EAAA,CAE9BG,EAAwBhC,EAAkB8B,EAAc,KAE9DG,EAAiE1B,EAChEJ,EACC,WAAA,MAAO,CAAE+B,KAAMF,EAAuBP,cAAAA,EAAeP,QAAAA,EAASE,2BAAAA,EAA4BC,UAAAA,EAAWE,eAAAA,CAAc,CAAE,EACrH,CAACS,EAAuBX,EAAWH,EAASE,EAA4BK,EAAeF,EAAe,GAHrFY,EAAUF,EAArBG,SAAS,CAA6BC,EAAcJ,EAA7BK,aAAa,CAO5CC,EAA2ElC,EAAc8B,GAA1EK,EAAWD,EAAlBE,KAAK,CAA0BC,EAAWH,EAAtBI,SAAS,CAAsBC,EAAWL,EAAlBM,KAAK,CAEzD,OACC5C,EAAA6C,aAAA,CAAC/C,EAAuB,CACvB4B,UAlBOD,AAAA,KAAA,IAAAA,GAAQA,EAmBfZ,MAAOA,EACPC,MAAOA,EACPC,YAAaA,EACbY,SAAUA,EACVmB,WAAY,EACZC,OAAQlB,EACRmB,UAAWlB,EACXmB,QAASN,EACT,UAAQ,qBACRO,WACCX,IAAgBlC,EAAgB8C,OAAO,CAAG,WAAqB,EAAG,SAACC,CAAK,EAAA,OAAWhB,EAAegB,EAAOC,KAAKC,GAAG,CAAC,GAAIb,GAAa,CACnI,EAGJ"}