function module(e,n,t){var r,u,a,o,i,l,c,s,f,d,m,p,h,v,k,b,g,x,E,C,y=["onChange","value","placeholder"];t.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),t.link("@babel/runtime/helpers/extends",{default:function(e){u=e}},1),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},2),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},3),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){i=e}},4),t.link("@rocket.chat/fuselage",{MultiSelectFiltered:function(e){l=e},Icon:function(e){c=e},Box:function(e){s=e},Chip:function(e){f=e}},0),t.link("@rocket.chat/fuselage-hooks",{useDebouncedValue:function(e){d=e}},1),t.link("@rocket.chat/ui-contexts",{useEndpoint:function(e){m=e}},2),t.link("@tanstack/react-query",{useQuery:function(e){p=e}},3),t.link("react",{default:function(e){h=e},memo:function(e){v=e},useState:function(e){k=e},useCallback:function(e){b=e},useMemo:function(e){g=e}},4),t.link("../avatar/UserAvatar",{default:function(e){x=e}},5),t.link("./UserAutoCompleteMultipleOptions",{default:function(e){E=e},OptionsContext:function(e){C=e}},6);var M=RegExp("@(.*:.*)");t.exportDefault(v(function(e){var n=e.onChange,t=e.value,v=e.placeholder,S=i(e,y),w=o(k(""),2),A=w[0],D=w[1],O=o(k({}),2),P=O[0],j=O[1],q=d(A,500),U=m("GET","/v1/users.autocomplete"),z=p(["users.autocomplete",q],function(){var e;return r.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.awrap(U({selector:JSON.stringify({term:q})}));case 2:return e=n.sent.items.map(function(e){return[e.username,e]}),M.test(q)&&e.unshift([q,{name:q,username:q,_federated:!0}]),n.abrupt("return",e);case 6:case"end":return n.stop()}},null,null,null,Promise)},{keepPreviousData:!0}).data,F=g(function(){return z||[]},[z]),T=b(function(e){var n,t=null===(n=F.find(function(n){return o(n,1)[0]===e}))||void 0===n?void 0:n[1];if(!t)throw Error("UserAutoCompleteMultiple - onAddSelected - failed to cache option");j(function(n){var r;return a(a({},n),{},((r={})[e]=t,r))})},[j,F]),_=b(function(e){return j(function(n){var t=a({},n);return delete t[e],t})},[j]),B=b(function(e){n(e);var r=e.filter(function(e){return!t.includes(e)})[0],u=t.filter(function(n){return!e.includes(n)})[0];D(""),r&&T(r),u&&_(u)},[n,D,T,_,t]);return h.createElement(C.Provider,{value:{options:F}},h.createElement(l,u({},S,{"data-qa-type":"user-auto-complete-input",placeholder:v,value:t,onChange:B,filter:A,setFilter:D,renderSelected:function(e){var n=e.value,t=e.onMouseDown,r=P[n]||{};return h.createElement(f,{key:n,height:"x20",onMouseDown:t,mie:4,mb:2},r._federated?h.createElement(c,{size:"x20",name:"globe"}):h.createElement(x,{size:"x20",username:n}),h.createElement(s,{is:"span",margin:"none",mis:4},r.name||r.username||n))},renderOptions:E,options:F.concat(Object.entries(P)).map(function(e){var n=o(e,2)[1];return[n.username,n.name||n.username]}),"data-qa":"create-channel-users-autocomplete"})))}))}
//# sourceMappingURL=/dynamic/client/components/UserAutoCompleteMultiple/f922b794170aba8245f23af6c244a68cbfc2d7fa.map
