)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/UserAutoCompleteMultiple/UserAutoCompleteMultiple.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { AutoComplete, Box, OptionAvatar, Option, OptionContent, Chip, OptionDescription } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { memo, useMemo, useState } from 'react';\n\nimport UserAvatar from '../avatar/UserAvatar';\n\nconst query = (\n\tterm = '',\n): {\n\tselector: string;\n} => ({ selector: JSON.stringify({ term }) });\n\ntype UserAutoCompleteMultipleProps = Omit<ComponentProps<typeof AutoComplete>, 'filter'>;\n\n// TODO: useDisplayUsername\nconst UserAutoCompleteMultiple = ({ onChange, ...props }: UserAutoCompleteMultipleProps): ReactElement => {\n\tconst [filter, setFilter] = useState('');\n\tconst debouncedFilter = useDebouncedValue(filter, 1000);\n\tconst usersAutoCompleteEndpoint = useEndpoint('GET', '/v1/users.autocomplete');\n\tconst { data } = useQuery(['usersAutoComplete', debouncedFilter], async () => usersAutoCompleteEndpoint(query(debouncedFilter)));\n\n\tconst options = useMemo(() => data?.items.map((user) => ({ value: user.username, label: user.name })) || [], [data]);\n\n\treturn (\n\t\t<AutoComplete\n\t\t\t{...props}\n\t\t\tfilter={filter}\n\t\t\tsetFilter={setFilter}\n\t\t\tonChange={onChange}\n\t\t\tmultiple\n\t\t\trenderSelected={({ selected: { value, label }, onRemove, ...props }): ReactElement => (\n\t\t\t\t<Chip {...props} height='x20' value={value} onClick={onRemove} mie={4}>\n\t\t\t\t\t<UserAvatar size='x20' username={value} />\n\t\t\t\t\t<Box is='span' margin='none' mis={4}>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Box>\n\t\t\t\t</Chip>\n\t\t\t)}\n\t\t\trenderItem={({ value, label, ...props }): ReactElement => (\n\t\t\t\t<Option data-qa-type='autocomplete-user-option' key={value} {...props}>\n\t\t\t\t\t<OptionAvatar>\n\t\t\t\t\t\t<UserAvatar username={value} size='x20' />\n\t\t\t\t\t</OptionAvatar>\n\t\t\t\t\t<OptionContent>\n\t\t\t\t\t\t{label} <OptionDescription>({value})</OptionDescription>\n\t\t\t\t\t</OptionContent>\n\t\t\t\t</Option>\n\t\t\t)}\n\t\t\toptions={options}\n\t\t/>\n\t);\n};\n\nexport default memo(UserAutoCompleteMultiple);\n",null],"names":["_regeneratorRuntime","_extends","_slicedToArray","_objectWithoutProperties","AutoComplete","Box","OptionAvatar","Option","OptionContent","Chip","OptionDescription","useDebouncedValue","useEndpoint","useQuery","React","memo","useMemo","useState","UserAvatar","module","link","default","v","query","term","arguments","length","undefined","selector","JSON","stringify","exportDefault","_ref","onChange","props","_excluded","_useState2","filter","setFilter","debouncedFilter","usersAutoCompleteEndpoint","data","_useQuery","async","_context","prev","next","abrupt","stop","Promise","options","items","map","user","value","username","label","name","createElement","multiple","renderSelected","_ref2","_ref2$selected","selected","onRemove","_excluded2","height","onClick","mie","size","is","margin","mis","renderItem","_ref3","_excluded3","key"],"mappings":"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"}