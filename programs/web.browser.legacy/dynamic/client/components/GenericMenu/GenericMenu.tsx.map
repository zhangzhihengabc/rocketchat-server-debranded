)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/GenericMenu/GenericMenu.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { IconButton, MenuItem, MenuSection, MenuV2 } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactNode } from 'react';\nimport React from 'react';\n\nimport type { GenericMenuItemProps } from './GenericMenuItem';\nimport GenericMenuItem from './GenericMenuItem';\nimport { useHandleMenuAction } from './hooks/useHandleMenuAction';\n\ntype GenericMenuCommonProps = {\n\ticon?: ComponentProps<typeof IconButton>['icon'];\n\ttitle: string;\n};\ntype GenericMenuConditionalProps =\n\t| {\n\t\t\tsections?: {\n\t\t\t\ttitle?: ReactNode;\n\t\t\t\titems: GenericMenuItemProps[];\n\t\t\t\tpermission?: boolean | '' | 0 | null | undefined;\n\t\t\t}[];\n\t\t\titems?: never;\n\t  }\n\t| {\n\t\t\titems?: GenericMenuItemProps[];\n\t\t\tsections?: never;\n\t  };\n\ntype GenericMenuProps = GenericMenuCommonProps & GenericMenuConditionalProps & Omit<ComponentProps<typeof MenuV2>, 'children'>;\n\nconst GenericMenu = ({ title, icon = 'menu', onAction, ...props }: GenericMenuProps) => {\n\tconst t = useTranslation();\n\n\tconst sections = 'sections' in props && props.sections;\n\tconst items = 'items' in props && props.items;\n\n\tconst itemsList = sections ? sections.reduce((acc, { items }) => [...acc, ...items], [] as GenericMenuItemProps[]) : items || [];\n\n\tconst disabledKeys = itemsList.filter(({ disabled }) => disabled).map(({ id }) => id);\n\tconst handleAction = useHandleMenuAction(itemsList || []);\n\n\tconst hasIcon = itemsList.some(({ icon }) => icon);\n\tconst handleItems = (items: GenericMenuItemProps[]) =>\n\t\thasIcon ? items.map((item) => ({ ...item, gap: !item.icon && !item.status })) : items;\n\n\tconst isMenuEmpty = !(sections && sections.length > 0) && !(items && items.length > 0);\n\n\tif (isMenuEmpty) {\n\t\treturn <IconButton icon={icon} disabled />;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{sections && (\n\t\t\t\t<MenuV2\n\t\t\t\t\ticon={icon}\n\t\t\t\t\ttitle={t.has(title) ? t(title) : title}\n\t\t\t\t\tonAction={onAction || handleAction}\n\t\t\t\t\t{...(disabledKeys && { disabledKeys })}\n\t\t\t\t\t{...props}\n\t\t\t\t>\n\t\t\t\t\t{sections.map(({ title, items }, key) => (\n\t\t\t\t\t\t<MenuSection\n\t\t\t\t\t\t\ttitle={typeof title === 'string' && t.has(title) ? t(title) : title}\n\t\t\t\t\t\t\titems={handleItems(items)}\n\t\t\t\t\t\t\tkey={`${title}-${key}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{(item) => (\n\t\t\t\t\t\t\t\t<MenuItem key={item.id}>\n\t\t\t\t\t\t\t\t\t<GenericMenuItem {...item} />\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</MenuSection>\n\t\t\t\t\t))}\n\t\t\t\t</MenuV2>\n\t\t\t)}\n\t\t\t{items && (\n\t\t\t\t<MenuV2\n\t\t\t\t\ticon={icon}\n\t\t\t\t\ttitle={t.has(title) ? t(title) : title}\n\t\t\t\t\tonAction={onAction || handleAction}\n\t\t\t\t\t{...(disabledKeys && { disabledKeys })}\n\t\t\t\t\t{...props}\n\t\t\t\t>\n\t\t\t\t\t{handleItems(items).map((item) => (\n\t\t\t\t\t\t<MenuItem key={item.id}>\n\t\t\t\t\t\t\t<GenericMenuItem {...item} />\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</MenuV2>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default GenericMenu;\n",null],"names":["_extends","_objectSpread","_toConsumableArray","_objectWithoutProperties","IconButton","MenuItem","MenuSection","MenuV2","useTranslation","React","GenericMenuItem","useHandleMenuAction","module","link","default","v","exportDefault","_ref","title","_ref$icon","icon","onAction","props","_excluded","t","sections","items","itemsList","reduce","acc","_ref2","concat","disabledKeys","filter","_ref3","disabled","map","_ref4","id","handleAction","hasIcon","some","_ref5","handleItems","item","gap","status","length","createElement","Fragment","has","_ref6","key"],"mappings":"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"}