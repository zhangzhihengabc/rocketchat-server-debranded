function module(e,t,n){var l,r,i,a,o,u,c,s,m,d,f,b,E,v,p,_,k=["email","room","onRequest","onSend","onCancel","onDiscard"];n.link("@babel/runtime/helpers/extends",{default:function(e){l=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){r=e}},1),n.link("@rocket.chat/fuselage",{Field:function(e){i=e},Button:function(e){a=e},TextInput:function(e){o=e},Modal:function(e){u=e},Box:function(e){c=e},FieldGroup:function(e){s=e},FieldLabel:function(e){m=e},FieldRow:function(e){d=e},FieldError:function(e){f=e}},0),n.link("@rocket.chat/ui-contexts",{useTranslation:function(e){b=e}},1),n.link("react",{default:function(e){E=e},useCallback:function(e){v=e},useEffect:function(e){p=e}},2),n.link("react-hook-form",{useForm:function(e){_=e}},3),n.exportDefault(function(e){var t,n,h,g,j,q=e.email,C=void 0===q?"":q,F=e.room,S=e.onRequest,w=e.onSend,x=e.onCancel,T=e.onDiscard,y=r(e,k),R=b(),D=_({defaultValues:{email:C||"",subject:R("Transcript_of_your_livechat_conversation")}}),G=D.register,V=D.handleSubmit,B=D.setValue,I=D.setFocus,L=D.watch,H=D.formState,M=H.errors,P=H.isValid,U=H.isSubmitting;p(function(){I("subject")},[I]);var W=F.transcriptRequest,z=null==F?void 0:F.open,A=null==F?void 0:null===(t=F.v)||void 0===t?void 0:t.token,J=v(function(){return T()},[T]),K=v(function(e){var t=e.email,n=e.subject;z&&!W&&S(t,n),!z&&w&&A&&w(t,n,A)},[S,w,z,A,W]);p(function(){W&&(B("email",W.email),B("subject",W.subject))},[B,W]);var N=P&&!!L("subject");return E.createElement(u,l({open:!0,wrapperFunction:function(e){return E.createElement(c,l({is:"form",onSubmit:V(K)},e))}},y),E.createElement(u.Header,null,E.createElement(u.Icon,{name:"mail-arrow-top-right"}),E.createElement(u.Title,null,R("Transcript")),E.createElement(u.Close,{onClick:x})),E.createElement(u.Content,{fontScale:"p2"},!!W&&E.createElement("p",null,R("Livechat_transcript_already_requested_warning")),E.createElement(s,null,E.createElement(i,null,E.createElement(m,null,R("Email"),"*"),E.createElement(d,null,E.createElement(o,l({disabled:!!C||!!W,error:null===(n=M.email)||void 0===n?void 0:n.message,flexGrow:1},G("email",{required:R("The_field_is_required",R("Email"))})))),E.createElement(f,null,null===(h=M.email)||void 0===h?void 0:h.message)),E.createElement(i,null,E.createElement(m,null,R("Subject"),"*"),E.createElement(d,null,E.createElement(o,l({disabled:!!W,error:null===(g=M.subject)||void 0===g?void 0:g.message,flexGrow:1},G("subject",{required:R("The_field_is_required",R("Subject"))})))),E.createElement(f,null,null===(j=M.subject)||void 0===j?void 0:j.message)))),E.createElement(u.Footer,null,E.createElement(u.FooterControllers,null,E.createElement(a,{onClick:x},R("Cancel")),z&&W&&E.createElement(a,{danger:!0,onClick:J},R("Undo_request")),z&&!W&&E.createElement(a,{"aria-label":"request-button",disabled:!N,loading:U,primary:!0,type:"submit"},R("Request")),!z&&E.createElement(a,{"aria-label":"send-button",disabled:!N,loading:U,primary:!0,type:"submit"},R("Send")))))})}
//# sourceMappingURL=/dynamic/client/components/Omnichannel/modals/472e8115f1355d4ca326bde71124dc4879d15d11.map
