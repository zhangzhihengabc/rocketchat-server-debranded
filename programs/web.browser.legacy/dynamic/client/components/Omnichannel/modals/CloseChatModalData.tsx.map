)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/Omnichannel/modals/CloseChatModalData.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { ILivechatDepartment, ILivechatDepartmentAgents } from '@rocket.chat/core-typings';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport { AsyncStatePhase } from '../../../hooks/useAsyncState';\nimport { useEndpointData } from '../../../hooks/useEndpointData';\nimport { FormSkeleton } from '../Skeleton';\nimport CloseChatModal from './CloseChatModal';\n\nconst CloseChatModalData = ({\n\tdepartmentId,\n\tvisitorEmail,\n\tonCancel,\n\tonConfirm,\n}: {\n\tdepartmentId: ILivechatDepartment['_id'];\n\tonCancel: () => void;\n\tvisitorEmail?: string;\n\tonConfirm: (\n\t\tcomment?: string,\n\t\ttags?: string[],\n\t\tpreferences?: { omnichannelTranscriptPDF: boolean; omnichannelTranscriptEmail: boolean },\n\t) => Promise<void>;\n}): ReactElement => {\n\tconst { value: data, phase: state } = useEndpointData('/v1/livechat/department/:_id', { keys: { _id: departmentId } });\n\n\tif ([state].includes(AsyncStatePhase.LOADING)) {\n\t\treturn <FormSkeleton />;\n\t}\n\n\t// TODO: chapter day: fix issue with rest typing\n\t// TODO: This is necessary because of a weird problem\n\t// There is an endpoint livechat/department/${departmentId}/agents\n\t// that is causing the problem. type A | type B | undefined\n\n\treturn (\n\t\t<CloseChatModal\n\t\t\tonCancel={onCancel}\n\t\t\tonConfirm={onConfirm}\n\t\t\tvisitorEmail={visitorEmail}\n\t\t\tdepartment={\n\t\t\t\t(\n\t\t\t\t\tdata as {\n\t\t\t\t\t\tdepartment: ILivechatDepartment | null;\n\t\t\t\t\t\tagents?: ILivechatDepartmentAgents[];\n\t\t\t\t\t}\n\t\t\t\t).department\n\t\t\t}\n\t\t/>\n\t);\n};\nexport default CloseChatModalData;\n",null],"names":["React","AsyncStatePhase","useEndpointData","FormSkeleton","CloseChatModal","module","link","v","exportDefault","_ref","departmentId","visitorEmail","onCancel","onConfirm","_useEndpointData","keys","_id","data","value","phase","includes","LOADING","createElement","department"],"mappings":"uBASA,IAPAA,EAA0BC,EAAAC,EAAAC,EAAAC,EAAnBC,EAAKC,IAAM,CAAA,QAAQ,CAAA,QAAA,SAAAC,CAAA,EAAAP,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAJ,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,iCAAAA,CAAAH,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,cAAAA,CAAAF,aAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,mBAAAA,CAAA,QAAA,SAAAE,CAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAA1BC,EAAOG,aAAW,CAOS,SAAAC,CAAA,EAcR,IAblBC,EAAYD,EAAZC,YAAY,CACZC,EAAYF,EAAZE,YAAY,CACZC,EAAQH,EAARG,QAAQ,CACRC,EAASJ,EAATI,SAAS,CAWTC,EAAsCZ,EAAgB,+BAAgC,CAAEa,KAAM,CAAEC,IAAKN,CAAY,CAAE,GAApGO,EAAIH,EAAXI,KAAK,OAEb,AAAI,CAF6BJ,EAAZK,KAAK,CAEf,CAACC,QAAQ,CAACnB,EAAgBoB,OAAO,EACpCrB,EAAAsB,aAAA,CAACnB,EAAY,MASpBH,EAAAsB,aAAA,CAAClB,EAAc,CACdQ,SAAUA,EACVC,UAAWA,EACXF,aAAcA,EACdY,WAEEN,EAICM,UAAAA,AACF,EAGJ"}