function module(e,n,t){var l,o,a,r,i,u,c,s,m,d,f,p,h,E,k,b,w,F,_,v,C,g,x,A,L,S,y,T,I=["onForward","onCancel","room"];t.link("@babel/runtime/regenerator",{default:function(e){l=e}},0),t.link("@babel/runtime/helpers/extends",{default:function(e){o=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},2),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){r=e}},3),t.link("@rocket.chat/fuselage",{Field:function(e){i=e},FieldGroup:function(e){u=e},Button:function(e){c=e},TextAreaInput:function(e){s=e},Modal:function(e){m=e},Box:function(e){d=e},PaginatedSelectFiltered:function(e){f=e},Divider:function(e){p=e},FieldLabel:function(e){h=e},FieldRow:function(e){E=e}},0),t.link("@rocket.chat/fuselage-hooks",{useDebouncedValue:function(e){k=e}},1),t.link("@rocket.chat/ui-contexts",{useEndpoint:function(e){b=e},useSetting:function(e){w=e},useTranslation:function(e){F=e}},2),t.link("react",{default:function(e){_=e},useCallback:function(e){v=e},useEffect:function(e){C=e},useMemo:function(e){g=e},useState:function(e){x=e}},3),t.link("react-hook-form",{useForm:function(e){A=e}},4),t.link("../../../hooks/lists/useRecordList",{useRecordList:function(e){L=e}},5),t.link("../../../hooks/useAsyncState",{AsyncStatePhase:function(e){S=e}},6),t.link("../../AutoCompleteAgent",{default:function(e){y=e}},7),t.link("../hooks/useDepartmentsList",{useDepartmentsList:function(e){T=e}},8),t.exportDefault(function(e){var n,t=e.onForward,D=e.onCancel,G=e.room,M=r(e,I),B=F(),P=b("GET","/v1/users.info"),R=w("Livechat_enabled_when_agent_idle"),V=A(),O=V.getValues,W=V.handleSubmit,j=V.register,q=V.setFocus,H=V.setValue,N=V.watch;C(function(){q("comment")},[q]);var U=N("department"),z=N("username"),J=a(x(""),2),K=J[0],Q=J[1],X=k(K,500),Y=T(g(function(){return{filter:X,enabled:!0}},[X])),Z=Y.itemsList,$=Y.loadMoreItems,ee=L(Z),en=ee.phase,et=ee.items,el=ee.itemCount,eo=v(function(e){en!==S.LOADING&&$(e,Math.min(50,el))},[en,el,$]),ea=v(function(e){var n,o,a,r,i;return l.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(n=e.department,o=e.username,a=e.comment,!o){u.next=7;break}return u.next=4,l.awrap(P({username:o}));case 4:r=null==(i=u.sent.user)?void 0:i._id;case 7:t(n,r,a);case 8:case"end":return u.stop()}},null,null,null,Promise)},[P,t]);return C(function(){j("department"),j("username")},[j]),_.createElement(m,o({wrapperFunction:function(e){return _.createElement(d,o({is:"form",onSubmit:W(ea)},e))}},M),_.createElement(m.Header,null,_.createElement(m.Icon,{name:"baloon-arrow-top-right"}),_.createElement(m.Title,null,B("Forward_chat")),_.createElement(m.Close,{onClick:D})),_.createElement(m.Content,{fontScale:"p2"},_.createElement(u,null,_.createElement(i,null,_.createElement(h,null,B("Forward_to_department")),_.createElement(E,null,_.createElement(f,{withTitle:!0,filter:K,setFilter:Q,options:et,maxWidth:"100%",placeholder:B("Select_an_option"),onChange:function(e){H("department",e)},flexGrow:1,endReached:eo}))),_.createElement(p,{p:0,children:B("or")}),_.createElement(i,null,_.createElement(h,null,B("Forward_to_user")),_.createElement(E,null,_.createElement(y,{withTitle:!0,onlyAvailable:!0,value:O().username,excludeId:null===(n=G.servedBy)||void 0===n?void 0:n._id,showIdleAgents:R,placeholder:B("Username_name_email"),onChange:function(e){H("username",e)}}))),_.createElement(i,{marginBlock:15},_.createElement(h,null,B("Leave_a_comment")," ",_.createElement(d,{is:"span",color:"annotation"},"(",B("Optional"),")")),_.createElement(E,null,_.createElement(s,o({"data-qa-id":"ForwardChatModalTextAreaInputComment"},j("comment"),{rows:8,flexGrow:1})))))),_.createElement(m.Footer,null,_.createElement(m.FooterControllers,null,_.createElement(c,{onClick:D},B("Cancel")),_.createElement(c,{type:"submit",disabled:!z&&!U,primary:!0},B("Forward")))))})}
//# sourceMappingURL=/dynamic/client/components/Omnichannel/modals/8c619663f41c845043fbbc56f8043daadd3191dc.map
