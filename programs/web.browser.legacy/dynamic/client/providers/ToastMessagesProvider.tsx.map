)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/providers/ToastMessagesProvider.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { ToastBarProvider, useToastBarDispatch } from '@rocket.chat/fuselage-toastbar';\nimport { ToastMessagesContext } from '@rocket.chat/ui-contexts';\nimport type { FC } from 'react';\nimport React, { useEffect } from 'react';\n\nimport { getErrorMessage } from '../lib/errorHandling';\nimport { dispatchToastMessage, subscribeToToastMessages } from '../lib/toast';\n\nconst contextValue = {\n\tdispatch: dispatchToastMessage,\n};\n\nconst ToastMessageInnerProvider: FC = ({ children }) => {\n\tconst dispatchToastBar = useToastBarDispatch();\n\n\tuseEffect(\n\t\t() =>\n\t\t\tsubscribeToToastMessages(({ type, message, title = '' }) => {\n\t\t\t\tif (type === 'error' && typeof message === 'object') {\n\t\t\t\t\tdispatchToastBar({ type, message: getErrorMessage(message) });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (typeof message !== 'string' && message instanceof Error) {\n\t\t\t\t\tmessage = `[${message.name}] ${message.message}`;\n\t\t\t\t}\n\n\t\t\t\tif (type === 'warning') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tdispatchToastBar({ type, message: title + message });\n\t\t\t}),\n\t\t[dispatchToastBar],\n\t);\n\n\treturn <ToastMessagesContext.Provider children={children} value={contextValue} />;\n};\n\n// eslint-disable-next-line react/no-multi-comp\nconst ToastMessagesProvider: FC = ({ children }) => (\n\t<ToastBarProvider>\n\t\t<ToastMessageInnerProvider children={children} />\n\t</ToastBarProvider>\n);\n\nexport default ToastMessagesProvider;\n",null],"names":["module","default","_typeof","link","ToastBarProvider","useToastBarDispatch","ToastMessagesContext","v","React","useEffect","getErrorMessage","dispatchToastMessage","subscribeToToastMessages","contextValue","dispatch","ToastMessageInnerProvider","_ref","children","dispatchToastBar","_ref2","type","message","_ref2$title","title","Error","name","createElement","Provider","value","exportDefault","_ref3"],"mappings":"uBAASA,EAAAA,IAAAA,CAAAA,gCAA6C,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAgC,CAAC,EAAA,GAA5DF,EAAqBG,IAAAA,CAAAA,iCAAsC,CAACC,iBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,oBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAL,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAM,qBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAO,CAAA,EAAAC,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAT,EAAAA,IAAAA,CAAAA,uBAAAA,CAAAU,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAV,EAAAA,IAAAA,CAAAA,eAAAA,CAAAW,qBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,yBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAQvF,IARAV,EAAAE,EAASC,EAA8EC,EAAAE,EAAAC,EAAAC,EAAAC,EAAAC,EAQjFC,EAAe,CACpBC,SAAUH,GAGLI,EAAgC,SAAAC,CAAA,EAAiB,IAAdC,EAAQD,EAARC,QAAQ,CAC1CC,EAAmBb,IAuBzB,OArBAI,EACC,WAAA,OACCG,EAAyB,SAAAO,CAAA,EAAkC,IAA/BC,EAAID,EAAJC,IAAI,CAAEC,EAAOF,EAAPE,OAAO,CAAAC,EAAAH,EAAEI,KAAK,CAC/C,GAAIH,AAAS,UAATA,GAAoBlB,AAAmB,WAAnBA,EAAOmB,GAAsB,CACpDH,EAAiB,CAAEE,KAAAA,EAAMC,QAASX,EAAgBW,EAAQ,GAC1D,OAGsB,UAAnB,OAAOA,GAAwBA,aAAmBG,OACrDH,CAAAA,EAAO,IAAOA,EAAQI,IAAI,CAAA,KAAKJ,EAAQA,OAAS,AAATA,EAG3B,YAATD,GAIJF,EAAiB,CAAEE,KAAAA,EAAMC,QAASE,AAdaD,CAAAA,AAAA,KAAA,IAAAA,EAAG,GAAEA,CAAA,EAcVD,CAAO,EAClD,EAAE,EACH,CAACH,EAAiB,EAGZV,EAAAkB,aAAA,CAACpB,EAAqBqB,QAAQ,CAAA,CAACV,SAAUA,EAAUW,MAAOf,CAAa,EAC/E,EArCAb,EAAO6B,aAAE,CAwCyB,SAAAC,CAAA,EAAA,IAAGb,EAAQa,EAARb,QAAQ,CAAA,OAC5CT,EAAAkB,aAAA,CAACtB,EAAgB,KAChBI,EAAAkB,aAAA,CAACX,EAAyB,CAACE,SAAUA,CAAS,GAC5B"}