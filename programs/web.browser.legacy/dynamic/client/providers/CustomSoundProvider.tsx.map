)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/providers/CustomSoundProvider.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { CustomSoundContext, useUserId, useStream } from '@rocket.chat/ui-contexts';\nimport type { FC } from 'react';\nimport React, { useEffect } from 'react';\n\nimport { CustomSounds } from '../../app/custom-sounds/client/lib/CustomSounds';\n\nconst CustomSoundProvider: FC = ({ children }) => {\n\tconst userId = useUserId();\n\tuseEffect(() => {\n\t\tif (!userId) {\n\t\t\treturn;\n\t\t}\n\t\tvoid CustomSounds.fetchCustomSoundList();\n\t}, [userId]);\n\n\tconst streamAll = useStream('notify-all');\n\n\tuseEffect(() => {\n\t\tif (!userId) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn streamAll('public-info', ([key, data]) => {\n\t\t\tswitch (key) {\n\t\t\t\tcase 'updateCustomSound':\n\t\t\t\t\tCustomSounds.update(data[0].soundData);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'deleteCustomSound':\n\t\t\t\t\tCustomSounds.remove(data[0].soundData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t}, [userId, streamAll]);\n\treturn <CustomSoundContext.Provider children={children} value={CustomSounds} />;\n};\n\nexport default CustomSoundProvider;\n",null],"names":["_slicedToArray","CustomSoundContext","useUserId","useStream","React","useEffect","CustomSounds","module","default","v","link","exportDefault","_ref","children","userId","fetchCustomSoundList","streamAll","_ref2","_ref3","key","data","update","soundData","remove","createElement","Provider","value"],"mappings":"uBAMA,IANAA,EAAAC,EAASC,EAAoBC,EAAuDC,EAAAC,EAAAC,EAA3EC,EAAAA,IAAoB,CAAA,uCAA4B,CAAAC,QAAAA,SAA2BC,CAAAA,EAAAT,EAAAA,CAAA,CAAA,EAAA,GAA5CO,EAASG,IAAE,CAAA,2BAAM,CAA0BT,mBAAC,SAAAQ,CAAA,EAAAR,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAE,CAAA,EAAAL,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,kDAAAA,CAAAD,aAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAApFC,EAAOI,aAAE,CAMuB,SAAAC,CAAA,EAAiB,IAAdC,EAAQD,EAARC,QAAQ,CACpCC,EAASZ,IACfG,EAAU,WACJS,GAGAR,EAAaS,oBAAoB,EACvC,EAAG,CAACD,EAAO,EAEX,IAAME,EAAYb,EAAU,cAkB5B,OAhBAE,EAAU,WACT,GAAKS,EAIL,OAAOE,EAAU,cAAe,SAAAC,CAAA,EAAgB,IAAAC,EAAAlB,EAAAiB,EAAA,GAAdE,EAAGD,CAAA,CAAA,EAAA,CAAEE,EAAIF,CAAA,CAAA,EAAA,CAC1C,OAAQC,GACP,IAAK,oBACJb,EAAae,MAAM,CAACD,CAAI,CAAC,EAAE,CAACE,SAAS,EACrC,KACD,KAAK,oBACJhB,EAAaiB,MAAM,CAACH,CAAI,CAAC,EAAE,CAACE,SAAS,CAC/B,CAET,EACD,EAAG,CAACR,EAAQE,EAAU,EACfZ,EAAAoB,aAAA,CAACvB,EAAmBwB,QAAQ,CAAA,CAACZ,SAAUA,EAAUa,MAAOpB,CAAa,EAC7E"}