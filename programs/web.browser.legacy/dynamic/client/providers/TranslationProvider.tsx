function module(n,e,t){t.link("@babel/runtime/regenerator",{default:function(n){a=n}},0),t.link("@babel/runtime/helpers/toConsumableArray",{default:function(n){i=n}},1),t.link("@babel/runtime/helpers/createForOfIteratorHelperLoose",{default:function(n){r=n}},2),t.link("@babel/runtime/helpers/slicedToArray",{default:function(n){u=n}},3),t.link("@rocket.chat/fuselage-hooks",{useLocalStorage:function(n){o=n},useMutableCallback:function(n){l=n}},0),t.link("@rocket.chat/i18n/dist/languages",{default:function(n){c=n}},1),t.link("@rocket.chat/i18n/src/locales/en.i18n.json",{default:function(n){s=n}},2),t.link("@rocket.chat/tools",{normalizeLanguage:function(n){f=n}},3),t.link("@rocket.chat/ui-contexts",{useMethod:function(n){d=n},useSetting:function(n){g=n},TranslationContext:function(n){p=n}},4),t.link("i18next-http-backend",{default:function(n){h=n}},5),t.link("i18next-sprintf-postprocessor",{default:function(n){v=n}},6),t.link("moment",{default:function(n){m=n}},7),t.link("react",{default:function(n){k=n},useEffect:function(n){b=n},useMemo:function(n){y=n}},8),t.link("react-i18next",{I18nextProvider:function(n){L=n},initReactI18next:function(n){A=n},useTranslation:function(n){C=n}},9),t.link("../../app/ui-cached-collection/client",{CachedCollectionManager:function(n){S=n}},10),t.link("../../app/utils/client",{getURL:function(n){j=n}},11),t.link("../../app/utils/lib/i18n",{i18n:function(n){x=n},addSprinfToI18n:function(n){O=n}},12),t.link("../../ee/client/apps/orchestrator",{AppClientOrchestratorInstance:function(n){w=n}},13),t.link("../lib/utils/applyCustomTranslations",{applyCustomTranslations:function(n){I=n}},14),t.link("../lib/utils/isRTLScriptLanguage",{isRTLScriptLanguage:function(n){T=n}},15),x.use(h).use(A).use(v);var a,i,r,u,o,l,c,s,f,d,g,p,h,v,m,k,b,y,L,A,C,S,j,x,O,w,I,T,E=["core","onboarding","registration","cloud"],M=function(n){try{return JSON.parse(n)}catch(n){return!1}},N=new Map,D=function(n){var e=g("Custom_Translations"),t=y(function(){if(e&&"string"==typeof e)return M(e)},[e]),a=l(function(n,e){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i={},o=0,l=Object.entries(n);o<l.length;o++){var c=u(l[o],2),s=c[0],f=c[1],d=u(s.split("."),1)[0];if(d&&Array.isArray(a)?a.includes(d):d===a){i[s.slice(d.length+1)]=f;continue}(Array.isArray(a)?a.includes("core"):"core"===a)&&(i[s]=f)}if(e&&t)for(var g,p=r(Array.isArray(e)?e:[e]);!(g=p()).done;){var h=g.value;if(t[h])for(var v=function(n){var e=(Array.isArray(a)?a:[a]).find(function(e){return n.startsWith(e+".")});if(e)return i[n.slice(e.length+1)]=L,"continue";(Array.isArray(a)?a.includes("core"):"core"===a)&&(i[n]=L)},m=0,k=Object.entries(t[h]);m<k.length;m++){var b=u(k[m],2),y=b[0],L=b[1];if("continue"===v(y))continue}}return i});return x.isInitialized||x.init({lng:n,fallbackLng:"en",ns:E,nsSeparator:".",resources:{en:a(s)},partialBundledLanguages:!0,defaultNS:"core",backend:{loadPath:"i18n/{{lng}}.json",parse:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return a(JSON.parse(n),e,t)},request:function(n,e,t,a){var i=e.split("/"),r=i[i.length-1],u=N.get(r);u||(u=fetch(j(e)).then(function(n){return n.text()}),N.set(r,u)),u.then(function(n){return a(null,{data:n,status:200})},function(){return a(null,{data:"",status:500})})}},react:{useSuspense:!0,bindI18n:"languageChanged loaded",bindI18nStore:"added removed"},interpolation:{escapeValue:!1}}),b(function(){x.language!==n&&x.changeLanguage(n)},[n]),b(function(){if(t)for(var n=0,e=Object.entries(t);n<e.length;n++){var a=u(e[n],2),i=a[0],r=a[1];if(r)for(var o=Object.entries(r).reduce(function(n,e){var t,a,i=u(e,2),r=i[0],o=i[1],l=r.split(".")[0];return E.includes(l)?(n[l]=null!==(a=n[l])&&void 0!==a?a:{},n[l][r]=o,n[l][r.slice(l.length+1)]=o):(n.project=null!==(t=n.project)&&void 0!==t?t:{},n.project[r]=o),n},{}),l=0,c=Object.entries(o);l<c.length;l++){var s=u(c[l],2),f=s[0],d=s[1];x.addResourceBundle(i,f,d)}}},[t]),x},R=function(){var n,e,t=g("Language"),a=f(null!==(n=window.navigator.userLanguage)&&void 0!==n?n:window.navigator.language)||t||"en",i=c.includes(a)?a:null!==(e=a.split("-").shift())&&void 0!==e?e:"en",r=u(o("userLanguage",i),1)[0];return document.documentElement.classList[T(r)?"add":"remove"]("rtl"),document.documentElement.setAttribute("dir",T(r)?"rtl":"ltr"),document.documentElement.lang=r,r||i},P=function(n,e){try{var t,a=new Intl.DisplayNames([e],{type:"language"});return null!==(t=a.of(n))&&void 0!==t?t:n}catch(e){return n}},z=function(n){var e=n.children,t=n.availableLanguages,i=C(),r=i.t,u=i.i18n,o=y(function(){return{language:u.language,languages:t,loadLanguage:function(n){return a.async(function(e){for(;;)switch(e.prev=e.next){case 0:u.changeLanguage(n).then(function(){return I()});case 1:case"end":return e.stop()}},null,null,null,Promise)},translate:Object.assign(O(r),{has:function(n,e){return n&&u.exists(n,e)}})}},[t,u,r]);return k.createElement(p.Provider,{children:e,value:o})};t.exportDefault(function(n){var e=n.children,t=d("loadLocale"),a=R(),r=D(a),u=y(function(){return[{en:"Default",name:r.t("Default"),ogName:r.t("Default"),key:""}].concat(i(i(new Set([].concat(i(r.languages),i(c)))).map(function(n){return{en:n,name:P(n,a),ogName:P(n,n),key:n}})))},[a,r]);return b(function(){if(m.locales().includes(a.toLowerCase())){m.locale(a);return}var n=u.find(function(n){return n.key===a})?a:a.split("-").shift();t(null!=n?n:a).then(function(n){n&&Function(n).call({moment:m}),m.locale(a)}).catch(function(n){m.locale("en"),console.error("Error loading moment locale:",n)})},[a,t,u]),b(function(){var n=function(){w.getAppClientManager().initialize(),w.load()};return S.onLogin(n),function(){return S.off("login",n)}},[]),k.createElement(L,{i18n:r},k.createElement(z,{children:e,availableLanguages:u}))})}
//# sourceMappingURL=/dynamic/client/providers/e0ade20d6aa8502db12b4d727564806864767b51.map
