)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/providers/LayoutProvider.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useBreakpoints } from '@rocket.chat/fuselage-hooks';\nimport { LayoutContext, useRouter, useSetting } from '@rocket.chat/ui-contexts';\nimport type { FC } from 'react';\nimport React, { useMemo, useState, useEffect } from 'react';\n\nconst LayoutProvider: FC = ({ children }) => {\n\tconst showTopNavbarEmbeddedLayout = Boolean(useSetting('UI_Show_top_navbar_embedded_layout'));\n\tconst [isCollapsed, setIsCollapsed] = useState(false);\n\tconst breakpoints = useBreakpoints(); // [\"xs\", \"sm\", \"md\", \"lg\", \"xl\", xxl\"]\n\n\tconst router = useRouter();\n\t// Once the layout is embedded, it can't be changed\n\tconst [isEmbedded] = useState(() => router.getSearchParameters().layout === 'embedded');\n\n\tconst isMobile = !breakpoints.includes('md');\n\n\tuseEffect(() => {\n\t\tsetIsCollapsed(isMobile);\n\t}, [isMobile]);\n\n\treturn (\n\t\t<LayoutContext.Provider\n\t\t\tchildren={children}\n\t\t\tvalue={useMemo(\n\t\t\t\t() => ({\n\t\t\t\t\tisMobile,\n\t\t\t\t\tisEmbedded,\n\t\t\t\t\tshowTopNavbarEmbeddedLayout,\n\t\t\t\t\tsidebar: {\n\t\t\t\t\t\tisCollapsed,\n\t\t\t\t\t\ttoggle: () => setIsCollapsed((isCollapsed) => !isCollapsed),\n\t\t\t\t\t\tcollapse: () => setIsCollapsed(true),\n\t\t\t\t\t\texpand: () => setIsCollapsed(false),\n\t\t\t\t\t\tclose: () => (isEmbedded ? setIsCollapsed(true) : router.navigate('/home')),\n\t\t\t\t\t},\n\t\t\t\t\tsize: {\n\t\t\t\t\t\tsidebar: '240px',\n\t\t\t\t\t\t// eslint-disable-next-line no-nested-ternary\n\t\t\t\t\t\tcontextualBar: breakpoints.includes('sm') ? (breakpoints.includes('xl') ? '38%' : '380px') : '100%',\n\t\t\t\t\t},\n\t\t\t\t\troomToolboxExpanded: breakpoints.includes('lg'),\n\t\t\t\t\tcontextualBarExpanded: breakpoints.includes('sm'),\n\t\t\t\t\t// eslint-disable-next-line no-nested-ternary\n\t\t\t\t\tcontextualBarPosition: breakpoints.includes('sm') ? (breakpoints.includes('lg') ? 'relative' : 'absolute') : 'fixed',\n\t\t\t\t}),\n\t\t\t\t[isMobile, isEmbedded, showTopNavbarEmbeddedLayout, isCollapsed, breakpoints, router],\n\t\t\t)}\n\t\t/>\n\t);\n};\n\nexport default LayoutProvider;\n",null],"names":["_slicedToArray","useBreakpoints","LayoutContext","useRouter","useSetting","React","useMemo","useState","useEffect","module","link","default","v","exportDefault","_ref","children","showTopNavbarEmbeddedLayout","Boolean","_useState2","isCollapsed","setIsCollapsed","breakpoints","router","isEmbedded","_useState4","getSearchParameters","layout","isMobile","includes","createElement","Provider","value","sidebar","toggle","collapse","expand","close","navigate","size","contextualBar","roomToolboxExpanded","contextualBarExpanded","contextualBarPosition"],"mappings":"uBAKA,IALAA,EAAAC,EAA6DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAApDC,EAAgBC,IAAA,CAAM,uCAA8B,CAAAC,QAAAA,SAAAA,CAAAA,EAAAX,EAAAA,CAAA,CAAA,EAAA,GAApDS,EAAgBC,IAAA,CAAM,8BAA8B,CAAAT,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAP,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAP,EAAAA,CAAA,EAAAC,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAA7DC,EAAOI,aAAE,CAKkB,SAAAC,CAAA,EAAiB,IAAdC,EAAQD,EAARC,QAAQ,CAC/BC,EAA8BC,CAAAA,CAAQb,EAAW,sCACFc,EAAAlB,EAAfO,EAAS,CAAA,GAAM,GAA9CY,EAAWD,CAAA,CAAA,EAAA,CAAEE,EAAcF,CAAA,CAAA,EAAA,CAC5BG,EAAcpB,IAEdqB,EAASnB,IAERoB,EAAUC,AAAsExB,EAAlEO,EAAS,WAAA,MAAMe,AAAwC,aAAxCA,EAAOG,mBAAmB,GAAGC,MAAM,AAAe,GAAC,EAAtE,CAAA,EAAA,CAEXC,EAAW,CAACN,EAAYO,QAAQ,CAAC,MAMvC,OAJApB,EAAU,WACTY,EAAeO,EAChB,EAAG,CAACA,EAAS,EAGZtB,EAAAwB,aAAA,CAAC3B,EAAc4B,QAAQ,CAAA,CACtBf,SAAUA,EACVgB,MAAOzB,EACN,WAAA,MAAO,CACNqB,SAAAA,EACAJ,WAAAA,EACAP,4BAAAA,EACAgB,QAAS,CACRb,YAAAA,EACAc,OAAQ,WAAA,OAAMb,EAAe,SAACD,CAAW,EAAA,MAAK,CAACA,CAAW,EAAC,EAC3De,SAAU,WAAA,OAAMd,EAAe,CAAA,EAAK,EACpCe,OAAQ,WAAA,OAAMf,EAAe,CAAA,EAAM,EACnCgB,MAAO,WAAA,OAAOb,EAAaH,EAAe,CAAA,GAAQE,EAAOe,QAAQ,CAAC,QAAQ,GAE3EC,KAAM,CACLN,QAAS,QAETO,cAAelB,EAAYO,QAAQ,CAAC,MAASP,EAAYO,QAAQ,CAAC,MAAQ,MAAQ,QAAW,QAE9FY,oBAAqBnB,EAAYO,QAAQ,CAAC,MAC1Ca,sBAAuBpB,EAAYO,QAAQ,CAAC,MAE5Cc,sBAAuBrB,EAAYO,QAAQ,CAAC,MAASP,EAAYO,QAAQ,CAAC,MAAQ,WAAa,WAAc,QAC7G,EACD,CAACD,EAAUJ,EAAYP,EAA6BG,EAAaE,EAAaC,EAAO,CACpF,EAGL"}