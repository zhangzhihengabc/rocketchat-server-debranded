function module(e,i,n){n.link("@babel/runtime/helpers/typeof",{default:function(e){t=e}},0),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){u=e}},1),n.export({DeviceProvider:function(){return s}}),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){a=e}},0),n.link("@rocket.chat/ui-contexts",{DeviceContext:function(e){o=e}},1),n.link("react",{default:function(e){r=e},useEffect:function(e){c=e},useState:function(e){l=e},useMemo:function(e){d=e}},2),n.link("./lib/isSetSinkIdAvailable",{isSetSinkIdAvailable:function(e){v=e}},3);var t,u,a,o,r,c,l,d,v,s=function(e){var i=e.children,n=u(l(("undefined"==typeof isSecureContext?"undefined":t(isSecureContext))&&isSecureContext),1)[0],s=u(l([]),2),f=s[0],b=s[1],p=u(l([]),2),h=p[0],k=p[1],D=u(l({id:"default",label:"",type:"audio"}),2),m=D[0],S=D[1],A=u(l({id:"default",label:"",type:"audio"}),2),x=A[0],E=A[1],g=function(e){if(!isSecureContext)throw Error("Device Changes are not available on insecure contexts");E(e)},C=a(function(e){var i=e.outputDevice,t=e.HTMLAudioElement;if(!v())throw Error("setSinkId is not available in this browser");if(!n)throw Error("Device Changes are not available on insecure contexts");S(i),t.setSinkId(i.id)});c(function(){if(n){var e,i=function(){var e;null===(e=navigator.mediaDevices)||void 0===e||e.enumerateDevices().then(function(e){var i=[],n=[];e.forEach(function(e){var t={id:e.deviceId,label:e.label,type:e.kind};"audioinput"===e.kind?i.push(t):"audiooutput"===e.kind&&n.push(t)}),b(n),k(i)})};return null===(e=navigator.mediaDevices)||void 0===e||e.addEventListener("devicechange",i),i(),function(){var e;null===(e=navigator.mediaDevices)||void 0===e||e.removeEventListener("devicechange",i)}}},[n]);var I=d(function(){return n?{enabled:n,availableAudioOutputDevices:f,availableAudioInputDevices:h,selectedAudioOutputDevice:m,selectedAudioInputDevice:x,setAudioOutputDevice:C,setAudioInputDevice:g}:{enabled:n}},[h,f,n,x,m,C]);return r.createElement(o.Provider,{value:I},i)}}
//# sourceMappingURL=/dynamic/client/providers/DeviceProvider/29d485cf745f5bf13eadb675a05c3a3341838f0a.map
