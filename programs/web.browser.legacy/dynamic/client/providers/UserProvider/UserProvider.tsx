function module(e,n,t){var i,o,r,u,l,c,a,s,f,d,g,p,h,k,v,b,m,C,P,w,S,W,y=["appId"];t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){i=e}},0),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){o=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){r=e}},2),t.link("@babel/runtime/regenerator",{default:function(e){u=e}},3),t.link("@rocket.chat/fuselage-hooks",{useLocalStorage:function(e){l=e}},0),t.link("@rocket.chat/ui-contexts",{UserContext:function(e){c=e},useEndpoint:function(e){a=e},useSetting:function(e){s=e}},1),t.link("meteor/meteor",{Meteor:function(e){f=e}},2),t.link("react",{default:function(e){d=e},useEffect:function(e){g=e},useMemo:function(e){p=e}},3),t.link("../../../app/models/client",{Subscriptions:function(e){h=e},ChatRoom:function(e){k=e}},4),t.link("../../../app/utils/client",{getUserPreference:function(e){v=e}},5),t.link("../../../app/utils/client/lib/SDKClient",{sdk:function(e){b=e}},6),t.link("../../../lib/callbacks/afterLogoutCleanUpCallback",{afterLogoutCleanUpCallback:function(e){m=e}},7),t.link("../../hooks/useReactiveValue",{useReactiveValue:function(e){C=e}},8),t.link("../../lib/createReactiveSubscriptionFactory",{createReactiveSubscriptionFactory:function(e){P=e}},9),t.link("../../views/account/accessibility/hooks/useCreateFontStyleElement",{useCreateFontStyleElement:function(e){w=e}},10),t.link("./hooks/useEmailVerificationWarning",{useEmailVerificationWarning:function(e){S=e}},11),t.link("./hooks/useLDAPAndCrowdCollisionWarning",{useLDAPAndCrowdCollisionWarning:function(e){W=e}},12);var A=function(){return f.userId()},E=function(){return f.user()},L=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},D={apple:{title:"Apple",icon:"apple"},facebook:{title:"Facebook",icon:"facebook"},twitter:{title:"Twitter",icon:"twitter"},google:{title:"Google",icon:"google"},github:{title:"Github",icon:"github"},github_enterprise:{title:"Github Enterprise",icon:"github"},gitlab:{title:"Gitlab",icon:"gitlab"},dolphin:{title:"Dolphin",icon:"dophin"},drupal:{title:"Drupal",icon:"drupal"},nextcloud:{title:"Nextcloud",icon:"nextcloud"},tokenpass:{title:"Tokenpass",icon:"tokenpass"},"meteor-developer":{title:"Meteor",icon:"meteor"},wordpress:{title:"WordPress",icon:"wordpress"},linkedin:{title:"Linkedin",icon:"linkedin"}},x=function(){return new Promise(function(e,n){var t=E();if(!t)return e();f.logout(function(){return u.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,u.awrap(m.run(t));case 2:b.call("logoutCleanUp",t).then(e,n);case 3:case"end":return i.stop()}},null,null,null,Promise)})})};t.exportDefault(function(e){var n,t,u=e.children,b=s("LDAP_Enable"),m=s("CROWD_Enable"),R=C(A),T=C(E),U=r(l("userLanguage",""),2),q=U[0],F=U[1],G=r(l("preferedLanguage",""),2),I=G[0],M=G[1],O=a("POST","/v1/users.setPreferences");w()(null==T?void 0:null===(n=T.settings)||void 0===n?void 0:null===(t=n.preferences)||void 0===t?void 0:t.fontSize);var V=b&&"loginWithLDAP"||m&&"loginWithCrowd"||"loginWithPassword";W(),S(null!=T?T:void 0);var j=p(function(){return{userId:R,user:T,queryPreference:P(function(e,n){return v(R,e,n)}),querySubscription:P(function(e,n,t){return h.findOne(e,{fields:n,sort:t})}),queryRoom:P(function(e,n){return k.findOne(e,{fields:n})}),querySubscriptions:P(function(e,n){return R?h.find(e,n).fetch():k.find(e,n).fetch()}),loginWithToken:function(e){return new Promise(function(n,t){return f.loginWithToken(e,function(e){if(e)return t(e);n(void 0)})})},loginWithPassword:function(e,n){return new Promise(function(t,i){f[V](e,n,function(e){if(e){i(e);return}t()})})},logout:x,loginWithService:function(e){var n=e.service,t=e.clientConfig,i=void 0===t?{}:t,o=f["loginWith"+(({"meteor-developer":"MeteorDeveloperAccount"})[n]||L(String(n||"")))];return o?function(){return new Promise(function(e,n){o(i,function(t){if(!t){e(!0);return}n(t)})})}:function(){return Promise.reject(Error("Login method not found"))}},queryAllServices:P(function(){return ServiceConfiguration.configurations.find({showButton:{$ne:!1}},{sort:{service:1}}).fetch().map(function(e){e.appId;var n,t=o(e,y);return i(i({title:L(String(t.service||""))},t),null!==(n=D[t.service])&&void 0!==n?n:{})})})}},[R,T,V]);return g(function(){R&&I!==q&&(O({data:{language:I}}),F(I)),(null==T?void 0:T.language)!==void 0&&T.language!==q&&(F(T.language),M(T.language))},[I,M,F,null==T?void 0:T.language,q,R,O]),d.createElement(c.Provider,{children:u,value:j})})}
//# sourceMappingURL=/dynamic/client/providers/UserProvider/4868ccc9ab7ff1697dba532fe56a665e0ed29b18.map
