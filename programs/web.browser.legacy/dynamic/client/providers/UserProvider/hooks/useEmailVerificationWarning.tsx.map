)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/providers/UserProvider/hooks/useEmailVerificationWarning.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IUser } from '@rocket.chat/core-typings';\nimport { useSetting, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\nimport { useRef, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport function useEmailVerificationWarning(user: IUser | undefined) {\n\tconst emailVerificationEnabled = useSetting<boolean>('Accounts_EmailVerification') === true;\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst { t } = useTranslation();\n\n\tconst mainEmail = user?.emails?.[0];\n\tconst warnedRef = useRef(false);\n\n\tuseEffect(() => {\n\t\tconst { current: warned } = warnedRef;\n\t\tif (mainEmail && mainEmail.verified !== true && emailVerificationEnabled && !warned) {\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'warning',\n\t\t\t\tmessage: t('core.You_have_not_verified_your_email'),\n\t\t\t});\n\t\t\twarnedRef.current = true;\n\t\t}\n\t}, [mainEmail, emailVerificationEnabled, dispatchToastMessage, t]);\n}\n",null],"names":["useSetting","useToastMessageDispatch","useRef","useEffect","useTranslation","useEmailVerificationWarning","user","_user$emails","emailVerificationEnabled","dispatchToastMessage","t","_useTranslation","mainEmail","emails","warnedRef","warned","current","verified","type","message","module","export"],"mappings":"2BAC+EA,EAAAC,EAAAC,EAAAC,EAAAC,EAIzE,SAAUC,EAA4BC,CAAuB,EAClE,IADkEC,EAC5DC,EAA2BR,AAAsD,CAAA,IAAtDA,EAAoB,8BAC/CS,EAAuBR,IACrBS,EAACC,AAAKP,IAANM,CAAC,CAEHE,EAAYN,MAAAA,EAAI,KAAA,EAAA,AAAQ,OAARC,CAAAA,EAAJD,EAAMO,MAAM,AAANA,GAAMN,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAZA,CAAA,CAAe,EAAE,CAC7BO,EAAYZ,EAAO,CAAA,GAEzBC,EAAU,WACT,IAAiBY,EAAWD,EAApBE,OAAO,CACXJ,GAAaA,AAAuB,CAAA,IAAvBA,EAAUK,QAAQ,EAAaT,GAA4B,CAACO,IAC5EN,EAAqB,CACpBS,KAAM,UACNC,QAAST,EAAE,2CAEZI,EAAUE,OAAO,CAAG,CAAA,EAEtB,EAAG,CAACJ,EAAWJ,EAA0BC,EAAsBC,EAAE,CAClE,CAtBAU,EAAOC,MAAE,CAAA,CAAAhB,4BAAY,WAA+B,OAAAA,CAA2B,CAAA,GAAAe,EAAAA,IAAAA,CAAAA,2BAAAA,CAAApB,WAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAmB,EAAAA,IAAAA,CAAAA,QAAAA,CAAAlB,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAiB,EAAAA,IAAAA,CAAAA,gBAAAA,CAAAhB,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA"}