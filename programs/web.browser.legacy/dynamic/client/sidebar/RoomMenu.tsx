function module(e,n,t){var o,r,a,i,c,l,s,u,f,m,d,p,v,b,h,g,k,x,M,T,y,P,R,_,A,w,C=["label"];t.link("@babel/runtime/helpers/extends",{default:function(e){o=e}},0),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){r=e}},1),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},2),t.link("@babel/runtime/regenerator",{default:function(e){i=e}},3),t.link("@rocket.chat/fuselage",{Option:function(e){c=e},Menu:function(e){l=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){s=e}},1),t.link("@rocket.chat/ui-contexts",{useRouter:function(e){u=e},useSetModal:function(e){f=e},useToastMessageDispatch:function(e){m=e},useUserSubscription:function(e){d=e},useSetting:function(e){p=e},usePermission:function(e){v=e},useMethod:function(e){b=e},useTranslation:function(e){h=e},useEndpoint:function(e){g=e}},2),t.link("react",{default:function(e){k=e},memo:function(e){x=e},useMemo:function(e){M=e}},3),t.link("../../app/ui-utils/client",{LegacyRoomManager:function(e){T=e}},4),t.link("../../definition/IRoomTypeConfig",{UiTextContext:function(e){y=e}},5),t.link("../../ee/client/omnichannel/hooks/useOmnichannelPrioritiesMenu",{useOmnichannelPrioritiesMenu:function(e){P=e}},6),t.link("../components/GenericModal",{GenericModalDoNotAskAgain:function(e){R=e}},7),t.link("../components/WarningModal",{default:function(e){_=e}},8),t.link("../hooks/useDontAskAgain",{useDontAskAgain:function(e){A=e}},9),t.link("../lib/rooms/roomCoordinator",{roomCoordinator:function(e){w=e}},10);var O={f:!0,t:!0,name:!0},D={p:"/v1/groups.close",c:"/v1/channels.close",d:"/v1/im.close",v:"/v1/channels.close",l:"/v1/groups.close"},I={p:"/v1/groups.leave",c:"/v1/channels.leave",d:"/v1/im.leave",v:"/v1/channels.leave",l:"/v1/groups.leave"};t.exportDefault(x(function(e){var n=e.rid,t=e.unread,x=e.threadUnread,E=e.alert,S=e.roomOpen,U=e.type,N=e.cl,G=e.name,H=void 0===G?"":G,L=e.hideDefaultOptions,W=void 0!==L&&L,F=h(),j=m(),V=f(),Y=s(function(){return V()}),q=u(),z=d(n,O),B=p("Favorite_Rooms"),J=!!(null==z?void 0:z.f),K=A("hideRoom"),Q=g("POST",D[U]),X=g("POST","/v1/subscriptions.read"),Z=g("POST","/v1/rooms.favorite"),$=g("POST",I[U]),ee=b("unreadMessages"),en=E||t||x,et=v("leave-c"),eo=v("leave-p"),er="l"===U,ea=P(n),ei=("c"!==U||!!et)&&("p"!==U||!!eo)&&!(null!=N&&!N||["d","l"].includes(U)),ec=s(function(){var e=w.getRoomDirectives(U).getUiText(y.LEAVE_WARNING);V(k.createElement(_,{text:F(e,H),confirmText:F("Leave_room"),close:Y,cancel:Y,cancelText:F("Cancel"),confirm:function(){return i.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.awrap($({roomId:n}));case 3:S&&q.navigate("/home"),T.close(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j({type:"error",message:e.t0});case 10:Y();case 11:case"end":return e.stop()}},null,null,[[0,7]],Promise)}}))}),el=s(function(){var e,t;return i.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(e=function e(){return i.async(function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.awrap(Q({roomId:n}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),j({type:"error",message:e.t0});case 8:Y();case 9:case"end":return e.stop()}},null,null,[[0,5]],Promise)},t=w.getRoomDirectives(U).getUiText(y.HIDE_WARNING),!K){o.next=4;break}return o.abrupt("return",e());case 4:V(k.createElement(R,{variant:"danger",confirmText:F("Yes_hide_it"),cancelText:F("Cancel"),onClose:Y,onCancel:Y,onConfirm:e,dontAskAgain:{action:"hideRoom",label:F("Hide_room")}},F(t,H)));case 5:case"end":return o.stop()}},null,null,null,Promise)}),es=s(function(){return i.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!en){e.next=5;break}return e.next=4,i.awrap(X({rid:n,readThreads:!0}));case 4:return e.abrupt("return");case 5:return e.next=7,i.awrap(ee(void 0,n));case 7:if(null!=z){e.next=9;break}return e.abrupt("return");case 9:T.close(z.t+z.name),q.navigate("/home"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),j({type:"error",message:e.t0});case 16:case"end":return e.stop()}},null,null,[[0,13]],Promise)}),eu=s(function(){return i.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.awrap(Z({roomId:n,favorite:!J}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),j({type:"error",message:e.t0});case 8:case"end":return e.stop()}},null,null,[[0,5]],Promise)}),ef=M(function(){return a(a({},!W&&a(a({hideRoom:{label:{label:F("Hide"),icon:"eye-off"},action:el},toggleRead:{label:{label:en?F("Mark_read"):F("Mark_unread"),icon:"flag"},action:es}},B?{toggleFavorite:{label:{label:J?F("Unfavorite"):F("Favorite"),icon:J?"star-filled":"star"},action:eu}}:{}),ei&&{leaveRoom:{label:{label:F("Leave_room"),icon:"sign-out"},action:ec}})),er&&ea)},[W,F,el,en,es,B,J,eu,ei,ec,er,ea]);return k.createElement(l,{"rcx-sidebar-item__menu":!0,title:F("Options"),mini:!0,"aria-keyshortcuts":"alt",tabIndex:-1,options:ef,maxHeight:300,renderItem:function(e){var n=e.label,t=n.label,a=n.icon,i=r(e,C);return k.createElement(c,o({label:t,icon:a},i))}})}))}
//# sourceMappingURL=/dynamic/client/sidebar/e2571f98eeac7f1ccd8c884f50cd2db2a637fbf2.map
