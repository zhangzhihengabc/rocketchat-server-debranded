)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/header/actions/hooks/useAppsItems.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Badge, Skeleton } from '@rocket.chat/fuselage';\nimport { useTranslation, useRoute, usePermission } from '@rocket.chat/ui-contexts';\nimport React from 'react';\n\nimport type { GenericMenuItemProps } from '../../../../components/GenericMenu/GenericMenuItem';\nimport { useUserDropdownAppsActionButtons } from '../../../../hooks/useAppActionButtons';\nimport { useAppRequestStats } from '../../../../views/marketplace/hooks/useAppRequestStats';\n\n/**\n * @deprecated Feature preview\n * @description Should be moved to navbar when the feature became part of the core\n * @memberof navigationBar\n */\n\nexport const useAppsItems = (): GenericMenuItemProps[] => {\n\tconst t = useTranslation();\n\n\tconst appBoxItems = useUserDropdownAppsActionButtons();\n\n\tconst hasManageAppsPermission = usePermission('manage-apps');\n\tconst hasAccessMarketplacePermission = usePermission('access-marketplace');\n\n\tconst showMarketplace = hasAccessMarketplacePermission || hasManageAppsPermission;\n\n\tconst marketplaceRoute = useRoute('marketplace');\n\tconst page = 'list';\n\n\tconst appRequestStats = useAppRequestStats();\n\n\tconst marketPlaceItems: GenericMenuItemProps[] = [\n\t\t{\n\t\t\tid: 'marketplace',\n\t\t\ticon: 'store',\n\t\t\tcontent: t('Marketplace'),\n\t\t\tonClick: () => marketplaceRoute.push({ context: 'explore', page }),\n\t\t},\n\t\t{\n\t\t\tid: 'installed',\n\t\t\ticon: 'circle-arrow-down',\n\t\t\tcontent: t('Installed'),\n\t\t\tonClick: () => marketplaceRoute.push({ context: 'installed', page }),\n\t\t},\n\t];\n\n\tconst appsManagementItem: GenericMenuItemProps = {\n\t\tid: 'requested-apps',\n\t\ticon: 'cube',\n\t\tcontent: t('Requested'),\n\t\tonClick: () => {\n\t\t\tmarketplaceRoute.push({ context: 'requested', page });\n\t\t},\n\t\taddon: (\n\t\t\t<>\n\t\t\t\t{appRequestStats.isLoading && <Skeleton variant='circle' height={16} width={16} />}\n\t\t\t\t{appRequestStats.isSuccess && appRequestStats.data.totalUnseen > 0 && (\n\t\t\t\t\t<Badge variant='primary'>{appRequestStats.data.totalUnseen}</Badge>\n\t\t\t\t)}\n\t\t\t</>\n\t\t),\n\t};\n\n\treturn [\n\t\t...(showMarketplace ? marketPlaceItems : []),\n\t\t...(hasManageAppsPermission ? [appsManagementItem] : []),\n\t\t...(appBoxItems.isSuccess ? appBoxItems.data : []),\n\t];\n};\n",null],"names":["module","link","default","_toConsumableArray","export","useAppsItems","Badge","Skeleton","useTranslation","useRoute","usePermission","v","React","useUserDropdownAppsActionButtons","useAppRequestStats","t","appBoxItems","hasManageAppsPermission","showMarketplace","hasAccessMarketplacePermission","marketplaceRoute","page","appRequestStats","marketPlaceItems","id","icon","content","onClick","push","context","appsManagementItem","addon","createElement","Fragment","isLoading","variant","height","width","isSuccess","data","totalUnseen","concat"],"mappings":"uBAAgBA,EAAUC,IAAM,CAAA,2CAAwB,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAxDH,EAAOI,MAAE,CAAK,CAAAC,aAAY,WAAM,OAAAA,CAAwB,CAAA,GAAAL,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAM,MAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAP,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAQ,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAV,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAW,CAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAAZ,EAAAA,IAAAA,CAAAA,wCAAAA,CAAAa,iCAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAb,EAAAA,IAAAA,CAAAA,yDAAAA,CAAAc,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAcjD,IAdPX,EAAwDG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAE,EAAAC,EAAAC,EAc3CT,EAAe,WAC3B,IAAMU,EAAIP,IAEJQ,EAAcH,IAEdI,EAA0BP,EAAc,eAGxCQ,EAAkBC,AAFeT,EAAc,uBAEKO,EAEpDG,EAAmBX,EAAS,eAC5BY,EAAO,OAEPC,EAAkBR,IAElBS,EAA2C,CAChD,CACCC,GAAI,cACJC,KAAM,QACNC,QAASX,EAAE,eACXY,QAAS,WAAA,OAAMP,EAAiBQ,IAAI,CAAC,CAAEC,QAAS,UAAWR,KAAAA,CAAI,EAAG,GAEnE,CACCG,GAAI,YACJC,KAAM,oBACNC,QAASX,EAAE,aACXY,QAAS,WAAA,OAAMP,EAAiBQ,IAAI,CAAC,CAAEC,QAAS,YAAaR,KAAAA,CAAI,EAAG,GAErE,CAEKS,EAA2C,CAChDN,GAAI,iBACJC,KAAM,OACNC,QAASX,EAAE,aACXY,QAAS,WACRP,EAAiBQ,IAAI,CAAC,CAAEC,QAAS,YAAaR,KAAAA,CAAI,EACnD,EACAU,MACCnB,EAAAoB,aAAA,CAAApB,EAAAqB,QAAA,CAAA,KACEX,EAAgBY,SAAS,EAAItB,EAAAoB,aAAA,CAACzB,EAAQ,CAAC4B,QAAQ,SAASC,OAAQ,GAAIC,MAAO,EAAG,GAC9Ef,EAAgBgB,SAAS,EAAIhB,EAAgBiB,IAAI,CAACC,WAAW,CAAG,GAChE5B,EAAAoB,aAAA,CAAC1B,EAAK,CAAC6B,QAAQ,SAAS,EAAEb,EAAgBiB,IAAI,CAACC,WAAW,IAM9D,MAAA,EAAA,CAAAC,MAAA,CAAAtC,EACKe,EAAkBK,EAAmB,EAAE,EAAApB,EACvCc,EAA0B,CAACa,EAAmB,CAAG,EAAE,EAAA3B,EACnDa,EAAYsB,SAAS,CAAGtB,EAAYuB,IAAI,CAAG,EAAE,EAEnD"}