)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/header/actions/Search.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Sidebar } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useOutsideClick } from '@rocket.chat/fuselage-hooks';\nimport type { VFC, HTMLAttributes } from 'react';\nimport React, { useState, useEffect, useRef } from 'react';\nimport tinykeys from 'tinykeys';\n\nimport SearchList from '../../search/SearchList';\n\nconst Search: VFC<Omit<HTMLAttributes<HTMLElement>, 'is'>> = (props) => {\n\tconst [searchOpen, setSearchOpen] = useState(false);\n\n\tconst ref = useRef<HTMLElement>(null);\n\tconst handleCloseSearch = useMutableCallback(() => {\n\t\tsetSearchOpen(false);\n\t});\n\n\tuseOutsideClick([ref], handleCloseSearch);\n\n\tconst openSearch = useMutableCallback(() => {\n\t\tsetSearchOpen(true);\n\t});\n\n\tuseEffect(() => {\n\t\tconst unsubscribe = tinykeys(window, {\n\t\t\t'$mod+K': (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\topenSearch();\n\t\t\t},\n\t\t\t'$mod+P': (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\topenSearch();\n\t\t\t},\n\t\t});\n\n\t\treturn (): void => {\n\t\t\tunsubscribe();\n\t\t};\n\t}, [openSearch]);\n\n\treturn (\n\t\t<>\n\t\t\t<Sidebar.TopBar.Action icon='magnifier' onClick={openSearch} {...props} />\n\t\t\t{searchOpen && <SearchList ref={ref} onClose={handleCloseSearch} />}\n\t\t</>\n\t);\n};\n\nexport default Search;\n",null],"names":["_extends","_slicedToArray","Sidebar","useMutableCallback","useOutsideClick","React","useState","useEffect","useRef","tinykeys","SearchList","module","link","default","v","exportDefault","props","_useState2","searchOpen","setSearchOpen","ref","handleCloseSearch","openSearch","unsubscribe","window","event","preventDefault","createElement","Fragment","TopBar","Action","icon","onClick","onClose"],"mappings":"uBAQA,IARAA,EAAgDC,EAAhDC,EAAgDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvCC,EAASC,IAAM,CAAA,iCAAwB,CAAAC,QAAAA,SAAAA,CAAAA,EAAAb,EAAAA,CAAA,CAAA,EAAA,GAAAW,EAAAA,IAAAA,CAAAA,uCAAAA,CAAAE,QAAAA,SAAAA,CAAAA,EAAAZ,EAAAA,CAAA,CAAA,EAAA,GAAvCU,EAASC,IAAA,CAAM,wBAAwB,CAAAV,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAR,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAT,EAAAA,CAAA,EAAAC,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,WAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,0BAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAhDC,EAAOI,aAAW,CAQ2C,SAACC,CAAK,EAClE,IAAmDC,EAAAhB,EAAfK,EAAS,CAAA,GAAM,GAA5CY,EAAUD,CAAA,CAAA,EAAA,CAAEE,EAAaF,CAAA,CAAA,EAAA,CAE1BG,EAAMZ,EAAoB,MAC1Ba,EAAoBlB,EAAmB,WAC5CgB,EAAc,CAAA,EACf,GAEAf,EAAgB,CAACgB,EAAI,CAAEC,GAEvB,IAAMC,EAAanB,EAAmB,WACrCgB,EAAc,CAAA,EACf,GAmBA,OAjBAZ,EAAU,WACT,IAAMgB,EAAcd,EAASe,OAAQ,CACpC,SAAU,SAACC,CAAK,EACfA,EAAMC,cAAc,GACpBJ,GACD,EACA,SAAU,SAACG,CAAK,EACfA,EAAMC,cAAc,GACpBJ,GACD,IAGD,OAAO,WACNC,GACD,CACD,EAAG,CAACD,EAAW,EAGdjB,EAAAsB,aAAA,CAAAtB,EAAAuB,QAAA,CAAA,KACCvB,EAAAsB,aAAA,CAACzB,EAAQ2B,MAAM,CAACC,MAAM,CAAA9B,EAAA,CAAC+B,KAAK,YAAYC,QAASV,CAAW,EAAKN,IAChEE,GAAcb,EAAAsB,aAAA,CAACjB,EAAU,CAACU,IAAKA,EAAKa,QAASZ,CAAkB,GAGnE"}