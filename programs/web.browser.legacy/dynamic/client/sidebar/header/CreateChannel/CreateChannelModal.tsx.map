)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/header/CreateChannel/CreateChannelModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import {\n\tBox,\n\tModal,\n\tButton,\n\tTextInput,\n\tIcon,\n\tField,\n\tToggleSwitch,\n\tFieldGroup,\n\tFieldLabel,\n\tFieldRow,\n\tFieldError,\n\tFieldHint,\n\tFieldDescription,\n} from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport {\n\tuseSetting,\n\tuseTranslation,\n\tuseEndpoint,\n\tusePermission,\n\tuseToastMessageDispatch,\n\tusePermissionWithScopedRoles,\n} from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { useEffect, useMemo } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport { useHasLicenseModule } from '../../../../ee/client/hooks/useHasLicenseModule';\nimport UserAutoCompleteMultipleFederated from '../../../components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated';\nimport { goToRoomById } from '../../../lib/utils/goToRoomById';\n\ntype CreateChannelModalProps = {\n\tteamId?: string;\n\tonClose: () => void;\n};\n\ntype CreateChannelModalPayload = {\n\tname: string;\n\tisPrivate: boolean;\n\ttopic?: string;\n\tmembers: string[];\n\treadOnly: boolean;\n\tencrypted: boolean;\n\tbroadcast: boolean;\n\tfederated: boolean;\n};\n\nconst getFederationHintKey = (licenseModule: ReturnType<typeof useHasLicenseModule>, featureToggle: boolean): TranslationKey => {\n\tif (licenseModule === 'loading' || !licenseModule) {\n\t\treturn 'error-this-is-a-premium-feature';\n\t}\n\tif (!featureToggle) {\n\t\treturn 'Federation_Matrix_Federated_Description_disabled';\n\t}\n\treturn 'Federation_Matrix_Federated_Description';\n};\n\nconst CreateChannelModal = ({ teamId = '', onClose }: CreateChannelModalProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst canSetReadOnly = usePermissionWithScopedRoles('set-readonly', ['owner']);\n\tconst e2eEnabled = useSetting('E2E_Enable');\n\tconst namesValidation = useSetting('UTF8_Channel_Names_Validation');\n\tconst allowSpecialNames = useSetting('UI_Allow_room_names_with_special_chars');\n\tconst federationEnabled = useSetting<boolean>('Federation_Matrix_enabled') || false;\n\tconst e2eEnabledForPrivateByDefault = useSetting('E2E_Enabled_Default_PrivateRooms');\n\n\tconst canCreateChannel = usePermission('create-c');\n\tconst canCreatePrivateChannel = usePermission('create-p');\n\n\tconst channelNameRegex = useMemo(() => new RegExp(`^${namesValidation}$`), [namesValidation]);\n\tconst federatedModule = useHasLicenseModule('federation');\n\tconst canUseFederation = federatedModule !== 'loading' && federatedModule && federationEnabled;\n\n\tconst channelNameExists = useEndpoint('GET', '/v1/rooms.nameExists');\n\tconst createChannel = useEndpoint('POST', '/v1/channels.create');\n\tconst createPrivateChannel = useEndpoint('POST', '/v1/groups.create');\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst canOnlyCreateOneType = useMemo(() => {\n\t\tif (!canCreateChannel && canCreatePrivateChannel) {\n\t\t\treturn 'p';\n\t\t}\n\t\tif (canCreateChannel && !canCreatePrivateChannel) {\n\t\t\treturn 'c';\n\t\t}\n\t\treturn false;\n\t}, [canCreateChannel, canCreatePrivateChannel]);\n\n\tconst {\n\t\tregister,\n\t\tformState: { errors },\n\t\thandleSubmit,\n\t\tcontrol,\n\t\tsetValue,\n\t\twatch,\n\t} = useForm({\n\t\tmode: 'onBlur',\n\t\tdefaultValues: {\n\t\t\tmembers: [],\n\t\t\tname: '',\n\t\t\ttopic: '',\n\t\t\tisPrivate: canOnlyCreateOneType ? canOnlyCreateOneType === 'p' : true,\n\t\t\treadOnly: false,\n\t\t\tencrypted: (e2eEnabledForPrivateByDefault as boolean) ?? false,\n\t\t\tbroadcast: false,\n\t\t\tfederated: false,\n\t\t},\n\t});\n\n\tconst { isPrivate, broadcast, readOnly, federated } = watch();\n\n\tuseEffect(() => {\n\t\tif (!isPrivate) {\n\t\t\tsetValue('encrypted', false);\n\t\t}\n\n\t\tif (broadcast) {\n\t\t\tsetValue('encrypted', false);\n\t\t}\n\n\t\tif (federated) {\n\t\t\t// if room is federated, it cannot be encrypted or broadcast or readOnly\n\t\t\tsetValue('encrypted', false);\n\t\t\tsetValue('broadcast', false);\n\t\t\tsetValue('readOnly', false);\n\t\t}\n\n\t\tsetValue('readOnly', broadcast);\n\t}, [federated, setValue, broadcast, isPrivate]);\n\n\tconst validateChannelName = async (name: string): Promise<string | undefined> => {\n\t\tif (!name) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!allowSpecialNames && !channelNameRegex.test(name)) {\n\t\t\treturn t('error-invalid-name');\n\t\t}\n\n\t\tconst { exists } = await channelNameExists({ roomName: name });\n\t\tif (exists) {\n\t\t\treturn t('Channel_already_exist', name);\n\t\t}\n\t};\n\n\tconst handleCreateChannel = async ({ name, members, readOnly, topic, broadcast, encrypted, federated }: CreateChannelModalPayload) => {\n\t\tlet roomData;\n\t\tconst params = {\n\t\t\tname,\n\t\t\tmembers,\n\t\t\treadOnly,\n\t\t\textraData: {\n\t\t\t\ttopic,\n\t\t\t\tbroadcast,\n\t\t\t\tencrypted,\n\t\t\t\t...(federated && { federated }),\n\t\t\t\t...(teamId && { teamId }),\n\t\t\t},\n\t\t};\n\n\t\ttry {\n\t\t\tif (isPrivate) {\n\t\t\t\troomData = await createPrivateChannel(params);\n\t\t\t\t!teamId && goToRoomById(roomData.group._id);\n\t\t\t} else {\n\t\t\t\troomData = await createChannel(params);\n\t\t\t\t!teamId && goToRoomById(roomData.channel._id);\n\t\t\t}\n\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Room_has_been_created') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t} finally {\n\t\t\tonClose();\n\t\t}\n\t};\n\n\tconst e2eDisabled = useMemo<boolean>(\n\t\t() => !isPrivate || broadcast || Boolean(!e2eEnabled) || Boolean(e2eEnabledForPrivateByDefault),\n\t\t[e2eEnabled, e2eEnabledForPrivateByDefault, broadcast, isPrivate],\n\t);\n\n\tconst createChannelFormId = useUniqueId();\n\tconst nameId = useUniqueId();\n\tconst topicId = useUniqueId();\n\tconst privateId = useUniqueId();\n\tconst federatedId = useUniqueId();\n\tconst readOnlyId = useUniqueId();\n\tconst encryptedId = useUniqueId();\n\tconst broadcastId = useUniqueId();\n\tconst addMembersId = useUniqueId();\n\n\treturn (\n\t\t<Modal\n\t\t\tdata-qa='create-channel-modal'\n\t\t\taria-labelledby={`${createChannelFormId}-title`}\n\t\t\twrapperFunction={(props: ComponentProps<typeof Box>) => (\n\t\t\t\t<Box is='form' id={createChannelFormId} onSubmit={handleSubmit(handleCreateChannel)} {...props} />\n\t\t\t)}\n\t\t>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Title id={`${createChannelFormId}-title`}>{t('Create_channel')}</Modal.Title>\n\t\t\t\t<Modal.Close tabIndex={-1} title={t('Close')} onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content mbe={2}>\n\t\t\t\t<FieldGroup>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel required htmlFor={nameId}>\n\t\t\t\t\t\t\t{t('Channel_name')}\n\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tid={nameId}\n\t\t\t\t\t\t\t\tdata-qa-type='channel-name-input'\n\t\t\t\t\t\t\t\t{...register('name', {\n\t\t\t\t\t\t\t\t\trequired: t('error-the-field-is-required', { field: t('Name') }),\n\t\t\t\t\t\t\t\t\tvalidate: (value) => validateChannelName(value),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\terror={errors.name?.message}\n\t\t\t\t\t\t\t\taddon={<Icon name={isPrivate ? 'hashtag-lock' : 'hashtag'} size='x20' />}\n\t\t\t\t\t\t\t\taria-invalid={errors.name ? 'true' : 'false'}\n\t\t\t\t\t\t\t\taria-describedby={`${nameId}-error`}\n\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t{errors.name && (\n\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameId}-error`}>\n\t\t\t\t\t\t\t\t{errors.name.message}\n\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel htmlFor={topicId}>{t('Topic')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput id={topicId} aria-describedby={`${topicId}-hint`} {...register('topic')} data-qa-type='channel-topic-input' />\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t<FieldHint id={`${topicId}-hint`}>{t('Channel_what_is_this_channel_about')}</FieldHint>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={privateId}>{t('Private')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldHint id={`${privateId}-hint`}>\n\t\t\t\t\t\t\t\t\t{isPrivate ? t('Only_invited_users_can_acess_this_channel') : t('Everyone_can_access_this_channel')}\n\t\t\t\t\t\t\t\t</FieldHint>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='isPrivate'\n\t\t\t\t\t\t\t\trender={({ field: { onChange, value, ref } }): ReactElement => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\tid={privateId}\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${privateId}-hint`}\n\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\tdisabled={!!canOnlyCreateOneType}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={federatedId}>{t('Federation_Matrix_Federated')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldHint id={`${federatedId}-hint`}>{t(getFederationHintKey(federatedModule, federationEnabled))}</FieldHint>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='federated'\n\t\t\t\t\t\t\t\trender={({ field: { onChange, value, ref } }): ReactElement => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${federatedId}-hint`}\n\t\t\t\t\t\t\t\t\t\tid={federatedId}\n\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\tdisabled={!canUseFederation}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={readOnlyId}>{t('Read_only')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldHint id={`${readOnlyId}-hint`}>\n\t\t\t\t\t\t\t\t\t{readOnly ? t('Only_authorized_users_can_write_new_messages') : t('All_users_in_the_channel_can_write_new_messages')}\n\t\t\t\t\t\t\t\t</FieldHint>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='readOnly'\n\t\t\t\t\t\t\t\trender={({ field: { onChange, value, ref } }): ReactElement => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\tid={readOnlyId}\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${readOnlyId}-hint`}\n\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\tdisabled={!canSetReadOnly || broadcast || federated}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={encryptedId}>{t('Encrypted')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldDescription id={`${encryptedId}-hint`}>\n\t\t\t\t\t\t\t\t\t{isPrivate ? t('Encrypted_channel_Description') : t('Encrypted_not_available')}\n\t\t\t\t\t\t\t\t</FieldDescription>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='encrypted'\n\t\t\t\t\t\t\t\trender={({ field: { onChange, value, ref } }): ReactElement => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\tid={encryptedId}\n\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\tdisabled={e2eDisabled || federated}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${encryptedId}-hint`}\n\t\t\t\t\t\t\t\t\t\taria-labelledby='Encrypted_channel_Label'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={broadcastId}>{t('Broadcast')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldHint id={`${broadcastId}-hint`}>{t('Broadcast_channel_Description')}</FieldHint>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='broadcast'\n\t\t\t\t\t\t\t\trender={({ field: { onChange, value, ref } }): ReactElement => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${broadcastId}-hint`}\n\t\t\t\t\t\t\t\t\t\tid={broadcastId}\n\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\tdisabled={!!federated}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel htmlFor={addMembersId}>{t('Add_members')}</FieldLabel>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\tname='members'\n\t\t\t\t\t\t\trender={({ field: { onChange, value } }): ReactElement => (\n\t\t\t\t\t\t\t\t<UserAutoCompleteMultipleFederated id={addMembersId} value={value} onChange={onChange} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Field>\n\t\t\t\t</FieldGroup>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Modal.FooterControllers>\n\t\t\t\t\t<Button onClick={onClose}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button type='submit' primary data-qa-type='create-channel-confirm-button'>\n\t\t\t\t\t\t{t('Create')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.FooterControllers>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default CreateChannelModal;\n",null],"names":["_extends","_objectSpread","_regeneratorRuntime","Box","Modal","Button","TextInput","Icon","Field","ToggleSwitch","FieldGroup","FieldLabel","FieldRow","FieldError","FieldHint","FieldDescription","useUniqueId","useSetting","useTranslation","useEndpoint","usePermission","useToastMessageDispatch","usePermissionWithScopedRoles","React","useEffect","useMemo","useForm","Controller","useHasLicenseModule","UserAutoCompleteMultipleFederated","goToRoomById","module","link","default","v","exportDefault","_ref","_errors$name","_ref$teamId","teamId","onClose","t","canSetReadOnly","e2eEnabled","namesValidation","allowSpecialNames","federationEnabled","e2eEnabledForPrivateByDefault","canCreateChannel","canCreatePrivateChannel","channelNameRegex","RegExp","federatedModule","canUseFederation","channelNameExists","createChannel","createPrivateChannel","dispatchToastMessage","canOnlyCreateOneType","_useForm","mode","defaultValues","members","name","topic","isPrivate","readOnly","encrypted","broadcast","federated","register","errors","formState","handleSubmit","control","setValue","_watch","watch","handleCreateChannel","_ref2","roomData","params","async","_context2","prev","next","extraData","awrap","sent","group","_id","channel","type","message","t0","finish","stop","Promise","e2eDisabled","Boolean","createChannelFormId","nameId","topicId","privateId","federatedId","readOnlyId","encryptedId","broadcastId","addMembersId","createElement","wrapperFunction","props","is","id","onSubmit","Header","Title","Close","tabIndex","title","onClick","Content","mbe","required","htmlFor","field","validate","value","_context","abrupt","test","roomName","_await$channelNameExi","exists","error","addon","size","display","justifyContent","alignItems","flexDirection","width","render","_ref3","_ref3$field","onChange","ref","checked","disabled","licenseModule","_ref4","_ref4$field","_ref5","_ref5$field","_ref6","_ref6$field","_ref7","_ref7$field","_ref8","_ref8$field","Footer","FooterControllers","primary"],"mappings":"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"}