)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/header/MatrixFederationSearch/MatrixFederationRemoveServerList.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { css } from '@rocket.chat/css-in-js';\nimport { Box, Option, Icon } from '@rocket.chat/fuselage';\nimport { useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport type { VFC } from 'react';\nimport React from 'react';\n\ntype MatrixFederationRemoveServerListProps = {\n\tservers: Array<{ name: string; default: boolean; local: boolean }>;\n};\n\nconst style = css`\n\ti {\n\t\tvisibility: hidden;\n\t}\n\tli {\n\t\tcursor: default;\n\t}\n\tli:hover {\n\t\ti {\n\t\t\tcursor: pointer;\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n`;\n\nconst MatrixFederationRemoveServerList: VFC<MatrixFederationRemoveServerListProps> = ({ servers }) => {\n\tconst removeMatrixServer = useEndpoint('POST', '/v1/federation/removeServerByUser');\n\n\tconst queryClient = useQueryClient();\n\n\tconst { mutate: removeServer, isLoading: isRemovingServer } = useMutation(\n\t\t['federation/removeServerByUser'],\n\t\t(serverName: string) => removeMatrixServer({ serverName }),\n\t\t{ onSuccess: () => queryClient.invalidateQueries(['federation/listServersByUsers']) },\n\t);\n\n\tconst t = useTranslation();\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' className={[style]}>\n\t\t\t<Box is='h2' fontScale='p1' fontWeight='bolder'>\n\t\t\t\t{t('Servers')}\n\t\t\t</Box>\n\t\t\t{servers.map(({ name, default: isDefault }) => (\n\t\t\t\t<Option key={name} title={name} label={name}>\n\t\t\t\t\t{!isDefault && (\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tsize='x16'\n\t\t\t\t\t\t\tcolor={isRemovingServer ? 'annotation' : 'danger'}\n\t\t\t\t\t\t\tname='cross'\n\t\t\t\t\t\t\tonClick={() => (isRemovingServer ? null : removeServer(name))}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Option>\n\t\t\t))}\n\t\t</Box>\n\t);\n};\n\nexport default MatrixFederationRemoveServerList;\n",null],"names":["module","default","_taggedTemplateLiteralLoose","link","css","Box","Option","Icon","useTranslation","useEndpoint","useMutation","useQueryClient","v","React","style","_templateObject","exportDefault","_ref","servers","removeMatrixServer","queryClient","_useMutation","serverName","onSuccess","invalidateQueries","removeServer","mutate","isRemovingServer","isLoading","t","createElement","display","flexDirection","className","is","fontScale","fontWeight","map","_ref2","name","isDefault","key","title","label","size","color","onClick"],"mappings":"uBAAoBA,EAAAA,IAAAA,CAAwB,oDAAC,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAtCF,EAAOG,IAAA,CAAM,yBAAyB,CAAAC,IAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAJ,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAK,IAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,KAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAP,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAQ,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAT,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAU,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAX,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAY,CAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAW7C,MAXAX,EAAAE,EAA6CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAE,EAWvCC,EAAQV,EAAGW,GAAAA,CAAAA,EAAAb,EAAA,CAAA,gJAAA,CAAA,GAXjBF,EAAOgB,aAAa,CA0BiE,SAAAC,CAAA,EAAgB,IAAbC,EAAOD,EAAPC,OAAO,CACxFC,EAAqBV,EAAY,OAAQ,qCAEzCW,EAAcT,IAEpBU,EAA8DX,EAC7D,CAAC,gCAAgC,CACjC,SAACY,CAAkB,EAAA,OAAKH,EAAmB,CAAEG,WAAAA,CAAU,EAAG,EAC1D,CAAEC,UAAW,WAAA,OAAMH,EAAYI,iBAAiB,CAAC,CAAC,gCAAgC,CAAC,CAAA,GAHpEC,EAAYJ,EAApBK,MAAM,CAA2BC,EAAgBN,EAA3BO,SAAS,CAMjCC,EAAIrB,IAEV,OACCK,EAAAiB,aAAA,CAACzB,EAAG,CAAC0B,QAAQ,OAAOC,cAAc,SAASC,UAAW,CAACnB,EAAK,AAAE,EAC7DD,EAAAiB,aAAA,CAACzB,EAAG,CAAC6B,GAAG,KAAKC,UAAU,KAAKC,WAAW,QAAQ,EAC7CP,EAAE,YAEHX,EAAQmB,GAAG,CAAC,SAAAC,CAAA,EAAA,IAAGC,EAAID,EAAJC,IAAI,CAAWC,EAASF,EAAlBrC,OAAO,CAAA,OAC5BY,EAAAiB,aAAA,CAACxB,EAAM,CAACmC,IAAKF,EAAMG,MAAOH,EAAMI,MAAOJ,CAAK,EAC1C,CAACC,GACD3B,EAAAiB,aAAA,CAACvB,EAAI,CACJqC,KAAK,MACLC,MAAOlB,EAAmB,aAAe,SACzCY,KAAK,QACLO,QAAS,WAAA,OAAOnB,EAAmB,KAAOF,EAAac,EAAK,CAAE,GAGxD,GAIb"}