)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/header/MatrixFederationSearch/MatrixFederationSearchModalContent.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { SelectOption } from '@rocket.chat/fuselage';\nimport { Box, Select, TextInput } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { useSetModal, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { VFC, FormEvent } from 'react';\nimport React, { useCallback, useState, useMemo } from 'react';\n\nimport FederatedRoomList from './FederatedRoomList';\nimport FederatedRoomListErrorBoundary from './FederatedRoomListErrorBoundary';\nimport MatrixFederationManageServersModal from './MatrixFederationManageServerModal';\nimport MatrixFederationSearch from './MatrixFederationSearch';\n\ntype MatrixFederationSearchModalContentProps = {\n\tservers: Array<{\n\t\tname: string;\n\t\tdefault: boolean;\n\t\tlocal: boolean;\n\t}>;\n\tdefaultSelectedServer?: string;\n};\n\nconst MatrixFederationSearchModalContent: VFC<MatrixFederationSearchModalContentProps> = ({ defaultSelectedServer, servers }) => {\n\tconst [serverName, setServerName] = useState(() => {\n\t\tconst defaultServer = servers.find((server) => server.name === defaultSelectedServer);\n\t\treturn defaultServer?.name ?? servers[0].name;\n\t});\n\n\tconst [roomName, setRoomName] = useState('');\n\n\tconst setModal = useSetModal();\n\n\tconst debouncedRoomName = useDebouncedValue(roomName, 400);\n\n\tconst t = useTranslation();\n\n\tconst serverOptions = useMemo<Array<SelectOption>>(() => servers.map((server): SelectOption => [server.name, server.name]), [servers]);\n\n\tconst manageServers = useCallback(() => {\n\t\tsetModal(\n\t\t\t<MatrixFederationManageServersModal onClickClose={() => setModal(<MatrixFederationSearch onClose={() => setModal(null)} />)} />,\n\t\t);\n\t}, [setModal]);\n\n\treturn (\n\t\t<>\n\t\t\t<Box display='flex' flexDirection='row'>\n\t\t\t\t<Box mie={4} flexGrow={0} flexShrink={4}>\n\t\t\t\t\t<Select options={serverOptions} value={serverName} onChange={(value) => setServerName(String(value))} />\n\t\t\t\t</Box>\n\t\t\t\t<TextInput\n\t\t\t\t\tplaceholder={t('Search_rooms')}\n\t\t\t\t\tflexGrow={4}\n\t\t\t\t\tflexShrink={0}\n\t\t\t\t\tvalue={roomName}\n\t\t\t\t\tonChange={(e: FormEvent<HTMLInputElement>) => setRoomName(e.currentTarget.value)}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t\t<Box is='a' display='flex' flexDirection='row' mbe={16} onClick={manageServers}>\n\t\t\t\t{t('Manage_server_list')}\n\t\t\t</Box>\n\t\t\t<FederatedRoomListErrorBoundary>\n\t\t\t\t<FederatedRoomList serverName={serverName} roomName={debouncedRoomName} />\n\t\t\t</FederatedRoomListErrorBoundary>\n\t\t</>\n\t);\n};\n\nexport default MatrixFederationSearchModalContent;\n",null],"names":["_slicedToArray","Box","Select","TextInput","useDebouncedValue","useSetModal","useTranslation","React","useCallback","useState","useMemo","FederatedRoomList","FederatedRoomListErrorBoundary","MatrixFederationManageServersModal","MatrixFederationSearch","module","link","default","v","exportDefault","_ref","defaultSelectedServer","servers","_useState2","_defaultServer$name","defaultServer","find","server","name","serverName","setServerName","_useState4","roomName","setRoomName","setModal","debouncedRoomName","t","serverOptions","map","manageServers","createElement","onClickClose","onClose","Fragment","display","flexDirection","mie","flexGrow","flexShrink","options","value","onChange","String","placeholder","e","currentTarget","is","mbe","onClick"],"mappings":"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"}