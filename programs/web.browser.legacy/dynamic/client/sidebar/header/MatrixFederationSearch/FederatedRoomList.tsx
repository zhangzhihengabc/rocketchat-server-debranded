function module(e,n,t){var o,r,i,u,a,l,c,s,f,d,m,p,k,_,h,b;t.link("@babel/runtime/helpers/extends",{default:function(e){o=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){r=e}},1),t.link("@rocket.chat/fuselage",{Throbber:function(e){i=e},Box:function(e){u=e}},0),t.link("@rocket.chat/ui-contexts",{useSetModal:function(e){a=e},useEndpoint:function(e){l=e},useToastMessageDispatch:function(e){c=e},useTranslation:function(e){s=e}},1),t.link("@tanstack/react-query",{useMutation:function(e){f=e}},2),t.link("react",{default:function(e){d=e}},3),t.link("react-virtuoso",{Virtuoso:function(e){m=e}},4),t.link("../../../components/ScrollableContentWrapper",{default:function(e){p=e}},5),t.link("../../../lib/rooms/roomCoordinator",{roomCoordinator:function(e){k=e}},6),t.link("./FederatedRoomListEmptyPlaceholder",{default:function(e){_=e}},7),t.link("./FederatedRoomListItem",{default:function(e){h=e}},8),t.link("./useInfiniteFederationSearchPublicRooms",{useInfiniteFederationSearchPublicRooms:function(e){b=e}},9),t.exportDefault(function(e){var n=e.serverName,t=e.roomName,g=e.count,v=l("POST","/v1/federation/joinExternalPublicRoom"),x=a(),E=s(),P=c(),y=b(n,t,g),R=y.data,S=y.isLoading,N=y.isFetchingNextPage,F=y.fetchNextPage,T=f(["federation/joinExternalPublicRoom"],function(e){var n,o;return r.async(function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.id,o=e.pageToken,r.abrupt("return",v({externalRoomId:n,roomName:t,pageToken:o}));case 2:case"end":return r.stop()}},null,null,null,Promise)},{onSuccess:function(e,n){P({type:"success",message:E("Your_request_to_join__roomName__has_been_made_it_could_take_up_to_15_minutes_to_be_processed",{roomName:n.name})}),x(null)},onError:function(e,n){var t=n.id;if(e instanceof Error&&"already-joined"===e.message){x(null),k.openRouteLink("c",{rid:t});return}P({type:"error",message:e})}}),C=T.mutate,I=T.isLoading;if(S)return d.createElement(i,null);var L=null==R?void 0:R.pages.flatMap(function(e){return e.rooms});return d.createElement(u,{is:"ul",overflow:"hidden",height:"356px",flexGrow:1,flexShrink:0,mi:-24},d.createElement(m,{data:L||[],computeItemKey:function(e,n){return(null==n?void 0:n.id)||e},overscan:4,components:{Footer:function(){return N?d.createElement(i,null):null},Scroller:p,EmptyPlaceholder:_},endReached:S||N?function(){}:function(){return F()},itemContent:function(e,n){return d.createElement(h,o({onClickJoin:function(){return C(n)}},n,{disabled:I,key:n.id}))}}))})}
//# sourceMappingURL=/dynamic/client/sidebar/header/MatrixFederationSearch/d7c1e349fda64472adf2869a5bbe6e03b8ee76b4.map
