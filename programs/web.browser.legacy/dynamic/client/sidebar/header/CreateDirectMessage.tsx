function module(e,n,t){var r,o,l,i,u,a,c,s,m,d,f,E,b,p,k,g,C,h,F,v,y;t.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){o=e}},1),t.link("@rocket.chat/fuselage",{Box:function(e){l=e},Modal:function(e){i=e},Button:function(e){u=e},FieldGroup:function(e){a=e},Field:function(e){c=e},FieldRow:function(e){s=e},FieldLabel:function(e){m=e},FieldError:function(e){d=e}},0),t.link("@rocket.chat/fuselage-hooks",{useUniqueId:function(e){f=e}},1),t.link("@rocket.chat/ui-contexts",{useTranslation:function(e){E=e},useEndpoint:function(e){b=e},useToastMessageDispatch:function(e){p=e}},2),t.link("@tanstack/react-query",{useMutation:function(e){k=e}},3),t.link("react",{default:function(e){g=e},memo:function(e){C=e}},4),t.link("react-hook-form",{useForm:function(e){h=e},Controller:function(e){F=e}},5),t.link("../../components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated",{default:function(e){v=e}},6),t.link("../../lib/utils/goToRoomById",{goToRoomById:function(e){y=e}},7),t.exportDefault(C(function(e){var n=e.onClose,t=E(),C=f(),q=p(),B=b("POST","/v1/dm.create"),M=h({mode:"onBlur",defaultValues:{users:[]}}),S=M.control,x=M.handleSubmit,T=M.formState,_=T.isDirty,D=T.isSubmitting,I=T.isValidating,w=T.errors,A=k({mutationFn:B,onSuccess:function(e){y(e.room.rid)},onError:function(e){q({type:"error",message:e})},onSettled:function(){n()}}),R=function(e){var n;return o.async(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.users,t.abrupt("return",A.mutateAsync({usernames:n.join(",")}));case 2:case"end":return t.stop()}},null,null,null,Promise)};return g.createElement(i,{"data-qa":"create-direct-modal",wrapperFunction:function(e){return g.createElement(l,r({is:"form",onSubmit:x(R)},e))}},g.createElement(i.Header,null,g.createElement(i.Title,null,t("Create_direct_message")),g.createElement(i.Close,{tabIndex:-1,onClick:n})),g.createElement(i.Content,{mbe:2},g.createElement(l,{mbe:24},t("Direct_message_creation_description")),g.createElement(a,null,g.createElement(c,null,g.createElement(m,{htmlFor:C,required:!0},t("Members")),g.createElement(s,null,g.createElement(F,{name:"users",rules:{required:t("error-the-field-is-required",{field:t("Members")})},control:S,render:function(e){var n=e.field,t=n.name,r=n.onChange,o=n.value,l=n.onBlur;return g.createElement(v,{name:t,onChange:r,value:o,onBlur:l,id:C,"aria-describedby":C+"-error","aria-required":"true","aria-invalid":!!w.users})}})),w.users&&g.createElement(d,{"aria-live":"assertive",id:C+"-error"},w.users.message)))),g.createElement(i.Footer,null,g.createElement(i.FooterControllers,null,g.createElement(u,{onClick:n},t("Cancel")),g.createElement(u,{disabled:!_,loading:D||I,type:"submit",primary:!0},t("Create")))))}))}
//# sourceMappingURL=/dynamic/client/sidebar/header/dcd18d6c0200f476e5217571b6022d381a30210f.map
