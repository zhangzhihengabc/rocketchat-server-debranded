)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/RoomList/RoomList.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport { Box } from '@rocket.chat/fuselage';\nimport { useResizeObserver } from '@rocket.chat/fuselage-hooks';\nimport { useUserPreference, useUserId, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\nimport { Virtuoso } from 'react-virtuoso';\n\nimport { useOpenedRoom } from '../../lib/RoomManager';\nimport { useAvatarTemplate } from '../hooks/useAvatarTemplate';\nimport { usePreventDefault } from '../hooks/usePreventDefault';\nimport { useRoomList } from '../hooks/useRoomList';\nimport { useShortcutOpenMenu } from '../hooks/useShortcutOpenMenu';\nimport { useTemplateByViewMode } from '../hooks/useTemplateByViewMode';\nimport RoomListRow from './RoomListRow';\nimport ScrollerWithCustomProps from './ScrollerWithCustomProps';\n\nconst computeItemKey = (index: number, room: IRoom): IRoom['_id'] | number => room._id || index;\n\nconst RoomList = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst isAnonymous = !useUserId();\n\tconst roomsList = useRoomList();\n\tconst avatarTemplate = useAvatarTemplate();\n\tconst sideBarItemTemplate = useTemplateByViewMode();\n\tconst { ref } = useResizeObserver({ debounceDelay: 100 });\n\tconst openedRoom = useOpenedRoom() ?? '';\n\tconst sidebarViewMode = useUserPreference<'extended' | 'medium' | 'condensed'>('sidebarViewMode') || 'extended';\n\n\tconst extended = sidebarViewMode === 'extended';\n\tconst itemData = useMemo(\n\t\t() => ({\n\t\t\textended,\n\t\t\tt,\n\t\t\tSideBarItemTemplate: sideBarItemTemplate,\n\t\t\tAvatarTemplate: avatarTemplate,\n\t\t\topenedRoom,\n\t\t\tsidebarViewMode,\n\t\t\tisAnonymous,\n\t\t}),\n\t\t[avatarTemplate, extended, isAnonymous, openedRoom, sideBarItemTemplate, sidebarViewMode, t],\n\t);\n\n\tusePreventDefault(ref);\n\tuseShortcutOpenMenu(ref);\n\n\tconst roomsListStyle = css`\n\t\tposition: relative;\n\n\t\tdisplay: flex;\n\n\t\toverflow-x: hidden;\n\t\toverflow-y: hidden;\n\n\t\tflex: 1 1 auto;\n\n\t\theight: 100%;\n\n\t\t&--embedded {\n\t\t\tmargin-top: 2rem;\n\t\t}\n\n\t\t&__list:not(:last-child) {\n\t\t\tmargin-bottom: 22px;\n\t\t}\n\n\t\t&__type {\n\t\t\tdisplay: flex;\n\n\t\t\tflex-direction: row;\n\n\t\t\tpadding: 0 var(--sidebar-default-padding) 1rem var(--sidebar-default-padding);\n\n\t\t\tcolor: var(--rooms-list-title-color);\n\n\t\t\tfont-size: var(--rooms-list-title-text-size);\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\n\t\t\t&-text--livechat {\n\t\t\t\tflex: 1;\n\t\t\t}\n\t\t}\n\n\t\t&__empty-room {\n\t\t\tpadding: 0 var(--sidebar-default-padding);\n\n\t\t\tcolor: var(--rooms-list-empty-text-color);\n\n\t\t\tfont-size: var(--rooms-list-empty-text-size);\n\t\t}\n\n\t\t&__toolbar-search {\n\t\t\tposition: absolute;\n\t\t\tz-index: 10;\n\t\t\tleft: 0;\n\n\t\t\toverflow-y: scroll;\n\n\t\t\theight: 100%;\n\n\t\t\tbackground-color: var(--sidebar-background);\n\n\t\t\tpadding-block-start: 12px;\n\t\t}\n\n\t\t@media (max-width: 400px) {\n\t\t\tpadding: 0 calc(var(--sidebar-small-default-padding) - 4px);\n\n\t\t\t&__type,\n\t\t\t&__empty-room {\n\t\t\t\tpadding: 0 calc(var(--sidebar-small-default-padding) - 4px) 0.5rem calc(var(--sidebar-small-default-padding) - 4px);\n\t\t\t}\n\t\t}\n\t`;\n\n\treturn (\n\t\t<Box className={[roomsListStyle, 'sidebar--custom-colors'].filter(Boolean)} aria-label={t('Channels')} role='navigation'>\n\t\t\t<Box h='full' w='full' ref={ref}>\n\t\t\t\t<Virtuoso\n\t\t\t\t\ttotalCount={roomsList.length}\n\t\t\t\t\tdata={roomsList}\n\t\t\t\t\tcomponents={{ Scroller: ScrollerWithCustomProps }}\n\t\t\t\t\tcomputeItemKey={computeItemKey}\n\t\t\t\t\titemContent={(_, data): ReactElement => <RoomListRow data={itemData} item={data} />}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default RoomList;\n",null],"names":["module","default","_taggedTemplateLiteralLoose","link","css","Box","useResizeObserver","useUserPreference","useUserId","useTranslation","v","React","useMemo","Virtuoso","useOpenedRoom","useAvatarTemplate","usePreventDefault","useRoomList","useShortcutOpenMenu","useTemplateByViewMode","RoomListRow","ScrollerWithCustomProps","computeItemKey","index","room","_id","exportDefault","_useOpenedRoom","t","isAnonymous","roomsList","avatarTemplate","sideBarItemTemplate","ref","_useResizeObserver","debounceDelay","openedRoom","sidebarViewMode","extended","itemData","SideBarItemTemplate","AvatarTemplate","roomsListStyle","_templateObject","createElement","className","filter","Boolean","role","h","w","totalCount","length","data","components","Scroller","itemContent","_","item"],"mappings":"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"}