)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/sections/actions/OmnichannelLivechatToggle.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Sidebar } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ComponentProps } from 'react';\nimport React from 'react';\n\nimport { useOmnichannelAgentAvailable } from '../../../hooks/omnichannel/useOmnichannelAgentAvailable';\n\nexport const OmnichannelLivechatToggle = (props: Omit<ComponentProps<typeof Sidebar.TopBar.Action>, 'icon'>): ReactElement => {\n\tconst t = useTranslation();\n\tconst agentAvailable = useOmnichannelAgentAvailable();\n\tconst changeAgentStatus = useEndpoint('POST', '/v1/livechat/agent.status');\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleAvailableStatusChange = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tawait changeAgentStatus({});\n\t\t} catch (error: unknown) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\treturn (\n\t\t<Sidebar.TopBar.Action\n\t\t\t{...props}\n\t\t\tid='omnichannel-status-toggle'\n\t\t\ttitle={agentAvailable ? t('Turn_off_answer_chats') : t('Turn_on_answer_chats')}\n\t\t\tsuccess={agentAvailable}\n\t\t\ticon={agentAvailable ? 'message' : 'message-disabled'}\n\t\t\tonClick={handleAvailableStatusChange}\n\t\t/>\n\t);\n};\n",null],"names":["module","link","default","_extends","_regeneratorRuntime","export","OmnichannelLivechatToggle","Sidebar","useMutableCallback","useEndpoint","useToastMessageDispatch","useTranslation","v","React","useOmnichannelAgentAvailable","props","t","agentAvailable","changeAgentStatus","dispatchToastMessage","handleAvailableStatusChange","async","_context","prev","next","awrap","t0","type","message","stop","Promise","createElement","TopBar","Action","id","title","success","icon","onClick"],"mappings":"uBAASA,EAASC,IAAM,CAAA,iCAAwB,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAAH,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAE,QAAAA,SAAAA,CAAAA,EAAAE,EAAAA,CAAA,CAAA,EAAA,GAAhDJ,EAAOK,MAAE,CAAA,CAAAC,0BAAe,WAAwB,OAAAA,CAAA,CAAA,GAAAN,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAO,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAP,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAQ,mBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAR,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAS,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAX,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAY,CAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAAb,EAAAA,IAAAA,CAAAA,0DAAAA,CAAAc,6BAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAQzC,IARPX,EAAgDC,EAAAG,EAAAC,EAAAC,EAAAC,EAAAC,EAAAE,EAAAC,EAQnCR,EAA4B,SAACS,CAAiE,EAC1G,IAAMC,EAAIL,IACJM,EAAiBH,IACjBI,EAAoBT,EAAY,OAAQ,6BACxCU,EAAuBT,IAEvBU,EAA8BZ,EAAmB,WAAA,OAAAJ,EAAAiB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAE,IAAA,CAAA,EAAApB,EAAAqB,KAAA,CAE/CP,EAAkB,CAAA,GAAG,MAAA,EAAAI,EAAAE,IAAA,CAAA,EAAA,KAAA,MAAA,EAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAI,EAAA,CAAAJ,EAAA,KAAA,CAAA,GAE3BH,EAAqB,CAAEQ,KAAM,QAASC,QAAON,EAAAI,EAAA,AAAO,EAAI,MAAA,EAAA,IAAA,MAAA,OAAAJ,EAAAO,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAAC,QAAA,GAI1D,OACCjB,EAAAkB,aAAA,CAACxB,EAAQyB,MAAM,CAACC,MAAM,CAAA9B,EAAA,CAAA,EACjBY,EAAK,CACTmB,GAAG,4BACHC,KAAK,CAAmBnB,EAAE,AAAnBC,EAAmB,wBAA6B,wBACvDmB,QAASnB,EACToB,KAAMpB,EAAiB,UAAY,mBACnCqB,QAASlB,CAA4B,GAGxC"}