)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/footer/voip/hooks/useOmnichannelContactLabel.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { ICallerInfo } from '@rocket.chat/core-typings';\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\n\nimport { parseOutboundPhoneNumber } from '../../../../../ee/client/lib/voip/parseOutboundPhoneNumber';\n\nexport const useOmnichannelContactLabel = (caller: ICallerInfo): string => {\n\tconst getContactBy = useEndpoint('GET', '/v1/omnichannel/contact.search');\n\tconst phone = parseOutboundPhoneNumber(caller.callerId);\n\n\tconst { data } = useQuery(['getContactsByPhone', phone], async () => getContactBy({ phone }).then(({ contact }) => contact), {\n\t\tenabled: !!phone,\n\t});\n\n\treturn data?.name || caller.callerName || phone;\n};\n",null],"names":["module","link","default","_regeneratorRuntime","export","useOmnichannelContactLabel","useEndpoint","useQuery","parseOutboundPhoneNumber","caller","getContactBy","phone","callerId","data","_useQuery","async","_context","prev","next","abrupt","then","_ref","contact","stop","Promise","enabled","name","callerName"],"mappings":"uBACsBA,EAAMC,IAAA,CAAA,6BAA2B,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAvDH,EAAOI,MAAE,CAAA,CAAAC,2BAAmB,WAAA,OAA2BA,CAAA,CAAA,GAAAL,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAM,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAO,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAP,EAAAA,IAAAA,CAAAA,6DAAAA,CAAAQ,yBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAKhD,IALPL,EAAuDG,EAAAC,EAAAC,EAK1CH,EAA6B,SAACI,CAAmB,EAC7D,IAAMC,EAAeJ,EAAY,MAAO,kCAClCK,EAAQH,EAAyBC,EAAOG,QAAQ,EAE9CC,EAAIC,AAAKP,EAAS,CAAC,qBAAsBI,EAAM,CAAE,WAAA,OAAAR,EAAAY,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,OAAAF,EAAAG,MAAA,CAAA,SAAYT,EAAa,CAAEC,MAAAA,CAAK,GAAIS,IAAI,CAAC,SAAAC,CAAA,EAAU,OAAAA,EAAPC,OAAO,AAAc,GAAC,MAAA,EAAA,IAAA,MAAA,OAAAN,EAAAO,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA,EAAE,CAC5HC,QAAS,CAAC,CAACd,IADJE,IAAI,CAIZ,MAAO,AAAAA,CAAAA,MAAAA,EAAI,KAAA,EAAJA,EAAMa,IAAI,AAAJA,GAAQjB,EAAOkB,UAAU,EAAIhB,CAC3C"}