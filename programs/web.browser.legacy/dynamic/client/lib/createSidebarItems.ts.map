)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/lib/createSidebarItems.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { Keys as IconName } from '@rocket.chat/icons';\nimport type { LocationPathname } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\n\nexport type Item = {\n\ti18nLabel: string;\n\thref?: LocationPathname | `https://go.rocket.chat/i/${string}`;\n\ticon?: IconName;\n\ttag?: 'Alpha' | 'Beta';\n\tpermissionGranted?: () => boolean;\n\tpathSection?: string;\n\tname?: string;\n\texternalUrl?: boolean;\n\tbadge?: () => ReactElement;\n};\nexport type SidebarDivider = { divider: boolean; i18nLabel: string };\nexport type SidebarItem = Item | SidebarDivider;\nexport const isSidebarItem = (item: SidebarItem): item is Item => !('divider' in item);\n\nexport const isGoRocketChatLink = (link: string): link is `https://go.rocket.chat/i/${string}` =>\n\tlink.startsWith('https://go.rocket.chat/i/');\n\nexport const createSidebarItems = (\n\tinitialItems: SidebarItem[] = [],\n): {\n\tregisterSidebarItem: (item: SidebarItem) => void;\n\tunregisterSidebarItem: (i18nLabel: SidebarItem['i18nLabel']) => void;\n\tgetSidebarItems: () => SidebarItem[];\n\tsubscribeToSidebarItems: (callback: () => void) => () => void;\n} => {\n\tconst items = initialItems;\n\tlet updateCb: () => void = () => undefined;\n\n\tconst getSidebarItems = (): SidebarItem[] => items;\n\n\tconst subscribeToSidebarItems = (cb: () => void): (() => void) => {\n\t\tupdateCb = cb;\n\t\treturn (): void => {\n\t\t\tupdateCb = (): void => undefined;\n\t\t};\n\t};\n\n\tconst registerSidebarItem = (item: SidebarItem): void => {\n\t\titems.push(item);\n\t\tupdateCb();\n\t};\n\n\tconst unregisterSidebarItem = (i18nLabel: SidebarItem['i18nLabel']): void => {\n\t\tconst index = items.findIndex((item) => item.i18nLabel === i18nLabel);\n\t\tdelete items[index];\n\t\tupdateCb();\n\t};\n\n\treturn {\n\t\tregisterSidebarItem,\n\t\tunregisterSidebarItem,\n\t\tgetSidebarItems,\n\t\tsubscribeToSidebarItems,\n\t};\n};\n",null],"names":["module","export","isSidebarItem","isGoRocketChatLink","createSidebarItems","item","link","startsWith","initialItems","updateCb","registerSidebarItem","items","push","unregisterSidebarItem","i18nLabel","index","findIndex","getSidebarItems","subscribeToSidebarItems","cb"],"mappings":"uBAiBAA,EAAOC,MAAM,CAAA,CAAAC,cAAgB,WAAsC,OAACA,CAAmB,EAAAC,mBAAAA,WAAA,OAAAA,CAAA,EAAAC,mBAAAA,WAAA,OAAAA,CAAA,CAAA,GAAhF,IAAMF,EAAgB,SAACG,CAAiB,EAAA,MAAmB,CAAE,CAAA,YAAaA,CAAAA,CAAK,EAEzEF,EAAqB,SAACG,CAAY,EAAA,OAC9CA,EAAKC,UAAU,CAAC,4BAA4B,EAEhCH,EAAqB,WAO9B,IANHI,EAAAA,UAAAA,MAAAA,CAAAA,GAAAA,KAAAA,IAAAA,SAAAA,CAAAA,EAAAA,CAAAA,SAAAA,CAAAA,EAAAA,CAA8B,EAAE,CAQ5BC,EAAuB,WAAe,EAsB1C,MAAO,CACNC,oBAZ2B,SAACL,CAAiB,EAC7CM,AAbaH,EAaPI,IAAI,CAACP,GACXI,GACD,EAUCI,sBAR6B,SAACC,CAAmC,EACjE,IAAMC,EAAQJ,AAlBDH,EAkBOQ,SAAS,CAAC,SAACX,CAAI,EAAA,OAAKA,EAAKS,SAAS,GAAKA,CAAS,EACpE,QAAOH,AAnBMH,CAmBD,CAACO,EAAM,CACnBN,GACD,EAKCQ,gBAvBuB,WAAA,OAHVT,CAGoC,EAwBjDU,wBAtB+B,SAACC,CAAc,EAE9C,OADAV,EAAWU,EACJ,WACNV,EAAW,WAAqB,CACjC,CACD,EAmBD"}