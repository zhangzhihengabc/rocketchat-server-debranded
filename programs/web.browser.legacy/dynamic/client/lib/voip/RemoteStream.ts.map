)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/lib/voip/RemoteStream.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["/**\n * This class is used for local stream manipulation.\n * @remarks\n * This class wraps up browser media stream and HTMLMedia element\n * and takes care of rendering the media on a given element.\n * This provides enough abstraction so that the higher level\n * classes do not need to know about the browser specificities for\n * media.\n * This will also provide stream related functionalities such as\n * mixing of 2 streams in to 2, adding/removing tracks, getting a track information\n * detecting voice energy etc. Which will be implemented as when needed\n */\n\nimport Stream from './Stream';\n\nexport default class RemoteStream extends Stream {\n\tprivate renderingMediaElement: HTMLMediaElement | undefined;\n\n\tconstructor(mediaStream: MediaStream) {\n\t\tsuper(mediaStream);\n\t}\n\n\t/**\n\t * Called for initializing the class\n\t * @remarks\n\t */\n\n\tinit(rmElement: HTMLMediaElement): void {\n\t\tif (this.renderingMediaElement) {\n\t\t\t// Someone already has setup the stream and initializing it once again\n\t\t\t// Clear the existing stream object\n\t\t\tthis.renderingMediaElement.pause();\n\t\t\tthis.renderingMediaElement.srcObject = null;\n\t\t}\n\t\tthis.renderingMediaElement = rmElement;\n\t}\n\n\t/**\n\t * Called for playing the stream\n\t * @remarks\n\t * Plays the stream on media element. Stream will be autoplayed and muted based on the settings.\n\t * throws and error if the play fails.\n\t */\n\n\tplay(autoPlay = true, muteAudio = false): void {\n\t\tif (this.renderingMediaElement && this.mediaStream) {\n\t\t\tthis.renderingMediaElement.autoplay = autoPlay;\n\t\t\tthis.renderingMediaElement.srcObject = this.mediaStream;\n\t\t\tif (autoPlay) {\n\t\t\t\tthis.renderingMediaElement.play().catch((error: Error) => {\n\t\t\t\t\tthrow error;\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (muteAudio) {\n\t\t\t\tthis.renderingMediaElement.volume = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Called for pausing the stream\n\t * @remarks\n\t */\n\tpause(): void {\n\t\tthis.renderingMediaElement?.pause();\n\t}\n\n\tclear(): void {\n\t\tsuper.clear();\n\t\tif (this.renderingMediaElement) {\n\t\t\tthis.renderingMediaElement.pause();\n\t\t\tthis.renderingMediaElement.srcObject = null;\n\t\t}\n\t}\n}\n",null],"names":["module","default","_inheritsLoose","RemoteStream","v","Stream","_Stream","mediaStream","_this","call","renderingMediaElement","_proto","prototype","init","rmElement","pause","srcObject","play","autoPlay","arguments","length","undefined","muteAudio","autoplay","catch","error","volume","_this$renderingMediaE","clear"],"mappings":"uBAAAA,EAAAA,IAAAA,CAAAA,uCAAAA,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAAF,EAAAA,MAAAA,CAAAA,CAAA,QAAA,WAAA,OAAAG,CAAA,CAAA,GAAAH,EAAAA,IAAAA,CAAAA,WAAAA,CAAA,QAAA,SAAAI,CAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAA,IAAAH,EAAAG,EAeqBF,EAAa,SAAAG,CAAA,EAGjC,SAAAH,EAAYI,CAAwB,EAAA,IAAAC,EAFP,MAGTA,AAAnBA,CAAAA,EAAAF,EAAAG,IAAA,CAAA,IAAA,CAAMF,IAAY,IAAA,EAHXG,qBAAqB,CAAA,KAAA,EAAAF,CAI7B,CALiCN,EAAAC,EAAAG,GAOjC,IAAAK,EAAAR,EAAAS,SAAA,CAmDC,OAnDDD,EAKAE,IAAI,CAAJ,SAAKC,CAA2B,EAC3B,IAAI,CAACJ,qBAAqB,GAG7B,IAAI,CAACA,qBAAqB,CAACK,KAAK,GAChC,IAAI,CAACL,qBAAqB,CAACM,SAAS,CAAG,MAExC,IAAI,CAACN,qBAAqB,CAAGI,CAC9B,EAEAH,EAOAM,IAAI,CAAJ,WAAuC,IAAlCC,EAAQC,CAAAA,CAAAA,UAAAC,MAAA,CAAA,CAAA,GAAAD,AAAAE,KAAAA,IAAAF,SAAA,CAAA,EAAA,EAAAA,SAAA,CAAA,EAAA,CAASG,EAASH,UAAAC,MAAA,CAAA,GAAAD,AAAAE,KAAAA,IAAAF,SAAA,CAAA,EAAA,EAAAA,SAAA,CAAA,EAAA,AAC1B,CAAA,IAAI,CAACT,qBAAqB,EAAI,IAAI,CAACH,WAAW,GACjD,IAAI,CAACG,qBAAqB,CAACa,QAAQ,CAAGL,EACtC,IAAI,CAACR,qBAAqB,CAACM,SAAS,CAAG,IAAI,CAACT,WAAW,CACnDW,GACH,IAAI,CAACR,qBAAqB,CAACO,IAAI,GAAGO,KAAK,CAAC,SAACC,CAAY,EACpD,MAAMA,CACP,GAEGH,GACH,CAAA,IAAI,CAACZ,qBAAqB,CAACgB,MAAM,CAAG,CAAA,EAGvC,EAEAf,EAIAI,KAAK,CAAL,WAAK,IAAAY,CACJ,AAA0B,QAA1BA,CAAAA,EAAA,IAAI,CAACjB,qBAAqB,AAArBA,GAAqBiB,AAAA,KAAA,IAAAA,GAA1BA,EAA4BZ,KAAK,EAClC,EAACJ,EAEDiB,KAAK,CAAL,WACCtB,EAAAM,SAAA,CAAMgB,KAAK,CAAAnB,IAAA,CAAA,IAAA,EACP,IAAI,CAACC,qBAAqB,GAC7B,IAAI,CAACA,qBAAqB,CAACK,KAAK,GAChC,IAAI,CAACL,qBAAqB,CAACM,SAAS,CAAG,KAEzC,EAACb,CAAA,EA1DwCE"}