function module(e,u,n){n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){t=e}},0),n.export({QueueAggregator:function(){return r}});var t,r=function(){function e(){this.sessionQueueCallServingHistory=void 0,this.currentlyServing=void 0,this.currentQueueMembershipStatus=void 0,this.extension=void 0,this.sessionQueueCallServingHistory=[],this.currentQueueMembershipStatus={}}var u=e.prototype;return u.updateQueueInfo=function(e,u){var n;null!==(n=this.currentQueueMembershipStatus)&&void 0!==n&&n[e]&&(this.currentQueueMembershipStatus[e].callsInQueue=u)},u.setMembership=function(e){var u=this;this.extension=e.extension,e.queues.forEach(function(e){var n={queueName:e.name,callsInQueue:0};u.currentQueueMembershipStatus[e.name]=n})},u.queueJoined=function(e){this.updateQueueInfo(e.queuename,Number(e.queuedcalls))},u.callPickedup=function(e){this.updateQueueInfo(e.queuename,Number(e.queuedcalls))},u.memberAdded=function(e){var u={queueName:e.queuename,callsInQueue:Number(e.queuedcalls)};this.currentQueueMembershipStatus[e.queuename]=u},u.memberRemoved=function(e){var u;null!==(u=this.currentQueueMembershipStatus)&&void 0!==u&&u[e.queuename]&&delete this.currentQueueMembershipStatus[e.queuename]},u.queueAbandoned=function(e){this.updateQueueInfo(e.queuename,Number(e.queuedcallafterabandon))},u.getCallWaitingCount=function(){return Object.entries(this.currentQueueMembershipStatus).reduce(function(e,u){var n=t(u,2);return e+(n[0],n[1]).callsInQueue},0)},u.getCurrentQueueName=function(){var e;return null!==(e=this.currentlyServing)&&void 0!==e&&e.queueInfo?this.currentlyServing.queueInfo.queueName:""},u.callRinging=function(e){if(null!==(u=this.currentQueueMembershipStatus)&&void 0!==u&&u[e.queuename]){var u,n={queueInfo:this.currentQueueMembershipStatus[e.queuename],callerId:{callerId:e.callerid.id,callerName:e.callerid.name},callStarted:void 0,callEnded:void 0,agentExtension:this.extension};this.currentlyServing=n}},u.callStarted=function(){this.currentlyServing&&(this.currentlyServing.callStarted=new Date)},u.callEnded=function(){this.currentlyServing&&(this.currentlyServing.callEnded=new Date,this.sessionQueueCallServingHistory.unshift(this.currentlyServing))},e}()}
//# sourceMappingURL=/dynamic/client/lib/voip/214d88276b016a0508625a170eed7d79b91e7cf1.map
