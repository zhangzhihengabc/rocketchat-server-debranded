function module(t,e,n){var a,s,i,r,o,u,c,l,d,m,f,g=["editedBy","editedAt","emoji","avatar","alias","customFields","groupable","attachments","reactions"];n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(t){a=t}},0),n.link("@babel/runtime/helpers/objectSpread2",{default:function(t){s=t}},1),n.export({parseMessageTextToAstMarkdown:function(){return v},parseMessageQuoteAttachment:function(){return h},parseMessageAttachments:function(){return p},removePossibleNullMessageValues:function(){return A}}),n.link("@rocket.chat/core-typings",{isFileAttachment:function(t){i=t},isE2EEMessage:function(t){r=t},isOTRMessage:function(t){o=t},isOTRAckMessage:function(t){u=t},isQuoteAttachment:function(t){c=t},isTranslatedAttachment:function(t){l=t},isTranslatedMessage:function(t){d=t}},0),n.link("@rocket.chat/message-parser",{parse:function(t){m=t}},1),n.link("../views/room/MessageList/lib/isParsedMessage",{isParsedMessage:function(t){f=t}},2);var v=function(t,e,n){var a,i=A(t),c=n.showAutoTranslate,l=n.autoTranslateLanguage,m=l&&d(i)&&i.translations,f=c(t),g=f&&m&&m[l]||i.msg;return s(s({},i),{},{md:r(t)||o(t)||u(t)||f?b(g,e):null!==(a=i.md)&&void 0!==a?a:b(g,e)},i.attachments&&{attachments:p(i.attachments,e,{autoTranslateLanguage:l,translated:f})})},h=function(t,e,n){var a,i,r,o=n.translated,u=n.autoTranslateLanguage;t.attachments&&(null===(a=t.attachments)||void 0===a?void 0:a.length)>0&&(t.attachments=t.attachments.map(function(t){return h(t,e,n)}));var c=l(t)&&u&&(null==t?void 0:null===(i=t.translations)||void 0===i?void 0:i[u])||t.text||"";return s(s({},t),{},{md:o?b(c,e):null!==(r=t.md)&&void 0!==r?r:b(c,e)})},p=function(t,e,n){return t.map(function(t){var a,r,o,u=n.translated,d=n.autoTranslateLanguage;if(!t.text&&!t.description)return t;c(t)&&t.attachments&&(t.attachments=t.attachments.map(function(t){return h(t,e,n)}));var m=l(t)&&d&&(null==t?void 0:null===(a=t.translations)||void 0===a?void 0:a[d])||t.text||t.description||"";return i(t)&&t.description&&(t.descriptionMd=u?b(m,e):null!==(o=t.descriptionMd)&&void 0!==o?o:b(m,e)),s(s({},t),{},{md:u?b(m,e):null!==(r=t.md)&&void 0!==r?r:b(m,e)})})},M=function(t){return null!=t},A=function(t){var e=t.editedBy,n=t.editedAt,i=t.emoji,r=t.avatar,o=t.alias,u=t.customFields,c=t.groupable,l=t.attachments,d=t.reactions;return s(s(s(s(s(s(s(s(s(s({},a(t,g)),M(e)&&{editedBy:e}),M(n)&&{editedAt:n}),M(i)&&{emoji:i}),M(r)&&{avatar:r}),M(o)&&{alias:o}),M(u)&&{customFields:u}),M(c)&&{groupable:c}),M(l)&&{attachments:l}),M(d)&&{reactions:d})},b=function(t,e){if(!t)return[];if(f(t))return t;var n=m(t,e);return"LINE_BREAK"!==n[0].type?n:n.slice(1)}}
//# sourceMappingURL=/dynamic/client/lib/4349970d161622a53cb450fd452d850d5fd53877.map
