)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/lib/download.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["export const download = (href: string, filename: string): void => {\n\tconst anchorElement = document.createElement('a');\n\tanchorElement.download = filename;\n\tanchorElement.href = href;\n\tanchorElement.target = '_blank';\n\tdocument.body.appendChild(anchorElement);\n\tanchorElement.click();\n\tdocument.body.removeChild(anchorElement);\n};\n\nconst hasMsSaveOrOpenBlob = (navigator: Navigator): navigator is Navigator & { msSaveOrOpenBlob: (blob: Blob) => void } =>\n\t'msSaveOrOpenBlob' in navigator;\n\nexport const downloadAs = ({ data, ...options }: { data: BlobPart[] } & BlobPropertyBag, filename: string): void => {\n\tconst blob = new Blob(data, options);\n\n\tif (hasMsSaveOrOpenBlob(navigator)) {\n\t\tnavigator.msSaveOrOpenBlob(blob);\n\t\treturn;\n\t}\n\n\tconst URL = window.webkitURL ?? window.URL;\n\tconst blobUrl = URL.createObjectURL(blob);\n\n\tdownload(blobUrl, filename);\n\n\tURL.revokeObjectURL(blobUrl);\n};\n\nexport const downloadJsonAs = (jsonObject: unknown, basename: string): void => {\n\tdownloadAs(\n\t\t{\n\t\t\tdata: [decodeURIComponent(encodeURI(JSON.stringify(jsonObject, null, 2)))],\n\t\t\ttype: 'application/json;charset=utf-8',\n\t\t},\n\t\t`${basename}.json`,\n\t);\n};\n\nexport const downloadCsvAs = (csvData: readonly (readonly unknown[])[], basename: string): void => {\n\tconst escapeCell = (cell: unknown): string => `\"${String(cell).replace(/\"/g, '\"\"')}\"`;\n\tconst content = csvData.reduce((content, row) => `${content + row.map(escapeCell).join(';')}\\n`, '');\n\n\tdownloadAs(\n\t\t{\n\t\t\tdata: [decodeURIComponent(encodeURI(content))],\n\t\t\ttype: 'text/csv;charset=utf-8',\n\t\t\tendings: 'native',\n\t\t},\n\t\t`${basename}.csv`,\n\t);\n};\n",null],"names":["_objectWithoutProperties","module","link","default","export","download","downloadAs","downloadJsonAs","downloadCsvAs","href","filename","anchorElement","document","createElement","target","body","appendChild","click","removeChild","_ref","_window$webkitURL","data","options","_excluded","blob","Blob","navigator","msSaveOrOpenBlob","URL","window","webkitURL","blobUrl","createObjectURL","revokeObjectURL","jsonObject","basename","decodeURIComponent","encodeURI","JSON","stringify","type","csvData","escapeCell","cell","String","replace","reduce","content","row","map","join","endings"],"mappings":"2BAAAA,aAAqCC,EAAEC,IAAgB,CAAQ,iDAAE,CAAAC,QAAAA,SAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAAjEC,EAAOG,MAAM,CAAA,CAAAC,SAAW,WAAe,OAAwBA,CAAE,EAAAC,WAAAA,WAAA,OAAAA,CAAA,EAAAC,eAAAA,WAAA,OAAAA,CAAA,EAAAC,cAAAA,WAAA,OAAAA,CAAA,CAAA,GAA1D,IAAMH,EAAW,SAACI,CAAY,CAAEC,CAAgB,EACtD,IAAMC,EAAgBC,SAASC,aAAa,CAAC,IAC7CF,CAAAA,EAAcN,QAAQ,CAAGK,EACzBC,EAAcF,IAAI,CAAGA,EACrBE,EAAcG,MAAM,CAAG,SACvBF,SAASG,IAAI,CAACC,WAAW,CAACL,GAC1BA,EAAcM,KAAK,GACnBL,SAASG,IAAI,CAACG,WAAW,CAACP,EAC3B,EAKaL,EAAa,SAAAa,CAAA,CAA+DT,CAAgB,EAAU,IAAAU,EAAtFC,EAAIF,EAAJE,IAAI,CAAKC,EAAOtB,EAAAmB,EAAAI,GACtCC,EAAO,IAAIC,KAAKJ,EAAMC,GAE5B,GALA,qBAKwBI,UAAY,CACnCA,UAAUC,gBAAgB,CAACH,GAC3B,OAGD,IAAMI,EAAG,AAAmB,OAAnBR,CAAAA,EAAGS,OAAOC,SAAS,AAATA,GAASV,AAAA,KAAA,IAAAA,EAAAA,EAAIS,OAAOD,GAAG,CACpCG,EAAUH,EAAII,eAAe,CAACR,GAEpCnB,EAAS0B,EAASrB,GAElBkB,EAAIK,eAAe,CAACF,EACrB,EAEaxB,EAAiB,SAAC2B,CAAmB,CAAEC,CAAgB,EACnE7B,EACC,CACCe,KAAM,CAACe,mBAAmBC,UAAUC,KAAKC,SAAS,CAACL,EAAY,KAAM,KAAK,CAC1EM,KAAM,kCAEJL,EAAQ,QAEb,EAEa3B,EAAgB,SAACiC,CAAwC,CAAEN,CAAgB,EACvF,IAAMO,EAAa,SAACC,CAAa,EAAA,MAAA,IAAiBC,OAAOD,GAAME,OAAO,CAAC,KAAM,MAAK,GAAA,EAGlFvC,EACC,CACCe,KAAM,CAACe,mBAAmBC,UAJZI,EAAQK,MAAM,CAAC,SAACC,CAAO,CAAEC,CAAG,EAAA,OAAQD,EAAUC,EAAIC,GAAG,CAACP,GAAYQ,IAAI,CAAC,KAAI,IAAA,EAAM,MAIjD,CAC9CV,KAAM,yBACNW,QAAS,UAEPhB,EAAQ,OAEb"}