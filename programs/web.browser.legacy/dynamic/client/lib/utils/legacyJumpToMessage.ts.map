)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/lib/utils/legacyJumpToMessage.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { isThreadMessage } from '@rocket.chat/core-typings';\n\nimport { ChatRoom } from '../../../app/models/client';\nimport { RoomHistoryManager } from '../../../app/ui-utils/client';\nimport { router } from '../../providers/RouterProvider';\nimport { RoomManager } from '../RoomManager';\nimport { goToRoomById } from './goToRoomById';\n\n/** @deprecated */\nexport const legacyJumpToMessage = async (message: IMessage) => {\n\tif (isThreadMessage(message) || message.tcount) {\n\t\tconst { tab, context } = router.getRouteParameters();\n\n\t\tif (tab === 'thread' && (context === message.tmid || context === message._id)) {\n\t\t\treturn;\n\t\t}\n\n\t\trouter.navigate(\n\t\t\t{\n\t\t\t\tname: router.getRouteName()!,\n\t\t\t\tparams: {\n\t\t\t\t\ttab: 'thread',\n\t\t\t\t\tcontext: message.tmid || message._id,\n\t\t\t\t\trid: message.rid,\n\t\t\t\t\tname: ChatRoom.findOne({ _id: message.rid })?.name ?? '',\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\t...router.getSearchParameters(),\n\t\t\t\t\tmsg: message._id,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{ replace: false },\n\t\t);\n\t\treturn;\n\t}\n\n\tif (RoomManager.opened === message.rid) {\n\t\tRoomHistoryManager.getSurroundingMessages(message);\n\t\treturn;\n\t}\n\n\tawait goToRoomById(message.rid);\n\n\tsetTimeout(() => {\n\t\tRoomHistoryManager.getSurroundingMessages(message);\n\t}, 400);\n};\n",null],"names":["module","link","default","_regeneratorRuntime","_objectSpread","export","legacyJumpToMessage","isThreadMessage","ChatRoom","RoomHistoryManager","router","RoomManager","goToRoomById","message","_ChatRoom$findOne$nam","_ChatRoom$findOne","_router$getRouteParam","tab","context","async","_context","prev","next","tcount","getRouteParameters","tmid","_id","abrupt","navigate","name","getRouteName","params","rid","findOne","search","getSearchParameters","msg","replace","opened","getSurroundingMessages","awrap","setTimeout","stop","Promise"],"mappings":"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"}