)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/lib/utils/timeAgo.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Tracker } from 'meteor/tracker';\nimport type { Moment, MomentInput } from 'moment';\nimport moment from 'moment';\n\nimport { settings } from '../../../app/settings/client';\nimport { getUserPreference } from '../../../app/utils/client';\nimport { t } from '../../../app/utils/lib/i18n';\n\nconst dayFormat = ['h:mm A', 'H:mm'];\n\nexport const timeAgo = async (date: MomentInput): Promise<string> => {\n\tconst clockMode = Tracker.nonreactive(() => getUserPreference(Meteor.userId(), 'clockMode', false) as number | boolean);\n\tconst messageTimeFormat = Tracker.nonreactive(() => settings.get('Message_TimeFormat'));\n\tconst sameDay = (typeof clockMode === 'number' ? dayFormat[clockMode - 1] : undefined) || messageTimeFormat;\n\n\treturn moment(date).calendar(null, {\n\t\tlastDay: `[${t('yesterday')}]`,\n\t\tsameDay,\n\t\tlastWeek: 'dddd',\n\t\tsameElse(this: Moment, now) {\n\t\t\tconst diff = Math.ceil(this.diff(now, 'years', true));\n\t\t\treturn diff < 0 ? 'MMM D YYYY' : 'MMM D';\n\t\t},\n\t});\n};\n",null],"names":["module","default","_regeneratorRuntime","export","timeAgo","Meteor","Tracker","v","moment","settings","getUserPreference","t","dayFormat","date","clockMode","messageTimeFormat","sameDay","async","_context","prev","next","nonreactive","userId","get","undefined","abrupt","calendar","lastDay","lastWeek","sameElse","now","diff","Math","ceil","stop","Promise"],"mappings":"uBAAuBA,EAAAA,IAAAA,CAAAA,6BAAgB,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAvCF,EAAOG,MAAE,CAAA,CAAMC,QAAQ,WAAA,OAAgBA,CAAA,CAAA,GAAAJ,EAAAA,IAAAA,CAAAA,gBAAAA,CAAAK,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAL,EAAAA,IAAAA,CAAAA,iBAAAA,CAAAM,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,SAAAA,CAAA,QAAA,SAAAO,CAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAAR,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAS,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAT,EAAAA,IAAAA,CAAAA,4BAAAA,CAAAU,kBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAV,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAW,EAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GASvC,IATAT,EAAuCG,EAAAC,EAAAE,EAAAC,EAAAC,EAAAC,EASjCC,EAAY,CAAC,SAAU,OAAO,CAEvBR,EAAU,SAAOS,CAAiB,EAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAd,EAAAe,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAG6D,OAFrGN,EAAYR,EAAQe,WAAW,CAAC,WAAA,OAAMX,EAAkBL,EAAOiB,MAAM,GAAI,YAAa,CAAA,EAA0B,GAChHP,EAAoBT,EAAQe,WAAW,CAAC,WAAA,OAAMZ,EAASc,GAAG,CAAC,qBAAqB,GAChFP,EAAU,AAAC,CAAA,AAAqB,UAArB,OAAOF,EAAyBF,CAAS,CAACE,EAAY,EAAE,CAAGU,KAAAA,CAAAA,GAAcT,EAAiBG,EAAAO,MAAA,CAAA,SAEpGjB,EAAOK,GAAMa,QAAQ,CAAC,KAAM,CAClCC,QAAO,IAAMhB,EAAE,aAAY,IAC3BK,QAAAA,EACAY,SAAU,OACVC,SAAQ,SAAeC,CAAG,EAEzB,OAAOC,AAAO,EADDC,KAAKC,IAAI,CAAC,IAAI,CAACF,IAAI,CAACD,EAAK,QAAS,CAAA,IAC7B,aAAe,OAClC,IACC,MAAA,EAAA,IAAA,MAAA,OAAAZ,EAAAgB,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA"}