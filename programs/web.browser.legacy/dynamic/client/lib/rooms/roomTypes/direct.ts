function module(e,n,t){t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){i=e}},0),t.export({DirectMessageRoomType:function(){return h}}),t.link("@rocket.chat/core-typings",{isRoomFederated:function(e){a=e}},0),t.link("meteor/meteor",{Meteor:function(e){r=e}},1),t.link("../../../../app/authorization/client",{hasAtLeastOnePermission:function(e){o=e}},2),t.link("../../../../app/models/client",{Subscriptions:function(e){u=e},Users:function(e){s=e},ChatRoom:function(e){c=e}},3),t.link("../../../../app/settings/client",{settings:function(e){l=e}},4),t.link("../../../../app/utils/client",{getUserPreference:function(e){f=e}},5),t.link("../../../../app/utils/client/getAvatarURL",{getAvatarURL:function(e){m=e}},6),t.link("../../../../app/utils/client/getUserAvatarURL",{getUserAvatarURL:function(e){d=e}},7),t.link("../../../../definition/IRoomTypeConfig",{RoomSettingsEnum:function(e){g=e},RoomMemberActions:function(e){p=e},UiTextContext:function(e){v=e}},8),t.link("../../../../lib/rooms/roomTypes/direct",{getDirectMessageRoomType:function(e){E=e}},9),t.link("../../federation/Federation",{"*":function(e){R=e}},10),t.link("../roomCoordinator",{roomCoordinator:function(e){_=e}},11);var i,a,r,o,u,s,c,l,f,m,d,g,p,v,E,R,_,h=E(_);_.add(i(i({},h),{},{label:"Direct_Messages"}),{allowRoomSettingChange:function(e,n){if(a(e))return R.isRoomSettingAllowed(e,n);switch(n){case g.TYPE:case g.NAME:case g.SYSTEM_MESSAGES:case g.DESCRIPTION:case g.READ_ONLY:case g.REACT_WHEN_READ_ONLY:case g.ARCHIVE_OR_UNARCHIVE:case g.JOIN_CODE:return!1;case g.E2E:return!0===l.get("E2E_Enable");default:return!0}},allowMemberAction:function(e,n,t,i){return a(e)?R.actionAllowed(e,n,t,i):n===p.BLOCK&&!this.isGroupChat(e)},roomName:function(e){var n=e.fname||e.name?{fname:e.fname,name:e.name}:e._id?u.findOne({rid:e._id}):void 0;return n?l.get("UI_Use_Real_Name")&&n.fname?n.fname:n.name:void 0},isGroupChat:function(e){var n;return((null==e?void 0:null===(n=e.uids)||void 0===n?void 0:n.length)||0)>2},getUiText:function(e){switch(e){case v.HIDE_WARNING:return"Hide_Private_Warning";case v.LEAVE_WARNING:return"Leave_Private_Warning";default:return""}},condition:function(){return f(r.userId(),"sidebarGroupByType")&&o(["view-d-room","view-joined-room"])},getAvatarPath:function(e){if(!e)return"";if(e.name&&e.avatarETag)return d(e.name,e.avatarETag);if(this.isGroupChat(e))return m({username:(e.uids||[]).length+(e.usernames||[]).join(),cache:e.avatarETag});var n=u.findOne({rid:e._id},{fields:{name:1}});if(null!=n&&n.name){var t=s.findOne({username:n.name},{fields:{username:1,avatarETag:1}});return d((null==t?void 0:t.username)||n.name,null==t?void 0:t.avatarETag)}return d(e.name||this.roomName(e)||"")},getIcon:function(e){return a(e)?"globe":this.isGroupChat(e)?"balloon":"at"},extractOpenRoomParams:function(e){return{type:"d",reference:e.rid}},findRoom:function(e){var n=u.findOne({t:"d",$or:[{name:e},{rid:e}]});if(null!=n&&n.rid)return c.findOne(n.rid)}})}
//# sourceMappingURL=/dynamic/client/lib/rooms/roomTypes/1ec4ef7a595cfe13605a3d5a7ffb7638c41f9ff3.map
