)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/lib/rooms/roomTypes/voip.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { AtLeast } from '@rocket.chat/core-typings';\n\nimport { hasPermission } from '../../../../app/authorization/client';\nimport { ChatRoom } from '../../../../app/models/client';\nimport { settings } from '../../../../app/settings/client';\nimport { getAvatarURL } from '../../../../app/utils/client/getAvatarURL';\nimport type { IRoomTypeClientDirectives } from '../../../../definition/IRoomTypeConfig';\nimport { getVoipRoomType } from '../../../../lib/rooms/roomTypes/voip';\nimport { roomCoordinator } from '../roomCoordinator';\n\nexport const VoipRoomType = getVoipRoomType(roomCoordinator);\n\nroomCoordinator.add(\n\t{\n\t\t...VoipRoomType,\n\t\tlabel: 'Voip',\n\t},\n\t{\n\t\troomName(room) {\n\t\t\treturn room.name || room.fname || (room as any).label;\n\t\t},\n\n\t\tcondition() {\n\t\t\treturn settings.get('Livechat_enabled') && hasPermission('view-l-room');\n\t\t},\n\n\t\tgetAvatarPath(room) {\n\t\t\treturn getAvatarURL({ username: `@${this.roomName(room)}` }) || '';\n\t\t},\n\n\t\tfindRoom(identifier) {\n\t\t\treturn ChatRoom.findOne({ _id: identifier });\n\t\t},\n\n\t\tcanSendMessage(_rid) {\n\t\t\treturn false;\n\t\t},\n\n\t\treadOnly(_rid, _user) {\n\t\t\treturn true;\n\t\t},\n\n\t\tgetIcon() {\n\t\t\treturn 'phone';\n\t\t},\n\n\t\textractOpenRoomParams({ id }) {\n\t\t\treturn { type: 'v', reference: id };\n\t\t},\n\t} as AtLeast<IRoomTypeClientDirectives, 'roomName'>,\n);\n",null],"names":["module","link","default","_objectSpread","export","VoipRoomType","hasPermission","ChatRoom","settings","getAvatarURL","getVoipRoomType","roomCoordinator","add","label","roomName","room","name","fname","condition","get","getAvatarPath","username","findRoom","identifier","findOne","_id","canSendMessage","_rid","readOnly","_user","getIcon","extractOpenRoomParams","_ref","type","reference","id"],"mappings":"uBAESA,EAAeC,IAAA,CAAM,uCAAuC,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAArEH,EAAOI,MAAE,CAAA,CAAAC,aAAe,WAAM,OAAAA,CAAA,CAAA,GAAuCL,EAAAA,IAAAA,CAAAA,uCAAAA,CAAAM,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,gCAAAA,CAAAO,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAP,EAAAA,IAAAA,CAAAA,kCAAAA,CAAAQ,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAR,EAAAA,IAAAA,CAAAA,4CAAAA,CAAAS,aAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAT,EAAAA,IAAAA,CAAAA,uCAAAA,CAAAU,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAV,EAAAA,IAAAA,CAAAA,qBAAAA,CAAAW,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAQ9D,IARPR,EAA8BG,EAAuCC,EAAAC,EAAAC,EAAAC,EAAAC,EAQxDN,EAAeK,EAAgBC,GAE5CA,EAAgBC,GAAG,CAAAT,EAAAA,EAAA,CAAA,EAEdE,GAAY,CAAA,EAAA,CACfQ,MAAO,MAAM,GAEd,CACCC,SAAQ,SAACC,CAAI,EACZ,OAAOA,EAAKC,IAAI,EAAID,EAAKE,KAAK,EAAKF,EAAaF,KAAK,AACtD,EAEAK,UAAS,WACR,OAAOV,EAASW,GAAG,CAAC,qBAAuBb,EAAc,cAC1D,EAEAc,cAAa,SAACL,CAAI,EACjB,OAAON,EAAa,CAAEY,SAAQ,IAAM,IAAI,CAACP,QAAQ,CAACC,EAAO,IAAO,EACjE,EAEAO,SAAQ,SAACC,CAAU,EAClB,OAAOhB,EAASiB,OAAO,CAAC,CAAEC,IAAKF,CAAU,EAC1C,EAEAG,eAAc,SAACC,CAAI,EAClB,MAAO,CAAA,CACR,EAEAC,SAAQ,SAACD,CAAI,CAAEE,CAAK,EACnB,MAAO,CAAA,CACR,EAEAC,QAAO,WACN,MAAO,OACR,EAEAC,sBAAqB,SAAAC,CAAA,EACpB,MAAO,CAAEC,KAAM,IAAKC,UADKF,EAAFG,EAAE,AACQ,CAClC"}