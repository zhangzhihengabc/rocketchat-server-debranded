function module(n,e,t){t.link("@babel/runtime/helpers/objectSpread2",{default:function(n){i=n}},0),t.export({LivechatRoomType:function(){return p}}),t.link("../../../../app/authorization/client",{hasPermission:function(n){o=n}},0),t.link("../../../../app/models/client",{ChatRoom:function(n){r=n},ChatSubscription:function(n){a=n}},1),t.link("../../../../app/settings/client",{settings:function(n){u=n}},2),t.link("../../../../app/utils/client/getAvatarURL",{getAvatarURL:function(n){c=n}},3),t.link("../../../../definition/IRoomTypeConfig",{RoomSettingsEnum:function(n){l=n},RoomMemberActions:function(n){f=n},UiTextContext:function(n){m=n}},4),t.link("../../../../lib/rooms/roomTypes/livechat",{getLivechatRoomType:function(n){d=n}},5),t.link("../roomCoordinator",{roomCoordinator:function(n){s=n}},6);var i,o,r,a,u,c,l,f,m,d,s,p=d(s);s.add(i(i({},p),{},{label:"Omnichannel"}),{allowRoomSettingChange:function(n,e){return e!==l.JOIN_CODE},allowMemberAction:function(n,e){return[f.INVITE,f.JOIN].includes(e)},roomName:function(n){return n.name||n.fname||n.label},getUiText:function(n){switch(n){case m.HIDE_WARNING:case m.LEAVE_WARNING:return"Hide_Livechat_Warning";default:return""}},condition:function(){return u.get("Livechat_enabled")&&o("view-l-room")},getAvatarPath:function(n){return c({username:"@"+this.roomName(n)})||""},findRoom:function(n){return r.findOne({_id:n})},isLivechatRoom:function(){return!0},canSendMessage:function(n){var e=r.findOne({_id:n},{fields:{open:1}});return!!(null==e?void 0:e.open)},readOnly:function(n,e){var t=r.findOne({_id:n},{fields:{open:1,servedBy:1}});return null==t||!t.open||!a.findOne({rid:n})},getIcon:function(){return"livechat"},extractOpenRoomParams:function(n){return{type:"l",reference:n.id}}})}
//# sourceMappingURL=/dynamic/client/lib/rooms/roomTypes/afdfbc0b5c1d627af7194b13e84ebd82d7db5d84.map
