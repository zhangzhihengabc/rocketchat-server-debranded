function module(e,n,t){t.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),t.export({requestMessageDeletion:function(){return c}}),t.link("../../../../app/utils/lib/i18n",{t:function(e){a=e}},0),t.link("../../../components/GenericModal",{default:function(e){s=e}},1),t.link("../../imperativeModal",{imperativeModal:function(e){o=e}},2),t.link("../../toast",{dispatchToastMessage:function(e){i=e}},3);var r,a,s,o,i,c=function(e,n){var t;return r.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,r.awrap(e.data.canDeleteMessage(n));case 2:if(c.sent){c.next=5;break}return i({type:"error",message:a("Message_deleting_blocked")}),c.abrupt("return");case 5:if(!n.drid){c.next=11;break}return c.next=8,r.awrap(e.data.getDiscussionByID(n.drid));case 8:c.t0=c.sent,c.next=12;break;case 11:c.t0=void 0;case 12:return t=c.t0,c.next=15,r.awrap(new Promise(function(c,u){var l=function t(){var t,s;return r.async(function l(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,r.awrap(e.data.canDeleteMessage(n));case 3:if(l.sent){l.next=6;break}return i({type:"error",message:a("Message_deleting_blocked")}),l.abrupt("return");case 6:return l.next=8,r.awrap(e.data.deleteMessage(n._id));case 8:o.close(),(null===(t=e.currentEditing)||void 0===t?void 0:t.mid)===n._id&&e.currentEditing.stop(),null===(s=e.composer)||void 0===s||s.focus(),i({type:"success",message:a("Your_entry_has_been_deleted")}),c(),l.next=19;break;case 15:l.prev=15,l.t0=l.catch(0),i({type:"error",message:l.t0}),u(l.t0);case 19:case"end":return l.stop()}},null,null,[[0,15]],Promise)},d=function t(){var t,a;return r.async(function r(r){for(;;)switch(r.prev=r.next){case 0:o.close(),(null===(t=e.currentEditing)||void 0===t?void 0:t.mid)===n._id&&e.currentEditing.stop(),null===(a=e.composer)||void 0===a||a.focus(),c();case 4:case"end":return r.stop()}},null,null,null,Promise)};o.open({component:s,props:{title:a("Are_you_sure"),children:t?a("The_message_is_a_discussion_you_will_not_be_able_to_recover"):a("You_will_not_be_able_to_recover"),variant:"danger",confirmText:a("Yes_delete_it"),onConfirm:l,onClose:d,onCancel:d}})}));case 15:case"end":return c.stop()}},null,null,null,Promise)}}
//# sourceMappingURL=/dynamic/client/lib/chats/flows/2b60792a27a081a52cc9868a7d387f9cb51e0eb7.map
