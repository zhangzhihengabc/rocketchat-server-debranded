function module(e,t,r){r.link("@babel/runtime/helpers/objectSpread2",{default:function(e){n=e}},0),r.link("@babel/runtime/regenerator",{default:function(e){a=e}},1),r.export({sendMessage:function(){return f}}),r.link("../../../../app/ui/client/lib/KonchatNotification",{KonchatNotification:function(e){s=e}},0),r.link("../../../../app/utils/client/lib/SDKClient",{sdk:function(e){i=e}},1),r.link("../../../../app/utils/lib/i18n",{t:function(e){u=e}},2),r.link("../../toast",{dispatchToastMessage:function(e){c=e}},3),r.link("./processMessageEditing",{processMessageEditing:function(e){o=e}},4),r.link("./processSetReaction",{processSetReaction:function(e){p=e}},5),r.link("./processSlashCommand",{processSlashCommand:function(e){l=e}},6),r.link("./processTooLongMessage",{processTooLongMessage:function(e){d=e}},7);var n,a,s,i,u,c,o,p,l,d,g=function(e,t,r){return a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return s.removeRoomNotification(t.rid),n.next=3,a.awrap(p(e,t));case 3:if(!n.sent){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,a.awrap(d(e,t));case 7:if(!n.sent){n.next=9;break}return n.abrupt("return");case 9:return n.next=11,a.awrap(o(e,t,r));case 11:if(!n.sent){n.next=13;break}return n.abrupt("return");case 13:return n.next=15,a.awrap(l(e,t));case 15:if(!n.sent){n.next=17;break}return n.abrupt("return");case 17:return n.next=19,a.awrap(i.call("sendMessage",t,r));case 19:case"end":return n.stop()}},null,null,null,Promise)},f=function(e,t){var r,s,i,o,p,l,d,f,b;return a.async(function(x){for(;;)switch(x.prev=x.next){case 0:return r=t.text,s=t.tshow,i=t.previewUrls,x.next=3,a.awrap(e.data.isSubscribedToRoom());case 3:if(x.sent){x.next=13;break}return x.prev=4,x.next=7,a.awrap(e.data.joinRoom());case 7:x.next=13;break;case 9:return x.prev=9,x.t0=x.catch(4),c({type:"error",message:x.t0}),x.abrupt("return",!1);case 13:return e.readStateManager.clearUnreadMark(),x.next=16,a.awrap(e.readStateManager.debouncedMarkAsRead());case 16:if(!(!(r=r.trim())&&!e.currentEditing)){x.next=19;break}return x.abrupt("return",!1);case 19:if(!r){x.next=48;break}if(x.t1=a,x.t2=e.data,x.t3=r,x.t4=s,x.t5=null!==(o=null===(p=e.composer)||void 0===p?void 0:p.quotedMessages.get())&&void 0!==o?o:[],!e.currentEditing){x.next=31;break}return x.next=28,a.awrap(e.data.findMessageByID(e.currentEditing.mid));case 28:x.t6=x.sent,x.next=32;break;case 31:x.t6=null;case 32:return x.t7=x.t6,x.t8={sendToChannel:x.t4,quotedMessages:x.t5,originalMessage:x.t7},x.t9=x.t2.composeMessage.call(x.t2,x.t3,x.t8),x.next=37,x.t1.awrap.call(x.t1,x.t9);case 37:return l=x.sent,x.prev=38,x.next=41,a.awrap(g(e,l,i));case 41:null===(d=e.composer)||void 0===d||d.dismissAllQuotedMessages(),x.next=47;break;case 44:x.prev=44,x.t10=x.catch(38),c({type:"error",message:x.t10});case 47:return x.abrupt("return",!0);case 48:if(!e.currentEditing){x.next=71;break}return x.next=51,a.awrap(e.data.findMessageByID(e.currentEditing.mid));case 51:if(f=x.sent){x.next=55;break}return c({type:"warning",message:u("Message_not_found")}),x.abrupt("return",!1);case 55:return x.prev=55,x.next=58,a.awrap(e.flows.processMessageEditing(n(n({},f),{},{msg:""}),i));case 58:if(!x.sent){x.next=61;break}return e.currentEditing.stop(),x.abrupt("return",!1);case 61:return x.next=63,a.awrap(null===(b=e.currentEditing)||void 0===b?void 0:b.reset());case 63:return x.next=65,a.awrap(e.flows.requestMessageDeletion(f));case 65:return x.abrupt("return",!1);case 68:x.prev=68,x.t11=x.catch(55),c({type:"error",message:x.t11});case 71:return x.abrupt("return",!1);case 72:case"end":return x.stop()}},null,null,[[4,9],[38,44],[55,68]],Promise)}}
//# sourceMappingURL=/dynamic/client/lib/chats/flows/08b4ecdde855ff5a392ddb8640c07aee9bbdf0cd.map
