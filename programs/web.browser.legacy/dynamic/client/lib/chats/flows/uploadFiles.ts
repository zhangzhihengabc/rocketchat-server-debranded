function module(e,n,o){o.link("@babel/runtime/regenerator",{default:function(e){i=e}},0),o.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){t=e}},1),o.export({uploadFiles:function(){return p}}),o.link("@rocket.chat/core-typings",{isRoomFederated:function(e){l=e}},0),o.link("../../../../app/utils/client",{fileUploadIsValidContentType:function(e){r=e}},1),o.link("../../../views/room/modals/FileUploadModal",{default:function(e){a=e}},2),o.link("../../imperativeModal",{imperativeModal:function(e){s=e}},3),o.link("../../utils/prependReplies",{prependReplies:function(e){u=e}},4);var i,t,l,r,a,s,u,p=function(e,n,o){var p,c,d,f,m,v,b;return i.async(function(k){for(;;)switch(k.prev=k.next){case 0:return d=null!==(p=null===(c=e.composer)||void 0===c?void 0:c.quotedMessages.get())&&void 0!==p?p:[],k.next=3,i.awrap(u("",d));case 3:return f=k.sent,k.next=6,i.awrap(e.data.getRoom());case 6:m=k.sent,v=t(n),(b=function(){var n,o,i,t=v.pop();if(!t){null===(i=e.composer)||void 0===i||i.dismissAllQuotedMessages();return}s.open({component:a,props:{file:t,fileName:t.name,fileDescription:null!==(n=null===(o=e.composer)||void 0===o?void 0:o.text)&&void 0!==n?n:"",showDescription:m&&!l(m),onClose:function(){s.close(),b()},onSubmit:function(n,o){var i;Object.defineProperty(t,"name",{writable:!0,value:n}),e.uploads.send(t,{description:o,msg:f}),null===(i=e.composer)||void 0===i||i.clear(),s.close(),b()},invalidContentType:!!(t.type&&!r(t.type))}})})(),null==o||o();case 11:case"end":return k.stop()}},null,null,null,Promise)}}
//# sourceMappingURL=/dynamic/client/lib/chats/flows/48f9b7d6857c93585135b8cbbaf03f57b6362392.map
