)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/lib/createRouteGroup.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { type IRouterPaths, type RouteName, type RouterPathPattern } from '@rocket.chat/ui-contexts';\nimport React, { type ElementType, type ReactNode } from 'react';\n\nimport { router } from '../providers/RouterProvider';\nimport MainLayout from '../views/root/MainLayout';\nimport { appLayout } from './appLayout';\n\ntype GroupName = 'omnichannel' | 'marketplace' | 'account' | 'admin';\n\ntype GroupPrefix<TGroupName extends GroupName> = IRouterPaths[`${TGroupName}-index`]['pattern'];\n\ntype RouteNamesOf<TGroupName extends GroupName> = Extract<\n\t| keyof {\n\t\t\t[TRouteName in RouteName as IRouterPaths[TRouteName]['pattern'] extends `${GroupPrefix<TGroupName>}/${string}`\n\t\t\t\t? TRouteName\n\t\t\t\t: never]: never;\n\t  }\n\t| `${GroupName}-index`,\n\tRouteName\n>;\n\ntype TrimPrefix<T extends string, P extends string> = T extends `${P}${infer U}` ? U : T;\n\nexport const createRouteGroup = <TGroupName extends GroupName>(\n\tname: TGroupName,\n\tprefix: GroupPrefix<TGroupName>,\n\tRouterComponent: ElementType<{\n\t\tchildren?: ReactNode;\n\t}>,\n) => {\n\trouter.defineRoutes([\n\t\t{\n\t\t\tpath: prefix,\n\t\t\tid: `${name}-index`,\n\t\t\telement: appLayout.wrap(\n\t\t\t\t<MainLayout>\n\t\t\t\t\t<RouterComponent />\n\t\t\t\t</MainLayout>,\n\t\t\t),\n\t\t},\n\t]);\n\n\treturn <TRouteName extends RouteNamesOf<TGroupName>>(\n\t\tpath: TrimPrefix<IRouterPaths[TRouteName]['pattern'], GroupPrefix<TGroupName>>,\n\t\t{\n\t\t\tname,\n\t\t\tcomponent: RouteComponent,\n\t\t\tprops,\n\t\t\tready = true,\n\t\t}: {\n\t\t\tname: TRouteName;\n\t\t\tcomponent: ElementType;\n\t\t\tprops?: Record<string, unknown>;\n\t\t\tready?: boolean;\n\t\t},\n\t): [register: () => void, unregister: () => void] => {\n\t\tlet unregister: (() => void) | undefined;\n\n\t\tconst register = () => {\n\t\t\tunregister = router.defineRoutes([\n\t\t\t\t{\n\t\t\t\t\tpath: `${prefix}${path}` as RouterPathPattern,\n\t\t\t\t\tid: name,\n\t\t\t\t\telement: appLayout.wrap(\n\t\t\t\t\t\t<MainLayout>\n\t\t\t\t\t\t\t<RouterComponent>\n\t\t\t\t\t\t\t\t<RouteComponent {...props} />\n\t\t\t\t\t\t\t</RouterComponent>\n\t\t\t\t\t\t</MainLayout>,\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t]);\n\t\t};\n\n\t\tif (ready) {\n\t\t\tregister();\n\t\t}\n\n\t\treturn [register, () => unregister?.()];\n\t};\n};\n",null],"names":["module","export","createRouteGroup","v","React","router","MainLayout","appLayout","name","prefix","RouterComponent","defineRoutes","path","id","element","wrap","createElement","_ref","unregister","RouteComponent","component","props","_ref$ready","ready","register","_unregister"],"mappings":"uBACAA,EAAOC,MAA2C,CAAA,CAAAC,iBAAc,WAAA,OAAAA,CAAA,CAAA,GAAAF,EAAAA,IAAAA,CAAAA,QAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAAJ,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAK,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAL,EAAAA,IAAAA,CAAAA,2BAAAA,CAAA,QAAA,SAAAG,CAAA,EAAAG,EAAAA,CAAA,CAAA,EAAA,GAAAN,EAAAA,IAAAA,CAAAA,cAAAA,CAAAO,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAsBzD,IAtByDH,EAAAC,EAAAC,EAAAC,EAsBnDL,EAAmB,SAC/BM,CAAgB,CAChBC,CAA+B,CAC/BC,CAEE,EAcF,OAZAL,EAAOM,YAAY,CAAC,CACnB,CACCC,KAAMH,EACNI,GAAOL,EAAI,SACXM,QAASP,EAAUQ,IAAI,CACtBX,EAAAY,aAAA,CAACV,EAAU,KACVF,EAAAY,aAAA,CAACN,EAAe,SAInB,EAEM,SACNE,CAA8E,CAAAK,CAAA,EAY3B,IAC/CC,EAXHV,EAAIS,EAAJT,IAAI,CACOW,EAAcF,EAAzBG,SAAS,CACTC,EAAKJ,EAALI,KAAK,CAAAC,EAAAL,EACLM,KAAK,CAUAC,EAAW,WAChBN,EAAab,EAAOM,YAAY,CAAC,CAChC,CACCC,KAAI,GAAKH,EAASG,EAClBC,GAAIL,EACJM,QAASP,EAAUQ,IAAI,CACtBX,EAAAY,aAAA,CAACV,EAAU,KACVF,EAAAY,aAAA,CAACN,EAAe,KACfN,EAAAY,aAAA,CAACG,EAAmBE,OAKxB,CACF,EAMA,MA9BMC,CAAAA,AAAA,KAAA,IAAAA,GAAOA,CAAA,GA2BZE,IAGM,CAACA,EAAU,WAAA,IAAAC,EAAA,OAAA,AAAgB,OAAhBA,CAAAA,EAAMP,CAAAA,GAAUO,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAVA,GAAc,EAAC,AACxC,CACD"}