)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/user-status/client/lib/customUserStatus.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Tracker } from 'meteor/tracker';\n\nimport { sdk } from '../../../utils/client/lib/SDKClient';\nimport { userStatus } from './userStatus';\n\nuserStatus.packages.customUserStatus = {\n\tlist: [],\n};\n\nexport const deleteCustomUserStatus = function (customUserStatusData) {\n\tdelete userStatus.list[customUserStatusData._id];\n\n\tconst arrayIndex = userStatus.packages.customUserStatus.list.indexOf(customUserStatusData._id);\n\tif (arrayIndex !== -1) {\n\t\tuserStatus.packages.customUserStatusData.list.splice(arrayIndex, 1);\n\t}\n};\n\nexport const updateCustomUserStatus = function (customUserStatusData) {\n\tconst newUserStatus = {\n\t\tname: customUserStatusData.name,\n\t\tid: customUserStatusData._id,\n\t\tstatusType: customUserStatusData.statusType,\n\t\tlocalizeName: false,\n\t};\n\n\tconst arrayIndex = userStatus.packages.customUserStatus.list.indexOf(newUserStatus.id);\n\tif (arrayIndex === -1) {\n\t\tuserStatus.packages.customUserStatus.list.push(newUserStatus);\n\t} else {\n\t\tuserStatus.packages.customUserStatus.list[arrayIndex] = newUserStatus;\n\t}\n\n\tuserStatus.list[newUserStatus.id] = newUserStatus;\n};\n\nMeteor.startup(() => {\n\tTracker.autorun(() => {\n\t\tif (!Meteor.userId()) {\n\t\t\treturn;\n\t\t}\n\n\t\tvoid sdk.call('listCustomUserStatus').then((result) => {\n\t\t\tif (!result) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (const customStatus of result) {\n\t\t\t\tconst newUserStatus = {\n\t\t\t\t\tname: customStatus.name,\n\t\t\t\t\tid: customStatus._id,\n\t\t\t\t\tstatusType: customStatus.statusType,\n\t\t\t\t\tlocalizeName: false,\n\t\t\t\t};\n\n\t\t\t\tuserStatus.packages.customUserStatus.list.push(newUserStatus);\n\t\t\t\tuserStatus.list[newUserStatus.id] = newUserStatus;\n\t\t\t}\n\t\t});\n\t});\n});\n",null],"names":["module","link","default","v","_createForOfIteratorHelperLoose","export","deleteCustomUserStatus","updateCustomUserStatus","Meteor","Tracker","sdk","userStatus","packages","customUserStatus","list","customUserStatusData","_id","arrayIndex","indexOf","splice","newUserStatus","name","id","statusType","localizeName","push","startup","autorun","userId","call","then","result","_step","_iterator","done","customStatus","value"],"mappings":"uBAAoCA,EAAOC,IAAI,CAAC,wDAAwD,CAACC,QAAQ,SAASC,CAAC,EAAEC,EAAgCD,CAAC,CAAC,EAAE,GAAjKH,EAAOK,MAAM,CAAC,CAACC,uBAAuB,WAAW,OAAOA,CAAsB,EAAEC,uBAAuB,WAAW,OAAOA,CAAsB,CAAC,GAAcP,EAAOC,IAAI,CAAC,gBAAgB,CAACO,OAAO,SAASL,CAAC,EAAEK,EAAOL,CAAC,CAAC,EAAE,GAAeH,EAAOC,IAAI,CAAC,iBAAiB,CAACQ,QAAQ,SAASN,CAAC,EAAEM,EAAQN,CAAC,CAAC,EAAE,GAAWH,EAAOC,IAAI,CAAC,sCAAsC,CAACS,IAAI,SAASP,CAAC,EAAEO,EAAIP,CAAC,CAAC,EAAE,GAAkBH,EAAOC,IAAI,CAAC,eAAe,CAACU,WAAW,SAASR,CAAC,EAAEQ,EAAWR,CAAC,CAAC,EAAE,GAMhdQ,EAAWC,QAAQ,CAACC,gBAAgB,CAAG,CACtCC,KAAM,EAAA,AACP,EAEO,IAVHV,EAAmJI,EAAyEC,EAA6EC,EAAsFC,EAUtXL,EAAyB,SAAUS,CAAoB,EACnE,OAAOJ,EAAWG,IAAI,CAACC,EAAqBC,GAAG,CAAC,CAEhD,IAAMC,EAAaN,EAAWC,QAAQ,CAACC,gBAAgB,CAACC,IAAI,CAACI,OAAO,CAACH,EAAqBC,GAAG,CAC1E,CAAA,KAAfC,GACHN,EAAWC,QAAQ,CAACG,oBAAoB,CAACD,IAAI,CAACK,MAAM,CAACF,EAAY,EAEnE,EAEaV,EAAyB,SAAUQ,CAAoB,EACnE,IAAMK,EAAgB,CACrBC,KAAMN,EAAqBM,IAAI,CAC/BC,GAAIP,EAAqBC,GAAG,CAC5BO,WAAYR,EAAqBQ,UAAU,CAC3CC,aAAc,CAAA,CACf,EAEMP,EAAaN,EAAWC,QAAQ,CAACC,gBAAgB,CAACC,IAAI,CAACI,OAAO,CAACE,EAAcE,EAAE,CACjFL,AAAe,CAAA,KAAfA,EACHN,EAAWC,QAAQ,CAACC,gBAAgB,CAACC,IAAI,CAACW,IAAI,CAACL,GAE/CT,EAAWC,QAAQ,CAACC,gBAAgB,CAACC,IAAI,CAACG,EAAW,CAAGG,EAGzDT,EAAWG,IAAI,CAACM,EAAcE,EAAE,CAAC,CAAGF,CACrC,EAEAZ,EAAOkB,OAAO,CAAC,WACdjB,EAAQkB,OAAO,CAAC,WACVnB,EAAOoB,MAAM,IAIblB,EAAImB,IAAI,CAAC,wBAAwBC,IAAI,CAAC,SAACC,CAAM,EACjD,GAAKA,EAIL,IAAA,IAAiCC,EAAjCC,EAAA7B,EAA2B2B,GAAM,CAAA,AAAAC,CAAAA,EAAAC,GAAA,EAAAC,IAAA,EAAE,CAAA,IAAxBC,EAAYH,EAAAI,KAAA,CAChBhB,EAAgB,CACrBC,KAAMc,EAAad,IAAI,CACvBC,GAAIa,EAAanB,GAAG,CACpBO,WAAYY,EAAaZ,UAAU,CACnCC,aAAc,CAAA,CACf,EAEAb,EAAWC,QAAQ,CAACC,gBAAgB,CAACC,IAAI,CAACW,IAAI,CAACL,GAC/CT,EAAWG,IAAI,CAACM,EAAcE,EAAE,CAAC,CAAGF,CACrC,CACD,EACD,EACD"}