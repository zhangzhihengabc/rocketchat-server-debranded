)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/reactions/client/init.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Meteor } from 'meteor/meteor';\n\nimport { roomCoordinator } from '../../../client/lib/rooms/roomCoordinator';\nimport { messageArgs } from '../../../client/lib/utils/messageArgs';\nimport { MessageAction } from '../../ui-utils/client';\nimport { sdk } from '../../utils/client/lib/SDKClient';\n\nMeteor.startup(() => {\n\tMessageAction.addButton({\n\t\tid: 'reaction-message',\n\t\ticon: 'add-reaction',\n\t\tlabel: 'Add_Reaction',\n\t\tcontext: ['message', 'message-mobile', 'threads', 'federated', 'videoconf', 'videoconf-threads'],\n\t\taction(event, props) {\n\t\t\tconst { message = messageArgs(this).msg, chat } = props;\n\t\t\tevent.stopPropagation();\n\t\t\tchat?.emojiPicker.open(event.currentTarget! as Element, (emoji) => sdk.call('setReaction', `:${emoji}:`, message._id));\n\t\t},\n\t\tcondition({ message, user, room, subscription }) {\n\t\t\tif (!room) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!subscription) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (message.private) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (roomCoordinator.readOnly(room._id, user!) && !room.reactWhenReadOnly) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst isLivechatRoom = roomCoordinator.isLivechatRoom(room.t);\n\t\t\tif (isLivechatRoom) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\t\torder: -3,\n\t\tgroup: 'message',\n\t});\n});\n",null],"names":["Meteor","roomCoordinator","messageArgs","MessageAction","sdk","module","link","startup","addButton","id","icon","label","context","action","event","props","_props$message","message","msg","chat","stopPropagation","emojiPicker","open","currentTarget","emoji","call","_id","condition","_ref","user","room","subscription","private","readOnly","reactWhenReadOnly","isLivechatRoom","t","order","group"],"mappings":"2BAAAA,EAAuCC,EAAAC,EAAAC,EAAAC,EAA9BC,EAAQC,IAAA,CAAM,gBAAgB,CAAAN,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,4CAAAA,CAAAJ,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,wCAAAA,CAAAH,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAF,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAD,IAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAOvCJ,EAAOO,OAAO,CAAC,WACdJ,EAAcK,SAAS,CAAC,CACvBC,GAAI,mBACJC,KAAM,eACNC,MAAO,eACPC,QAAS,CAAC,UAAW,iBAAkB,UAAW,YAAa,YAAa,oBAAoB,CAChGC,OAAM,SAACC,CAAK,CAAEC,CAAK,EAClB,IAAAC,EAAkDD,EAA1CE,OAAO,CAAPA,EAAOD,AAAA,KAAA,IAAAA,EAAGd,EAAY,IAAI,EAAEgB,GAAG,CAAAF,EAAEG,EAASJ,EAATI,IAAI,CAC7CL,EAAMM,eAAe,GACrBD,MAAAA,GAAAA,EAAME,WAAW,CAACC,IAAI,CAACR,EAAMS,aAAyB,CAAE,SAACC,CAAK,EAAA,OAAKpB,EAAIqB,IAAI,CAAC,cAAa,IAAMD,EAAK,IAAKP,EAAQS,GAAG,CAAC,EACtH,EACAC,UAAS,SAAAC,CAAA,EAAsC,IAAnCX,EAAOW,EAAPX,OAAO,CAAEY,EAAID,EAAJC,IAAI,CAAEC,EAAIF,EAAJE,IAAI,CAAEC,EAAYH,EAAZG,YAAY,OAC5C,EAAI,CAACD,GAID,CAACC,GAIDd,EAAQe,OAAO,EAIf/B,EAAgBgC,QAAQ,CAACH,EAAKJ,GAAG,CAAEG,IAAU,CAACC,EAAKI,iBAAiB,IAGjDjC,EAAgBkC,cAAc,CAACL,EAAKM,CAAC,CAM7D,EACAC,MAAO,GACPC,MAAO,WAET"}