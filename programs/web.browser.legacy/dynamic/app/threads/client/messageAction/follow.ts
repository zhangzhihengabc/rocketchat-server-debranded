function module(e,n,t){var i,o,r,l,s,a,u,c,d,f;t.link("@babel/runtime/regenerator",{default:function(e){i=e}},0),t.link("meteor/meteor",{Meteor:function(e){o=e}},0),t.link("meteor/tracker",{Tracker:function(e){r=e}},1),t.link("../../../../client/lib/rooms/roomCoordinator",{roomCoordinator:function(e){l=e}},2),t.link("../../../../client/lib/toast",{dispatchToastMessage:function(e){s=e}},3),t.link("../../../../client/lib/utils/callWithErrorHandling",{callWithErrorHandling:function(e){a=e}},4),t.link("../../../models/client",{Messages:function(e){u=e}},5),t.link("../../../settings/client",{settings:function(e){c=e}},6),t.link("../../../ui-utils/client",{MessageAction:function(e){d=e}},7),t.link("../../../utils/lib/i18n",{t:function(e){f=e}},8),o.startup(function(){r.autorun(function(){if(!c.get("Threads_enabled"))return d.removeButton("follow-message");d.addButton({id:"follow-message",icon:"bell",label:"Follow_message",type:"interaction",context:["message","message-mobile","threads","federated","videoconf","videoconf-threads"],action:function(e,n){var t;return i.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.message){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,i.awrap(a("followMessage",{mid:t._id}).then(function(){return s({type:"success",message:f("You_followed_this_message")})}));case 5:case"end":return e.stop()}},null,null,null,Promise)},condition:function(e){var n=e.message,t=n._id,i=n.tmid,o=n.replies,r=void 0===o?[]:o,s=e.room,a=e.user,c=e.context;if(i||c){var d=u.findOne({_id:i||t},{fields:{replies:1}});d&&(r=d.replies||[])}return!l.isLivechatRoom(s.t)&&null!=a&&!!a._id&&!r.includes(a._id)},order:1,group:"menu"})})})}
//# sourceMappingURL=/dynamic/app/threads/client/messageAction/828e7eacfeb66fe2ce5df0c8c8bbfb1ec1e3357a.map
