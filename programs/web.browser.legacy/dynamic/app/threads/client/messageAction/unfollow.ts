function module(e,n,t){var i,o,s,l,r,a,u,c,d;t.link("@babel/runtime/regenerator",{default:function(e){i=e}},0),t.link("meteor/meteor",{Meteor:function(e){o=e}},0),t.link("meteor/tracker",{Tracker:function(e){s=e}},1),t.link("../../../../client/lib/toast",{dispatchToastMessage:function(e){l=e}},2),t.link("../../../../client/lib/utils/callWithErrorHandling",{callWithErrorHandling:function(e){r=e}},3),t.link("../../../models/client",{Messages:function(e){a=e}},4),t.link("../../../settings/client",{settings:function(e){u=e}},5),t.link("../../../ui-utils/client",{MessageAction:function(e){c=e}},6),t.link("../../../utils/lib/i18n",{t:function(e){d=e}},7),o.startup(function(){s.autorun(function(){if(!u.get("Threads_enabled"))return c.removeButton("unfollow-message");c.addButton({id:"unfollow-message",icon:"bell-off",label:"Unfollow_message",type:"interaction",context:["message","message-mobile","threads","federated","videoconf","videoconf-threads"],action:function(e,n){var t;return i.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.message){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,i.awrap(r("unfollowMessage",{mid:t._id}));case 5:l({type:"success",message:d("You_unfollowed_this_message")});case 6:case"end":return e.stop()}},null,null,null,Promise)},condition:function(e){var n=e.message,t=n._id,i=n.tmid,o=n.replies,s=void 0===o?[]:o,l=e.user,r=e.context;if(i||r){var u=a.findOne({_id:i||t},{fields:{replies:1}});u&&(s=u.replies||[])}return null!=l&&!!l._id&&s.includes(l._id)},order:2,group:"menu"})})})}
//# sourceMappingURL=/dynamic/app/threads/client/messageAction/4ae249c3d6d9cc89c4dde56064d87aef02eb99e4.map
