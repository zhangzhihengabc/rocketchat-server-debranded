)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/threads/client/messageAction/replyInThread.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Tracker } from 'meteor/tracker';\n\nimport { roomCoordinator } from '../../../../client/lib/rooms/roomCoordinator';\nimport { messageArgs } from '../../../../client/lib/utils/messageArgs';\nimport { router } from '../../../../client/providers/RouterProvider';\nimport { settings } from '../../../settings/client';\nimport { MessageAction } from '../../../ui-utils/client';\n\nMeteor.startup(() => {\n\tTracker.autorun(() => {\n\t\tif (!settings.get('Threads_enabled')) {\n\t\t\treturn MessageAction.removeButton('reply-in-thread');\n\t\t}\n\t\tMessageAction.addButton({\n\t\t\tid: 'reply-in-thread',\n\t\t\ticon: 'thread',\n\t\t\tlabel: 'Reply_in_thread',\n\t\t\tcontext: ['message', 'message-mobile', 'federated', 'videoconf'],\n\t\t\taction(e, props) {\n\t\t\t\tconst { message = messageArgs(this).msg } = props;\n\t\t\t\te.stopPropagation();\n\t\t\t\trouter.navigate({\n\t\t\t\t\tname: router.getRouteName()!,\n\t\t\t\t\tparams: {\n\t\t\t\t\t\t...router.getRouteParameters(),\n\t\t\t\t\t\ttab: 'thread',\n\t\t\t\t\t\tcontext: message.tmid || message._id,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t},\n\t\t\tcondition({ subscription, room }) {\n\t\t\t\tconst isLivechatRoom = roomCoordinator.isLivechatRoom(room.t);\n\t\t\t\tif (isLivechatRoom) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn Boolean(subscription);\n\t\t\t},\n\t\t\torder: -1,\n\t\t\tgroup: 'message',\n\t\t});\n\t});\n});\n",null],"names":["_objectSpread","Meteor","Tracker","roomCoordinator","messageArgs","router","settings","MessageAction","module","link","default","startup","autorun","get","removeButton","addButton","id","icon","label","context","action","e","props","_props$message","message","msg","stopPropagation","navigate","name","getRouteName","params","getRouteParameters","tab","tmid","_id","condition","_ref","subscription","room","isLivechatRoom","t","Boolean","order","group"],"mappings":"2BAAAA,EAAAC,EAAuCC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAtBC,EAAMC,IAAA,CAAA,uCAAgB,CAAAC,QAAAA,SAAAA,CAAAA,EAAAV,EAAAA,CAAA,CAAA,EAAA,GAA9BQ,EAAQC,IAAA,CAAM,gBAAgB,CAAAR,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,iBAAAA,CAAAN,QAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,+CAAAA,CAAAL,gBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,2CAAAA,CAAAJ,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,8CAAAA,CAAAH,OAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAF,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAD,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GASvCN,EAAOU,OAAO,CAAC,WACdT,EAAQU,OAAO,CAAC,WACf,GAAI,CAACN,EAASO,GAAG,CAAC,mBACjB,OAAON,EAAcO,YAAY,CAAC,mBAEnCP,EAAcQ,SAAS,CAAC,CACvBC,GAAI,kBACJC,KAAM,SACNC,MAAO,kBACPC,QAAS,CAAC,UAAW,iBAAkB,YAAa,YAAY,CAChEC,OAAM,SAACC,CAAC,CAAEC,CAAK,EACd,IAAAC,EAA4CD,EAApCE,OAAO,CAAPA,EAAOD,AAAA,KAAA,IAAAA,EAAGnB,EAAY,IAAI,EAAEqB,GAAG,CAAAF,EACvCF,EAAEK,eAAe,GACjBrB,EAAOsB,QAAQ,CAAC,CACfC,KAAMvB,EAAOwB,YAAY,GACzBC,OAAM9B,EAAAA,EAAA,CAAA,EACFK,EAAO0B,kBAAkB,IAAE,CAAA,EAAA,CAC9BC,IAAK,SACLb,QAASK,EAAQS,IAAI,EAAIT,EAAQU,GAAAA,AAAG,IAGvC,EACAC,UAAS,SAAAC,CAAA,EAAuB,IAApBC,EAAYD,EAAZC,YAAY,CAAEC,EAAIF,EAAJE,IAAI,OAE7B,CADuBnC,EAAgBoC,cAAc,CAACD,EAAKE,CAAC,GAIrDC,CAAAA,CAAQJ,CAChB,EACAK,MAAO,GACPC,MAAO,WAET,EACD"}