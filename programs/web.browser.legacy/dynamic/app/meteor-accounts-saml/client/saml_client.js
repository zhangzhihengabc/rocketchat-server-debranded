function module(e,n,o){o.link("@babel/runtime/regenerator",{default:function(e){t=e}},0),o.link("@rocket.chat/random",{Random:function(e){i=e}},0),o.link("meteor/accounts-base",{Accounts:function(e){r=e}},1),o.link("meteor/meteor",{Meteor:function(e){l=e}},2),o.link("meteor/service-configuration",{ServiceConfiguration:function(e){a=e}},3),o.link("../../utils/client/lib/SDKClient",{sdk:function(e){c=e}},4),r.saml||(r.saml={});var t,i,r,l,a,c,u=l.logout,s={TERMINATE_SAML:"SAML",ONLY_RC:"Local"};l.logout=function(){var e,n,o,i,r,c=arguments;return t.async(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t.awrap(a.configurations.findOneAsync({service:"saml"}));case 2:if(!(e=d.sent)||!(n=e.clientConfig&&e.clientConfig.provider)){d.next=11;break}if(!(null==e.logoutBehaviour||e.logoutBehaviour===s.TERMINATE_SAML)||!e.idpSLORedirectURL){d.next=10;break}return console.info("SAML session terminated via SLO"),d.abrupt("return",l.logoutWithSaml({provider:n}));case 10:e.logoutBehaviour===s.ONLY_RC&&console.info("SAML session not terminated, only the Rocket.Chat session is going to be killed");case 11:for(i=Array(o=c.length),r=0;r<o;r++)i[r]=c[r];return d.abrupt("return",u.apply(l,i));case 13:case"end":return d.stop()}},null,null,null,Promise)},l.loginWithSaml=function(e){e=e||{};var n="id-"+i.id();e.credentialToken=n,window.location.href="_saml/authorize/"+e.provider+"/"+e.credentialToken},l.logoutWithSaml=function(e){c.call("samlLogout",e.provider).then(function(n){if(!n){u.apply(l);return}l._localStorage.removeItem(r.USER_ID_KEY),window.location.replace(l.absoluteUrl("_saml/sloRedirect/"+e.provider+"/?redirect="+encodeURIComponent(n)))}).catch(function(){return u.apply(l)})},l.loginWithSamlToken=function(e,n){r.callLoginMethod({methodArguments:[{saml:!0,credentialToken:e}],userCallback:n})}}
//# sourceMappingURL=/dynamic/app/meteor-accounts-saml/client/e1c0d080b09c95011b06af128956de3db73ac6ca.map
