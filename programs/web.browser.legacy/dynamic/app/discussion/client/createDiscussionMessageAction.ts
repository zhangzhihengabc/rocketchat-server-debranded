function module(i,n,o){var t,e,s,r,u,c,a,l,d,m;o.link("@babel/runtime/regenerator",{default:function(i){t=i}},0),o.link("meteor/meteor",{Meteor:function(i){e=i}},0),o.link("meteor/tracker",{Tracker:function(i){s=i}},1),o.link("../../../client/components/CreateDiscussion/CreateDiscussion",{default:function(i){r=i}},2),o.link("../../../client/lib/imperativeModal",{imperativeModal:function(i){u=i}},3),o.link("../../../client/lib/rooms/roomCoordinator",{roomCoordinator:function(i){c=i}},4),o.link("../../../client/lib/utils/messageArgs",{messageArgs:function(i){a=i}},5),o.link("../../authorization/client",{hasPermission:function(i){l=i}},6),o.link("../../settings/client",{settings:function(i){d=i}},7),o.link("../../ui-utils/client",{MessageAction:function(i){m=i}},8),e.startup(function(){s.autorun(function(){if(!d.get("Discussion_enabled"))return m.removeButton("start-discussion");m.addButton({id:"start-discussion",icon:"discussion",label:"Discussion_start",type:"communication",context:["message","message-mobile","videoconf"],action:function(i,n){var o,e,s,c;return t.async(function(i){for(;;)switch(i.prev=i.next){case 0:s=void 0===(e=n.message)?a(this).msg:e,c=n.room,u.open({component:r,props:{defaultParentRoom:(null==c?void 0:c.prid)||(null==c?void 0:c._id),onClose:u.close,parentMessageId:s._id,nameSuggestion:null==s?void 0:null===(o=s.msg)||void 0===o?void 0:o.substr(0,140)}});case 2:case"end":return i.stop()}},null,this,null,Promise)},condition:function(i){var n=i.message,o=n.u._id,t=n.drid,e=n.dcount,s=i.room,r=i.subscription,u=i.user;return!!(!t&&Number.isNaN(e))&&!!r&&!c.isLivechatRoom(s.t)&&!!u&&(o!==u._id?l("start-discussion-other-user",s._id):l("start-discussion",s._id))},order:1,group:"menu"})})})}
//# sourceMappingURL=/dynamic/app/discussion/client/33ce83fd9f9f19e17ca0f10e84e6798a65b2dbf8.map
