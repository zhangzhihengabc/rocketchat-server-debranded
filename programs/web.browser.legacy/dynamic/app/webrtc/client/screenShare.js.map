)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/webrtc/client/screenShare.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { fireGlobalEvent } from '../../../client/lib/utils/fireGlobalEvent';\n\nexport const ChromeScreenShare = {\n\tcallbacks: {},\n\tinstalled: false,\n\tinit() {\n\t\tthis.callbacks['get-RocketChatScreenSharingExtensionVersion'] = (version) => {\n\t\t\tif (version) {\n\t\t\t\tthis.installed = true;\n\t\t\t}\n\t\t};\n\t\twindow.postMessage('get-RocketChatScreenSharingExtensionVersion', '*');\n\t},\n\tgetSourceId(navigator, callback) {\n\t\tif (callback == null) {\n\t\t\tthrow new Error('\"callback\" parameter is mandatory.');\n\t\t}\n\t\tthis.callbacks.getSourceId = callback;\n\t\tif (navigator === 'electron') {\n\t\t\treturn fireGlobalEvent('get-sourceId', '*');\n\t\t}\n\t\treturn window.postMessage('get-sourceId', '*');\n\t},\n};\n\nChromeScreenShare.init();\n\nwindow.addEventListener('message', (e) => {\n\tif (e.origin !== window.location.origin) {\n\t\treturn;\n\t}\n\tif (e.data === 'PermissionDeniedError') {\n\t\tif (ChromeScreenShare.callbacks.getSourceId != null) {\n\t\t\treturn ChromeScreenShare.callbacks.getSourceId('PermissionDeniedError');\n\t\t}\n\t\tthrow new Error('PermissionDeniedError');\n\t}\n\tif (e.data.version != null) {\n\t\tChromeScreenShare.callbacks['get-RocketChatScreenSharingExtensionVersion'] &&\n\t\t\tChromeScreenShare.callbacks['get-RocketChatScreenSharingExtensionVersion'](e.data.version);\n\t} else if (e.data.sourceId != null) {\n\t\treturn typeof ChromeScreenShare.callbacks.getSourceId === 'function' && ChromeScreenShare.callbacks.getSourceId(e.data.sourceId);\n\t}\n});\n",null],"names":["module","export","ChromeScreenShare","link","fireGlobalEvent","v","callbacks","installed","init","_this","version","window","postMessage","getSourceId","navigator","callback","Error","addEventListener","e","origin","location","data","sourceId"],"mappings":"uBAAAA,EAAOC,MAAM,CAAC,CAACC,kBAAkB,WAAW,OAAOA,CAAiB,CAAC,GAAuBF,EAAOG,IAAI,CAAC,4CAA4C,CAACC,gBAAgB,SAASC,CAAC,EAAED,EAAgBC,CAAC,CAAC,EAAE,GAE9L,IAFqED,EAE/DF,EAAoB,CAChCI,UAAW,CAAC,EACZC,UAAW,CAAA,EACXC,KAAI,WAAG,IAAAC,EAAA,IAAA,AACN,CAAA,IAAI,CAACH,SAAS,CAAC,8CAA8C,CAAG,SAACI,CAAO,EACnEA,GACHD,CAAAA,EAAKF,SAAS,CAAG,CAAA,CAAA,CAEnB,EACAI,OAAOC,WAAW,CAAC,8CAA+C,IACnE,EACAC,YAAW,SAACC,CAAS,CAAEC,CAAQ,EAC9B,GAAIA,AAAY,MAAZA,EACH,MAAM,AAAIC,MAAM,4CAGjB,CADA,IAAI,CAACV,SAAS,CAACO,WAAW,CAAGE,EACzBD,AAAc,aAAdA,GACIV,EAAgB,eAAgB,KAEjCO,OAAOC,WAAW,CAAC,eAAgB,IAC3C,CACD,EAEAV,EAAkBM,IAAI,GAEtBG,OAAOM,gBAAgB,CAAC,UAAW,SAACC,CAAC,EACpC,GAAIA,EAAEC,MAAM,GAAKR,OAAOS,QAAQ,CAACD,MAAM,EAGvC,GAAID,AAAW,0BAAXA,EAAEG,IAAI,CAA8B,CACvC,GAAInB,AAA2C,MAA3CA,EAAkBI,SAAS,CAACO,WAAW,CAC1C,OAAOX,EAAkBI,SAAS,CAACO,WAAW,CAAC,wBAEhD,OAAM,AAAIG,MAAM,wBACjB,CACA,GAAIE,AAAkB,MAAlBA,EAAEG,IAAI,CAACX,OAAO,CACjBR,EAAkBI,SAAS,CAAC,8CAA8C,EACzEJ,EAAkBI,SAAS,CAAC,8CAA8C,CAACY,EAAEG,IAAI,CAACX,OAAO,OACpF,GAAIQ,AAAmB,MAAnBA,EAAEG,IAAI,CAACC,QAAQ,CACzB,MAAO,AAAmD,YAAnD,OAAOpB,EAAkBI,SAAS,CAACO,WAAW,EAAmBX,EAAkBI,SAAS,CAACO,WAAW,CAACK,EAAEG,IAAI,CAACC,QAAQ,EAEjI"}