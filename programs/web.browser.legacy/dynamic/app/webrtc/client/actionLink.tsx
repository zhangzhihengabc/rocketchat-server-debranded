function module(n,e,t){var i,l,a,o,r,c,d;t.link("@babel/runtime/regenerator",{default:function(n){i=n}},0),t.link("../../../client/lib/actionLinks",{actionLinks:function(n){l=n}},0),t.link("../../../client/lib/toast",{dispatchToastMessage:function(n){a=n}},1),t.link("../../models/client",{ChatRoom:function(n){o=n}},2),t.link("../../notifications/client",{Notifications:function(n){r=n}},3),t.link("../../utils/client/lib/SDKClient",{sdk:function(n){c=n}},4),t.link("../../utils/lib/i18n",{t:function(n){d=n}},5),l.register("joinLivechatWebRTCCall",function(n){var e=o.findOne({_id:n.rid});if(!e)throw Error("Room not found");var t=e.callStatus,i=e._id;if("declined"===t||"ended"===t){a({type:"info",message:d("Call_Already_Ended")});return}window.open("/meet/"+i,i)}),l.register("endLivechatWebRTCCall",function(n){var e,t,l;return i.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(e=o.findOne({_id:n.rid})){s.next=3;break}throw Error("Room not found");case 3:if(t=e.callStatus,l=e._id,!("declined"===t||"ended"===t)){s.next=7;break}return a({type:"info",message:d("Call_Already_Ended")}),s.abrupt("return");case 7:return s.next=9,i.awrap(c.rest.put("/v1/livechat/webrtc.call/"+n._id,{rid:l,status:"ended"}));case 9:r.notifyRoom(l,"webrtc","callStatus",{callStatus:"ended"});case 10:case"end":return s.stop()}},null,null,null,Promise)})}
//# sourceMappingURL=/dynamic/app/webrtc/client/a1e460f674e2e2d003fb97295a5b11846b4151b3.map
