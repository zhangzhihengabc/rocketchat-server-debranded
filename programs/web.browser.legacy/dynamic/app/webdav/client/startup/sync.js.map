)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/webdav/client/startup/sync.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Tracker } from 'meteor/tracker';\n\nimport { WebdavAccounts } from '../../../models/client';\nimport { Notifications } from '../../../notifications/client';\nimport { sdk } from '../../../utils/client/lib/SDKClient';\n\nconst events = {\n\tchanged: (account) => WebdavAccounts.upsert({ _id: account._id }, account),\n\tremoved: ({ _id }) => WebdavAccounts.remove({ _id }),\n};\n\nTracker.autorun(async () => {\n\tif (!Meteor.userId()) {\n\t\treturn;\n\t}\n\tconst { accounts } = await sdk.rest.get('/v1/webdav.getMyAccounts');\n\taccounts.forEach((account) => WebdavAccounts.insert(account));\n\tNotifications.onUser('webdav', ({ type, account }) => events[type](account));\n});\n",null],"names":["module","link","default","v","_regeneratorRuntime","Meteor","Tracker","WebdavAccounts","Notifications","sdk","events","changed","account","upsert","_id","removed","_ref","remove","autorun","async","_context","prev","next","userId","abrupt","awrap","rest","get","accounts","_await$sdk$rest$get","sent","forEach","insert","onUser","_ref2","type","stop","Promise"],"mappings":"uBAAwBA,EAAOC,IAAI,CAAC,6BAA6B,CAACC,QAAQ,SAASC,CAAC,EAAEC,EAAoBD,CAAC,CAAC,EAAE,GAAnGH,EAAOC,IAAI,CAAC,gBAAgB,CAACI,OAAO,SAASF,CAAC,EAAEE,EAAOF,CAAC,CAAC,EAAE,GAAeH,EAAOC,IAAI,CAAC,iBAAiB,CAACK,QAAQ,SAASH,CAAC,EAAEG,EAAQH,CAAC,CAAC,EAAE,GAAsBH,EAAOC,IAAI,CAAC,yBAAyB,CAACM,eAAe,SAASJ,CAAC,EAAEI,EAAeJ,CAAC,CAAC,EAAE,GAAqBH,EAAOC,IAAI,CAAC,gCAAgC,CAACO,cAAc,SAASL,CAAC,EAAEK,EAAcL,CAAC,CAAC,EAAE,GAAWH,EAAOC,IAAI,CAAC,sCAAsC,CAACQ,IAAI,SAASN,CAAC,EAAEM,EAAIN,CAAC,CAAC,EAAE,GAOjc,IAPIC,EAAAC,EAAyEC,EAA6EC,EAA0GC,EAA8GC,EAO5WC,EAAS,CACdC,QAAS,SAACC,CAAO,EAAA,OAAKL,EAAeM,MAAM,CAAC,CAAEC,IAAKF,EAAQE,GAAAA,AAAI,EAAGF,EAAQ,EAC1EG,QAAS,SAAAC,CAAA,EAAA,IAAGF,EAAGE,EAAHF,GAAG,CAAA,OAAOP,EAAeU,MAAM,CAAC,CAAEH,IAAAA,CAAI,EAAE,CACrD,EAEAR,EAAQY,OAAO,CAAC,WAAA,OAAAd,EAAAe,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAA,GACVjB,EAAOkB,MAAM,GAAE,CAAAH,EAAAE,IAAA,CAAA,EAAA,KAAA,CAAA,OAAAF,EAAAI,MAAA,CAAA,SAAA,MAAA,EAAA,OAAAJ,EAAAE,IAAA,CAAA,EAAAlB,EAAAqB,KAAA,CAGOhB,EAAIiB,IAAI,CAACC,GAAG,CAAC,4BAA2B,MAAA,EACnEC,AADgBC,AAAmDT,EAAAU,IAAA,CAA3DF,QAAQ,CACPG,OAAO,CAAC,SAACnB,CAAO,EAAA,OAAKL,EAAeyB,MAAM,CAACpB,EAAQ,GAC5DJ,EAAcyB,MAAM,CAAC,SAAU,SAAAC,CAAA,EAAA,IAAGC,EAAID,EAAJC,IAAI,CAAEvB,EAAOsB,EAAPtB,OAAO,CAAA,OAAOF,CAAM,CAACyB,EAAK,CAACvB,EAAQ,EAAE,MAAA,EAAA,IAAA,MAAA,OAAAQ,EAAAgB,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,KAAAC,QAAA"}