)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/iframe-login/client/iframe_client.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Accounts } from 'meteor/accounts-base';\n\nimport { IframeLogin } from '../../ui-utils/client';\n\nconst iframeLogin = new IframeLogin();\n\nconst { _unstoreLoginToken } = Accounts;\nAccounts._unstoreLoginToken = function (...args) {\n\tiframeLogin.tryLogin();\n\t_unstoreLoginToken.apply(Accounts, args);\n};\n\nwindow.addEventListener('message', (e) => {\n\tif (!(typeof e.data === 'function' || (typeof e.data === 'object' && !!e.data))) {\n\t\treturn;\n\t}\n\n\tswitch (e.data.event) {\n\t\tcase 'try-iframe-login':\n\t\t\tiframeLogin.tryLogin((error) => {\n\t\t\t\tif (error) {\n\t\t\t\t\te.source?.postMessage(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tevent: 'login-error',\n\t\t\t\t\t\t\tresponse: error.message,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ targetOrigin: e.origin },\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t\tbreak;\n\n\t\tcase 'login-with-token':\n\t\t\tiframeLogin.loginWithToken(e.data, (error) => {\n\t\t\t\tif (error) {\n\t\t\t\t\te.source?.postMessage(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tevent: 'login-error',\n\t\t\t\t\t\t\tresponse: error.message,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ targetOrigin: e.origin },\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t\tbreak;\n\t}\n});\n",null],"names":["module","link","default","_typeof","Accounts","IframeLogin","iframeLogin","_unstoreLoginToken","_Accounts","tryLogin","_len","arguments","length","args","Array","_key","apply","window","addEventListener","e","data","event","error","_e$source","source","postMessage","response","message","targetOrigin","origin","loginWithToken","_e$source2"],"mappings":"uBAASA,EAAUC,IAAAA,CAAAA,gCAA6B,CAAAC,QAAAA,SAAAA,CAAAA,EAAAC,EAAAA,CAAA,CAAA,EAAA,GAAvCH,EAAUC,IAAA,CAAM,uBAAuB,CAAAG,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAJ,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAK,YAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAIhD,IAJAF,EAAAC,EAAgDC,EAI1CC,EAAc,IAAID,EAEhBE,EAAkBC,AAAKJ,EAAvBG,kBAAkB,AAC1BH,CAAAA,EAASG,kBAAkB,CAAG,WAC7BD,EAAYG,QAAQ,GAAG,IAAA,IAAAC,EAAAC,UAAAC,MAAA,CADmBC,EAAI,AAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAJF,CAAI,CAAAE,EAAA,CAAAJ,SAAA,CAAAI,EAAA,CAE9CR,EAAmBS,KAAK,CAACZ,EAAUS,EACpC,EAEAI,OAAOC,gBAAgB,CAAC,UAAW,SAACC,CAAC,EACpC,GAAM,AAAkB,YAAlB,OAAOA,EAAEC,IAAI,EAAoBjB,AAAkB,WAAlBA,EAAOgB,EAAEC,IAAI,GAAmBD,EAAEC,IAAK,CAI9E,OAAQD,EAAEC,IAAI,CAACC,KAAK,EACnB,IAAK,mBACJf,EAAYG,QAAQ,CAAC,SAACa,CAAK,EAC1B,GAAIA,EAAO,CAAA,IAAAC,CACV,AAAQ,QAARA,CAAAA,EAAAJ,EAAEK,MAAM,AAANA,GAAMD,AAAA,KAAA,IAAAA,GAARA,EAAUE,WAAW,CACpB,CACCJ,MAAO,cACPK,SAAUJ,EAAMK,OAAAA,EAEjB,CAAEC,aAAcT,EAAEU,MAAAA,AAAM,GAG3B,GACA,KAED,KAAK,mBACJvB,EAAYwB,cAAc,CAACX,EAAEC,IAAI,CAAE,SAACE,CAAK,EACxC,GAAIA,EAAO,CAAA,IAAAS,CACV,AAAQ,QAARA,CAAAA,EAAAZ,EAAEK,MAAM,AAANA,GAAMO,AAAA,KAAA,IAAAA,GAARA,EAAUN,WAAW,CACpB,CACCJ,MAAO,cACPK,SAAUJ,EAAMK,OAAAA,EAEjB,CAAEC,aAAcT,EAAEU,MAAAA,AAAM,GAG3B,EACM,CAET"}