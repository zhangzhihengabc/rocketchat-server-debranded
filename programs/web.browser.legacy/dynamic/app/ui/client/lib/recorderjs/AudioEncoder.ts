function module(e,n,o){o.link("@babel/runtime/helpers/toConsumableArray",{default:function(e){t=e}},0),o.link("@babel/runtime/helpers/inheritsLoose",{default:function(e){r=e}},1),o.export({AudioEncoder:function(){return s}}),o.link("@rocket.chat/emitter",{Emitter:function(e){i=e}},0),o.link("meteor/meteor",{Meteor:function(e){a=e}},1);var t,r,i,a,s=function(e){function n(n){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.bufferLen,s=void 0===i?4096:i,c=r.numChannels,d=void 0===c?1:c,u=r.bitRate;(o=e.call(this)||this).worker=void 0,o.scriptNode=void 0,o.handleWorkerMessage=function(e){if("end"===e.data.command){var n=[new Int8Array([73,68,51,3,0,0,0,0,0,0])].concat(t(e.data.buffer)),r=new Blob(n,{type:"audio/mpeg"});o.emit("encoded",r),o.worker.terminate()}},o.handleAudioProcess=function(e){for(var n=0;n<e.inputBuffer.numberOfChannels;n++){var t=e.inputBuffer.getChannelData(n);o.worker.postMessage({command:"encode",buffer:t})}};var l=a.absoluteUrl("workers/mp3-encoder/index.js");return o.worker=new Worker(l),o.worker.onmessage=o.handleWorkerMessage,o.worker.postMessage({command:"init",config:{sampleRate:n.context.sampleRate,numChannels:d,bitRate:void 0===u?32:u}}),o.scriptNode=n.context.createScriptProcessor(s,d,d),o.scriptNode.onaudioprocess=o.handleAudioProcess,n.connect(o.scriptNode),o.scriptNode.connect(n.context.destination),o}return r(n,e),n.prototype.close=function(){this.worker.postMessage({command:"finish"})},n}(i)}
//# sourceMappingURL=/dynamic/app/ui/client/lib/recorderjs/6297ae26798ea3b09117b2f2b2c8c4c4908652c9.map
