)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/emoji-emojione/lib/getEmojiConfig.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import emojione from 'emojione';\nimport mem from 'mem';\n\nimport { emojisByCategory, emojiCategories, toneList } from './emojiPicker';\n\n// TODO remove fix below when issue is solved: https://github.com/joypixels/emojione/issues/617\n\n// add missing emojis not provided by JS object, but included on emoji.json\nemojione.shortnames +=\n\t'|:tm:|:copyright:|:registered:|:digit_zero:|:digit_one:|:digit_two:|:digit_three:|:digit_four:|:digit_five:|:digit_six:|:digit_seven:|:digit_eight:|:digit_nine:|:pound_symbol:|:asterisk_symbol:';\nemojione.regShortNames = new RegExp(\n\t`<object[^>]*>.*?<\\/object>|<span[^>]*>.*?<\\/span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|(${emojione.shortnames})`,\n\t'gi',\n);\n\nemojione.emojioneList[':tm:'] = {\n\tuc_base: '2122',\n\tuc_output: '2122-fe0f',\n\tuc_match: '2122-fe0f',\n\tuc_greedy: '2122-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n\nemojione.emojioneList[':copyright:'] = {\n\tuc_base: '00a9',\n\tuc_output: '00a9-f0ef',\n\tuc_match: '00a9-fe0f',\n\tuc_greedy: '00a9-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n\nemojione.emojioneList[':registered:'] = {\n\tuc_base: '00ae',\n\tuc_output: '00ae-fe0f',\n\tuc_match: '00ae-fe0f',\n\tuc_greedy: '00ae-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n\nemojione.emojioneList[':digit_zero:'] = {\n\tuc_base: '0030',\n\tuc_output: '0030-fe0f',\n\tuc_match: '0030-fe0f',\n\tuc_greedy: '0030-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n\nemojione.emojioneList[':digit_one:'] = {\n\tuc_base: '0031',\n\tuc_output: '0031-fe0f',\n\tuc_match: '0031-fe0f',\n\tuc_greedy: '0031-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n\nemojione.emojioneList[':digit_two:'] = {\n\tuc_base: '0032',\n\tuc_output: '0032-fe0f',\n\tuc_match: '0032-fe0f',\n\tuc_greedy: '0032-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n\nemojione.emojioneList[':digit_three:'] = {\n\tuc_base: '0033',\n\tuc_output: '0033-fe0f',\n\tuc_match: '0033-fe0f',\n\tuc_greedy: '0033-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n\nemojione.emojioneList[':digit_four:'] = {\n\tuc_base: '0034',\n\tuc_output: '0034-fe0f',\n\tuc_match: '0034-fe0f',\n\tuc_greedy: '0034-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n\nemojione.emojioneList[':digit_five:'] = {\n\tuc_base: '0035',\n\tuc_output: '0035-fe0f',\n\tuc_match: '0035-fe0f',\n\tuc_greedy: '0035-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n\nemojione.emojioneList[':digit_six:'] = {\n\tuc_base: '0036',\n\tuc_output: '0036-fe0f',\n\tuc_match: '0036-fe0f',\n\tuc_greedy: '0036-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n\nemojione.emojioneList[':digit_seven:'] = {\n\tuc_base: '0037',\n\tuc_output: '0037-fe0f',\n\tuc_match: '0037-fe0f',\n\tuc_greedy: '0037-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n\nemojione.emojioneList[':digit_eight:'] = {\n\tuc_base: '0038',\n\tuc_output: '0038-fe0f',\n\tuc_match: '0038-fe0f',\n\tuc_greedy: '0038-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n\nemojione.emojioneList[':digit_nine:'] = {\n\tuc_base: '0039',\n\tuc_output: '0039-fe0f',\n\tuc_match: '0039-fe0f',\n\tuc_greedy: '0039-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n\nemojione.emojioneList[':pound_symbol:'] = {\n\tuc_base: '0023',\n\tuc_output: '0023-fe0f',\n\tuc_match: '0023-fe0f',\n\tuc_greedy: '0023-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n\nemojione.emojioneList[':asterisk_symbol:'] = {\n\tuc_base: '002a',\n\tuc_output: '002a-fe0f',\n\tuc_match: '002a-fe0f',\n\tuc_greedy: '002a-fe0f',\n\tshortnames: [],\n\tcategory: 'symbols',\n\temojiPackage: 'emojione',\n};\n// end fix\n\n// fix for :+1: - had to replace all function that does its conversion: https://github.com/joypixels/emojione/blob/4.5.0/lib/js/emojione.js#L249\n\nemojione.shortnameConversionMap = mem(emojione.shortnameConversionMap, { maxAge: 1000 });\n\nemojione.unicodeCharRegex = mem(emojione.unicodeCharRegex, { maxAge: 1000 });\n\nconst convertShortName = mem(\n\t(shortname) => {\n\t\t// the fix is basically adding this .replace(/[+]/g, '\\\\$&')\n\t\tif (typeof shortname === 'undefined' || shortname === '' || emojione.shortnames.indexOf(shortname.replace(/[+]/g, '\\\\$&')) === -1) {\n\t\t\t// if the shortname doesnt exist just return the entire match\n\t\t\treturn shortname;\n\t\t}\n\n\t\t// map shortname to parent\n\t\tif (!emojione.emojioneList[shortname]) {\n\t\t\tfor (const emoji in emojione.emojioneList) {\n\t\t\t\tif (!emojione.emojioneList.hasOwnProperty(emoji) || emoji === '') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (emojione.emojioneList[emoji].shortnames.indexOf(shortname) === -1) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tshortname = emoji;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tconst unicode = emojione.emojioneList[shortname].uc_output;\n\t\tconst fname = emojione.emojioneList[shortname].uc_base;\n\t\tconst category = fname.indexOf('-1f3f') >= 0 ? 'diversity' : emojione.emojioneList[shortname].category;\n\t\tconst title = emojione.imageTitleTag ? `title=\"${shortname}\"` : '';\n\t\t// const size = ns.spriteSize === '32' || ns.spriteSize === '64' ? ns.spriteSize : '32';\n\t\t// if the emoji path has been set, we'll use the provided path, otherwise we'll use the default path\n\t\tconst ePath =\n\t\t\temojione.defaultPathPNG !== emojione.imagePathPNG ? emojione.imagePathPNG : `${emojione.defaultPathPNG + emojione.emojiSize}/`;\n\n\t\t// depending on the settings, we'll either add the native unicode as the alt tag, otherwise the shortname\n\t\tconst alt = emojione.unicodeAlt ? emojione.convert(unicode.toUpperCase()) : shortname;\n\n\t\tif (emojione.sprites) {\n\t\t\treturn `<span class=\"emojione emojione-${category} _${fname}\" ${title}>${alt}</span>`;\n\t\t}\n\t\treturn `<img class=\"emojione\" alt=\"${alt}\" ${title} src=\"${ePath}${fname}${emojione.fileExtension}\"/>`;\n\t},\n\t{ maxAge: 1000 },\n);\n\nconst convertUnicode = mem(\n\t(entire, _m1, m2, m3) => {\n\t\tconst mappedUnicode = emojione.mapUnicodeToShort();\n\n\t\tif (typeof m3 === 'undefined' || m3 === '' || !(emojione.unescapeHTML(m3) in emojione.asciiList)) {\n\t\t\t// if the ascii doesnt exist just return the entire match\n\t\t\treturn entire;\n\t\t}\n\n\t\tm3 = emojione.unescapeHTML(m3);\n\t\tconst unicode = emojione.asciiList[m3];\n\t\tconst shortname = mappedUnicode[unicode];\n\t\tconst category = unicode.indexOf('-1f3f') >= 0 ? 'diversity' : emojione.emojioneList[shortname].category;\n\t\tconst title = emojione.imageTitleTag ? `title=\"${emojione.escapeHTML(m3)}\"` : '';\n\t\t// const size = ns.spriteSize === '32' || ns.spriteSize === '64' ? ns.spriteSize : '32';\n\t\t// if the emoji path has been set, we'll use the provided path, otherwise we'll use the default path\n\t\tconst ePath =\n\t\t\temojione.defaultPathPNG !== emojione.imagePathPNG ? emojione.imagePathPNG : `${emojione.defaultPathPNG + emojione.emojiSize}/`;\n\n\t\t// depending on the settings, we'll either add the native unicode as the alt tag, otherwise the shortname\n\t\tconst alt = emojione.unicodeAlt ? emojione.convert(unicode.toUpperCase()) : emojione.escapeHTML(m3);\n\n\t\tif (emojione.sprites) {\n\t\t\treturn `${m2}<span class=\"emojione emojione-${category} _${unicode}\"  ${title}>${alt}</span>`;\n\t\t}\n\t\treturn `${m2}<img class=\"emojione\" alt=\"${alt}\" ${title} src=\"${ePath}${unicode}${emojione.fileExtension}\"/>`;\n\t},\n\t{ maxAge: 1000, cacheKey: JSON.stringify },\n);\n\nemojione.shortnameToImage = (str) => {\n\t// replace regular shortnames first\n\tstr = str.replace(emojione.regShortNames, convertShortName);\n\n\t// if ascii smileys are turned on, then we'll replace them!\n\tif (emojione.ascii) {\n\t\tconst asciiRX = emojione.riskyMatchAscii ? emojione.regAsciiRisky : emojione.regAscii;\n\n\t\treturn str.replace(asciiRX, convertUnicode);\n\t}\n\n\treturn str;\n};\n\nconst isEmojiSupported = (str: string) => {\n\tstr = str.replace(emojione.regShortNames, convertShortName);\n\n\t// if ascii smileys are turned on, then we'll replace them!\n\tif (emojione.ascii) {\n\t\tconst asciiRX = emojione.riskyMatchAscii ? emojione.regAsciiRisky : emojione.regAscii;\n\n\t\treturn str.replace(asciiRX, convertUnicode);\n\t}\n\n\treturn str;\n};\n\nexport const getEmojiConfig = () => ({\n\temojione,\n\temojisByCategory,\n\temojiCategories,\n\ttoneList,\n\trender: emojione.toImage,\n\trenderPicker: emojione.shortnameToImage,\n\tsprites: true,\n\tisEmojiSupported,\n});\n",null],"names":["module","export","getEmojiConfig","v","emojione","mem","emojisByCategory","emojiCategories","toneList","shortnames","regShortNames","RegExp","emojioneList","uc_base","uc_output","uc_match","uc_greedy","category","emojiPackage","shortnameConversionMap","maxAge","unicodeCharRegex","convertShortName","shortname","indexOf","replace","emoji","meteorBabelHelpers","sanitizeForInObject","hasOwnProperty","unicode","fname","title","imageTitleTag","ePath","defaultPathPNG","imagePathPNG","emojiSize","alt","unicodeAlt","convert","toUpperCase","sprites","fileExtension","convertUnicode","entire","_m1","m2","m3","unescapeHTML","asciiList","mappedUnicode","mapUnicodeToShort","escapeHTML","cacheKey","JSON","stringify","shortnameToImage","str","ascii","asciiRX","riskyMatchAscii","regAsciiRisky","regAscii","isEmojiSupported","render","toImage","renderPicker"],"mappings":"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"}