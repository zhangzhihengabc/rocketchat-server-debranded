)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/emoji-emojione/client/lib.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Meteor } from 'meteor/meteor';\n\nimport { emoji } from '../../emoji/client';\nimport { getUserPreference } from '../../utils/client';\nimport { getEmojiConfig } from '../lib/getEmojiConfig';\nimport { isSetNotNull } from '../lib/isSetNotNull';\n\nconst config = getEmojiConfig();\n\nemoji.packages.emojione = config.emojione as any;\nif (emoji.packages.emojione) {\n\temoji.packages.emojione.sprites = config.sprites;\n\temoji.packages.emojione.emojisByCategory = config.emojisByCategory;\n\temoji.packages.emojione.emojiCategories = config.emojiCategories as any;\n\temoji.packages.emojione.toneList = config.toneList;\n\n\temoji.packages.emojione.render = config.render;\n\temoji.packages.emojione.renderPicker = config.renderPicker;\n\n\t// RocketChat.emoji.list is the collection of emojis from all emoji packages\n\tfor (const [key, currentEmoji] of Object.entries(config.emojione.emojioneList)) {\n\t\tcurrentEmoji.emojiPackage = 'emojione';\n\t\temoji.list[key] = currentEmoji;\n\n\t\tif (currentEmoji.shortnames) {\n\t\t\tcurrentEmoji.shortnames.forEach((shortname: string) => {\n\t\t\t\temoji.list[shortname] = currentEmoji;\n\t\t\t});\n\t\t}\n\t}\n\n\t// Additional settings -- ascii emojis\n\tMeteor.startup(() => {\n\t\tTracker.autorun(async () => {\n\t\t\tif ((await isSetNotNull(() => emoji.packages.emojione)) && emoji.packages.emojione) {\n\t\t\t\tif (await isSetNotNull(() => getUserPreference(Meteor.userId() as string, 'convertAsciiEmoji'))) {\n\t\t\t\t\temoji.packages.emojione.ascii = await getUserPreference(Meteor.userId() as string, 'convertAsciiEmoji');\n\t\t\t\t} else {\n\t\t\t\t\temoji.packages.emojione.ascii = true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n",null],"names":["module","default","_regeneratorRuntime","_slicedToArray","link","Meteor","emoji","getUserPreference","getEmojiConfig","isSetNotNull","config","packages","emojione","sprites","emojisByCategory","emojiCategories","toneList","render","renderPicker","_loop","currentEmoji","emojiPackage","list","key","shortnames","forEach","shortname","_i","_Object$entries","Object","entries","emojioneList","length","_ref2","startup","Tracker","autorun","async","_context","prev","next","awrap","t0","sent","userId","ascii","stop","Promise"],"mappings":"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"}