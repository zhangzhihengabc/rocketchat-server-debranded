)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/slashcommands-topic/client/topic.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { SlashCommandCallbackParams } from '@rocket.chat/core-typings';\n\nimport { dispatchToastMessage } from '../../../client/lib/toast';\nimport { callbacks } from '../../../lib/callbacks';\nimport { hasPermission } from '../../authorization/client';\nimport { ChatRoom } from '../../models/client/models/ChatRoom';\nimport { sdk } from '../../utils/client/lib/SDKClient';\nimport { slashCommands } from '../../utils/lib/slashCommand';\n\nslashCommands.add({\n\tcommand: 'topic',\n\tcallback: async function Topic({ params, message }: SlashCommandCallbackParams<'topic'>): Promise<void> {\n\t\tif (hasPermission('edit-room', message.rid)) {\n\t\t\ttry {\n\t\t\t\tawait sdk.call('saveRoomSettings', message.rid, 'roomTopic', params);\n\t\t\t\tawait callbacks.run('roomTopicChanged', ChatRoom.findOne(message.rid));\n\t\t\t} catch (error: unknown) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\t},\n\toptions: {\n\t\tdescription: 'Slash_Topic_Description',\n\t\tparams: 'Slash_Topic_Params',\n\t\tpermission: 'edit-room',\n\t},\n});\n",null],"names":["_regeneratorRuntime","dispatchToastMessage","callbacks","hasPermission","ChatRoom","sdk","slashCommands","module","link","default","add","command","callback","_ref","params","message","async","_context","prev","next","rid","awrap","call","run","findOne","t0","type","stop","Promise","options","description","permission"],"mappings":"2BAEAA,EAAAC,EAAiEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxDC,EAAsBC,IAAAA,CAAAA,6BAAkC,CAAAC,QAAAA,SAAAA,CAAAA,EAAAT,EAAAA,CAAA,CAAA,EAAA,GAAxDO,EAAsBC,IAAA,CAAM,4BAA4B,CAAAP,qBAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,yBAAAA,CAAAL,UAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAJ,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,sCAAAA,CAAAH,SAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAF,IAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAD,cAAAA,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAOjEA,EAAcI,GAAG,CAAC,CACjBC,QAAS,QACTC,SAAU,SAAoBC,CAAA,EAAA,IAAAC,EAAAC,EAAA,OAAAf,EAAAgB,KAAA,CAAA,SAAAC,CAAA,EAAA,OAAA,OAAAA,EAAAC,IAAA,CAAAD,EAAAE,IAAA,EAAA,KAAA,EAAkB,GAAfL,EAAMD,EAANC,MAAM,CAAS,CAC3CX,EAAc,YAAaY,AADSA,CAAAA,EAAOF,EAAPE,OAAO,AAAPA,EACDK,GAAG,EAAC,CAAAH,EAAAE,IAAA,CAAA,GAAA,KAAA,CAAA,OAAAF,EAAAC,IAAA,CAAA,EAAAD,EAAAE,IAAA,CAAA,EAAAnB,EAAAqB,KAAA,CAEnChB,EAAIiB,IAAI,CAAC,mBAAoBP,EAAQK,GAAG,CAAE,YAAaN,GAAO,MAAA,EAAA,OAAAG,EAAAE,IAAA,CAAA,EAAAnB,EAAAqB,KAAA,CAC9DnB,EAAUqB,GAAG,CAAC,mBAAoBnB,EAASoB,OAAO,CAACT,EAAQK,GAAG,GAAE,MAAA,EAAAH,EAAAE,IAAA,CAAA,GAAA,KAAA,MAAA,EAEd,MAFcF,EAAAC,IAAA,CAAA,EAAAD,EAAAQ,EAAA,CAAAR,EAAA,KAAA,CAAA,GAEtEhB,EAAqB,CAAEyB,KAAM,QAASX,QAAOE,EAAAQ,EAAA,AAAO,GAAIR,EAAAQ,EAAA,MAAA,GAAA,IAAA,MAAA,OAAAR,EAAAU,IAAA,EAAA,CAAA,EAAA,KAAA,KAAA,CAAA,CAAA,EAAA,EAAA,CAAA,CAAAC,QAAA,EAK3DC,QAAS,CACRC,YAAa,0BACbhB,OAAQ,qBACRiB,WAAY"}