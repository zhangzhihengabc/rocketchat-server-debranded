{"version":3,"sources":["meteor://ðŸ’»app/packages/pauli:accounts-linkedin/notice.js","meteor://ðŸ’»app/packages/pauli:accounts-linkedin/linkedin.js"],"names":["Package","hasOwnProperty","console","warn","Accounts","module","link","v","Meteor","Linkedin","oauth","registerService","isClient","loginWithLinkedin","options","callback","credentialRequestCompleteCallback","credentialRequestCompleteHandler","requestCredential","catch","registerClientLoginFunction","args","applyLoginFunction","addAutopublishFields","forLoggedInUser"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,OAAO,CAAC,aAAa,CAAC,IAAI,CAACA,OAAO,CAAC,uBAAuB,CAAC,IAAI,CAACA,OAAO,CAACC,cAAc,CAAC,0BAA0B,CAAC,EAAE;EACvHC,OAAO,CAACC,IAAI,CACX,+DAA+D,GAC9D,4DAA4D,GAC5D,mCAAmC,GACnC,IAAI,GACJ,yCAAyC,GACzC,IAAI,CACL;AACF,C;;;;;;;;;;;ACTA,IAAIC,QAAQ;AAACC,MAAM,CAACC,IAAI,CAAC,sBAAsB,EAAC;EAACF,QAAQ,CAACG,CAAC,EAAC;IAACH,QAAQ,GAACG,CAAC;EAAA;AAAC,CAAC,EAAC,CAAC,CAAC;AAAC,IAAIC,MAAM;AAACH,MAAM,CAACC,IAAI,CAAC,eAAe,EAAC;EAACE,MAAM,CAACD,CAAC,EAAC;IAACC,MAAM,GAACD,CAAC;EAAA;AAAC,CAAC,EAAC,CAAC,CAAC;AAAC,IAAIE,QAAQ;AAACJ,MAAM,CAACC,IAAI,CAAC,6BAA6B,EAAC;EAACG,QAAQ,CAACF,CAAC,EAAC;IAACE,QAAQ,GAACF,CAAC;EAAA;AAAC,CAAC,EAAC,CAAC,CAAC;AAIhOH,QAAQ,CAACM,KAAK,CAACC,eAAe,CAAC,UAAU,CAAC;AAE1C,IAAIH,MAAM,CAACI,QAAQ,EAAE;EACpB,MAAMC,iBAAiB,GAAG,UAAUC,OAAO,EAAEC,QAAQ,EAAE;IACtD;IACA,IAAI,CAACA,QAAQ,IAAI,OAAOD,OAAO,KAAK,UAAU,EAAE;MAC/CC,QAAQ,GAAGD,OAAO;MAClBA,OAAO,GAAG,IAAI;IACf;IACA,MAAME,iCAAiC,GAAGZ,QAAQ,CAACM,KAAK,CAACO,gCAAgC,CAACF,QAAQ,CAAC;IACnG,KAAKN,QAAQ,CAACS,iBAAiB,CAACJ,OAAO,EAAEE,iCAAiC,CAAC,CAACG,KAAK,CAACH,iCAAiC,CAAC;EACrH,CAAC;EACDZ,QAAQ,CAACgB,2BAA2B,CAAC,UAAU,EAAEP,iBAAiB,CAAC;EAEnEL,MAAM,CAACK,iBAAiB,GAAG;IAAA,kCAAIQ,IAAI;MAAJA,IAAI;IAAA;IAAA,OAAKjB,QAAQ,CAACkB,kBAAkB,CAAC,UAAU,EAAED,IAAI,CAAC;EAAA;AACtF,CAAC,MAAM;EACNjB,QAAQ,CAACmB,oBAAoB,CAAC;IAC7BC,eAAe,EAAE,CAAC,mBAAmB;EACtC,CAAC,CAAC;AACH,C","file":"/packages/pauli_accounts-linkedin.js","sourcesContent":["if (Package['accounts-ui'] && !Package['service-configuration'] && !Package.hasOwnProperty('pauli:linkedin-config-ui')) {\n\tconsole.warn(\n\t\t\"Note: You're using accounts-ui and pauli:accounts-linkedin,\\n\" +\n\t\t\t\"but didn't install the configuration UI for the Linkedin\\n\" +\n\t\t\t'OAuth. You can install it with:\\n' +\n\t\t\t'\\n' +\n\t\t\t'    meteor add pauli:linkedin-config-ui' +\n\t\t\t'\\n',\n\t);\n}\n","import { Accounts } from 'meteor/accounts-base';\nimport { Meteor } from 'meteor/meteor';\nimport { Linkedin } from 'meteor/pauli:linkedin-oauth';\n\nAccounts.oauth.registerService('linkedin');\n\nif (Meteor.isClient) {\n\tconst loginWithLinkedin = function (options, callback) {\n\t\t// support a callback without options\n\t\tif (!callback && typeof options === 'function') {\n\t\t\tcallback = options;\n\t\t\toptions = null;\n\t\t}\n\t\tconst credentialRequestCompleteCallback = Accounts.oauth.credentialRequestCompleteHandler(callback);\n\t\tvoid Linkedin.requestCredential(options, credentialRequestCompleteCallback).catch(credentialRequestCompleteCallback);\n\t};\n\tAccounts.registerClientLoginFunction('linkedin', loginWithLinkedin);\n\n\tMeteor.loginWithLinkedin = (...args) => Accounts.applyLoginFunction('linkedin', args);\n} else {\n\tAccounts.addAutopublishFields({\n\t\tforLoggedInUser: ['services.linkedin'],\n\t});\n}\n"]}