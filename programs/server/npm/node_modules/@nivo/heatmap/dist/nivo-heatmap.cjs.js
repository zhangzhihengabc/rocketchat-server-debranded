"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@nivo/core"),i=require("@nivo/axes"),o=require("@nivo/legends"),n=require("@nivo/colors"),r=require("@nivo/annotations"),a=require("@nivo/tooltip"),l=require("react/jsx-runtime"),d=require("d3-scale"),s=require("@nivo/scales"),c=require("@react-spring/web");function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},u.apply(this,arguments)}function h(e,t){if(null==e)return{};var i,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)i=r[o],t.indexOf(i)>=0||(n[i]=e[i]);return n}var v={layers:["grid","axes","cells","legends","annotations"],forceSquare:!1,xInnerPadding:0,xOuterPadding:0,yInnerPadding:0,yOuterPadding:0,sizeVariation:!1,opacity:1,activeOpacity:1,inactiveOpacity:.15,borderWidth:0,borderColor:{from:"color",modifiers:[["darker",.8]]},enableGridX:!1,enableGridY:!1,enableLabels:!0,label:"formattedValue",labelTextColor:{from:"color",modifiers:[["darker",2]]},colors:{type:"sequential",scheme:"brown_blueGreen"},emptyColor:"#000000",legends:[],annotations:[],isInteractive:!0,hoverTarget:"rowColumn",tooltip:e.memo((function(e){var t=e.cell;return null===t.formattedValue?null:l.jsx(a.BasicTooltip,{id:t.serieId+" - "+t.data.x,value:t.formattedValue,enableChip:!0,color:t.color})})),animate:!0,motionConfig:"gentle"},f=u({},v,{axisTop:{},axisRight:null,axisBottom:null,axisLeft:{},borderRadius:0,cellComponent:"rect"}),g=u({},v,{axisTop:{},axisRight:null,axisBottom:null,axisLeft:{},renderCell:"rect",pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),x=function(e){var t=e.width,i=e.height,o=e.rows,n=e.columns,r=t,a=i,l=0,d=0;if(e.forceSquare){var s=Math.max(t/n,0),c=Math.max(i/o,0),u=Math.min(s,c);l=(t-(r=u*n))/2,d=(i-(a=u*o))/2}return{offsetX:l,offsetY:d,width:r,height:a}},p=function(e){var t=e.data,i=e.width,o=e.height,n=e.xInnerPadding,r=e.xOuterPadding,a=e.yInnerPadding,l=e.yOuterPadding,c=e.forceSquare,h=new Set,v=[],f=[],g=[];t.forEach((function(e){v.push(e.id),e.data.forEach((function(t){h.add(t.x);var i=null;void 0!==t.y&&null!==t.y&&(f.push(t.y),i=t.y),g.push({id:e.id+"."+t.x,serieId:e.id,value:i,data:t})}))}));var p=Array.from(h),m=x({width:i,height:o,columns:p.length,rows:v.length,forceSquare:c}),b=m.width,y=m.height,C=m.offsetX,w=m.offsetY,M=s.castBandScale(d.scaleBand().domain(p).range([0,b]).paddingOuter(r).paddingInner(n)),P=s.castBandScale(d.scaleBand().domain(v).range([0,y]).paddingOuter(l).paddingInner(a)),I=M.bandwidth(),O=P.bandwidth(),S=g.map((function(e){return u({},e,{x:M(e.data.x)+I/2,y:P(e.serieId)+O/2,width:I,height:O})}));return{width:b,height:y,offsetX:C,offsetY:w,xScale:M,yScale:P,minValue:Math.min.apply(Math,f),maxValue:Math.max.apply(Math,f),cells:S}},m=function(e,t,i){if(!e)return function(){return 1};var o=d.scaleLinear().domain(e.values?e.values:[t,i]).range(e.sizes);return function(e){return null===e?1:o(e)}},b=function(e){return{x:e.x,y:e.y}},y=function(e){return{size:Math.max(e.width,e.height),width:e.width,height:e.height}},C=function(t){var i=t.data,o=t.width,n=t.height,r=t.xInnerPadding,a=t.xOuterPadding,l=t.yInnerPadding,d=t.yOuterPadding,s=t.forceSquare;return e.useMemo((function(){return p({data:i,width:o,height:n,xInnerPadding:r,xOuterPadding:a,yInnerPadding:l,yOuterPadding:d,forceSquare:s})}),[i,o,n,r,a,l,d,s])},w={cell:function(e,t){return e.id===t.id},row:function(e,t){return e.serieId===t.serieId},column:function(e,t){return e.data.x===t.data.x},rowColumn:function(e,t){return e.serieId===t.serieId||e.data.x===t.data.x}},M=function(i){var o,r,a,l=i.cells,d=i.minValue,s=i.maxValue,c=i.sizeVariation,h=i.colors,v=i.emptyColor,f=i.opacity,g=i.activeOpacity,x=i.inactiveOpacity,p=i.borderColor,b=i.label,y=i.labelTextColor,C=i.valueFormat,w=i.activeIds,M=(o=c,r=d,a=s,e.useMemo((function(){return m(o,r,a)}),[o,r,a])),P=e.useMemo((function(){return"function"==typeof h?null:n.getContinuousColorScale(h,{min:d,max:s})}),[h,d,s]),I=e.useCallback((function(e){if(null!==e.value){if("function"==typeof h)return h(e);if(null!==P)return P(e.value)}return v}),[h,P,v]),O=t.useTheme(),S=n.useInheritedColor(p,O),T=n.useInheritedColor(y,O),L=t.useValueFormatter(C),W=t.usePropertyAccessor(b);return{cells:e.useMemo((function(){return l.map((function(e){var t=f;w.length>0&&(t=w.includes(e.id)?g:x);var i=M(e.value),o=u({},e,{width:e.width*i,height:e.height*i,formattedValue:null!==e.value?L(e.value):null,opacity:t});return o.label=W(o),o.color=I(o),o.borderColor=S(o),o.labelTextColor=T(o),o}))}),[l,M,I,S,T,L,W,w,f,g,x]),colorScale:P}},P=function(t){var i=t.data,o=t.valueFormat,n=t.width,r=t.height,a=t.xOuterPadding,l=void 0===a?v.xOuterPadding:a,d=t.xInnerPadding,s=void 0===d?v.xInnerPadding:d,c=t.yOuterPadding,u=void 0===c?v.yOuterPadding:c,h=t.yInnerPadding,f=void 0===h?v.yInnerPadding:h,g=t.forceSquare,x=void 0===g?v.forceSquare:g,p=t.sizeVariation,m=void 0===p?v.sizeVariation:p,b=t.colors,y=void 0===b?v.colors:b,P=t.emptyColor,I=void 0===P?v.emptyColor:P,O=t.opacity,S=void 0===O?v.opacity:O,T=t.activeOpacity,L=void 0===T?v.activeOpacity:T,W=t.inactiveOpacity,j=void 0===W?v.inactiveOpacity:W,k=t.borderColor,q=void 0===k?v.borderColor:k,R=t.label,A=void 0===R?v.label:R,V=t.labelTextColor,E=void 0===V?v.labelTextColor:V,B=t.hoverTarget,F=void 0===B?v.hoverTarget:B,z=e.useState(null),G=z[0],X=z[1],Y=C({data:i,width:n,height:r,xOuterPadding:l,xInnerPadding:s,yOuterPadding:u,yInnerPadding:f,forceSquare:x}),H=Y.width,D=Y.height,_=Y.offsetX,J=Y.offsetY,K=Y.cells,N=Y.xScale,Q=Y.yScale,U=Y.minValue,Z=Y.maxValue,$=e.useMemo((function(){if(!G)return[];var e=w[F];return K.filter((function(t){return e(t,G)})).map((function(e){return e.id}))}),[K,G,F]),ee=M({cells:K,minValue:U,maxValue:Z,sizeVariation:m,colors:y,emptyColor:I,opacity:S,activeOpacity:L,inactiveOpacity:j,borderColor:q,label:A,labelTextColor:E,valueFormat:o,activeIds:$});return{width:H,height:D,offsetX:_,offsetY:J,cells:ee.cells,xScale:N,yScale:Q,colorScale:ee.colorScale,activeCell:G,setActiveCell:X}},I=function(e,t){return r.useAnnotations({data:e,annotations:t,getPosition:b,getDimensions:y})},O=e.memo((function(i){var o=i.cell,n=i.borderWidth,r=i.borderRadius,a=i.animatedProps,d=i.onMouseEnter,s=i.onMouseMove,h=i.onMouseLeave,v=i.onClick,f=i.enableLabels,g=t.useTheme(),x=e.useMemo((function(){return{onMouseEnter:d?d(o):void 0,onMouseMove:s?s(o):void 0,onMouseLeave:h?h(o):void 0,onClick:v?v(o):void 0}}),[o,d,s,h,v]);return l.jsxs(c.animated.g,u({"data-testid":"cell."+o.id,style:{cursor:"pointer"},opacity:a.opacity},x,{transform:c.to([a.x,a.y,a.scale],(function(e,t,i){return"translate("+e+", "+t+") scale("+i+")"})),children:[l.jsx(c.animated.rect,{transform:c.to([a.width,a.height],(function(e,t){return"translate("+-.5*e+", "+-.5*t+")"})),fill:a.color,width:a.width,height:a.height,stroke:a.borderColor,strokeWidth:n,rx:r,ry:r},o.id),f&&l.jsx(c.animated.text,{textAnchor:"middle",dominantBaseline:"central",fill:a.labelTextColor,style:u({},g.labels.text,{fill:void 0,userSelect:"none"}),children:o.label})]}))})),S=e.memo((function(i){var o=i.cell,n=i.borderWidth,r=i.animatedProps,a=i.onMouseEnter,d=i.onMouseMove,s=i.onMouseLeave,h=i.onClick,v=i.enableLabels,f=t.useTheme(),g=e.useMemo((function(){return{onMouseEnter:a?a(o):void 0,onMouseMove:d?d(o):void 0,onMouseLeave:s?s(o):void 0,onClick:h?h(o):void 0}}),[o,a,d,s,h]);return l.jsxs(c.animated.g,u({"data-testid":"cell."+o.id,style:{cursor:"pointer"},opacity:r.opacity},g,{transform:c.to([r.x,r.y],(function(e,t){return"translate("+e+", "+t+")"})),children:[l.jsx(c.animated.circle,{r:c.to([r.width,r.height],(function(e,t){return Math.min(e,t)/2})),fill:r.color,fillOpacity:r.opacity,strokeWidth:n,stroke:r.borderColor}),v&&l.jsx(c.animated.text,{dominantBaseline:"central",textAnchor:"middle",fill:r.labelTextColor,style:u({},f.labels.text,{fill:void 0}),children:o.label})]}))})),T=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,opacity:0,borderColor:e.borderColor,labelTextColor:e.labelTextColor,scale:0}},L=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,opacity:e.opacity,borderColor:e.borderColor,labelTextColor:e.labelTextColor,scale:1}},W=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,opacity:0,borderColor:e.borderColor,labelTextColor:e.labelTextColor,scale:0}},j=function(i){var o,n=i.cells,r=i.cellComponent,d=i.borderRadius,s=i.borderWidth,u=i.isInteractive,h=i.setActiveCell,v=i.onMouseEnter,f=i.onMouseMove,g=i.onMouseLeave,x=i.onClick,p=i.tooltip,m=i.enableLabels,b=t.useMotionConfig(),y=b.animate,C=b.config,w=c.useTransition(n,{keys:function(e){return e.id},initial:L,from:T,enter:L,update:L,leave:W,config:C,immediate:!y}),M=a.useTooltip(),P=M.showTooltipFromEvent,I=M.hideTooltip,j=e.useMemo((function(){if(u)return function(t){return function(i){P(e.createElement(p,{cell:t}),i),h(t),null==v||v(t,i)}}}),[u,P,p,h,v]),k=e.useMemo((function(){if(u)return function(t){return function(i){P(e.createElement(p,{cell:t}),i),null==f||f(t,i)}}}),[u,P,p,f]),q=e.useMemo((function(){if(u)return function(e){return function(t){I(),h(null),null==g||g(e,t)}}}),[u,I,h,g]),R=e.useMemo((function(){if(u)return function(e){return function(t){null==x||x(e,t)}}}),[u,x]);return o="rect"===r?O:"circle"===r?S:r,l.jsx(l.Fragment,{children:w((function(t,i){return e.createElement(o,{cell:i,borderRadius:d,borderWidth:s,animatedProps:t,enableLabels:m,onMouseEnter:j,onMouseMove:k,onMouseLeave:q,onClick:R})}))})},k=function(e){var t=e.cells,i=e.annotations,o=I(t,i);return l.jsx(l.Fragment,{children:o.map((function(e,t){return l.jsx(r.Annotation,u({},e),t)}))})},q=["isInteractive","animate","motionConfig","theme","renderWrapper"],R=function(n){var r=n.data,a=n.layers,d=void 0===a?f.layers:a,s=n.valueFormat,c=n.width,h=n.height,v=n.margin,g=n.forceSquare,x=void 0===g?f.forceSquare:g,p=n.xInnerPadding,m=void 0===p?f.xInnerPadding:p,b=n.xOuterPadding,y=void 0===b?f.xOuterPadding:b,C=n.yInnerPadding,w=void 0===C?f.yInnerPadding:C,M=n.yOuterPadding,I=void 0===M?f.yOuterPadding:M,O=n.sizeVariation,S=void 0===O?f.sizeVariation:O,T=n.cellComponent,L=void 0===T?f.cellComponent:T,W=n.opacity,q=void 0===W?f.opacity:W,R=n.activeOpacity,A=void 0===R?f.activeOpacity:R,V=n.inactiveOpacity,E=void 0===V?f.inactiveOpacity:V,B=n.borderRadius,F=void 0===B?f.borderRadius:B,z=n.borderWidth,G=void 0===z?f.borderWidth:z,X=n.borderColor,Y=void 0===X?f.borderColor:X,H=n.enableGridX,D=void 0===H?f.enableGridX:H,_=n.enableGridY,J=void 0===_?f.enableGridY:_,K=n.axisTop,N=void 0===K?f.axisTop:K,Q=n.axisRight,U=void 0===Q?f.axisRight:Q,Z=n.axisBottom,$=void 0===Z?f.axisBottom:Z,ee=n.axisLeft,te=void 0===ee?f.axisLeft:ee,ie=n.enableLabels,oe=void 0===ie?f.enableLabels:ie,ne=n.label,re=void 0===ne?f.label:ne,ae=n.labelTextColor,le=void 0===ae?f.labelTextColor:ae,de=n.colors,se=void 0===de?f.colors:de,ce=n.emptyColor,ue=void 0===ce?f.emptyColor:ce,he=n.legends,ve=void 0===he?f.legends:he,fe=n.annotations,ge=void 0===fe?f.annotations:fe,xe=n.isInteractive,pe=void 0===xe?f.isInteractive:xe,me=n.onMouseEnter,be=n.onMouseMove,ye=n.onMouseLeave,Ce=n.onClick,we=n.hoverTarget,Me=void 0===we?f.hoverTarget:we,Pe=n.tooltip,Ie=void 0===Pe?f.tooltip:Pe,Oe=n.role,Se=n.ariaLabel,Te=n.ariaLabelledBy,Le=n.ariaDescribedBy,We=t.useDimensions(c,h,v),je=We.margin,ke=We.innerWidth,qe=We.innerHeight,Re=We.outerWidth,Ae=We.outerHeight,Ve=P({data:r,valueFormat:s,width:ke,height:qe,forceSquare:x,xInnerPadding:m,xOuterPadding:y,yInnerPadding:w,yOuterPadding:I,sizeVariation:S,colors:se,emptyColor:ue,opacity:q,activeOpacity:A,inactiveOpacity:E,borderColor:Y,label:re,labelTextColor:le,hoverTarget:Me}),Ee=Ve.width,Be=Ve.height,Fe=Ve.offsetX,ze=Ve.offsetY,Ge=Ve.xScale,Xe=Ve.yScale,Ye=Ve.cells,He=Ve.colorScale,De=Ve.activeCell,_e=Ve.setActiveCell,Je=e.useMemo((function(){return u({},je,{top:je.top+ze,left:je.left+Fe})}),[je,Fe,ze]),Ke={grid:null,axes:null,cells:null,legends:null,annotations:null};d.includes("grid")&&(Ke.grid=l.jsx(i.Grid,{width:Ee,height:Be,xScale:D?Ge:null,yScale:J?Xe:null},"grid")),d.includes("axes")&&(Ke.axes=l.jsx(i.Axes,{xScale:Ge,yScale:Xe,width:Ee,height:Be,top:N,right:U,bottom:$,left:te},"axes")),d.includes("cells")&&(Ke.cells=l.jsx(e.Fragment,{children:l.jsx(j,{cells:Ye,cellComponent:L,borderRadius:F,borderWidth:G,isInteractive:pe,setActiveCell:_e,onMouseEnter:me,onMouseMove:be,onMouseLeave:ye,onClick:Ce,tooltip:Ie,enableLabels:oe})},"cells")),d.includes("legends")&&null!==He&&(Ke.legends=l.jsx(e.Fragment,{children:ve.map((function(t,i){return e.createElement(o.AnchoredContinuousColorsLegendSvg,u({},t,{key:i,containerWidth:Ee,containerHeight:Be,scale:He}))}))},"legends")),d.includes("annotations")&&ge.length>0&&(Ke.annotations=l.jsx(k,{cells:Ye,annotations:ge},"annotations"));var Ne={cells:Ye,activeCell:De,setActiveCell:_e};return l.jsx(t.SvgWrapper,{width:Re,height:Ae,margin:Object.assign({},Je,{top:Je.top,left:Je.left}),role:Oe,ariaLabel:Se,ariaLabelledBy:Te,ariaDescribedBy:Le,children:d.map((function(t,i){var o;return"function"==typeof t?l.jsx(e.Fragment,{children:e.createElement(t,Ne)},i):null!=(o=null==Ke?void 0:Ke[t])?o:null}))})},A=function(e){var i=e.isInteractive,o=void 0===i?f.isInteractive:i,n=e.animate,r=void 0===n?f.animate:n,a=e.motionConfig,d=void 0===a?f.motionConfig:a,s=e.theme,c=e.renderWrapper,v=h(e,q);return l.jsx(t.Container,{animate:r,isInteractive:o,motionConfig:d,renderWrapper:c,theme:s,children:l.jsx(R,u({isInteractive:o},v))})},V=function(e,t){var i=t.cell,o=i.x,n=i.y,r=i.width,a=i.height,l=i.color,d=i.borderColor,s=i.opacity,c=i.labelTextColor,u=i.label,h=t.borderWidth,v=t.enableLabels,f=t.theme;e.save(),e.globalAlpha=s,e.fillStyle=l,h>0&&(e.strokeStyle=d,e.lineWidth=h),e.fillRect(o-r/2,n-a/2,r,a),h>0&&e.strokeRect(o-r/2,n-a/2,r,a),v&&(e.fillStyle=c,e.font=(f.labels.text.fontWeight?f.labels.text.fontWeight+" ":"")+f.labels.text.fontSize+"px "+f.labels.text.fontFamily,e.textAlign="center",e.textBaseline="middle",e.fillText(u,o,n)),e.restore()},E=function(e,t){var i=t.cell,o=i.x,n=i.y,r=i.width,a=i.height,l=i.color,d=i.borderColor,s=i.opacity,c=i.labelTextColor,u=i.label,h=t.borderWidth,v=t.enableLabels,f=t.theme;e.save(),e.globalAlpha=s;var g=Math.min(r,a)/2;e.fillStyle=l,h>0&&(e.strokeStyle=d,e.lineWidth=h),e.beginPath(),e.arc(o,n,g,0,2*Math.PI),e.fill(),h>0&&e.stroke(),v&&(e.fillStyle=c,e.font=(f.labels.text.fontWeight?f.labels.text.fontWeight+" ":"")+f.labels.text.fontSize+"px "+f.labels.text.fontFamily,e.textAlign="center",e.textBaseline="middle",e.fillText(u,o,n)),e.restore()},B=["theme","isInteractive","animate","motionConfig","renderWrapper"],F=function(n){var d,s=n.data,c=n.layers,h=void 0===c?g.layers:c,v=n.valueFormat,f=n.width,x=n.height,p=n.margin,m=n.xInnerPadding,b=void 0===m?g.xInnerPadding:m,y=n.xOuterPadding,C=void 0===y?g.xOuterPadding:y,w=n.yInnerPadding,M=void 0===w?g.yInnerPadding:w,O=n.yOuterPadding,S=void 0===O?g.yOuterPadding:O,T=n.forceSquare,L=void 0===T?g.forceSquare:T,W=n.sizeVariation,j=void 0===W?g.sizeVariation:W,k=n.renderCell,q=void 0===k?g.renderCell:k,R=n.opacity,A=void 0===R?g.opacity:R,B=n.activeOpacity,F=void 0===B?g.activeOpacity:B,z=n.inactiveOpacity,G=void 0===z?g.inactiveOpacity:z,X=n.borderWidth,Y=void 0===X?g.borderWidth:X,H=n.borderColor,D=void 0===H?g.borderColor:H,_=n.enableGridX,J=void 0===_?g.enableGridX:_,K=n.enableGridY,N=void 0===K?g.enableGridY:K,Q=n.axisTop,U=void 0===Q?g.axisTop:Q,Z=n.axisRight,$=void 0===Z?g.axisRight:Z,ee=n.axisBottom,te=void 0===ee?g.axisBottom:ee,ie=n.axisLeft,oe=void 0===ie?g.axisLeft:ie,ne=n.enableLabels,re=void 0===ne?g.enableLabels:ne,ae=n.label,le=void 0===ae?g.label:ae,de=n.labelTextColor,se=void 0===de?g.labelTextColor:de,ce=n.colors,ue=void 0===ce?g.colors:ce,he=n.emptyColor,ve=void 0===he?g.emptyColor:he,fe=n.legends,ge=void 0===fe?g.legends:fe,xe=n.annotations,pe=void 0===xe?g.annotations:xe,me=n.isInteractive,be=void 0===me?g.isInteractive:me,ye=n.onClick,Ce=n.hoverTarget,we=void 0===Ce?g.hoverTarget:Ce,Me=n.tooltip,Pe=void 0===Me?g.tooltip:Me,Ie=n.role,Oe=n.ariaLabel,Se=n.ariaLabelledBy,Te=n.ariaDescribedBy,Le=n.pixelRatio,We=void 0===Le?g.pixelRatio:Le,je=e.useRef(null),ke=t.useDimensions(f,x,p),qe=ke.margin,Re=ke.innerWidth,Ae=ke.innerHeight,Ve=ke.outerWidth,Ee=ke.outerHeight,Be=P({data:s,valueFormat:v,width:Re,height:Ae,xInnerPadding:b,xOuterPadding:C,yInnerPadding:M,yOuterPadding:S,forceSquare:L,sizeVariation:j,colors:ue,emptyColor:ve,opacity:A,activeOpacity:F,inactiveOpacity:G,borderColor:D,label:le,labelTextColor:se,hoverTarget:we}),Fe=Be.width,ze=Be.height,Ge=Be.offsetX,Xe=Be.offsetY,Ye=Be.xScale,He=Be.yScale,De=Be.cells,_e=Be.colorScale,Je=Be.activeCell,Ke=Be.setActiveCell,Ne=e.useMemo((function(){return u({},qe,{top:qe.top+Xe,left:qe.left+Ge})}),[qe,Ge,Xe]),Qe=I(De,pe),Ue=r.useComputedAnnotations({annotations:Qe});d="function"==typeof q?q:"circle"===q?E:V;var Ze=t.useTheme(),$e=e.useMemo((function(){return{cells:De,activeCell:Je,setActiveCell:Ke}}),[De,Je,Ke]);e.useEffect((function(){if(null!==je.current){var e=je.current.getContext("2d");e&&(je.current.width=Ve*We,je.current.height=Ee*We,e.scale(We,We),e.fillStyle=Ze.background,e.fillRect(0,0,Ve,Ee),e.translate(Ne.left,Ne.top),h.forEach((function(t){"grid"===t?(e.lineWidth=Ze.grid.line.strokeWidth,e.strokeStyle=Ze.grid.line.stroke,J&&i.renderGridLinesToCanvas(e,{width:Fe,height:ze,scale:Ye,axis:"x"}),N&&i.renderGridLinesToCanvas(e,{width:Fe,height:ze,scale:He,axis:"y"})):"axes"===t?i.renderAxesToCanvas(e,{xScale:Ye,yScale:He,width:Fe,height:ze,top:U,right:$,bottom:te,left:oe,theme:Ze}):"cells"===t?(e.textAlign="center",e.textBaseline="middle",De.forEach((function(t){d(e,{cell:t,borderWidth:Y,enableLabels:re,theme:Ze})}))):"legends"===t&&null!==_e?ge.forEach((function(t){o.renderContinuousColorLegendToCanvas(e,u({},t,{containerWidth:Fe,containerHeight:ze,scale:_e,theme:Ze}))})):"annotations"===t?r.renderAnnotationsToCanvas(e,{annotations:Ue,theme:Ze}):"function"==typeof t&&t(e,$e)})))}}),[je,We,Ve,Ee,Fe,ze,Ne,h,$e,De,d,J,N,U,$,te,oe,Ye,He,Ze,Y,re,_e,ge,Ue]);var et=a.useTooltip(),tt=et.showTooltipFromEvent,it=et.hideTooltip,ot=e.useCallback((function(i){if(null!==je.current){var o=t.getRelativeCursor(je.current,i),n=o[0],r=o[1],a=De.find((function(e){return t.isCursorInRect(e.x+Ne.left-e.width/2,e.y+Ne.top-e.height/2,e.width,e.height,n,r)}));void 0!==a?(Ke(a),tt(e.createElement(Pe,{cell:a}),i)):(Ke(null),it())}}),[je,De,Ne,Ke,tt,it,Pe]),nt=e.useCallback((function(){Ke(null),it()}),[Ke,it]),rt=e.useCallback((function(e){null!==Je&&(null==ye||ye(Je,e))}),[Je,ye]);return l.jsx("canvas",{ref:je,width:Ve*We,height:Ee*We,style:{width:Ve,height:Ee},onMouseEnter:be?ot:void 0,onMouseMove:be?ot:void 0,onMouseLeave:be?nt:void 0,onClick:be?rt:void 0,role:Ie,"aria-label":Oe,"aria-labelledby":Se,"aria-describedby":Te})},z=function(e){var i=e.theme,o=e.isInteractive,n=void 0===o?g.isInteractive:o,r=e.animate,a=void 0===r?g.animate:r,d=e.motionConfig,s=void 0===d?g.motionConfig:d,c=e.renderWrapper,v=h(e,B);return l.jsx(t.Container,{isInteractive:n,animate:a,motionConfig:s,theme:i,renderWrapper:c,children:l.jsx(F,u({isInteractive:n},v))})};exports.HeatMap=A,exports.HeatMapCanvas=z,exports.ResponsiveHeatMap=function(e){return l.jsx(t.ResponsiveWrapper,{children:function(t){var i=t.width,o=t.height;return l.jsx(A,u({width:i,height:o},e))}})},exports.ResponsiveHeatMapCanvas=function(e){return l.jsx(t.ResponsiveWrapper,{children:function(t){var i=t.width,o=t.height;return l.jsx(z,u({width:i,height:o},e))}})},exports.canvasDefaultProps=g,exports.commonDefaultProps=v,exports.computeCells=p,exports.computeLayout=x,exports.computeSizeScale=m,exports.getCellAnnotationDimensions=y,exports.getCellAnnotationPosition=b,exports.svgDefaultProps=f,exports.useCellAnnotations=I,exports.useComputeCells=C,exports.useHeatMap=P;
//# sourceMappingURL=nivo-heatmap.cjs.js.map
