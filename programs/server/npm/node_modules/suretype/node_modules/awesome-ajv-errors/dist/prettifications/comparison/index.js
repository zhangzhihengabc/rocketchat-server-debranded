"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.prettify = void 0;
const types_1 = require("../../types");
const style_1 = require("../../style");
const code_1 = require("../../code");
function prettify(context) {
    const { dataPath, error: { params: { comparison, limit } } } = types_1.getTypedContext(context);
    const [prePath, pathExpr, postPath] = style_1.pathDescription(context, 'value');
    const compHuman = comparison === '<='
        ? style_1.style.expr("less than or equal to", context)
        : comparison === '<'
            ? style_1.style.expr("strictly less than", context)
            : comparison === '>='
                ? style_1.style.expr("greater than or equal to", context)
                : comparison === '>'
                    ? style_1.style.expr("strictly greater than", context)
                    : style_1.style.operator(`${comparison}`, context);
    const validStatement = compHuman +
        style_1.style.number(` ${limit}`, context);
    const title = style_1.style.title(`The ${prePath}`, context) +
        pathExpr +
        style_1.style.title(`${postPath} should be `, context) +
        validStatement;
    const codeFrame = code_1.printCode('Ensure this is ' + validStatement, context.parsedJson, { dataPath: dataPath.dotOnly, markIdentifier: false });
    return { title, codeFrame };
}
exports.prettify = prettify;
