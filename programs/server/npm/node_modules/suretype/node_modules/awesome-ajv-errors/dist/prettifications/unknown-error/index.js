"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.prettify = void 0;
const code_1 = require("../../code");
const style_1 = require("../../style");
function prettify(context) {
    const { dataPath, error: { message, keyword } } = context;
    const [prePath, pathExpr, postPath] = style_1.pathDescription(context, 'property');
    const title = style_1.style.expr(`[${keyword}] `, context) +
        style_1.style.title(`The ${prePath}`, context) +
        pathExpr +
        style_1.style.title(`${postPath} ${message}`, context);
    const codeFrame = code_1.printCode(message, context.parsedJson, { dataPath: dataPath.dotOnly, markIdentifier: false });
    return { title, codeFrame };
}
exports.prettify = prettify;
