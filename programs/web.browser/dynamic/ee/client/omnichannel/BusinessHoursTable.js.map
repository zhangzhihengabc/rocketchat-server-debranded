)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/omnichannel/BusinessHoursTable.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Pagination, States, StatesIcon, StatesActions, StatesAction, StatesTitle } from '@rocket.chat/fuselage';\nimport { useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport React, { useMemo, useState } from 'react';\n\nimport FilterByText from '../../../client/components/FilterByText';\nimport GenericNoResults from '../../../client/components/GenericNoResults';\nimport {\n\tGenericTable,\n\tGenericTableBody,\n\tGenericTableHeaderCell,\n\tGenericTableHeader,\n\tGenericTableLoadingRow,\n} from '../../../client/components/GenericTable';\nimport { usePagination } from '../../../client/components/GenericTable/hooks/usePagination';\nimport BusinessHoursRow from './BusinessHoursRow';\n\nconst BusinessHoursTable = () => {\n\tconst t = useTranslation();\n\tconst [text, setText] = useState('');\n\n\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = usePagination();\n\n\tconst query = useMemo(\n\t\t() => ({\n\t\t\tcount: itemsPerPage,\n\t\t\toffset: current,\n\t\t\tname: text,\n\t\t}),\n\t\t[itemsPerPage, current, text],\n\t);\n\n\tconst getBusinessHours = useEndpoint('GET', '/v1/livechat/business-hours');\n\tconst { data, isLoading, isSuccess, isError, refetch } = useQuery(['livechat-buiness-hours', query], async () => getBusinessHours(query));\n\n\tconst headers = (\n\t\t<>\n\t\t\t<GenericTableHeaderCell>{t('Name')}</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell>{t('Timezone')}</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell>{t('Open_Days')}</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell width='x100'>{t('Enabled')}</GenericTableHeaderCell>\n\t\t\t<GenericTableHeaderCell width='x100'>{t('Remove')}</GenericTableHeaderCell>\n\t\t</>\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<FilterByText onChange={({ text }) => setText(text)} />\n\t\t\t{isLoading && (\n\t\t\t\t<GenericTable>\n\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t<GenericTableLoadingRow cols={5} />\n\t\t\t\t\t</GenericTableBody>\n\t\t\t\t</GenericTable>\n\t\t\t)}\n\t\t\t{isSuccess && data?.businessHours.length === 0 && <GenericNoResults />}\n\t\t\t{isSuccess && data?.businessHours.length > 0 && (\n\t\t\t\t<>\n\t\t\t\t\t<GenericTable>\n\t\t\t\t\t\t<GenericTableHeader>{headers}</GenericTableHeader>\n\t\t\t\t\t\t<GenericTableBody>\n\t\t\t\t\t\t\t{data?.businessHours.map((businessHour) => (\n\t\t\t\t\t\t\t\t<BusinessHoursRow key={businessHour._id} reload={refetch} {...businessHour} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</GenericTableBody>\n\t\t\t\t\t</GenericTable>\n\t\t\t\t\t<Pagination\n\t\t\t\t\t\tdivider\n\t\t\t\t\t\tcurrent={current}\n\t\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\t\tcount={data.total || 0}\n\t\t\t\t\t\tonSetItemsPerPage={onSetItemsPerPage}\n\t\t\t\t\t\tonSetCurrent={onSetCurrent}\n\t\t\t\t\t\t{...paginationProps}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{isError && (\n\t\t\t\t<States>\n\t\t\t\t\t<StatesIcon name='warning' variation='danger' />\n\t\t\t\t\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\n\t\t\t\t\t<StatesActions>\n\t\t\t\t\t\t<StatesAction onClick={() => refetch()}>{t('Reload_page')}</StatesAction>\n\t\t\t\t\t</StatesActions>\n\t\t\t\t</States>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default BusinessHoursTable;\n",null],"names":["_extends","_objectWithoutProperties","Pagination","States","StatesIcon","StatesActions","StatesAction","StatesTitle","useTranslation","useEndpoint","useQuery","React","useMemo","useState","FilterByText","GenericNoResults","GenericTable","GenericTableBody","GenericTableHeaderCell","GenericTableHeader","GenericTableLoadingRow","usePagination","BusinessHoursRow","module","link","default","v","exportDefault","t","text","setText","_usePagination","current","itemsPerPage","setItemsPerPage","onSetItemsPerPage","setCurrent","onSetCurrent","paginationProps","_excluded","query","count","offset","name","getBusinessHours","data","isLoading","isSuccess","isError","refetch","headers","createElement","Fragment","width","onChange","_ref","cols","businessHours","length","map","businessHour","key","_id","reload","divider","total","variation","onClick"],"mappings":"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"}