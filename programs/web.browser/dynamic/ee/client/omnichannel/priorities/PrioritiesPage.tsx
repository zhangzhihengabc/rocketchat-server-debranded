function module(e,t,i){let a,r,l,s,n,o,c,u,d,p,h,k,m,P,v,y,g,E;let f=["reset"];i.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},0),i.export({PrioritiesPage:()=>b}),i.link("@rocket.chat/fuselage",{Button(e){r=e},ButtonGroup(e){l=e}},0),i.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){s=e}},1),i.link("@rocket.chat/ui-contexts",{useEndpoint(e){n=e},useRoute(e){o=e},useSetModal(e){c=e},useToastMessageDispatch(e){u=e},useTranslation(e){d=e}},2),i.link("@tanstack/react-query",{useQueryClient(e){p=e}},3),i.link("react",{default(e){h=e},useMemo(e){k=e},useState(e){m=e}},4),i.link("../../../../client/components/Page",{default(e){P=e}},5),i.link("../hooks/useOmnichannelPriorities",{useOmnichannelPriorities(e){v=e}},6),i.link("./PrioritiesResetModal",{PrioritiesResetModal(e){y=e}},7),i.link("./PrioritiesTable",{PrioritiesTable(e){g=e}},8),i.link("./PriorityList",{default(e){E=e}},9);let b=e=>{let{priorityId:t,context:i}=e,b=d(),w=p(),x=o("omnichannel-priorities"),C=u(),R=c(),[M,T]=m(!1),Q=n("PUT","/v1/livechat/priorities/:priorityId",{priorityId:t}),S=n("POST","/v1/livechat/priorities.reset"),{data:O,isLoading:B}=v(),D=k(()=>!!O.length&&O.some(e=>e.dirty),[O]),I=s(e=>{x.push({context:"edit",id:e})}),L=async e=>{let{reset:t}=e,i=a(e,f);await Q(t?{reset:t}:i),await w.invalidateQueries(["/v1/livechat/priorities"]),C({type:"success",message:b("Priority_saved")}),await w.invalidateQueries(["/v1/livechat/priorities"],{exact:!0}),x.push({})};return h.createElement(P,{flexDirection:"row"},h.createElement(P,null,h.createElement(P.Header,{title:b("Priorities")},h.createElement(l,null,h.createElement(r,{onClick:()=>{let e=async()=>{try{T(!0),R(null),await S(),await w.invalidateQueries(["/v1/livechat/priorities"],{exact:!0}),x.push({}),C({type:"success",message:b("Priorities_restored")})}catch(e){C({type:"error",message:e})}finally{T(!1)}};R(h.createElement(y,{onReset:e,onCancel:()=>R(null)}))},title:b("Reset"),disabled:!D,loading:M},b("Reset")))),h.createElement(P.Content,null,h.createElement(g,{priorities:O,isLoading:B,onRowClick:I}))),"edit"===i&&h.createElement(E,{priorityId:t,context:i,onSave:L,onClose:()=>{x.push({})}}))}}
//# sourceMappingURL=/dynamic/ee/client/omnichannel/priorities/4252df45ec564937f927e20226b4d241bdce3dce.map
