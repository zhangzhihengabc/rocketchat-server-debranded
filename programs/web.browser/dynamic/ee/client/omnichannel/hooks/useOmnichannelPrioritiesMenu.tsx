function module(e,i,t){let r,a,l,n,o,c,s,u,h,d,k,p;t.link("@babel/runtime/helpers/objectSpread2",{default(e){r=e}},0),t.export({useOmnichannelPrioritiesMenu:()=>m}),t.link("@rocket.chat/core-typings",{LivechatPriorityWeight(e){a=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){l=e}},1),t.link("@rocket.chat/ui-contexts",{useEndpoint(e){n=e},useTranslation(e){o=e}},2),t.link("@tanstack/react-query",{useQueryClient(e){c=e}},3),t.link("react",{default(e){s=e},useCallback(e){u=e},useMemo(e){h=e}},4),t.link("../../../../client/lib/toast",{dispatchToastMessage(e){d=e}},5),t.link("../priorities/PriorityIcon",{PriorityIcon(e){k=e}},6),t.link("./useOmnichannelPriorities",{useOmnichannelPriorities(e){p=e}},7);let m=e=>{let i=o(),t=c(),m=n("POST","/v1/livechat/room/:rid/priority",{rid:e}),y=n("DELETE","/v1/livechat/room/:rid/priority",{rid:e}),{data:b}=p(),E=l(i=>async()=>{try{i?await m({priorityId:i}):await y(),t.invalidateQueries(["current-chats"]),t.invalidateQueries(["/v1/rooms.info",e])}catch(e){d({type:"error",message:e})}}),P=u((e,i)=>s.createElement(s.Fragment,null,s.createElement(k,{level:i||a.NOT_SPECIFIED,showUnprioritized:!0})," ",e),[]);return h(()=>{let e={type:"heading",label:i("Priorities")},t={type:"option",action:E(""),label:{label:P(i("Unprioritized"),a.NOT_SPECIFIED)}},l=b.reduce((e,i)=>{let{_id:t,name:r,i18n:a,dirty:l,sortItem:n}=i,o=l&&r?r:a;return e[o]={action:E(t),label:{label:P(o,n)}},e},{});return b.length?r({menuHeading:e,Unprioritized:t},l):{}},[i,E,b,P])}}
//# sourceMappingURL=/dynamic/ee/client/omnichannel/hooks/1827043d047fab5121560049f370f6278d5a4594.map
