function module(e,t,l){let a,n,r,o,i,c,u,m,s,d,E,v,h,p,g,b,k,C,f,x,y,F,T,D,_,q,B,S;l.link("@babel/runtime/helpers/extends",{default(e){a=e}},0),l.link("@rocket.chat/fuselage",{Field(e){n=e},FieldLabel(e){r=e},FieldRow(e){o=e},FieldError(e){i=e},TextInput(e){c=e},Button(e){u=e},ButtonGroup(e){m=e},FieldGroup(e){s=e},Box(e){d=e}},0),l.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){E=e},useUniqueId(e){v=e}},1),l.link("@rocket.chat/ui-contexts",{useToastMessageDispatch(e){h=e},useRouter(e){p=e},useMethod(e){g=e},useTranslation(e){b=e}},2),l.link("@tanstack/react-query",{useQueryClient(e){k=e}},3),l.link("react",{default(e){C=e}},4),l.link("react-hook-form",{useForm(e){f=e},Controller(e){x=e}},5),l.link("../../../../client/components/AutoCompleteDepartmentMultiple",{default(e){y=e}},6),l.link("../../../../client/components/Contextualbar",{ContextualbarScrollableContent(e){F=e},ContextualbarFooter(e){T=e},ContextualbarTitle(e){D=e},Contextualbar(e){_=e},ContextualbarHeader(e){q=e},ContextualbarClose(e){B=e}},7),l.link("./useRemoveTag",{useRemoveTag(e){S=e}},8),l.exportDefault(e=>{var t;let{tagData:l,currentDepartments:w}=e,M=b(),R=p(),A=k(),G=S(),I=h(),N=g("livechat:saveTag"),{_id:Q,name:H,description:L}=l||{},{control:U,formState:{isDirty:j,errors:z},handleSubmit:J}=f({mode:"onBlur",values:{name:H||"",description:L||"",departments:(null==w?void 0:w.map(e=>({label:e.name,value:e._id})))||[]}}),K=E(async e=>{let{name:t,description:l,departments:a}=e,n=(null==a?void 0:a.map(e=>e.value))||[""];try{await N(Q,{name:t,description:l},n),I({type:"success",message:M("Saved")}),A.invalidateQueries(["livechat-tags"])}catch(e){I({type:"error",message:e})}finally{R.navigate("/omnichannel/tags")}}),O=v(),P=v(),V=v(),W=v();return C.createElement(_,null,C.createElement(q,null,C.createElement(D,null,Q?M("Edit_Tag"):M("New_Tag")),C.createElement(B,{onClick:()=>R.navigate("/omnichannel/tags")})),C.createElement(F,null,C.createElement(d,{id:O,is:"form",autoComplete:"off",onSubmit:J(K)},C.createElement(s,null,C.createElement(n,null,C.createElement(r,{htmlFor:P,required:!0},M("Name")),C.createElement(o,null,C.createElement(x,{name:"name",control:U,rules:{required:M("The_field_is_required","name")},render:e=>{var t;let{field:l}=e;return C.createElement(c,a({},l,{error:null==z?void 0:null===(t=z.name)||void 0===t?void 0:t.message,"aria-describedby":"".concat(P,"-error")}))}})),(null==z?void 0:z.name)&&C.createElement(i,{"aria-live":"assertive",id:"".concat(P,"-error")},null==z?void 0:null===(t=z.name)||void 0===t?void 0:t.message)),C.createElement(n,null,C.createElement(r,{htmlFor:V},M("Description")),C.createElement(o,null,C.createElement(x,{name:"description",control:U,render:e=>{let{field:t}=e;return C.createElement(c,a({id:V},t))}}))),C.createElement(n,null,C.createElement(r,{htmlFor:W},M("Departments")),C.createElement(o,null,C.createElement(x,{name:"departments",control:U,render:e=>{let{field:{onChange:t,value:l,onBlur:a}}=e;return C.createElement(y,{id:W,onChange:t,value:l,onBlur:a,showArchived:!0})}})))))),C.createElement(T,null,C.createElement(m,{stretch:!0},C.createElement(u,{onClick:()=>R.navigate("/omnichannel/tags")},M("Cancel")),C.createElement(u,{form:O,disabled:!j,type:"submit",primary:!0},M("Save"))),Q&&C.createElement(m,{stretch:!0,mbs:8},C.createElement(u,{icon:"trash",danger:!0,onClick:()=>G(Q)},M("Delete")))))})}
//# sourceMappingURL=/dynamic/ee/client/omnichannel/tags/1eb1b922115ab78386aac851953e57d1180b5383.map
