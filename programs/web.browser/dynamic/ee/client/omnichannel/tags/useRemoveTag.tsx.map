)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/omnichannel/tags/useRemoveTag.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSetModal, useToastMessageDispatch, useRouter, useMethod, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React from 'react';\n\nimport GenericModal from '../../../../client/components/GenericModal';\n\nexport const useRemoveTag = () => {\n\tconst t = useTranslation();\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst removeTag = useMethod('livechat:removeTag');\n\tconst queryClient = useQueryClient();\n\tconst router = useRouter();\n\n\tconst handleDeleteTag = useMutableCallback((tagId) => {\n\t\tconst handleDelete = async () => {\n\t\t\ttry {\n\t\t\t\tawait removeTag(tagId);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Tag_removed') });\n\t\t\t\trouter.navigate('/omnichannel/tags');\n\t\t\t\tqueryClient.invalidateQueries(['livechat-tags']);\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t} finally {\n\t\t\t\tsetModal();\n\t\t\t}\n\t\t};\n\n\t\tsetModal(<GenericModal variant='danger' onConfirm={handleDelete} onCancel={() => setModal()} confirmText={t('Delete')} />);\n\t});\n\n\treturn handleDeleteTag;\n};\n",null],"names":["useMutableCallback","useSetModal","useToastMessageDispatch","useRouter","useMethod","useTranslation","useQueryClient","React","GenericModal","module","export","useRemoveTag","default","t","setModal","dispatchToastMessage","removeTag","queryClient","router","handleDeleteTag","tagId","handleDelete","type","message","navigate","invalidateQueries","error","createElement","variant","onConfirm","onCancel","confirmText"],"mappings":"2BAAmCA,EAA8BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjEC,EAAOC,MAAE,CAAA,CAAAC,aAAkB,IAAEA,CAAM,GAA8BF,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAT,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAR,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAH,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,QAAAA,CAAAG,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,6CAAAA,CAAAG,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAO1D,IAAMG,EAAe,KAC3B,IAAME,EAAIR,IACJS,EAAWb,IACXc,EAAuBb,IACvBc,EAAYZ,EAAU,sBACtBa,EAAcX,IACdY,EAASf,IAETgB,EAAkBnB,EAAoBoB,IAC3C,IAAMC,EAAe,UACpB,GAAI,CACH,MAAML,EAAUI,GAChBL,EAAqB,CAAEO,KAAM,UAAWC,QAASV,EAAE,cAAc,GACjEK,EAAOM,QAAQ,CAAC,qBAChBP,EAAYQ,iBAAiB,CAAC,CAAC,gBAAgB,EAC9C,MAAOC,EAAO,CACfX,EAAqB,CAAEO,KAAM,QAASC,QAASG,CAAK,UAC3C,CACTZ,IAEF,EAEAA,EAASP,EAAAoB,aAAA,CAACnB,EAAY,CAACoB,QAAQ,SAASC,UAAWR,EAAcS,SAAU,IAAMhB,IAAYiB,YAAalB,EAAE,SAAU,GACvH,GAEA,OAAOM,CACR"}