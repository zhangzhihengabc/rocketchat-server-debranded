)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/omnichannel/tags/AutoCompleteTagsMultiple.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { PaginatedMultiSelectOption } from '@rocket.chat/fuselage';\nimport { PaginatedMultiSelectFiltered } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { memo, useMemo, useState } from 'react';\n\nimport { useRecordList } from '../../../../client/hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../../../../client/hooks/useAsyncState';\nimport { useTagsList } from '../../hooks/useTagsList';\n\ntype AutoCompleteTagsMultipleProps = {\n\tvalue?: PaginatedMultiSelectOption[];\n\tonlyMyTags?: boolean;\n\tonChange?: (value: PaginatedMultiSelectOption[]) => void;\n\tdepartment?: string;\n\tviewAll?: boolean;\n};\n\nconst AutoCompleteTagsMultiple = ({\n\tvalue = [],\n\tonlyMyTags = false,\n\tonChange = () => undefined,\n\tdepartment,\n\tviewAll = false,\n}: AutoCompleteTagsMultipleProps) => {\n\tconst t = useTranslation();\n\tconst [tagsFilter, setTagsFilter] = useState('');\n\n\tconst debouncedTagsFilter = useDebouncedValue(tagsFilter, 500);\n\n\tconst { itemsList: tagsList, loadMoreItems: loadMoreTags } = useTagsList(\n\t\tuseMemo(\n\t\t\t() => ({ filter: debouncedTagsFilter, onlyMyTags, department, viewAll }),\n\t\t\t[debouncedTagsFilter, onlyMyTags, department, viewAll],\n\t\t),\n\t);\n\n\tconst { phase: tagsPhase, items: tagsItems, itemCount: tagsTotal } = useRecordList(tagsList);\n\n\tconst tagsOptions = useMemo(() => {\n\t\tconst pending = value.filter(({ value }) => !tagsItems.find((tag) => tag.value === value));\n\t\treturn [...tagsItems, ...pending];\n\t}, [tagsItems, value]);\n\n\treturn (\n\t\t<PaginatedMultiSelectFiltered\n\t\t\twithTitle\n\t\t\tvalue={value}\n\t\t\tonChange={onChange}\n\t\t\tfilter={tagsFilter}\n\t\t\tsetFilter={setTagsFilter}\n\t\t\toptions={tagsOptions}\n\t\t\twidth='100%'\n\t\t\tflexShrink={0}\n\t\t\tflexGrow={0}\n\t\t\tplaceholder={t('Select_an_option')}\n\t\t\tendReached={\n\t\t\t\ttagsPhase === AsyncStatePhase.LOADING ? () => undefined : (start) => start && loadMoreTags(start, Math.min(50, tagsTotal))\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default memo(AutoCompleteTagsMultiple);\n",null],"names":["PaginatedMultiSelectFiltered","useDebouncedValue","useTranslation","React","memo","useMemo","useState","useRecordList","AsyncStatePhase","useTagsList","module","link","default","exportDefault","_ref","value","onlyMyTags","onChange","undefined","department","viewAll","t","tagsFilter","setTagsFilter","debouncedTagsFilter","itemsList","tagsList","loadMoreItems","loadMoreTags","filter","phase","tagsPhase","items","tagsItems","itemCount","tagsTotal","tagsOptions","pending","_ref2","find","tag","createElement","withTitle","setFilter","options","width","flexShrink","flexGrow","placeholder","endReached","LOADING","start","Math","min"],"mappings":"2BACAA,EAAqEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA5DC,EAA8BC,IAAA,CAAM,wBAAwB,CAAAX,6BAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAT,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAR,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAT,EAAAA,CAAA,EAAAC,KAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,+CAAAA,CAAAH,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,yCAAAA,CAAAF,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,0BAAAA,CAAAD,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAArEC,EAAOG,aAAE,CA8DMT,EA7CkBU,IAMG,GANF,CACjCC,MAAAA,EAAQ,EAAE,CACVC,WAAAA,EAAa,CAAA,CAAK,CAClBC,SAAAA,EAAW,IAAMC,KAAAA,CAAS,CAC1BC,WAAAA,CAAU,CACVC,QAAAA,EAAU,CAAA,CAAA,CACqB,CAAAN,EACzBO,EAAInB,IACJ,CAACoB,EAAYC,EAAc,CAAGjB,EAAS,IAEvCkB,EAAsBvB,EAAkBqB,EAAY,KAEpD,CAAEG,UAAWC,CAAQ,CAAEC,cAAeC,CAAAA,CAAc,CAAGnB,EAC5DJ,EACC,IAAO,CAAA,CAAEwB,OAAQL,EAAqBR,WAAAA,EAAYG,WAAAA,EAAYC,QAAAA,CAAO,CAAA,EACrE,CAACI,EAAqBR,EAAYG,EAAYC,EAAQ,GAIlD,CAAEU,MAAOC,CAAS,CAAEC,MAAOC,CAAS,CAAEC,UAAWC,CAAAA,CAAW,CAAG5B,EAAcmB,GAE7EU,EAAc/B,EAAQ,KAC3B,IAAMgC,EAAUtB,EAAMc,MAAM,CAACS,IAAA,GAAC,CAAEvB,MAAAA,CAAAA,CAAO,CAAAuB,EAAA,MAAK,CAACL,EAAUM,IAAI,CAAEC,GAAQA,EAAIzB,KAAK,GAAKA,EAAM,GACzF,MAAO,IAAIkB,KAAcI,EAAQ,AAClC,EAAG,CAACJ,EAAWlB,EAAM,EAErB,OACCZ,EAAAsC,aAAA,CAACzC,EAA4B,CAC5B0C,UAAS,CAAA,EACT3B,MAAOA,EACPE,SAAUA,EACVY,OAAQP,EACRqB,UAAWpB,EACXqB,QAASR,EACTS,MAAM,OACNC,WAAY,EACZC,SAAU,EACVC,YAAa3B,EAAE,oBACf4B,WACClB,IAAcvB,EAAgB0C,OAAO,CAAG,IAAMhC,KAAAA,EAAaiC,GAAUA,GAASvB,EAAauB,EAAOC,KAAKC,GAAG,CAAC,GAAIlB,GAC/G,EAGJ"}