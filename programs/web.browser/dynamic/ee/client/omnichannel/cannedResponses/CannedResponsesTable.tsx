function module(e,t,n){let a,l,r,c,s,o,i,u,d,m,p,h,k,g,T,E,b,f,v,x,y,C,_,P,R,w,G,S,B,A,D;let F=["current","itemsPerPage","setItemsPerPage","setCurrent"];n.link("@babel/runtime/helpers/extends",{default(e){a=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default(e){l=e}},1),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){r=e}},2),n.link("@rocket.chat/fuselage",{Box(e){c=e},Pagination(e){s=e}},0),n.link("@rocket.chat/fuselage-hooks",{useDebouncedValue(e){o=e},useMutableCallback(e){i=e}},1),n.link("@rocket.chat/ui-contexts",{useTranslation(e){u=e},usePermission(e){d=e},useToastMessageDispatch(e){m=e},useEndpoint(e){p=e},useRouter(e){h=e}},2),n.link("@tanstack/react-query",{useQuery(e){k=e},hashQueryKey(e){g=e}},3),n.link("react",{default(e){T=e},useMemo(e){E=e},useState(e){b=e}},4),n.link("../../../../client/components/GenericNoResults",{default(e){f=e}},5),n.link("../../../../client/components/GenericTable",{GenericTable(e){v=e},GenericTableBody(e){x=e},GenericTableHeader(e){y=e},GenericTableHeaderCell(e){C=e},GenericTableLoadingRow(e){_=e},GenericTableRow(e){P=e},GenericTableCell(e){R=e}},6),n.link("../../../../client/components/GenericTable/hooks/usePagination",{usePagination(e){w=e}},7),n.link("../../../../client/components/GenericTable/hooks/useSort",{useSort(e){G=e}},8),n.link("../../../../client/components/avatar/UserAvatar",{default(e){S=e}},9),n.link("../../../../client/hooks/useFormatDateAndTime",{useFormatDateAndTime(e){B=e}},10),n.link("./CannedResponseFilter",{default(e){A=e}},11),n.link("./RemoveCannedResponseButton",{default(e){D=e}},12),n.exportDefault(()=>{let e=u(),t=h(),n=m(),I=B(),N=d("save-department-canned-responses"),j=d("save-all-canned-responses"),[H,M]=b("all"),[q,z]=b(""),[L,O]=b(""),Q=o(L,500),W=w(),{current:Y,itemsPerPage:J,setItemsPerPage:K,setCurrent:U}=W,V=r(W,F),{sortBy:X,setSort:Z,sortDirection:$}=G("shortcut"),ee=E(()=>l(l(l(l({text:Q,sort:JSON.stringify({[X]:"asc"===$?1:-1})},q&&{scope:q}),H&&"all"!==H&&{createdBy:H}),J&&{count:J}),Y&&{offset:Y}),[H,Y,Q,J,q,X,$]),[et]=b(g([ee])),en=et!==g([ee]),ea=p("GET","/v1/canned-responses"),{data:el,isLoading:er,isSuccess:ec,refetch:es}=k(["/v1/canned-responses",ee],()=>ea(ee),{refetchOnWindowFocus:!1}),eo=i(()=>t.navigate("/omnichannel/canned-responses/new")),ei=i((a,l)=>()=>{if("global"===l&&N&&!j)return n({type:"error",message:e("Not_authorized")});t.navigate("/omnichannel/canned-responses/edit/".concat(a))}),eu=E(()=>({global:e("Public"),department:e("Department"),user:e("Private")}),[e]),ed=T.createElement(T.Fragment,null,T.createElement(C,{key:"shortcut",direction:$,active:"shortcut"===X,onClick:Z,sort:"shortcut"},e("Shortcut")),T.createElement(C,{key:"sharing",direction:$,active:"scope"===X,onClick:Z,sort:"scope"},e("Sharing")),T.createElement(C,{key:"createdBy",direction:$,active:"createdBy"===X,onClick:Z,sort:"createdBy"},e("Created_by")),T.createElement(C,{key:"createdAt",direction:$,active:"_createdAt"===X,onClick:Z,sort:"_createdAt"},e("Created_at")),T.createElement(C,{key:"tags",direction:$,active:"tags"===X,onClick:Z,sort:"tags"},e("Tags")),T.createElement(C,{key:"remove",w:"x60"},e("Remove")));return T.createElement(T.Fragment,null,(ec&&(null==el?void 0:el.cannedResponses.length)>0||en)&&T.createElement(A,{createdBy:H,setCreatedBy:M,sharing:q,setSharing:z,text:L,setText:O}),er&&T.createElement(v,null,T.createElement(y,null,ed),T.createElement(x,null,T.createElement(_,{cols:6}))),ec&&(null==el?void 0:el.cannedResponses.length)===0&&en&&T.createElement(f,null),ec&&(null==el?void 0:el.cannedResponses.length)===0&&!en&&T.createElement(f,{icon:"baloon-exclamation",title:e("No_Canned_Responses_Yet"),description:e("No_Canned_Responses_Yet-description"),buttonTitle:e("Create_canned_response"),buttonAction:eo,linkHref:"https://go.rocket.chat/omnichannel-docs",linkText:e("Learn_more_about_canned_responses")}),ec&&(null==el?void 0:el.cannedResponses.length)>0&&T.createElement(T.Fragment,null,T.createElement(v,{"aria-busy":L!==Q},T.createElement(y,null,ed),T.createElement(x,null,null==el?void 0:el.cannedResponses.map(e=>{let{_id:t,shortcut:n,scope:a,createdBy:l,_createdAt:r,tags:s=[]}=e;return T.createElement(P,{key:t,tabIndex:0,role:"link",onClick:ei(t,a),action:!0,"qa-user-id":t},T.createElement(R,{withTruncatedText:!0},n),T.createElement(R,{withTruncatedText:!0},eu[a]),T.createElement(R,{withTruncatedText:!0},T.createElement(c,{display:"flex",alignItems:"center"},T.createElement(S,{size:"x24",username:l.username}),T.createElement(c,{display:"flex",withTruncatedText:!0,mi:8},T.createElement(c,{display:"flex",flexDirection:"column",alignSelf:"center",withTruncatedText:!0},T.createElement(c,{fontScale:"p2m",withTruncatedText:!0,color:"default"},l.username))))),T.createElement(R,{withTruncatedText:!0},I(r)),T.createElement(R,{withTruncatedText:!0},s.join(", ")),!("global"===a&&N&&!j)&&T.createElement(D,{_id:t,reload:es}))}))),T.createElement(s,a({divider:!0,current:Y,itemsPerPage:J,count:(null==el?void 0:el.total)||0,onSetItemsPerPage:K,onSetCurrent:U},V))))})}
//# sourceMappingURL=/dynamic/ee/client/omnichannel/cannedResponses/7f5ef7a3b88380986608fc1bcc4bb1cd61105a18.map
