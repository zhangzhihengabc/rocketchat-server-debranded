)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/omnichannel/units/UnitEditWithData.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IOmnichannelBusinessUnit } from '@rocket.chat/core-typings';\nimport { Callout } from '@rocket.chat/fuselage';\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport React from 'react';\n\nimport { ContextualbarSkeleton } from '../../../../client/components/Contextualbar';\nimport UnitEdit from './UnitEdit';\n\nconst UnitEditWithData = ({ unitId }: { unitId: IOmnichannelBusinessUnit['_id'] }) => {\n\tconst t = useTranslation();\n\n\tconst getUnitById = useEndpoint('GET', '/v1/livechat/units/:id', { id: unitId });\n\tconst getMonitorsByUnitId = useEndpoint('GET', '/v1/livechat/units/:unitId/monitors', { unitId });\n\tconst getDepartmentsByUnitId = useEndpoint('GET', '/v1/livechat/units/:unitId/departments', { unitId });\n\n\tconst {\n\t\tdata: unitData,\n\t\tisError,\n\t\tisLoading,\n\t} = useQuery(['livechat-getUnitById', unitId], async () => getUnitById(), { refetchOnWindowFocus: false });\n\tconst {\n\t\tdata: unitMonitors,\n\t\tisError: unitMonitorsError,\n\t\tisLoading: unitMonitorsLoading,\n\t} = useQuery(['livechat-getMonitorsByUnitId', unitId], async () => getMonitorsByUnitId({ unitId }), { refetchOnWindowFocus: false });\n\tconst {\n\t\tdata: unitDepartments,\n\t\tisError: unitDepartmentsError,\n\t\tisLoading: unitDepartmentsLoading,\n\t} = useQuery(['livechat-getDepartmentsByUnitId', unitId], async () => getDepartmentsByUnitId({ unitId }), {\n\t\trefetchOnWindowFocus: false,\n\t});\n\n\tif (isLoading || unitMonitorsLoading || unitDepartmentsLoading) {\n\t\treturn <ContextualbarSkeleton />;\n\t}\n\n\tif (isError || unitMonitorsError || unitDepartmentsError) {\n\t\treturn (\n\t\t\t<Callout m={16} type='danger'>\n\t\t\t\t{t('Not_Available')}\n\t\t\t</Callout>\n\t\t);\n\t}\n\n\treturn <UnitEdit unitData={unitData} unitMonitors={unitMonitors.monitors} unitDepartments={unitDepartments.departments} />;\n};\n\nexport default UnitEditWithData;\n",null],"names":["Callout","useEndpoint","useTranslation","useQuery","React","ContextualbarSkeleton","UnitEdit","module","link","default","exportDefault","_ref","unitId","t","getUnitById","id","getMonitorsByUnitId","getDepartmentsByUnitId","data","unitData","isError","isLoading","refetchOnWindowFocus","unitMonitors","unitMonitorsError","unitMonitorsLoading","unitDepartments","unitDepartmentsError","unitDepartmentsLoading","createElement","m","type","monitors","departments"],"mappings":"2BACAA,EAAgDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvCC,EAASC,IAAA,CAAM,wBAAwB,CAAAR,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAN,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAJ,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,8CAAAA,CAAAF,sBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,aAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAAhDC,EAAOG,aAAW,CAQOC,IAA4D,GAA3D,CAAEC,OAAAA,CAAAA,CAAqD,CAAAD,EAC1EE,EAAIX,IAEJY,EAAcb,EAAY,MAAO,yBAA0B,CAAEc,GAAIH,CAAM,GACvEI,EAAsBf,EAAY,MAAO,sCAAuC,CAAEW,OAAAA,CAAM,GACxFK,EAAyBhB,EAAY,MAAO,yCAA0C,CAAEW,OAAAA,CAAM,GAE9F,CACLM,KAAMC,CAAQ,CACdC,QAAAA,CAAO,CACPC,UAAAA,CAAAA,CACA,CAAGlB,EAAS,CAAC,uBAAwBS,EAAO,CAAE,SAAYE,IAAe,CAAEQ,qBAAsB,CAAA,CAAK,GACjG,CACLJ,KAAMK,CAAY,CAClBH,QAASI,CAAiB,CAC1BH,UAAWI,CAAAA,CACX,CAAGtB,EAAS,CAAC,+BAAgCS,EAAO,CAAE,SAAYI,EAAoB,CAAEJ,OAAAA,CAAM,GAAK,CAAEU,qBAAsB,CAAA,CAAK,GAC3H,CACLJ,KAAMQ,CAAe,CACrBN,QAASO,CAAoB,CAC7BN,UAAWO,CAAAA,CACX,CAAGzB,EAAS,CAAC,kCAAmCS,EAAO,CAAE,SAAYK,EAAuB,CAAEL,OAAAA,CAAM,GAAK,CACzGU,qBAAsB,CAAA,WAGvB,AAAID,GAAaI,GAAuBG,EAChCxB,EAAAyB,aAAA,CAACxB,EAAqB,MAG1Be,GAAWI,GAAqBG,EAElCvB,EAAAyB,aAAA,CAAC7B,EAAO,CAAC8B,EAAG,GAAIC,KAAK,QAAQ,EAC3BlB,EAAE,kBAKCT,EAAAyB,aAAA,CAACvB,EAAQ,CAACa,SAAUA,EAAUI,aAAcA,EAAaS,QAAS,CAACN,gBAAiBA,EAAgBO,WAAAA,AAAY,EACxH"}