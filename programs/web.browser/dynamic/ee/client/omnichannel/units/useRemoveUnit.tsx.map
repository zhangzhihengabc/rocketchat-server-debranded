)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/omnichannel/units/useRemoveUnit.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSetModal, useToastMessageDispatch, useMethod, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport React from 'react';\n\nimport GenericModal from '../../../../client/components/GenericModal';\n\nexport const useRemoveUnit = () => {\n\tconst t = useTranslation();\n\tconst setModal = useSetModal();\n\tconst router = useRouter();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst queryClient = useQueryClient();\n\tconst removeUnit = useMethod('livechat:removeUnit');\n\n\tconst handleDelete = useMutableCallback((id) => {\n\t\tconst onDeleteAgent = async () => {\n\t\t\ttry {\n\t\t\t\tawait removeUnit(id);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Unit_removed') });\n\t\t\t\trouter.navigate('/omnichannel/units');\n\t\t\t\tqueryClient.invalidateQueries(['livechat-units']);\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t} finally {\n\t\t\t\tsetModal();\n\t\t\t}\n\t\t};\n\n\t\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteAgent} onCancel={() => setModal()} confirmText={t('Delete')} />);\n\t});\n\n\treturn handleDelete;\n};\n",null],"names":["useMutableCallback","useSetModal","useToastMessageDispatch","useMethod","useTranslation","useRouter","useQueryClient","React","GenericModal","module","export","useRemoveUnit","default","t","setModal","router","dispatchToastMessage","queryClient","removeUnit","handleDelete","id","onDeleteAgent","type","message","navigate","invalidateQueries","error","createElement","variant","onConfirm","onCancel","confirmText"],"mappings":"2BAAmCA,EAA8BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjEC,EAAOC,MAAE,CAAA,CAAAC,cAAoB,IAAAA,CAAM,GAA8BF,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAT,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAR,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAH,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,QAAAA,CAAAG,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,6CAAAA,CAAAG,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAO1D,IAAMG,EAAgB,KAC5B,IAAME,EAAIT,IACJU,EAAWb,IACXc,EAASV,IACTW,EAAuBd,IAEvBe,EAAcX,IACdY,EAAaf,EAAU,uBAEvBgB,EAAenB,EAAoBoB,IACxC,IAAMC,EAAgB,UACrB,GAAI,CACH,MAAMH,EAAWE,GACjBJ,EAAqB,CAAEM,KAAM,UAAWC,QAASV,EAAE,eAAe,GAClEE,EAAOS,QAAQ,CAAC,sBAChBP,EAAYQ,iBAAiB,CAAC,CAAC,iBAAiB,EAC/C,MAAOC,EAAO,CACfV,EAAqB,CAAEM,KAAM,QAASC,QAASG,CAAK,UAC3C,CACTZ,IAEF,EAEAA,EAASP,EAAAoB,aAAA,CAACnB,EAAY,CAACoB,QAAQ,SAASC,UAAWR,EAAeS,SAAU,IAAMhB,IAAYiB,YAAalB,EAAE,SAAU,GACxH,GAEA,OAAOM,CACR"}