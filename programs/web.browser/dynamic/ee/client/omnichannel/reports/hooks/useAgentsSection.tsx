function module(t,e,n){let o,a,s,r,i,c,l,u,d,_,g,p;n.link("@babel/runtime/helpers/objectSpread2",{default(t){o=t}},0),n.export({useAgentsSection:()=>m}),n.link("@rocket.chat/ui-contexts",{useEndpoint(t){a=t},useTranslation(t){s=t}},0),n.link("@tanstack/react-query",{useQuery(t){r=t}},1),n.link("react",{useMemo(t){i=t}},2),n.link("../../../../../client/components/GenericTable/hooks/useSort",{useSort(t){c=t}},3),n.link("../../../components/dashboards/periods",{getPeriodRange(t){l=t}},4),n.link("../../../components/dashboards/usePeriodSelectorStorage",{usePeriodSelectorStorage(t){u=t}},5),n.link("../components/constants",{COLORS(t){d=t},PERIOD_OPTIONS(t){_=t}},6),n.link("../utils/formatPeriodDescription",{formatPeriodDescription(t){g=t}},7),n.link("./useDefaultDownload",{useDefaultDownload(t){p=t}},8);let S=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.map(t=>o(o({},t),{},{color:d.info}))},m=()=>{var t;let e=s(),[n,d]=u("reports-agents-period",_),m=a("GET","/v1/livechat/analytics/dashboards/conversations-by-agent"),{sortBy:h,sortDirection:k,setSort:b}=c("total","desc"),{data:{data:v,total:y=0,unspecified:f=0}={data:[],total:0},refetch:O,isLoading:D,isError:P,isSuccess:I}=r(["omnichannel-reports","conversations-by-agent",n,h,k],async()=>{let{start:t,end:e}=l(n),a=await m({start:t.toISOString(),end:e.toISOString(),sort:JSON.stringify({[h]:"asc"===k?1:-1})});return o(o({},a),{},{data:S(a.data)})},{refetchInterval:3e5}),R=e("Conversations_by_agents"),w=e("__agents__agents_and__count__conversations__period__",{agents:null!==(t=v.length)&&void 0!==t?t:0,count:y,period:g(n,e)}),E=f>0?"(".concat(e("__count__without__assignee__",{count:f}),")"):"",T="".concat(w," ").concat(E),A=e("Omnichannel_Reports_Agents_Empty_Subtitle"),N=p({columnName:e("Agents"),title:R,data:v,period:n});return i(()=>({id:"conversations-by-agent",title:R,subtitle:T,emptyStateSubtitle:A,data:v,total:y,isLoading:D,isError:P,isDataFound:I&&v.length>0,periodSelectorProps:d,period:n,downloadProps:N,sortBy:h,sortDirection:k,setSort:b,onRetry:O}),[R,T,A,v,y,D,P,I,d,n,N,h,k,b,O])}}
//# sourceMappingURL=/dynamic/ee/client/omnichannel/reports/hooks/511fcb95c383d4082901a29f464baff7d1ccb13d.map
