function module(e,t,n){let l,c,o,r,i,a,u,s,m,f,x,E,d,k,b;n.link("@rocket.chat/fuselage",{Box(e){l=e},Divider(e){c=e},PositionAnimated(e){o=e},Tile(e){r=e}},0),n.link("@rocket.chat/ui-contexts",{useUserPreference(e){i=e},useTranslation(e){a=e}},1),n.link("react",{default(e){u=e},memo(e){s=e},useCallback(e){m=e},useRef(e){f=e},useState(e){x=e}},2),n.link("../../../../../../client/components/Backdrop",{Backdrop(e){E=e}},3),n.link("../../../../../../client/contexts/EmojiPickerContext",{useEmojiPicker(e){d=e}},4),n.link("../TextEditor",{default(e){k=e}},5),n.link("./InsertPlaceholderDropdown",{default(e){b=e}},6),n.exportDefault(s(e=>{let{onChange:t,value:n}=e,s=a(),v=i("useEmojis"),T=f(null),h=f(null),[g,p]=x(!1),{open:B}=d(),I=e=>m(()=>{if(null!=T&&T.current){let n=T.current.value,l=T.current.selectionStart,c=T.current.selectionEnd;"[]()"===e?l!==c&&(T.current.value="".concat(n.slice(0,l),"[").concat(n.slice(l,c),"]()").concat(n.slice(c))):T.current.value="".concat(n.slice(0,l)).concat(e).concat(n.slice(l,c)).concat(e).concat(n.slice(c)),T.current.focus(),"[]()"===e?l===c?T.current.setSelectionRange(l,c):T.current.setSelectionRange(c+3,c+3):T.current.setSelectionRange(l+1,c+1),t(T.current.value)}},[e]),S=e=>{if(null!=T&&T.current){let n=T.current.value,l=T.current.selectionStart,c=":".concat(e,": ");T.current.value=n.slice(0,l)+c+n.slice(l),T.current.focus(),T.current.setSelectionRange(l+c.length,l+c.length),t(T.current.value)}};return u.createElement(k,null,u.createElement(k.Toolbox,null,u.createElement(l,{display:"flex",flexDirection:"row"},u.createElement(k.Toolbox.IconButton,{name:"bold",action:I("*"),title:s("Bold")}),u.createElement(k.Toolbox.IconButton,{name:"italic",action:I("_"),title:s("Italic")}),u.createElement(k.Toolbox.IconButton,{name:"strike",action:I("~"),title:s("Strike")}),u.createElement(k.Toolbox.IconButton,{name:"link",action:I("[]()"),title:s("Link")}),u.createElement(k.Toolbox.IconButton,{name:"emoji",action:()=>{if(v){if(!(null!=T&&T.current))throw Error("Missing textAreaRef");B(T.current,e=>S(e))}},title:s("Emoji")})),u.createElement(k.Toolbox.TextButton,{text:"Insert_Placeholder",action:()=>{(null==T?void 0:T.current)&&T.current.focus(),p(!g)},ref:h}),u.createElement(E,{display:g?"block":"none",onClick:()=>{(null==T?void 0:T.current)&&T.current.focus(),p(!1)}}),u.createElement(o,{visible:g?"visible":"hidden",anchor:h},u.createElement(r,{elevation:"1",w:"224px"},u.createElement(b,{onChange:t,textAreaRef:T,setVisible:p})))),u.createElement(c,{w:"full",mbe:"16px"}),u.createElement(k.Textarea,{value:n,onChange:t,rows:10,ref:T}))}))}
//# sourceMappingURL=/dynamic/ee/client/omnichannel/components/CannedResponse/MarkdownTextEditor/b9b4795c741bcc3e2335f179fc537889131775fb.map
