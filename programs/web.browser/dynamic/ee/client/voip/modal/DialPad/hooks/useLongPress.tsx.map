)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/voip/modal/DialPad/hooks/useLongPress.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { MouseEvent, MouseEventHandler, TouchEvent, TouchEventHandler } from 'react';\nimport { useRef } from 'react';\n\ntype UseLongPressResult = {\n\tonClick: MouseEventHandler<HTMLButtonElement>;\n\tonMouseDown: MouseEventHandler<HTMLButtonElement>;\n\tonMouseUp: MouseEventHandler<HTMLButtonElement>;\n\tonTouchStart: TouchEventHandler<HTMLButtonElement>;\n\tonTouchEnd: TouchEventHandler<HTMLButtonElement>;\n};\n\nexport function useLongPress(\n\tonLongPress: () => void,\n\toptions?: Partial<UseLongPressResult> & {\n\t\tthreshold?: number;\n\t},\n): UseLongPressResult {\n\tconst isLongPress = useRef(false);\n\tconst timerRef = useRef<NodeJS.Timeout>();\n\n\tconst startPressTimer = useMutableCallback((): void => {\n\t\tisLongPress.current = false;\n\t\ttimerRef.current = setTimeout(() => {\n\t\t\tisLongPress.current = true;\n\t\t\tonLongPress();\n\t\t}, options?.threshold ?? 700);\n\t});\n\n\tconst handleOnClick = useMutableCallback((e: MouseEvent<HTMLButtonElement>): void => {\n\t\tif (isLongPress.current || !options?.onClick) {\n\t\t\treturn;\n\t\t}\n\n\t\toptions.onClick(e);\n\t});\n\n\tconst handleOnMouseDown = useMutableCallback((e: MouseEvent<HTMLButtonElement>): void => {\n\t\tstartPressTimer();\n\n\t\toptions?.onMouseDown?.(e);\n\t});\n\n\tconst handleOnMouseUp = useMutableCallback((e: MouseEvent<HTMLButtonElement>): void => {\n\t\tclearTimeout(timerRef.current);\n\n\t\toptions?.onMouseUp?.(e);\n\t});\n\n\tconst handleOnTouchStart = useMutableCallback((e: TouchEvent<HTMLButtonElement>): void => {\n\t\tstartPressTimer();\n\n\t\toptions?.onTouchStart?.(e);\n\t});\n\n\tconst handleOnTouchEnd = useMutableCallback((e: TouchEvent<HTMLButtonElement>): void => {\n\t\tclearTimeout(timerRef.current);\n\n\t\tif (options?.onTouchEnd) {\n\t\t\toptions.onTouchEnd(e);\n\t\t}\n\t});\n\n\treturn {\n\t\tonClick: handleOnClick,\n\t\tonMouseDown: handleOnMouseDown,\n\t\tonMouseUp: handleOnMouseUp,\n\t\tonTouchStart: handleOnTouchStart,\n\t\tonTouchEnd: handleOnTouchEnd,\n\t};\n}\n",null],"names":["useMutableCallback","useRef","useLongPress","onLongPress","options","isLongPress","timerRef","startPressTimer","_options$threshold","current","setTimeout","threshold","handleOnClick","e","onClick","handleOnMouseDown","_options$onMouseDown","onMouseDown","call","handleOnMouseUp","_options$onMouseUp","clearTimeout","onMouseUp","handleOnTouchStart","_options$onTouchStart","onTouchStart","handleOnTouchEnd","onTouchEnd","module","export"],"mappings":"2BAAmCA,EAA8BC,EAY3D,SAAUC,EACfC,CAAuB,CACvBC,CAEC,EAED,IAAMC,EAAcJ,EAAO,CAAA,GACrBK,EAAWL,IAEXM,EAAkBP,EAAmB,KAAW,IAAAQ,CACrDH,CAAAA,EAAYI,OAAO,CAAG,CAAA,EACtBH,EAASG,OAAO,CAAGC,WAAW,KAC7BL,EAAYI,OAAO,CAAG,CAAA,EACtBN,GACD,EAAC,AAAoB,OAApBK,CAAAA,EAAEJ,MAAAA,EAAO,KAAA,EAAPA,EAASO,SAAS,AAATA,GAASH,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAC1B,GAEMI,EAAgBZ,EAAoBa,KACrCR,EAAYI,OAAO,EAAKL,MAAAA,GAAAA,EAASU,OAAO,EAI5CV,EAAQU,OAAO,CAACD,EACjB,GAEME,EAAoBf,EAAoBa,IAA0C,IAAAG,EACvFT,IAEAH,MAAAA,GAAO,AAAa,OAAbY,CAAAA,EAAPZ,EAASa,WAAW,AAAXA,GAAWD,AAAA,KAAA,IAAAA,GAApBA,EAAAE,IAAA,CAAAd,EAAuBS,EACxB,GAEMM,EAAkBnB,EAAoBa,IAA0C,IAAAO,EACrFC,aAAaf,EAASG,OAAO,EAE7BL,MAAAA,GAAO,AAAW,OAAXgB,CAAAA,EAAPhB,EAASkB,SAAS,AAATA,GAASF,AAAA,KAAA,IAAAA,GAAlBA,EAAAF,IAAA,CAAAd,EAAqBS,EACtB,GAEMU,EAAqBvB,EAAoBa,IAA0C,IAAAW,EACxFjB,IAEAH,MAAAA,GAAO,AAAc,OAAdoB,CAAAA,EAAPpB,EAASqB,YAAY,AAAZA,GAAYD,AAAA,KAAA,IAAAA,GAArBA,EAAAN,IAAA,CAAAd,EAAwBS,EACzB,GAEMa,EAAmB1B,EAAoBa,IAC5CQ,aAAaf,EAASG,OAAO,QAEzBL,GAAAA,EAASuB,UAAU,EACtBvB,EAAQuB,UAAU,CAACd,EAErB,GAEA,MAAO,CACNC,QAASF,EACTK,YAAaF,EACbO,UAAWH,EACXM,aAAcF,EACdI,WAAYD,EAEd,CAtEAE,EAAOC,MAAE,CAAA,CAAA3B,aAAkB,IAAEA,CAAM,GAA8B0B,EAAAA,IAAAA,CAAAA,8BAAAA,CAAA5B,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAA4B,EAAAA,IAAAA,CAAAA,QAAAA,CAAA3B,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA"}