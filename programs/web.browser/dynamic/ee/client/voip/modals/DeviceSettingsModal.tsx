function module(e,t,l){let n,i,o,a,r,u,c,d,s,v,m,p,D,f,E,k,b,h,g,x,C;l.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),l.link("@rocket.chat/fuselage",{Modal(e){i=e},Field(e){o=e},FieldLabel(e){a=e},FieldRow(e){r=e},Select(e){u=e},Button(e){c=e},Box(e){d=e}},0),l.link("@rocket.chat/ui-contexts",{useTranslation(e){s=e},useAvailableDevices(e){v=e},useToastMessageDispatch(e){m=e},useSetModal(e){p=e},useSelectedDevices(e){D=e},useIsDeviceManagementEnabled(e){f=e}},1),l.link("react",{default(e){E=e},useState(e){k=e}},2),l.link("react-hook-form",{useForm(e){b=e},Controller(e){h=e}},3),l.link("../../../../client/contexts/CallContext",{useChangeAudioInputDevice(e){g=e},useChangeAudioOutputDevice(e){x=e}},4),l.link("../../../../client/providers/DeviceProvider/lib/isSetSinkIdAvailable",{isSetSinkIdAvailable(e){C=e}},5),l.exportDefault(()=>{var e,t,l,S;let _=p(),I=f(),y=s(),A=m(),F=D(),{handleSubmit:w,control:M}=b({defaultValues:{inputDevice:(null==F?void 0:null===(e=F.audioInput)||void 0===e?void 0:e.id)||"",outputDevice:(null==F?void 0:null===(t=F.audioOutput)||void 0===t?void 0:t.id)||""}}),[O]=k(()=>C()),T=v(),B=g(),N=x(),H=(null==T?void 0:null===(l=T.audioInput)||void 0===l?void 0:l.map(e=>[e.id,e.label]))||[],L=(null==T?void 0:null===(S=T.audioOutput)||void 0===S?void 0:S.map(e=>[e.id,e.label]))||[],P=async e=>{var t,l;let n=e.inputDevice&&(null==T?void 0:null===(t=T.audioInput)||void 0===t?void 0:t.find(t=>t.id===e.inputDevice)),i=e.outputDevice&&(null==T?void 0:null===(l=T.audioOutput)||void 0===l?void 0:l.find(t=>t.id===e.outputDevice));try{n&&B(n),i&&N(i),_(),A({type:"success",message:y("Devices_Set")})}catch(e){A({type:"error",message:e})}};return E.createElement(i,{wrapperFunction:e=>E.createElement(d,n({is:"form",onSubmit:w(P)},e))},E.createElement(i.Header,null,E.createElement(i.Title,null,y("Device_settings")),E.createElement(i.Close,{onClick:()=>_()})),E.createElement(i.Content,{fontScale:"p2"},!O&&E.createElement(d,{color:"status-font-on-danger",display:"flex",flexDirection:"column"},y("Device_Changes_Not_Available"),E.createElement(d,{is:"a",href:"https://rocket.chat/download",target:"_blank",rel:"noopener noreferrer"},y("Download_Destkop_App"))),!I&&E.createElement(d,{color:"status-font-on-danger",display:"flex",flexDirection:"column"},y("Device_Changes_Not_Available_Insecure_Context")),E.createElement(o,null,E.createElement(a,null,y("Microphone")),E.createElement(r,{w:"full",display:"flex",flexDirection:"column",alignItems:"stretch"},E.createElement(h,{name:"inputDevice",control:M,render:e=>{let{field:t}=e;return E.createElement(u,n({disabled:!O},t,{options:H||[]}))}}))),E.createElement(o,null,E.createElement(a,null,y("Speakers")),E.createElement(r,{w:"full",display:"flex",flexDirection:"column",alignItems:"stretch"},E.createElement(h,{name:"outputDevice",control:M,render:e=>{let{field:t}=e;return E.createElement(u,n({disabled:!O},t,{options:L||[]}))}})))),E.createElement(i.Footer,null,E.createElement(i.FooterControllers,null,E.createElement(c,{onClick:()=>_()},y("Cancel")),E.createElement(c,{disabled:!O,primary:!0,onClick:w(P)},y("Save")))))})}
//# sourceMappingURL=/dynamic/ee/client/voip/modals/d6a9e80fd85ce0a75fbbc8494cbbd36bbcd8c7f2.map
