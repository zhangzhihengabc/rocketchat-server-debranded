function module(e,t,a){let r,n,s,l,i,o,c;a.export({RealAppsEngineUIHost:()=>p}),a.link("@rocket.chat/apps-engine/client/AppsEngineUIHost",{AppsEngineUIHost(e){r=e}},0),a.link("meteor/meteor",{Meteor(e){n=e}},1),a.link("../../../app/models/client",{ChatRoom(e){s=e}},2),a.link("../../../app/utils/client/getUserAvatarURL",{getUserAvatarURL(e){l=e}},3),a.link("../../../app/utils/client/lib/SDKClient",{sdk(e){i=e}},4),a.link("../../../client/lib/RoomManager",{RoomManager(e){o=e}},5),a.link("../../../client/lib/baseURI",{baseURI(e){c=e}},6);class p extends r{constructor(){super(),this._baseURL=c.replace(/\/$/,"")}getUserAvatarUrl(e){let t=l(e);return t.startsWith("http")||t.startsWith("data")?t:"".concat(this._baseURL).concat(t)}async getClientRoomInfo(){let{name:e,_id:t}=s.findOne(o.opened),a=[];try{let{members:e}=await i.rest.get("/v1/groups.members",{roomId:t});a=e.map(e=>{let{_id:t,username:a}=e;return{id:t,username:a,avatarUrl:this.getUserAvatarUrl(a)}})}catch(e){console.warn(e)}return{id:t,slugifiedName:e,members:a}}async getClientUserInfo(){let{username:e,_id:t}=n.user();return{id:t,username:e,avatarUrl:this.getUserAvatarUrl(e)||""}}}}
//# sourceMappingURL=/dynamic/ee/client/apps/99d5d14f8b52e5e013c620587b87e588a435c70f.map
