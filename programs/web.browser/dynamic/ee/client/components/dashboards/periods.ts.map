)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/components/dashboards/periods.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport moment from 'moment';\n\nconst label = (\n\ttranslationKey: TranslationKey,\n\t...replacements: unknown[]\n): readonly [translationKey: TranslationKey, ...replacements: unknown[]] => [translationKey, ...replacements];\n\nconst lastNDays =\n\t(\n\t\tn: number,\n\t): ((utc: boolean) => {\n\t\tstart: Date;\n\t\tend: Date;\n\t}) =>\n\t(utc): { start: Date; end: Date } => ({\n\t\tstart: utc ? moment.utc().startOf('day').subtract(n, 'days').toDate() : moment().startOf('day').subtract(n, 'days').toDate(),\n\t\tend: utc ? moment.utc().endOf('day').toDate() : moment().endOf('day').toDate(),\n\t});\n\nconst periods = [\n\t{\n\t\tkey: 'today',\n\t\tlabel: label('Today'),\n\t\trange: lastNDays(0),\n\t},\n\t{\n\t\tkey: 'this week',\n\t\tlabel: label('This_week'),\n\t\trange: lastNDays(7),\n\t},\n\t{\n\t\tkey: 'last 7 days',\n\t\tlabel: label('Last_7_days'),\n\t\trange: lastNDays(7),\n\t},\n\t{\n\t\tkey: 'last 15 days',\n\t\tlabel: label('Last_15_days'),\n\t\trange: lastNDays(15),\n\t},\n\t{\n\t\tkey: 'this month',\n\t\tlabel: label('This_month'),\n\t\trange: lastNDays(30),\n\t},\n\t{\n\t\tkey: 'last 30 days',\n\t\tlabel: label('Last_30_days'),\n\t\trange: lastNDays(30),\n\t},\n\t{\n\t\tkey: 'last 90 days',\n\t\tlabel: label('Last_90_days'),\n\t\trange: lastNDays(90),\n\t},\n\t{\n\t\tkey: 'last 6 months',\n\t\tlabel: label('Last_6_months'),\n\t\trange: lastNDays(180),\n\t},\n\t{\n\t\tkey: 'last year',\n\t\tlabel: label('Last_year'),\n\t\trange: lastNDays(365),\n\t},\n] as const;\n\nexport type Period = (typeof periods)[number];\n\nexport const getPeriod = (key: (typeof periods)[number]['key']): Period => {\n\tconst period = periods.find((period) => period.key === key);\n\n\tif (!period) {\n\t\tthrow new Error(`\"${key}\" is not a valid period key`);\n\t}\n\n\treturn period;\n};\n\nexport const getPeriodRange = (\n\tkey: (typeof periods)[number]['key'],\n\tutc = true,\n): {\n\tstart: Date;\n\tend: Date;\n} => {\n\tconst period = periods.find((period) => period.key === key);\n\n\tif (!period) {\n\t\tthrow new Error(`\"${key}\" is not a valid period key`);\n\t}\n\n\treturn period.range(utc);\n};\n",null],"names":["moment","module","export","getPeriod","getPeriodRange","default","label","translationKey","_len","arguments","length","replacements","Array","_key","lastNDays","n","utc","start","startOf","subtract","toDate","end","endOf","periods","key","range","period","find","Error","concat","undefined"],"mappings":"2BAC4BA,EAA5BC,EAAOC,MAAM,CAAA,CAAAC,UAAM,IAASA,EAAAC,eAAAA,IAAAA,CAAA,GAAAH,EAAAA,IAAAA,CAAAA,SAAAA,CAAAI,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAE5B,IAAMM,EAAQ,SACbC,CAA8B,EAAA,IAAA,IAAAC,EAAAC,UAAAC,MAAA,CAC3BC,EAAuB,AAAAC,MAAAJ,EAAA,EAAAA,EAAA,EAAA,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAvBF,CAAuB,CAAAE,EAAA,EAAA,CAAAJ,SAAA,CAAAI,EAAA,CAAA,MACiD,CAACN,KAAmBI,EAAa,EAEvGG,EAEJC,GAKAC,GAAqC,CAAA,CACrCC,MAAOD,EAAMhB,EAAOgB,GAAG,GAAGE,OAAO,CAAC,OAAOC,QAAQ,CAACJ,EAAG,QAAQK,MAAM,GAAKpB,IAASkB,OAAO,CAAC,OAAOC,QAAQ,CAACJ,EAAG,QAAQK,MAAM,GAC1HC,IAAKL,EAAMhB,EAAOgB,GAAG,GAAGM,KAAK,CAAC,OAAOF,MAAM,GAAKpB,IAASsB,KAAK,CAAC,OAAOF,MAAM,KAGxEG,EAAU,CACf,CACCC,IAAK,QACLlB,MAAOA,EAAM,SACbmB,MAAOX,EAAU,IAElB,CACCU,IAAK,YACLlB,MAAOA,EAAM,aACbmB,MAAOX,EAAU,IAElB,CACCU,IAAK,cACLlB,MAAOA,EAAM,eACbmB,MAAOX,EAAU,IAElB,CACCU,IAAK,eACLlB,MAAOA,EAAM,gBACbmB,MAAOX,EAAU,KAElB,CACCU,IAAK,aACLlB,MAAOA,EAAM,cACbmB,MAAOX,EAAU,KAElB,CACCU,IAAK,eACLlB,MAAOA,EAAM,gBACbmB,MAAOX,EAAU,KAElB,CACCU,IAAK,eACLlB,MAAOA,EAAM,gBACbmB,MAAOX,EAAU,KAElB,CACCU,IAAK,gBACLlB,MAAOA,EAAM,iBACbmB,MAAOX,EAAU,MAElB,CACCU,IAAK,YACLlB,MAAOA,EAAM,aACbmB,MAAOX,EAAU,MAET,CAIGX,EAAaqB,IACzB,IAAME,EAASH,EAAQI,IAAI,CAAED,GAAWA,EAAOF,GAAG,GAAKA,GAEvD,GAAI,CAACE,EACJ,MAAM,AAAIE,MAAK,IAAAC,MAAA,CAAKL,EAAG,gCAGxB,OAAOE,CACR,EAEatB,EAAiB,SAC7BoB,CAAoC,EAKjC,IAJHR,EAAGP,CAAAA,CAAAA,UAAAC,MAAA,CAAA,CAAA,GAAAD,AAAAqB,KAAAA,IAAArB,SAAA,CAAA,EAAA,EAAAA,SAAA,CAAA,EAAA,CAKGiB,EAASH,EAAQI,IAAI,CAAED,GAAWA,EAAOF,GAAG,GAAKA,GAEvD,GAAI,CAACE,EACJ,MAAM,AAAIE,MAAK,IAAAC,MAAA,CAAKL,EAAG,gCAGxB,OAAOE,EAAOD,KAAK,CAACT,EACrB"}