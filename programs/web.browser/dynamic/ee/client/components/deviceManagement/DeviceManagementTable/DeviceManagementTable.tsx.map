)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/components/deviceManagement/DeviceManagementTable/DeviceManagementTable.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { DeviceManagementSession, DeviceManagementPopulatedSession, Serialized } from '@rocket.chat/core-typings';\nimport { Box, Pagination, States, StatesAction, StatesActions, StatesIcon, StatesSubtitle, StatesTitle } from '@rocket.chat/fuselage';\nimport type { PaginatedResult } from '@rocket.chat/rest-typings';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React from 'react';\n\nimport GenericNoResults from '../../../../../client/components/GenericNoResults/GenericNoResults';\nimport {\n\tGenericTable,\n\tGenericTableHeader,\n\tGenericTableBody,\n\tGenericTableLoadingTable,\n} from '../../../../../client/components/GenericTable';\nimport { AsyncStatePhase } from '../../../../../client/lib/asyncState';\n\ntype DeviceManagementTableProps<T> = {\n\tdata?: Serialized<PaginatedResult<{ sessions: T[] }>>;\n\tphase?: Partial<AsyncStatePhase>;\n\terror?: Error;\n\treload?: () => void;\n\theaders: (ReactElement | false)[];\n\trenderRow: (data: Serialized<T>) => ReactElement;\n\tcurrent?: ComponentProps<typeof Pagination>['current'];\n\titemsPerPage?: ComponentProps<typeof Pagination>['itemsPerPage'];\n\tsetCurrent?: ComponentProps<typeof Pagination>['onSetCurrent'];\n\tsetItemsPerPage?: ComponentProps<typeof Pagination>['onSetItemsPerPage'];\n\tpaginationProps?: Partial<ComponentProps<typeof Pagination>>;\n};\n\n// TODO: Missing error state\nconst DeviceManagementTable = <T extends DeviceManagementSession | DeviceManagementPopulatedSession>({\n\tdata,\n\tphase,\n\terror,\n\treload,\n\theaders,\n\trenderRow,\n\tcurrent,\n\titemsPerPage,\n\tsetCurrent,\n\tsetItemsPerPage,\n\tpaginationProps,\n}: DeviceManagementTableProps<T>): ReactElement => {\n\tconst t = useTranslation();\n\n\tif (!data && phase === AsyncStatePhase.REJECTED) {\n\t\treturn (\n\t\t\t<Box display='flex' justifyContent='center' alignItems='center' height='100%'>\n\t\t\t\t<States>\n\t\t\t\t\t<StatesIcon name='warning' variation='danger' />\n\t\t\t\t\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\n\t\t\t\t\t<StatesSubtitle>{t('We_Could_not_retrive_any_data')}</StatesSubtitle>\n\t\t\t\t\t<StatesSubtitle>{error?.message}</StatesSubtitle>\n\t\t\t\t\t<StatesActions>\n\t\t\t\t\t\t<StatesAction onClick={reload}>{t('Retry')}</StatesAction>\n\t\t\t\t\t</StatesActions>\n\t\t\t\t</States>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{data?.sessions.length === 0 && phase === AsyncStatePhase.RESOLVED && <GenericNoResults />}\n\t\t\t<GenericTable>\n\t\t\t\t{data?.sessions && data.sessions.length > 0 && headers && <GenericTableHeader>{headers}</GenericTableHeader>}\n\t\t\t\t<GenericTableBody>\n\t\t\t\t\t{phase === AsyncStatePhase.LOADING && <GenericTableLoadingTable headerCells={headers.filter(Boolean).length} />}\n\t\t\t\t\t{phase === AsyncStatePhase.RESOLVED && data?.sessions && data.sessions.map(renderRow)}\n\t\t\t\t</GenericTableBody>\n\t\t\t</GenericTable>\n\t\t\t{phase === AsyncStatePhase.RESOLVED && (\n\t\t\t\t<Pagination\n\t\t\t\t\tdivider\n\t\t\t\t\tcurrent={current}\n\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\tcount={data?.total || 0}\n\t\t\t\t\tonSetCurrent={setCurrent}\n\t\t\t\t\tonSetItemsPerPage={setItemsPerPage}\n\t\t\t\t\t{...paginationProps}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default DeviceManagementTable;\n",null],"names":["_extends","Box","Pagination","States","StatesAction","StatesActions","StatesIcon","StatesSubtitle","StatesTitle","useTranslation","React","GenericNoResults","GenericTable","GenericTableHeader","GenericTableBody","GenericTableLoadingTable","AsyncStatePhase","module","link","default","v","exportDefault","_ref","data","phase","error","reload","headers","renderRow","current","itemsPerPage","setCurrent","setItemsPerPage","paginationProps","t","REJECTED","createElement","Fragment","sessions","length","RESOLVED","LOADING","headerCells","filter","Boolean","map","divider","count","total","onSetCurrent","onSetItemsPerPage","display","justifyContent","alignItems","height","name","variation","message","onClick"],"mappings":"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"}