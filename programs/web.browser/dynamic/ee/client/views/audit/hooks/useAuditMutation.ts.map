)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/audit/hooks/useAuditMutation.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IAuditLog } from '@rocket.chat/core-typings';\nimport { useMethod } from '@rocket.chat/ui-contexts';\nimport { useMutation } from '@tanstack/react-query';\n\nimport type { AuditFields } from './useAuditForm';\n\nexport const useAuditMutation = (type: IAuditLog['fields']['type']) => {\n\tconst getAuditMessages = useMethod('auditGetMessages');\n\tconst getOmnichannelAuditMessages = useMethod('auditGetOmnichannelMessages');\n\n\treturn useMutation(['audit'] as const, async ({ msg, dateRange, rid, users, visitor, agent }: AuditFields) => {\n\t\tif (type === 'l') {\n\t\t\treturn getOmnichannelAuditMessages({\n\t\t\t\ttype,\n\t\t\t\tmsg,\n\t\t\t\tstartDate: dateRange.start ?? new Date(0),\n\t\t\t\tendDate: dateRange.end ?? new Date(),\n\t\t\t\tusers,\n\t\t\t\tvisitor: '',\n\t\t\t\tagent: '',\n\t\t\t});\n\t\t}\n\n\t\treturn getAuditMessages({\n\t\t\ttype,\n\t\t\tmsg,\n\t\t\tstartDate: dateRange.start ?? new Date(0),\n\t\t\tendDate: dateRange.end ?? new Date(),\n\t\t\trid,\n\t\t\tusers,\n\t\t\tvisitor,\n\t\t\tagent,\n\t\t});\n\t});\n};\n",null],"names":["useMethod","useMutation","module","export","useAuditMutation","type","getAuditMessages","getOmnichannelAuditMessages","_ref","_dateRange$start2","_dateRange$end2","_dateRange$start","_dateRange$end","msg","dateRange","rid","users","visitor","agent","startDate","start","Date","endDate","end"],"mappings":"2BACqDA,EAAAC,EAArDC,EAAOC,MAAE,CAAA,CAAAC,iBAAiB,IAAAA,CAA0B,GAACF,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAF,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAD,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAK9C,IAAMG,EAAoBC,IAChC,IAAMC,EAAmBN,EAAU,oBAC7BO,EAA8BP,EAAU,+BAE9C,OAAOC,EAAY,CAAC,QAAiB,CAAE,MAAAO,QAAsEC,EAAAC,EAC1FC,EAAAC,EAD0F,GAA/D,CAAEC,IAAAA,CAAG,CAAEC,UAAAA,CAAS,CAAEC,IAAAA,CAAG,CAAEC,MAAAA,CAAK,CAAEC,QAAAA,CAAO,CAAEC,MAAAA,CAAAA,CAAoB,CAAAV,QACxG,AAAIH,AAAS,MAATA,EACIE,EAA4B,CAClCF,KAAAA,EACAQ,IAAAA,EACAM,UAAS,AAAiB,OAAjBR,CAAAA,EAAEG,EAAUM,KAAK,AAALA,GAAKT,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAAIU,KAAK,GACvCC,QAAO,AAAe,OAAfV,CAAAA,EAAEE,EAAUS,GAAG,AAAHA,GAAGX,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAAIS,KAC9BL,MAAAA,EACAC,QAAS,GACTC,MAAO,KAIFZ,EAAiB,CACvBD,KAAAA,EACAQ,IAAAA,EACAM,UAAS,AAAiB,OAAjBV,CAAAA,EAAEK,EAAUM,KAAK,AAALA,GAAKX,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAAIY,KAAK,GACvCC,QAAO,AAAe,OAAfZ,CAAAA,EAAEI,EAAUS,GAAG,AAAHA,GAAGb,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAAIW,KAC9BN,IAAAA,EACAC,MAAAA,EACAC,QAAAA,EACAC,MAAAA,GAEF,EACD"}