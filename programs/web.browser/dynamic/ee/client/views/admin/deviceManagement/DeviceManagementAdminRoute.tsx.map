)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/deviceManagement/DeviceManagementAdminRoute.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { usePermission, useRouter, useSetModal, useCurrentModal, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useEffect } from 'react';\n\nimport { getURL } from '../../../../../app/utils/client/getURL';\nimport GenericUpsellModal from '../../../../../client/components/GenericUpsellModal';\nimport { useUpsellActions } from '../../../../../client/components/GenericUpsellModal/hooks';\nimport PageSkeleton from '../../../../../client/components/PageSkeleton';\nimport NotAuthorizedPage from '../../../../../client/views/notAuthorized/NotAuthorizedPage';\nimport { useHasLicenseModule } from '../../../hooks/useHasLicenseModule';\nimport DeviceManagementAdminPage from './DeviceManagementAdminPage';\n\nconst DeviceManagementAdminRoute = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\tconst setModal = useSetModal();\n\tconst isModalOpen = useCurrentModal() !== null;\n\n\tconst hasDeviceManagement = useHasLicenseModule('device-management') as boolean;\n\tconst canViewDeviceManagement = usePermission('view-device-management');\n\n\tconst { shouldShowUpsell, handleManageSubscription } = useUpsellActions(hasDeviceManagement);\n\n\tuseEffect(() => {\n\t\tif (shouldShowUpsell) {\n\t\t\tsetModal(\n\t\t\t\t<GenericUpsellModal\n\t\t\t\t\ttitle={t('Device_Management')}\n\t\t\t\t\timg={getURL('images/device-management.png')}\n\t\t\t\t\tsubtitle={t('Ensure_secure_workspace_access')}\n\t\t\t\t\tdescription={t('Manage_which_devices')}\n\t\t\t\t\tonClose={() => setModal(null)}\n\t\t\t\t\tonConfirm={handleManageSubscription}\n\t\t\t\t\tonCancel={() => setModal(null)}\n\t\t\t\t/>,\n\t\t\t);\n\t\t}\n\t}, [shouldShowUpsell, router, setModal, t, handleManageSubscription]);\n\n\tif (isModalOpen) {\n\t\treturn <PageSkeleton />;\n\t}\n\n\tif (!canViewDeviceManagement || !hasDeviceManagement) {\n\t\treturn <NotAuthorizedPage />;\n\t}\n\n\treturn <DeviceManagementAdminPage />;\n};\n\nexport default DeviceManagementAdminRoute;\n",null],"names":["usePermission","useRouter","useSetModal","useCurrentModal","useTranslation","React","useEffect","getURL","GenericUpsellModal","useUpsellActions","PageSkeleton","NotAuthorizedPage","useHasLicenseModule","DeviceManagementAdminPage","module","v","default","exportDefault","t","router","setModal","isModalOpen","hasDeviceManagement","canViewDeviceManagement","shouldShowUpsell","handleManageSubscription","createElement","title","img","subtitle","description","onClose","onConfirm","onCancel"],"mappings":"2BAAAA,EAASC,EAAeC,EAAWC,EAAaC,EAAkEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjDC,EAAAA,IAAgB,CAAA,2BAAM,CAAAd,cAA2Be,CAAA,EAAAf,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAX,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,yCAAAA,CAAAP,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,sDAAAA,CAAAE,QAAAA,CAAAA,EAAAR,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,4DAAAA,CAAAL,iBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,gDAAAA,CAAAE,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,8DAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,qCAAAA,CAAAF,oBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAAlHC,EAAOG,aAAE,CAY0B,KAClC,IAAMC,EAAId,IACJe,EAASlB,IACTmB,EAAWlB,IACXmB,EAAclB,AAAsB,OAAtBA,IAEdmB,EAAsBV,EAAoB,qBAC1CW,EAA0BvB,EAAc,0BAExC,CAAEwB,iBAAAA,CAAgB,CAAEC,yBAAAA,CAAAA,CAA0B,CAAGhB,EAAiBa,SAkBxE,CAhBAhB,EAAU,KACLkB,GACHJ,EACCf,EAAAqB,aAAA,CAAClB,EAAkB,CAClBmB,MAAOT,EAAE,qBACTU,IAAKrB,EAAO,gCACZsB,SAAUX,EAAE,kCACZY,YAAaZ,EAAE,wBACfa,QAAS,IAAMX,EAAS,MACxBY,UAAWP,EACXQ,SAAU,IAAMb,EAAS,KAAM,GAInC,EAAG,CAACI,EAAkBL,EAAQC,EAAUF,EAAGO,EAAyB,EAEhEJ,GACIhB,EAAAqB,aAAA,CAAChB,EAAY,MAGjB,AAACa,GAA4BD,EAI1BjB,EAAAqB,aAAA,CAACb,EAAyB,MAHzBR,EAAAqB,aAAA,CAACf,EAAiB,KAI3B"}