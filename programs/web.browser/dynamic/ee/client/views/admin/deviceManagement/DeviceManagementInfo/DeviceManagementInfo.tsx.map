)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/deviceManagement/DeviceManagementInfo/DeviceManagementInfo.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { DeviceManagementPopulatedSession } from '@rocket.chat/core-typings';\nimport { Box, Button, ButtonGroup, StatusBullet } from '@rocket.chat/fuselage';\nimport { useRoute, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback } from 'react';\n\nimport {\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarClose,\n\tContextualbarScrollableContent,\n\tContextualbarFooter,\n\tContextualbarTitle,\n} from '../../../../../../client/components/Contextualbar';\nimport InfoPanel from '../../../../../../client/components/InfoPanel';\nimport UserAvatar from '../../../../../../client/components/avatar/UserAvatar';\nimport { useFormatDateAndTime } from '../../../../../../client/hooks/useFormatDateAndTime';\nimport { usePresence } from '../../../../../../client/hooks/usePresence';\nimport { useDeviceLogout } from '../../../../hooks/useDeviceLogout';\n\ntype DeviceManagementInfoProps = DeviceManagementPopulatedSession & {\n\tonReload: () => void;\n};\n\nconst DeviceManagementInfo = ({ device, sessionId, loginAt, ip, userId, _user, onReload }: DeviceManagementInfoProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst deviceManagementRouter = useRoute('device-management');\n\tconst formatDateAndTime = useFormatDateAndTime();\n\n\tconst handleDeviceLogout = useDeviceLogout(sessionId, '/v1/sessions/logout');\n\n\tconst { name: clientName, os, version: rcVersion } = device || {};\n\tconst { username, name } = _user || {};\n\tconst userPresence = usePresence(userId);\n\n\tconst handleCloseContextualBar = useCallback((): void => deviceManagementRouter.push({}), [deviceManagementRouter]);\n\n\treturn (\n\t\t<Contextualbar>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarTitle>{t('Device_Info')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={handleCloseContextualBar} />\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<InfoPanel>\n\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t<InfoPanel.Label>{t('Client')}</InfoPanel.Label>\n\t\t\t\t\t\t<InfoPanel.Text>{clientName}</InfoPanel.Text>\n\t\t\t\t\t</InfoPanel.Field>\n\n\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t<InfoPanel.Label>{t('Version')}</InfoPanel.Label>\n\t\t\t\t\t\t<InfoPanel.Text>{rcVersion || 'â€”'}</InfoPanel.Text>\n\t\t\t\t\t</InfoPanel.Field>\n\n\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t<InfoPanel.Label>{t('OS')}</InfoPanel.Label>\n\t\t\t\t\t\t<InfoPanel.Text>{`${os?.name || ''} ${os?.version || ''}`}</InfoPanel.Text>\n\t\t\t\t\t</InfoPanel.Field>\n\n\t\t\t\t\t{username && (\n\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t<InfoPanel.Label>{t('User')}</InfoPanel.Label>\n\t\t\t\t\t\t\t<Box>\n\t\t\t\t\t\t\t\t<UserAvatar username={username} etag={userPresence?.avatarETag} />\n\t\t\t\t\t\t\t\t<Box is='span' pi={8}>\n\t\t\t\t\t\t\t\t\t<StatusBullet status={userPresence?.status} />\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t{name && <Box is='span'>{name}</Box>}\n\t\t\t\t\t\t\t\t<Box is='span' color='hint'>\n\t\t\t\t\t\t\t\t\t{`(${username})`}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t<InfoPanel.Label>{t('Last_login')}</InfoPanel.Label>\n\t\t\t\t\t\t<InfoPanel.Text>{formatDateAndTime(loginAt)}</InfoPanel.Text>\n\t\t\t\t\t</InfoPanel.Field>\n\n\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t<InfoPanel.Label>{t('Device_ID')}</InfoPanel.Label>\n\t\t\t\t\t\t<InfoPanel.Text>{sessionId}</InfoPanel.Text>\n\t\t\t\t\t</InfoPanel.Field>\n\n\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t<InfoPanel.Label>{t('IP_Address')}</InfoPanel.Label>\n\t\t\t\t\t\t<InfoPanel.Text>{ip}</InfoPanel.Text>\n\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t</InfoPanel>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button primary onClick={(): void => handleDeviceLogout(onReload)}>\n\t\t\t\t\t\t{t('Logout_Device')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</Contextualbar>\n\t);\n};\n\nexport default DeviceManagementInfo;\n",null],"names":["Box","Button","ButtonGroup","StatusBullet","useRoute","useTranslation","React","useCallback","Contextualbar","ContextualbarHeader","ContextualbarClose","ContextualbarScrollableContent","ContextualbarFooter","ContextualbarTitle","InfoPanel","UserAvatar","useFormatDateAndTime","usePresence","useDeviceLogout","module","link","v","default","exportDefault","_ref","device","sessionId","loginAt","ip","userId","_user","onReload","t","deviceManagementRouter","formatDateAndTime","handleDeviceLogout","name","clientName","os","version","rcVersion","username","userPresence","handleCloseContextualBar","push","createElement","onClick","Field","Label","Text","concat","etag","avatarETag","is","pi","status","color","stretch","primary"],"mappings":"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"}