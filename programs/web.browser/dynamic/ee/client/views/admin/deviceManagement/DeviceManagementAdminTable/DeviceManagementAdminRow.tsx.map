)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/deviceManagement/DeviceManagementAdminTable/DeviceManagementAdminRow.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Menu, Option } from '@rocket.chat/fuselage';\nimport { useMediaQuery, useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useRoute, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { KeyboardEvent, ReactElement } from 'react';\nimport React, { useCallback } from 'react';\n\nimport { GenericTableRow, GenericTableCell } from '../../../../../../client/components/GenericTable';\nimport { useFormatDateAndTime } from '../../../../../../client/hooks/useFormatDateAndTime';\nimport DeviceIcon from '../../../../components/deviceManagement/DeviceIcon';\nimport { useDeviceLogout } from '../../../../hooks/useDeviceLogout';\n\ntype DeviceRowProps = {\n\t_id: string;\n\tusername?: string;\n\tip: string;\n\tdeviceName?: string;\n\tdeviceType?: string;\n\tdeviceOSName?: string;\n\tloginAt: string;\n\trcVersion?: string;\n\tonReload: () => void;\n};\n\nconst DeviceManagementAdminRow = ({\n\t_id,\n\tusername,\n\tip,\n\tdeviceName,\n\tdeviceType = 'browser',\n\tdeviceOSName = '',\n\tloginAt,\n\trcVersion,\n\tonReload,\n}: DeviceRowProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst deviceManagementRouter = useRoute('device-management');\n\tconst formatDateAndTime = useFormatDateAndTime();\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\n\tconst handleDeviceLogout = useDeviceLogout(_id, '/v1/sessions/logout');\n\n\tconst handleClick = useMutableCallback((): void => {\n\t\tdeviceManagementRouter.push({\n\t\t\tcontext: 'info',\n\t\t\tid: _id,\n\t\t});\n\t});\n\n\tconst handleKeyDown = useCallback(\n\t\t(e: KeyboardEvent<HTMLOrSVGElement>): void => {\n\t\t\tif (!['Enter', 'Space'].includes(e.nativeEvent.code)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\thandleClick();\n\t\t},\n\t\t[handleClick],\n\t);\n\n\tconst menuOptions = {\n\t\tlogout: {\n\t\t\tlabel: { label: t('Logout_Device'), icon: 'sign-out' },\n\t\t\taction: (): void => handleDeviceLogout(onReload),\n\t\t},\n\t};\n\n\treturn (\n\t\t<GenericTableRow key={_id} onKeyDown={handleKeyDown} onClick={handleClick} tabIndex={0} action>\n\t\t\t<GenericTableCell>\n\t\t\t\t<Box display='flex' alignItems='center'>\n\t\t\t\t\t<DeviceIcon deviceType={deviceType} />\n\t\t\t\t\t{deviceName && <Box withTruncatedText>{deviceName}</Box>}\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t\t<GenericTableCell>{rcVersion}</GenericTableCell>\n\t\t\t<GenericTableCell>{deviceOSName}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{username}</GenericTableCell>\n\t\t\t{mediaQuery && <GenericTableCell>{formatDateAndTime(loginAt)}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{_id}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{ip}</GenericTableCell>}\n\t\t\t<GenericTableCell onClick={(e): void => e.stopPropagation()}>\n\t\t\t\t<Menu\n\t\t\t\t\ttitle={t('Options')}\n\t\t\t\t\toptions={menuOptions}\n\t\t\t\t\trenderItem={({ label: { label, icon }, ...props }): ReactElement => <Option label={label} icon={icon} {...props} />}\n\t\t\t\t/>\n\t\t\t</GenericTableCell>\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default DeviceManagementAdminRow;\n",null],"names":["_extends","_objectWithoutProperties","Box","Menu","Option","useMediaQuery","useMutableCallback","useRoute","useTranslation","React","useCallback","GenericTableRow","GenericTableCell","useFormatDateAndTime","DeviceIcon","useDeviceLogout","module","link","default","v","exportDefault","_ref","_id","username","ip","deviceName","deviceType","deviceOSName","loginAt","rcVersion","onReload","t","deviceManagementRouter","formatDateAndTime","mediaQuery","handleDeviceLogout","handleClick","push","context","id","handleKeyDown","e","includes","nativeEvent","code","menuOptions","logout","label","icon","action","createElement","key","onKeyDown","onClick","tabIndex","display","alignItems","withTruncatedText","stopPropagation","title","options","renderItem","_ref2","props","_excluded"],"mappings":"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"}