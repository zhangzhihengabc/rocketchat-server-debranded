)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/deviceManagement/DeviceManagementInfo/DeviceManagementInfoWithData.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { Serialized, DeviceManagementPopulatedSession } from '@rocket.chat/core-typings';\nimport { Box, States, StatesIcon, StatesTitle, StatesSubtitle } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\n\nimport {\n\tContextualbar,\n\tContextualbarSkeleton,\n\tContextualbarHeader,\n\tContextualbarClose,\n\tContextualbarContent,\n\tContextualbarTitle,\n} from '../../../../../../client/components/Contextualbar';\nimport { useEndpointData } from '../../../../../../client/hooks/useEndpointData';\nimport { AsyncStatePhase } from '../../../../../../client/lib/asyncState';\nimport DeviceManagementInfo from './DeviceManagementInfo';\n\nconst convertSessionFromAPI = ({\n\tloginAt,\n\tlogoutAt,\n\t...rest\n}: Serialized<DeviceManagementPopulatedSession>): DeviceManagementPopulatedSession => ({\n\tloginAt: new Date(loginAt),\n\t...(logoutAt && { logoutAt: new Date(logoutAt) }),\n\t...rest,\n});\n\nconst DeviceInfoWithData = ({ deviceId, onReload }: { deviceId: string; onReload: () => void }): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst {\n\t\tvalue: data,\n\t\tphase,\n\t\terror,\n\t} = useEndpointData('/v1/sessions/info.admin', { params: useMemo(() => ({ sessionId: deviceId }), [deviceId]) });\n\n\tif (phase === AsyncStatePhase.LOADING) {\n\t\treturn (\n\t\t\t<Contextualbar>\n\t\t\t\t<ContextualbarSkeleton />\n\t\t\t</Contextualbar>\n\t\t);\n\t}\n\n\tif (error || !data) {\n\t\treturn (\n\t\t\t<Contextualbar>\n\t\t\t\t<ContextualbarHeader>\n\t\t\t\t\t<ContextualbarTitle>{t('Device_Info')}</ContextualbarTitle>\n\t\t\t\t\t<ContextualbarClose />\n\t\t\t\t</ContextualbarHeader>\n\t\t\t\t<ContextualbarContent>\n\t\t\t\t\t<Box display='flex' justifyContent='center' alignItems='center' height='100%'>\n\t\t\t\t\t\t<States>\n\t\t\t\t\t\t\t<StatesIcon name='warning' variation='danger' />\n\t\t\t\t\t\t\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\n\t\t\t\t\t\t\t<StatesSubtitle>{t('We_Could_not_retrive_any_data')}</StatesSubtitle>\n\t\t\t\t\t\t\t<StatesSubtitle>{error?.message}</StatesSubtitle>\n\t\t\t\t\t\t</States>\n\t\t\t\t\t</Box>\n\t\t\t\t</ContextualbarContent>\n\t\t\t</Contextualbar>\n\t\t);\n\t}\n\n\treturn <DeviceManagementInfo {...convertSessionFromAPI(data)} onReload={onReload} />;\n};\n\nexport default DeviceInfoWithData;\n",null],"names":["_extends","_objectSpread","_objectWithoutProperties","Box","States","StatesIcon","StatesTitle","StatesSubtitle","useTranslation","React","useMemo","Contextualbar","ContextualbarSkeleton","ContextualbarHeader","ContextualbarClose","ContextualbarContent","ContextualbarTitle","useEndpointData","AsyncStatePhase","DeviceManagementInfo","module","link","default","v","convertSessionFromAPI","_ref","loginAt","logoutAt","rest","_excluded","Date","exportDefault","_ref2","deviceId","onReload","t","value","data","phase","error","params","sessionId","LOADING","createElement","display","justifyContent","alignItems","height","name","variation","message"],"mappings":"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"}