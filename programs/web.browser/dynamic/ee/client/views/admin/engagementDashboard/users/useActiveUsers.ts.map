)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/engagementDashboard/users/useActiveUsers.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport moment from 'moment';\n\nimport { getPeriodRange } from '../../../../components/dashboards/periods';\n\ntype UseActiveUsersOptions = { utc: boolean };\n\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport const useActiveUsers = ({ utc }: UseActiveUsersOptions) => {\n\tconst getActiveUsers = useEndpoint('GET', '/v1/engagement-dashboard/users/active-users');\n\n\treturn useQuery(\n\t\t['admin/engagement-dashboard/users/active', { utc }],\n\t\tasync () => {\n\t\t\tconst { start, end } = getPeriodRange('last 30 days', utc);\n\n\t\t\tconst response = await getActiveUsers({\n\t\t\t\tstart: (utc ? moment.utc(start) : moment(start)).subtract(29, 'days').toISOString(),\n\t\t\t\tend: end.toISOString(),\n\t\t\t});\n\n\t\t\treturn response\n\t\t\t\t? {\n\t\t\t\t\t\t...response,\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tend,\n\t\t\t\t  }\n\t\t\t\t: undefined;\n\t\t},\n\t\t{\n\t\t\trefetchInterval: 5 * 60 * 1000,\n\t\t\tuseErrorBoundary: true,\n\t\t},\n\t);\n};\n",null],"names":["_objectSpread","useEndpoint","useQuery","moment","getPeriodRange","module","link","default","export","useActiveUsers","_ref","utc","getActiveUsers","start","end","response","subtract","toISOString","undefined","refetchInterval","useErrorBoundary"],"mappings":"2BAAAA,EAAuDC,EAAAC,EAAAC,EAAAC,EAA9CC,EAAaC,IAAM,CAAA,uCAA2B,CAAAC,QAAAA,CAAAA,EAAAP,EAAAA,CAAA,CAAA,EAAA,GAAvDK,EAAOG,MAAE,CAAA,CAAAC,eAAmB,IAAAA,CAAA,GAA2BJ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAJ,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAH,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,SAAAA,CAAAE,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,4CAAAA,CAAAD,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAShD,IAAMK,EAAiBC,IAAmC,GAAlC,CAAEC,IAAAA,CAAAA,CAA4B,CAAAD,EACtDE,EAAiBX,EAAY,MAAO,+CAE1C,OAAOC,EACN,CAAC,0CAA2C,CAAES,IAAAA,CAAG,EAAG,CACpD,UACC,GAAM,CAAEE,MAAAA,CAAK,CAAEC,IAAAA,CAAAA,CAAK,CAAGV,EAAe,eAAgBO,GAEhDI,EAAW,MAAMH,EAAe,CACrCC,MAAO,AAACF,CAAAA,EAAMR,EAAOQ,GAAG,CAACE,GAASV,EAAOU,EAAK,EAAGG,QAAQ,CAAC,GAAI,QAAQC,WAAW,GACjFH,IAAKA,EAAIG,WAAW,KAGrB,OAAOF,EAAQf,EAAAA,EAAA,CAAA,EAETe,GAAQ,CAAA,EAAA,CACXF,MAAAA,EACAC,IAAAA,CAAG,GAEHI,KAAAA,CACJ,EACA,CACCC,gBAAiB,IACjBC,iBAAkB,CAAA,GAGrB"}