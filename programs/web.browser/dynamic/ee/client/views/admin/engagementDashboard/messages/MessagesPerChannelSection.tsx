function module(e,t,l){let n,a,r,o,i,c,s,m,u,d,E,g,h,p,f,b,v,k,S,y,C,_,w,x,P;l.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),l.link("@nivo/pie",{ResponsivePie(e){a=e}},0),l.link("@rocket.chat/fuselage",{Box(e){r=e},Flex(e){o=e},Icon(e){i=e},Margins(e){c=e},Skeleton(e){s=e},Table(e){m=e},Tile(e){u=e},Palette(e){d=e},Tooltip(e){E=e},TableHead(e){g=e},TableRow(e){h=e},TableBody(e){p=e},TableCell(e){f=e}},1),l.link("@rocket.chat/ui-contexts",{useTranslation(e){b=e}},2),l.link("react",{default(e){v=e},useMemo(e){k=e}},3),l.link("../../../../components/dashboards/DownloadDataButton",{default(e){S=e}},4),l.link("../../../../components/dashboards/PeriodSelector",{default(e){y=e}},5),l.link("../../../../components/dashboards/usePeriodSelectorState",{usePeriodSelectorState(e){C=e}},6),l.link("../EngagementDashboardCardFilter",{default(e){_=e}},7),l.link("../dataView/LegendSymbol",{default(e){w=e}},8),l.link("./useMessageOrigins",{useMessageOrigins(e){x=e}},9),l.link("./useTopFivePopularChannels",{useTopFivePopularChannels(e){P=e}},10);let I={warning:d.statusColor["status-font-on-warning"].toString(),success:d.statusColor["status-font-on-success"].toString(),info:d.statusColor["status-font-on-info"].toString()};l.exportDefault(()=>{let[e,t]=C("last 7 days","last 30 days","last 90 days"),l=b(),{data:d}=x({period:e}),{data:T}=P({period:e}),M=k(()=>{var e;return null==d?void 0:null===(e=d.origins)||void 0===e?void 0:e.reduce((e,t)=>{let{messages:l,t:a}=t;return n(n({},e),{},{[a]:l})},{})},[d]),A=k(()=>{var e;return null==T?void 0:null===(e=T.channels)||void 0===e?void 0:e.reduce((e,t,l)=>{let{t:n,messages:a,name:r,usernames:o}=t;return[...e,{i:l,t:n,name:r||(null==o?void 0:o.join(" \xd7 ")),messages:a}]},[])},[T]);return v.createElement(v.Fragment,null,v.createElement(_,null,v.createElement(y,t),v.createElement(S,{attachmentName:"MessagesPerChannelSection_start_".concat(null==d?void 0:d.start,"_end_").concat(null==d?void 0:d.end),headers:["Room Type","Messages"],dataAvailable:!!d,dataExtractor:()=>null==d?void 0:d.origins.map(e=>{let{t,messages:l}=e;return[t,l]})})),v.createElement(o.Container,null,v.createElement(c,{inline:"neg-x12"},v.createElement(r,null,v.createElement(c,{inline:12},v.createElement(o.Item,{grow:1,shrink:0,basis:"0"},v.createElement(r,null,v.createElement(o.Container,{alignItems:"center",wrap:"no-wrap"},M?v.createElement(r,null,v.createElement(o.Item,{grow:1,shrink:1},v.createElement(c,{inline:24},v.createElement(r,{style:{position:"relative",height:300}},v.createElement(r,{style:{position:"absolute",width:"100%",height:"100%"}},v.createElement(a,{data:[{id:"d",label:l("Direct_Messages"),value:M.d,color:I.warning},{id:"p",label:l("Private_Channels"),value:M.p,color:I.success},{id:"c",label:l("Public_Channels"),value:M.c,color:I.info}],innerRadius:.6,colors:[I.warning,I.success,I.info],animate:!0,motionConfig:"stiff",theme:{axis:{ticks:{text:{fill:"#9EA2A8",fontFamily:'Inter, -apple-system, system-ui, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Helvetica Neue", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Meiryo UI", Arial, sans-serif',fontSize:10,fontStyle:"normal",fontWeight:600,letterSpacing:"0.2px",lineHeight:"12px"}}}},tooltip:e=>{let{datum:t}=e;return v.createElement(E,null,l("Value_messages",{value:t.value}))}}))))),v.createElement(o.Item,{basis:"auto"},v.createElement(c,{block:"neg-x4"},v.createElement(r,null,v.createElement(c,{block:4},v.createElement(r,{color:"hint",fontScale:"p1"},v.createElement(w,{color:I.warning}),l("Private_Chats")),v.createElement(r,{color:"hint",fontScale:"p1"},v.createElement(w,{color:I.success}),l("Private_Channels")),v.createElement(r,{color:"hint",fontScale:"p1"},v.createElement(w,{color:I.info}),l("Public_Channels"))))))):v.createElement(s,{variant:"rect",height:300})))),v.createElement(o.Item,{grow:1,shrink:0,basis:"0"},v.createElement(r,null,v.createElement(c,{blockEnd:16},A?v.createElement(r,{fontScale:"p1"},l("Most_popular_channels_top_5")):v.createElement(s,{width:"50%"})),A&&!A.length&&v.createElement(u,{fontScale:"p1",color:"hint",style:{textAlign:"center"}},l("Not_enough_data")),(!A||!!A.length)&&v.createElement(m,null,v.createElement(g,null,v.createElement(h,null,v.createElement(f,null,"#"),v.createElement(f,null,l("Channel")),v.createElement(f,{align:"end"},l("Number_of_messages")))),v.createElement(p,null,null==A?void 0:A.map(e=>{let{i:t,t:l,name:n,messages:a}=e;return v.createElement(h,{key:t},v.createElement(f,null,t+1,"."),v.createElement(f,null,v.createElement(c,{inlineEnd:4},"d"===l&&v.createElement(i,{name:"at"})||"p"===l&&v.createElement(i,{name:"lock"})||"c"===l&&v.createElement(i,{name:"hashtag"})),n),v.createElement(f,{align:"end"},a))}),!A&&Array.from({length:5},(e,t)=>v.createElement(h,{key:t},v.createElement(f,null,v.createElement(s,{width:"100%"})),v.createElement(f,null,v.createElement(s,{width:"100%"})),v.createElement(f,{align:"end"},v.createElement(s,{width:"100%"})))))))))))))})}
//# sourceMappingURL=/dynamic/ee/client/views/admin/engagementDashboard/messages/b31c7390ff7d5c870bc41c86c1b7191b64e78b32.map
