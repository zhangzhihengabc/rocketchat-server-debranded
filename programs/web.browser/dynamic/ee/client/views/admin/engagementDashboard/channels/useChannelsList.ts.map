)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/engagementDashboard/channels/useChannelsList.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\n\nimport type { Period } from '../../../../components/dashboards/periods';\nimport { getPeriodRange } from '../../../../components/dashboards/periods';\n\ntype UseChannelsListOptions = {\n\tperiod: Period['key'];\n\toffset: number;\n\tcount: number;\n};\n\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport const useChannelsList = ({ period, offset, count }: UseChannelsListOptions) => {\n\tconst getChannelsList = useEndpoint('GET', '/v1/engagement-dashboard/channels/list');\n\n\treturn useQuery(\n\t\t['admin/engagement-dashboard/channels/list', { period, offset, count }],\n\t\tasync () => {\n\t\t\tconst { start, end } = getPeriodRange(period);\n\n\t\t\tconst response = await getChannelsList({\n\t\t\t\tstart: start.toISOString(),\n\t\t\t\tend: end.toISOString(),\n\t\t\t\toffset,\n\t\t\t\tcount,\n\t\t\t});\n\n\t\t\treturn response\n\t\t\t\t? {\n\t\t\t\t\t\t...response,\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tend,\n\t\t\t\t  }\n\t\t\t\t: undefined;\n\t\t},\n\t\t{\n\t\t\tkeepPreviousData: true,\n\t\t\trefetchInterval: 5 * 60 * 1000,\n\t\t\tuseErrorBoundary: true,\n\t\t},\n\t);\n};\n",null],"names":["_objectSpread","useEndpoint","useQuery","getPeriodRange","module","link","default","export","useChannelsList","_ref","period","offset","count","getChannelsList","start","end","response","toISOString","undefined","keepPreviousData","refetchInterval","useErrorBoundary"],"mappings":"2BAAAA,EAAuDC,EAAAC,EAAAC,EAA9CC,EAAaC,IAAM,CAAA,uCAA2B,CAAAC,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAvDI,EAAOG,MAAE,CAAA,CAAAC,gBAAmB,IAAAA,CAAA,GAA2BJ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAH,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAF,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,4CAAAA,CAAAD,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAahD,IAAMK,EAAkBC,IAAsD,GAArD,CAAEC,OAAAA,CAAM,CAAEC,OAAAA,CAAM,CAAEC,MAAAA,CAAAA,CAA+B,CAAAH,EAC1EI,EAAkBZ,EAAY,MAAO,0CAE3C,OAAOC,EACN,CAAC,2CAA4C,CAAEQ,OAAAA,EAAQC,OAAAA,EAAQC,MAAAA,CAAK,EAAG,CACvE,UACC,GAAM,CAAEE,MAAAA,CAAK,CAAEC,IAAAA,CAAAA,CAAK,CAAGZ,EAAeO,GAEhCM,EAAW,MAAMH,EAAgB,CACtCC,MAAOA,EAAMG,WAAW,GACxBF,IAAKA,EAAIE,WAAW,GACpBN,OAAAA,EACAC,MAAAA,IAGD,OAAOI,EAAQhB,EAAAA,EAAA,CAAA,EAETgB,GAAQ,CAAA,EAAA,CACXF,MAAAA,EACAC,IAAAA,CAAG,GAEHG,KAAAA,CACJ,EACA,CACCC,iBAAkB,CAAA,EAClBC,gBAAiB,IACjBC,iBAAkB,CAAA,GAGrB"}