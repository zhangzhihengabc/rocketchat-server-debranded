)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/engagementDashboard/users/useHourlyChatActivity.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport moment from 'moment';\n\ntype UseHourlyChatActivityOptions = {\n\tdisplacement: number;\n\tutc: boolean;\n};\n\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport const useHourlyChatActivity = ({ displacement, utc }: UseHourlyChatActivityOptions) => {\n\tconst getHourlyChatActivity = useEndpoint('GET', '/v1/engagement-dashboard/users/chat-busier/hourly-data');\n\n\treturn useQuery(\n\t\t['admin/engagement-dashboard/users/hourly-chat-activity', { displacement, utc }],\n\t\tasync () => {\n\t\t\tconst day = (utc ? moment.utc().endOf('day') : moment().endOf('day')).subtract(displacement, 'days').toDate();\n\n\t\t\tconst response = await getHourlyChatActivity({\n\t\t\t\tstart: day.toISOString(),\n\t\t\t});\n\n\t\t\treturn response\n\t\t\t\t? {\n\t\t\t\t\t\t...response,\n\t\t\t\t\t\tday,\n\t\t\t\t  }\n\t\t\t\t: undefined;\n\t\t},\n\t\t{\n\t\t\trefetchInterval: 5 * 60 * 1000,\n\t\t\tuseErrorBoundary: true,\n\t\t},\n\t);\n};\n",null],"names":["_objectSpread","useEndpoint","useQuery","moment","module","link","default","export","useHourlyChatActivity","_ref","displacement","utc","getHourlyChatActivity","day","endOf","subtract","toDate","response","start","toISOString","undefined","refetchInterval","useErrorBoundary"],"mappings":"2BAAAA,EAAuDC,EAAAC,EAAAC,EAA9CC,EAAaC,IAAM,CAAA,uCAA2B,CAAAC,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAvDI,EAAOG,MAAE,CAAA,CAAAC,sBAAmB,IAAAA,CAA2B,GAAAJ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAH,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAF,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,SAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAUhD,IAAMK,EAAwBC,IAAwD,GAAvD,CAAEC,aAAAA,CAAY,CAAEC,IAAAA,CAAAA,CAAmC,CAAAF,EAClFG,EAAwBX,EAAY,MAAO,0DAEjD,OAAOC,EACN,CAAC,wDAAyD,CAAEQ,aAAAA,EAAcC,IAAAA,CAAG,EAAG,CAChF,UACC,IAAME,EAAM,AAACF,CAAAA,EAAMR,EAAOQ,GAAG,GAAGG,KAAK,CAAC,OAASX,IAASW,KAAK,CAAC,MAAK,EAAGC,QAAQ,CAACL,EAAc,QAAQM,MAAM,GAErGC,EAAW,MAAML,EAAsB,CAC5CM,MAAOL,EAAIM,WAAW,KAGvB,OAAOF,EAAQjB,EAAAA,EAAA,CAAA,EAETiB,GAAQ,CAAA,EAAA,CACXJ,IAAAA,CAAG,GAEHO,KAAAA,CACJ,EACA,CACCC,gBAAiB,IACjBC,iBAAkB,CAAA,GAGrB"}