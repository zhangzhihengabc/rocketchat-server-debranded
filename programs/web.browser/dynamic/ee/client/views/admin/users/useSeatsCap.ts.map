)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/client/views/admin/users/useSeatsCap.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\n\nexport type SeatCapProps = {\n\tmaxActiveUsers: number;\n\tactiveUsers: number;\n\treload: () => void;\n};\n\nexport const useSeatsCap = (): SeatCapProps | undefined => {\n\t// #TODO: Stop using this endpoint\n\tconst fetch = useEndpoint('GET', '/v1/licenses.maxActiveUsers');\n\n\tconst result = useQuery(['/v1/licenses.maxActiveUsers'], () => fetch());\n\n\tif (!result.isSuccess) {\n\t\treturn undefined;\n\t}\n\n\treturn {\n\t\tactiveUsers: result.data.activeUsers,\n\t\tmaxActiveUsers: result.data.maxActiveUsers && result.data.maxActiveUsers > 0 ? result.data.maxActiveUsers : Number.POSITIVE_INFINITY,\n\t\treload: () => result.refetch(),\n\t};\n};\n",null],"names":["useEndpoint","useQuery","module","export","useSeatsCap","fetch","result","isSuccess","activeUsers","data","maxActiveUsers","Number","POSITIVE_INFINITY","reload","refetch"],"mappings":"2BAA4BA,EAA2BC,EAAvDC,EAAOC,MAAE,CAAA,CAAAC,YAAa,IAAMA,CAAA,GAA2BF,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAF,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAD,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAShD,IAAMG,EAAc,KAE1B,IAAMC,EAAQL,EAAY,MAAO,+BAE3BM,EAASL,EAAS,CAAC,8BAA8B,CAAE,IAAMI,KAE/D,GAAKC,EAAOC,SAAS,CAIrB,MAAO,CACNC,YAAaF,EAAOG,IAAI,CAACD,WAAW,CACpCE,eAAgBJ,EAAOG,IAAI,CAACC,cAAc,EAAIJ,EAAOG,IAAI,CAACC,cAAc,CAAG,EAAIJ,EAAOG,IAAI,CAACC,cAAc,CAAGC,OAAOC,iBAAiB,CACpIC,OAAQ,IAAMP,EAAOQ,OAAO,GAE9B"}