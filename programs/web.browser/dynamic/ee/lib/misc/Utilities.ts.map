)]}'
{"version":3,"sources":["meteor://ðŸ’»app/ee/lib/misc/Utilities.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["export class Utilities {\n\tstatic getI18nKeyForApp<TKey extends string, TAppId extends string>(key: TKey, appId: TAppId) {\n\t\treturn `app-${appId}.${key}` as const;\n\t}\n\n\tstatic curl(\n\t\t{\n\t\t\tmethod,\n\t\t\tparams,\n\t\t\tauth,\n\t\t\theaders = {},\n\t\t\turl,\n\t\t\tquery,\n\t\t\tcontent,\n\t\t}: {\n\t\t\tmethod: string;\n\t\t\tparams?: Record<string, string>;\n\t\t\tauth?: string;\n\t\t\theaders?: Record<string, string>;\n\t\t\turl: string;\n\t\t\tquery?: Record<string, string>;\n\t\t\tcontent?: unknown;\n\t\t},\n\t\topts: {\n\t\t\tverbose?: boolean;\n\t\t\theaders?: boolean;\n\t\t} = {},\n\t) {\n\t\tconst newLine = '\\\\\\n   ';\n\n\t\tconst cmd = ['curl'];\n\n\t\t// curl options\n\t\tif (opts.verbose) {\n\t\t\tcmd.push('-v');\n\t\t}\n\t\tif (opts.headers) {\n\t\t\tcmd.push('-i');\n\t\t}\n\n\t\t// method\n\t\tcmd.push('-X');\n\t\tcmd.push((method || 'GET').toUpperCase());\n\n\t\t// URL\n\t\tlet u = url;\n\n\t\tif (typeof params === 'object') {\n\t\t\tObject.entries(params).forEach(([key, value]) => {\n\t\t\t\tu = u.replace(`:${key}`, value);\n\t\t\t});\n\t\t}\n\n\t\tif (typeof query === 'object') {\n\t\t\tconst queryString = Object.entries(query)\n\t\t\t\t.map(([key, value]) => `${key}=${value}`)\n\t\t\t\t.join('&');\n\t\t\tu += `?${queryString}`;\n\t\t}\n\t\tcmd.push(u);\n\n\t\t// username\n\t\tif (auth) {\n\t\t\tcmd.push(newLine);\n\t\t\tcmd.push('-u');\n\t\t\tcmd.push(auth);\n\t\t}\n\n\t\t// headers\n\t\tconst headerKeys: string[] = [];\n\t\tObject.entries(headers).forEach(([key, val]) => {\n\t\t\tkey = key.toLowerCase();\n\t\t\theaderKeys.push(key);\n\t\t\tcmd.push(newLine);\n\t\t\tcmd.push('-H');\n\t\t\tcmd.push(`\"${key}${val ? ': ' : ';'}${val || ''}\"`);\n\t\t});\n\n\t\tif (content) {\n\t\t\tif (typeof content === 'object') {\n\t\t\t\tif (!headerKeys.includes('content-type')) {\n\t\t\t\t\tcmd.push(newLine);\n\t\t\t\t\tcmd.push('-H');\n\t\t\t\t\tcmd.push('\"content-type: application/json\"');\n\t\t\t\t}\n\t\t\t\tcontent = JSON.stringify(content);\n\t\t\t}\n\n\t\t\tcmd.push(newLine);\n\t\t\tcmd.push('--data-binary');\n\t\t\tcmd.push(`'${content}'`);\n\t\t}\n\n\t\treturn cmd.join(' ');\n\t}\n}\n",null],"names":["module","export","Utilities","getI18nKeyForApp","key","appId","concat","curl","_ref","method","params","auth","headers","url","query","content","opts","newLine","cmd","verbose","push","toUpperCase","u","Object","entries","forEach","_ref2","value","replace","queryString","map","_ref3","join","headerKeys","_ref4","val","toLowerCase","includes","JSON","stringify"],"mappings":"uBAAAA,EAAMC,MAAO,CAAA,CAAAC,UAAS,IAAAA,CAAA,EAAhB,OAAOA,EACZ,OAAOC,iBAA6DC,CAAS,CAAEC,CAAa,CAAA,CAC3F,MAAA,OAAAC,MAAA,CAAcD,EAAK,KAAAC,MAAA,CAAIF,EACxB,CAEA,OAAOG,KAAIC,CAAA,CAqBJ,CAAA,GApBN,CACCC,OAAAA,CAAM,CACNC,OAAAA,CAAM,CACNC,KAAAA,CAAI,CACJC,QAAAA,EAAU,CAAA,CAAE,CACZC,IAAAA,CAAG,CACHC,MAAAA,CAAK,CACLC,QAAAA,CAAAA,CASA,CAAAP,EACDQ,EAAAA,UAAAA,MAAAA,CAAAA,GAAAA,KAAAA,IAAAA,SAAAA,CAAAA,EAAAA,CAAAA,SAAAA,CAAAA,EAAAA,CAGI,CAAA,EAEEC,EAAU,UAEVC,EAAM,CAAC,OAAO,AAGhBF,CAAAA,EAAKG,OAAO,EACfD,EAAIE,IAAI,CAAC,MAENJ,EAAKJ,OAAO,EACfM,EAAIE,IAAI,CAAC,MAIVF,EAAIE,IAAI,CAAC,MACTF,EAAIE,IAAI,CAAC,AAACX,CAAAA,GAAU,KAAA,EAAOY,WAAW,IAGtC,IAAIC,EAAIT,EAQR,GANsB,UAAlB,OAAOH,GACVa,OAAOC,OAAO,CAACd,GAAQe,OAAO,CAACC,IAAiB,GAAhB,CAACtB,EAAKuB,EAAM,CAAAD,EAC3CJ,EAAIA,EAAEM,OAAO,CAAA,IAAAtB,MAAA,CAAKF,GAAOuB,EAC1B,GAGG,AAAiB,UAAjB,OAAOb,EAAoB,CAC9B,IAAMe,EAAcN,OAAOC,OAAO,CAACV,GACjCgB,GAAG,CAACC,IAAA,GAAC,CAAC3B,EAAKuB,EAAM,CAAAI,EAAA,MAAA,GAAAzB,MAAA,CAAQF,EAAG,KAAAE,MAAA,CAAIqB,EAAK,GACrCK,IAAI,CAAC,KACPV,GAAC,IAAAhB,MAAA,CAAQuB,GAEVX,EAAIE,IAAI,CAACE,GAGLX,IACHO,EAAIE,IAAI,CAACH,GACTC,EAAIE,IAAI,CAAC,MACTF,EAAIE,IAAI,CAACT,IAIV,IAAMsB,EAAuB,EAAE,CAwB/B,OAvBAV,OAAOC,OAAO,CAACZ,GAASa,OAAO,CAACS,IAAe,GAAd,CAAC9B,EAAK+B,EAAI,CAAAD,EAC1C9B,EAAMA,EAAIgC,WAAW,GACrBH,EAAWb,IAAI,CAAChB,GAChBc,EAAIE,IAAI,CAACH,GACTC,EAAIE,IAAI,CAAC,MACTF,EAAIE,IAAI,CAAA,IAAAd,MAAA,CAAKF,GAAGE,MAAA,CAAG6B,EAAM,KAAO,KAAG7B,MAAA,CAAG6B,GAAO,GAAE,KAChD,GAEIpB,IACoB,UAAnB,OAAOA,IACLkB,EAAWI,QAAQ,CAAC,kBACxBnB,EAAIE,IAAI,CAACH,GACTC,EAAIE,IAAI,CAAC,MACTF,EAAIE,IAAI,CAAC,qCAEVL,EAAUuB,KAAKC,SAAS,CAACxB,IAG1BG,EAAIE,IAAI,CAACH,GACTC,EAAIE,IAAI,CAAC,iBACTF,EAAIE,IAAI,CAAA,IAAAd,MAAA,CAAKS,EAAO,OAGdG,EAAIc,IAAI,CAAC,IACjB"}