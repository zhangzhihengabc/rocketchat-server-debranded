)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/hooks/lists/useScrollableMessageList.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage, Serialized } from '@rocket.chat/core-typings';\nimport { useCallback } from 'react';\n\nimport type { MessageList } from '../../lib/lists/MessageList';\nimport type { RecordListBatchChanges } from '../../lib/lists/RecordList';\nimport { mapMessageFromApi } from '../../lib/utils/mapMessageFromApi';\nimport { useScrollableRecordList } from './useScrollableRecordList';\n\nexport const useScrollableMessageList = (\n\tmessageList: MessageList,\n\tfetchMessages: (start: number, end: number) => Promise<RecordListBatchChanges<Serialized<IMessage>>>,\n\tinitialItemCount?: number,\n): ReturnType<typeof useScrollableRecordList> => {\n\tconst fetchItems = useCallback(\n\t\tasync (start: number, end: number): Promise<RecordListBatchChanges<IMessage>> => {\n\t\t\tconst batchChanges = await fetchMessages(start, end);\n\t\t\treturn {\n\t\t\t\t...(batchChanges.items && { items: batchChanges.items.map(mapMessageFromApi) }),\n\t\t\t\t...(batchChanges.itemCount && { itemCount: batchChanges.itemCount }),\n\t\t\t};\n\t\t},\n\t\t[fetchMessages],\n\t);\n\n\treturn useScrollableRecordList(messageList, fetchItems, initialItemCount);\n};\n",null],"names":["_objectSpread","useCallback","mapMessageFromApi","useScrollableRecordList","module","link","default","export","useScrollableMessageList","messageList","fetchMessages","initialItemCount","fetchItems","start","end","batchChanges","items","map","itemCount"],"mappings":"2BACAA,EAAoCC,EAAAC,EAAAC,EAA3BC,EAAaC,IAAM,CAAA,uCAAQ,CAAAC,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAApCI,EAAOG,MAAE,CAAA,CAAAC,yBAA2B,IAAAA,CAAA,GAAAJ,EAAAA,IAAAA,CAAAA,QAAAA,CAAAH,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,oCAAAA,CAAAF,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,4BAAAA,CAAAD,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAO7B,IAAMK,EAA2B,CACvCC,EACAC,EACAC,KAEA,IAAMC,EAAaX,EAClB,MAAOY,EAAeC,KACrB,IAAMC,EAAe,MAAML,EAAcG,EAAOC,GAChD,OAAAd,EAAAA,EAAA,CAAA,EACKe,EAAaC,KAAK,EAAI,CAAEA,MAAOD,EAAaC,KAAK,CAACC,GAAG,CAACf,EAAkB,GACxEa,EAAaG,SAAS,EAAI,CAAEA,UAAWH,EAAaG,SAAAA,AAAS,EAEnE,EACA,CAACR,EAAc,EAGhB,OAAOP,EAAwBM,EAAaG,EAAYD,EACzD"}