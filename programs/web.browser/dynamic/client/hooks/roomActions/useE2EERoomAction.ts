function module(e,t,o){let a,i,n,r,s,l,c,u,d,m,p,_,E,k;o.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},0),o.export({useE2EERoomAction:()=>b}),o.link("@rocket.chat/core-typings",{isRoomFederated(e){i=e}},0),o.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){n=e}},1),o.link("@rocket.chat/ui-contexts",{useSetting(e){r=e},usePermission(e){s=e},useEndpoint(e){l=e}},2),o.link("react",{useCallback(e){c=e},useMemo(e){u=e}},3),o.link("react-i18next",{useTranslation(e){d=e}},4),o.link("../../../app/e2e/client/rocketchat.e2e",{e2e(e){m=e}},5),o.link("../../lib/toast",{dispatchToastMessage(e){p=e}},6),o.link("../../views/room/contexts/RoomContext",{useRoom(e){_=e},useRoomSubscription(e){E=e}},7),o.link("../useReactiveValue",{useReactiveValue(e){k=e}},8);let b=()=>{let e=r("E2E_Enable",!1),t=_(),o=E(),b=k(c(()=>m.isReady(),[]))||t.encrypted,y=s("toggle-room-e2e-encryption",t._id),g=s("edit-room",t._id),f=("d"===t.t||g&&y)&&b,R=i(t),{t:h}=d(),v=l("POST","/v1/rooms.saveRoomSettings"),x=n(async()=>{let{success:e}=await v({rid:t._id,encrypted:!t.encrypted});e&&(p({type:"success",message:t.encrypted?h("E2E_Encryption_disabled_for_room",{roomName:t.name}):h("E2E_Encryption_enabled_for_room",{roomName:t.name})}),null!=o&&o.autoTranslate&&p({type:"success",message:h("AutoTranslate_Disabled_for_room",{roomName:t.name})}))}),S=!!t.encrypted;return u(()=>{if(e&&f)return a({id:"e2e",groups:["direct","direct_multiple","group","team"],title:S?"E2E_disable":"E2E_enable",icon:"key",order:13,action:x,type:"organization"},R&&{tooltip:h("core.E2E_unavailable_for_federation"),disabled:!0})},[e,f,R,h,S,x])}}
//# sourceMappingURL=/dynamic/client/hooks/roomActions/c1d7c321591dbe61adef15ee693f150cbea8772d.map
