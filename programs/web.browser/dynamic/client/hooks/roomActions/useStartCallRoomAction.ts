function module(e,o,i){let n,l,t,a,r,s,d,u,c,f,C,m,_,p,g;i.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),i.export({useStartCallRoomAction:()=>k}),i.link("@rocket.chat/core-typings",{isRoomFederated(e){l=e}},0),i.link("@rocket.chat/fuselage-hooks",{useStableArray(e){t=e},useMutableCallback(e){a=e}},1),i.link("@rocket.chat/ui-contexts",{useSetting(e){r=e},useUser(e){s=e},usePermission(e){d=e}},2),i.link("react",{useMemo(e){u=e}},3),i.link("react-i18next",{useTranslation(e){c=e}},4),i.link("../../contexts/VideoConfContext",{useVideoConfDispatchOutgoing(e){f=e},useVideoConfIsCalling(e){C=e},useVideoConfIsRinging(e){m=e}},5),i.link("../../lib/VideoConfManager",{VideoConfManager(e){_=e}},6),i.link("../../views/room/contexts/RoomContext",{useRoom(e){p=e}},7),i.link("../../views/room/contextualBar/VideoConference/hooks/useVideoConfWarning",{useVideoConfWarning(e){g=e}},8);let k=()=>{var e,o,i,k,h;let v=p(),b=l(v),V=e=(null===(o=v.uids)||void 0===o?void 0:o.length)===1,x=i=(null==v?void 0:null===(k=v.streamingOptions)||void 0===k?void 0:k.type)==="call",y=d("post-readonly",v._id),M=d("call-management",v._id),R=g(),E=f(),S=C(),w=m(),{t:O}=c(),A=r("VideoConf_Enable_DMs",!0),D=r("VideoConf_Enable_Channels",!0),I=r("VideoConf_Enable_Teams",!0),T=r("VideoConf_Enable_Groups",!0),W="default-provider"===r("Omnichannel_call_provider","default-provider"),j=t([A&&"direct",A&&"direct_multiple",T&&"group",W&&"live",I&&"team",D&&"channel"].filter(e=>!!e)),B=j.length>0,F=s(),G=B&&M&&(!(null!=F&&F.username)||!(null!==(h=v.muted)&&void 0!==h&&h.includes(F.username)))&&!V,P=a(async()=>{if(!S&&!w)try{await _.loadCapabilities(),E({rid:v._id})}catch(e){R(e.error)}}),U=b||!!v.ro&&!y;return u(()=>{if(G)return n(n({id:"start-call",groups:j,title:"Call",icon:"phone",action:()=>void P()},U&&{tooltip:O("core.Video_Call_unavailable_for_this_type_of_room"),disabled:!0}),{},{full:!0,order:x?-1:4,featured:!0})},[G,U,j,P,x,O])}}
//# sourceMappingURL=/dynamic/client/hooks/roomActions/e6e66bce0b436e3fcfe51675c07511b15fd1fd34.map
