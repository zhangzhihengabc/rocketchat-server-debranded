function module(t,e,n){let i,a,o,r,s,c,u,l,p,d,m,I,g,y,A,v;n.link("@babel/runtime/helpers/objectSpread2",{default(t){i=t}},0),n.export({useAppActionButtons:()=>f,useMessageboxAppsActionButtons:()=>h,useUserDropdownAppsActionButtons:()=>x,useMessageActionAppsActionButtons:()=>B}),n.link("@rocket.chat/fuselage-hooks",{useDebouncedCallback(t){a=t}},0),n.link("@rocket.chat/ui-contexts",{useEndpoint(t){o=t},useSingleStream(t){r=t},useToastMessageDispatch(t){s=t},useUserId(t){c=t}},1),n.link("@tanstack/react-query",{useQuery(t){u=t},useQueryClient(t){l=t}},2),n.link("react",{useEffect(t){p=t},useMemo(t){d=t}},3),n.link("react-i18next",{useTranslation(t){m=t}},4),n.link("../../app/ui-message/client/UiKitTriggerTimeoutError",{UiKitTriggerTimeoutError(t){I=t}},5),n.link("../../ee/lib/misc/Utilities",{Utilities(t){g=t}},6),n.link("../uikit/hooks/useUiKitActionManager",{useUiKitActionManager(t){y=t}},7),n.link("./useApplyButtonFilters",{useApplyButtonFilters(t){A=t},useApplyButtonAuthFilter(t){v=t}},8);let k=t=>{let{appId:e,actionId:n}=t;return"".concat(e,"/").concat(n)},f=t=>{let e=l(),n=r("apps"),s=c(),d=o("GET","/apps/actionButtons"),m=u(["apps","actionButtons"],()=>d(),i(i({},t&&{select:e=>e.filter(e=>e.context===t)}),{},{staleTime:1/0})),I=a(()=>{e.invalidateQueries(["apps","actionButtons"])},100,[]);return p(()=>{if(s)return n("apps",t=>{let[e]=t;["actions/changed"].includes(e)&&I()})},[s,n,I]),m},h=()=>{let t=f("messageBoxAction"),e=y(),n=s(),{t:a}=m(),o=A(),r=d(()=>{var i;return null===(i=t.data)||void 0===i?void 0:i.filter(t=>o(t)).map(t=>{let i={id:k(t),label:g.getI18nKeyForApp(t.labelI18n,t.appId),action:i=>{var o,r;e.emitInteraction(t.appId,{type:"actionButton",rid:i.rid,tmid:i.tmid,actionId:t.actionId,payload:{context:t.context,message:null!==(o=null===(r=i.chat.composer)||void 0===r?void 0:r.text)&&void 0!==o?o:""}}).catch(async t=>{if(t instanceof I){n({type:"error",message:a("UIKit_Interaction_Timeout")});return}return t})}};return i})},[e,o,n,t.data,a]);return i(i({},t),{},{data:r})},x=()=>{let t=f("userDropdownAction"),e=y(),n=s(),{t:a}=m(),o=v(),r=d(()=>{var i;return null===(i=t.data)||void 0===i?void 0:i.filter(t=>o(t)).map(t=>({id:"".concat(t.appId,"_").concat(t.actionId),content:t.labelI18n,onClick:()=>{e.emitInteraction(t.appId,{type:"actionButton",actionId:t.actionId,payload:{context:t.context}}).catch(async t=>{if(t instanceof I){n({type:"error",message:a("UIKit_Interaction_Timeout")});return}return t})}}))},[e,o,n,t.data,a]);return i(i({},t),{},{data:r})},B=t=>{let e=f("messageAction"),n=y(),a=A(),o=s(),{t:r}=m(),c=d(()=>{var i;return null===(i=e.data)||void 0===i?void 0:i.filter(e=>{var n;return(!t||!!((null===(n=e.when)||void 0===n?void 0:n.messageActionContext)||["message","message-mobile","threads","starred"]).includes(t))&&a(e)}).map(t=>{let e={icon:void 0,id:k(t),label:g.getI18nKeyForApp(t.labelI18n,t.appId),order:7,type:"apps",variant:t.variant,action:(e,i)=>{n.emitInteraction(t.appId,{type:"actionButton",rid:i.message.rid,tmid:i.message.tmid,mid:i.message._id,actionId:t.actionId,payload:{context:t.context}}).catch(async t=>{if(t instanceof I){o({type:"error",message:r("UIKit_Interaction_Timeout")});return}return t})}};return e})},[n,a,t,o,e.data,r]);return i(i({},e),{},{data:c})}}
//# sourceMappingURL=/dynamic/client/hooks/7ee2c2833d8e25ea443df1b08bbb72810b3efb44.map
