)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/hooks/useDialModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useSetModal, useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { Suspense, lazy, useCallback, useMemo } from 'react';\n\nimport { useIsVoipEnterprise } from '../contexts/CallContext';\nimport { dispatchToastMessage } from '../lib/toast';\n\nconst DialPadModal = lazy(() => import('../../ee/client/voip/modal/DialPad/DialPadModal'));\n\ntype DialModalProps = {\n\tinitialValue?: string;\n\terrorMessage?: string;\n};\n\ntype DialModalControls = {\n\topenDialModal: (props?: DialModalProps) => void;\n\tcloseDialModal: () => void;\n};\n\nexport const useDialModal = (): DialModalControls => {\n\tconst setModal = useSetModal();\n\tconst isEnterprise = useIsVoipEnterprise();\n\tconst t = useTranslation();\n\n\tconst closeDialModal = useCallback(() => setModal(null), [setModal]);\n\n\tconst openDialModal = useCallback(\n\t\t({ initialValue, errorMessage }: DialModalProps = {}) => {\n\t\t\tif (!isEnterprise) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: t('You_do_not_have_permission_to_do_this') });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetModal(\n\t\t\t\t// TODO: Revisit Modal's FocusScope which currently does not accept null as children.\n\t\t\t\t// Added dummy div fallback for that reason.\n\t\t\t\t<Suspense fallback={<div />}>\n\t\t\t\t\t<DialPadModal initialValue={initialValue} errorMessage={errorMessage} handleClose={closeDialModal} />\n\t\t\t\t</Suspense>,\n\t\t\t);\n\t\t},\n\t\t[setModal, isEnterprise, t, closeDialModal],\n\t);\n\n\treturn useMemo(\n\t\t() => ({\n\t\t\topenDialModal,\n\t\t\tcloseDialModal,\n\t\t}),\n\t\t[openDialModal, closeDialModal],\n\t);\n};\n",null],"names":["useSetModal","useTranslation","React","Suspense","lazy","useCallback","useMemo","useIsVoipEnterprise","dispatchToastMessage","module","export","useDialModal","default","DialPadModal","dynamicImport","setModal","isEnterprise","t","closeDialModal","openDialModal","initialValue","errorMessage","arguments","length","undefined","type","message","createElement","fallback","handleClose"],"mappings":"2BAA4CA,EAAAC,EAA2BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvEC,EAAOC,MAAE,CAAA,CAAAC,aAAa,IAAAA,CAAsB,GAA2BF,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAT,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAAG,QAAAA,CAAAA,EAAAV,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,KAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,0BAAAA,CAAAF,oBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,eAAAA,CAAAD,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAMvE,IAAMK,EAAeT,EAAK,IAAMK,EAAAK,aAAA,CAAO,oDAY1BH,EAAe,KAC3B,IAAMI,EAAWf,IACXgB,EAAeT,IACfU,EAAIhB,IAEJiB,EAAiBb,EAAY,IAAMU,EAAS,MAAO,CAACA,EAAS,EAE7DI,EAAgBd,EACrB,WAAwD,GAAvD,CAAEe,aAAAA,CAAY,CAAEC,aAAAA,CAAAA,CAAY,CAAAC,UAAAC,MAAA,CAAA,GAAAD,AAAAE,KAAAA,IAAAF,SAAA,CAAA,EAAA,CAAAA,SAAA,CAAA,EAAA,CAAqB,CAAA,EACjD,GAAI,CAACN,EAAc,CAClBR,EAAqB,CAAEiB,KAAM,QAASC,QAAST,EAAE,wCAAwC,GACzF,OAGDF,EAGCb,EAAAyB,aAAA,CAACxB,EAAQ,CAACyB,SAAU1B,EAAAyB,aAAA,CAAA,MAAA,KAAQ,EAC3BzB,EAAAyB,aAAA,CAACd,EAAY,CAACO,aAAcA,EAAcC,aAAcA,EAAcQ,YAAaX,CAAe,IAGrG,EACA,CAACH,EAAUC,EAAcC,EAAGC,EAAe,EAG5C,OAAOZ,EACN,IAAO,CAAA,CACNa,cAAAA,EACAD,eAAAA,IAED,CAACC,EAAeD,EAAe,CAEjC"}