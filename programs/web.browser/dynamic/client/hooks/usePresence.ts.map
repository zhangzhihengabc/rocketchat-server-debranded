)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/hooks/usePresence.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useCallback } from 'react';\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\n\nimport type { UserPresence } from '../lib/presence';\nimport { Presence } from '../lib/presence';\n\n/**\n * @deprecated\n * Hook to fetch and subscribe users presence\n *\n * @param uid - User Id\n * @returns UserPresence\n * @public\n */\nexport const usePresence = (uid: string | undefined): UserPresence | undefined => {\n\tconst subscribe = useCallback(\n\t\t(callback: any): any => {\n\t\t\tuid && Presence.listen(uid, callback);\n\t\t\treturn (): void => {\n\t\t\t\tuid && Presence.stop(uid, callback);\n\t\t\t};\n\t\t},\n\t\t[uid],\n\t);\n\n\tconst getSnapshot = (): UserPresence | undefined => (uid ? Presence.store.get(uid) : undefined);\n\n\treturn useSyncExternalStore(subscribe, getSnapshot);\n};\n",null],"names":["useCallback","useSyncExternalStore","Presence","module","export","usePresence","uid","subscribe","callback","listen","stop","store","get","undefined"],"mappings":"2BAAoCA,EAAAC,EAAAC,EAApCC,EAAOC,MAAE,CAAA,CAAAC,YAAa,IAAMA,CAAQ,GAAAF,EAAAA,IAAAA,CAAAA,QAAAA,CAAAH,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAF,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,kBAAAA,CAAAD,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAc7B,IAAMG,EAAeC,IAC3B,IAAMC,EAAYP,EAChBQ,IACAF,GAAOJ,EAASO,MAAM,CAACH,EAAKE,GACrB,KACNF,GAAOJ,EAASQ,IAAI,CAACJ,EAAKE,EAC3B,GAED,CAACF,EAAI,EAKN,OAAOL,EAAqBM,EAFR,IAAiCD,EAAMJ,EAASS,KAAK,CAACC,GAAG,CAACN,GAAOO,KAAAA,EAGtF"}