function module(e,i,n){let t,s,a,l,o,r,p,d;n.link("meteor/meteor",{Meteor(e){t=e}},0),n.link("../../../app/authorization/client",{hasAtLeastOnePermission(e){s=e}},1),n.link("../../../app/settings/client",{settings(e){a=e}},2),n.link("../../../app/ui-utils/client",{MessageAction(e){l=e}},3),n.link("../../../app/utils/client/lib/SDKClient",{sdk(e){o=e}},4),n.link("../../lib/queryClient",{queryClient(e){r=e}},5),n.link("../../lib/toast",{dispatchToastMessage(e){p=e}},6),n.link("../../lib/utils/messageArgs",{messageArgs(e){d=e}},7),t.startup(()=>{l.addButton({id:"unpin-message",icon:"pin",label:"Unpin",type:"interaction",context:["pinned","message","message-mobile","threads","direct","videoconf","videoconf-threads"],async action(e,i){let{message:n=d(this).msg}=i;n.pinned=!1;try{await o.call("unpinMessage",n),r.invalidateQueries(["rooms",n.rid,"pinned-messages"])}catch(e){p({type:"error",message:e})}},condition(e){let{message:i,subscription:n}=e;return!!(n&&a.get("Message_AllowPinning"))&&!!i.pinned&&s("pin-message",i.rid)},order:2,group:"menu"})})}
//# sourceMappingURL=/dynamic/client/startup/actionButtons/4077ed1b1f85e9ad684a0509cd86f4ba74b08e19.map
