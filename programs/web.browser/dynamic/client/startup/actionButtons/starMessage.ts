function module(e,t,i){let r,s,a,l,n,o,d,c,g;i.link("@babel/runtime/helpers/objectSpread2",{default(e){r=e}},0),i.link("meteor/meteor",{Meteor(e){s=e}},0),i.link("../../../app/settings/client",{settings(e){a=e}},1),i.link("../../../app/ui-utils/client",{MessageAction(e){l=e}},2),i.link("../../../app/utils/client/lib/SDKClient",{sdk(e){n=e}},3),i.link("../../lib/queryClient",{queryClient(e){o=e}},4),i.link("../../lib/rooms/roomCoordinator",{roomCoordinator(e){d=e}},5),i.link("../../lib/toast",{dispatchToastMessage(e){c=e}},6),i.link("../../lib/utils/messageArgs",{messageArgs(e){g=e}},7),s.startup(()=>{l.addButton({id:"star-message",icon:"star",label:"Star",type:"interaction",context:["starred","message","message-mobile","threads","federated","videoconf","videoconf-threads"],async action(e,t){let{message:i=g(this).msg}=t;try{await n.call("starMessage",r(r({},i),{},{starred:!0})),o.invalidateQueries(["rooms",i.rid,"starred-messages"])}catch(e){e&&c({type:"error",message:e})}},condition(e){let{message:t,subscription:i,user:r,room:s}=e;if(null==i&&a.get("Message_AllowStarring"))return!1;let l=d.isLivechatRoom(s.t);return!l&&(!Array.isArray(t.starred)||!t.starred.find(e=>e._id===(null==r?void 0:r._id)))},order:3,group:"menu"})})}
//# sourceMappingURL=/dynamic/client/startup/actionButtons/7a1fb9bba41ffa291854f26d69df276290ed29b3.map
