)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/startup/actionButtons/permalinkPinned.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Meteor } from 'meteor/meteor';\n\nimport { MessageAction } from '../../../app/ui-utils/client';\nimport { t } from '../../../app/utils/lib/i18n';\nimport { getPermaLink } from '../../lib/getPermaLink';\nimport { dispatchToastMessage } from '../../lib/toast';\nimport { messageArgs } from '../../lib/utils/messageArgs';\n\nMeteor.startup(() => {\n\tMessageAction.addButton({\n\t\tid: 'permalink-pinned',\n\t\ticon: 'permalink',\n\t\tlabel: 'Copy_link',\n\t\tcontext: ['pinned'],\n\t\tasync action(_, props) {\n\t\t\ttry {\n\t\t\t\tconst { message = messageArgs(this).msg } = props;\n\t\t\t\tconst permalink = await getPermaLink(message._id);\n\t\t\t\tnavigator.clipboard.writeText(permalink);\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Copied') });\n\t\t\t} catch (e) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: e });\n\t\t\t}\n\t\t},\n\t\tcondition({ subscription }) {\n\t\t\treturn !!subscription;\n\t\t},\n\t\torder: 5,\n\t\tgroup: 'menu',\n\t});\n});\n",null],"names":["Meteor","MessageAction","t","getPermaLink","dispatchToastMessage","messageArgs","module","link","startup","addButton","id","icon","label","context","action","_","props","message","msg","permalink","_id","navigator","clipboard","writeText","type","e","condition","_ref","subscription","order","group"],"mappings":"2BAAAA,EAAuCC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9BC,EAAQC,IAAA,CAAM,gBAAgB,CAAAP,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAL,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAJ,EAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,yBAAAA,CAAAH,aAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,kBAAAA,CAAAF,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAD,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAQvCL,EAAOQ,OAAO,CAAC,KACdP,EAAcQ,SAAS,CAAC,CACvBC,GAAI,mBACJC,KAAM,YACNC,MAAO,YACPC,QAAS,CAAC,SAAS,CACnB,MAAMC,OAAOC,CAAC,CAAEC,CAAK,EACpB,GAAI,CACH,GAAM,CAAEC,QAAAA,EAAUZ,EAAY,IAAI,EAAEa,GAAAA,CAAK,CAAGF,EACtCG,EAAY,MAAMhB,EAAac,EAAQG,GAAG,EAChDC,UAAUC,SAAS,CAACC,SAAS,CAACJ,GAC9Bf,EAAqB,CAAEoB,KAAM,UAAWP,QAASf,EAAE,SAAS,GAC3D,MAAOuB,EAAG,CACXrB,EAAqB,CAAEoB,KAAM,QAASP,QAASQ,CAAC,GAElD,EACAC,UAASC,CAAA,EAAiB,GAAhB,CAAEC,aAAAA,CAAAA,CAAc,CAAAD,EACzB,MAAO,CAAC,CAACC,CACV,EACAC,MAAO,EACPC,MAAO,QAET"}