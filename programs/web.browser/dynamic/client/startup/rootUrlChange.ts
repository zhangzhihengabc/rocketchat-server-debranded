function module(e,n,t){let o,i,r,l,s,a,p,c,m,u,d,g,_;t.link("meteor/meteor",{Meteor(e){o=e}},0),t.link("meteor/tracker",{Tracker(e){i=e}},1),t.link("../../app/authorization/client",{hasRole(e){r=e}},2),t.link("../../app/models/client",{Roles(e){l=e}},3),t.link("../../app/settings/client",{settings(e){s=e}},4),t.link("../../app/utils/client/lib/SDKClient",{sdk(e){a=e}},5),t.link("../../app/utils/lib/i18n",{t(e){p=e}},6),t.link("../components/FingerprintChangeModal",{default(e){c=e}},7),t.link("../components/FingerprintChangeModalConfirmation",{default(e){m=e}},8),t.link("../components/UrlChangeModal",{default(e){u=e}},9),t.link("../lib/imperativeModal",{imperativeModal(e){d=e}},10),t.link("../lib/toast",{dispatchToastMessage(e){g=e}},11),t.link("../lib/userData",{isSyncReady(e){_=e}},12),o.startup(()=>{i.autorun(e=>{let n=o.userId();if(!n||!l.ready.get()||!_.get())return;if(!1===r(n,"admin"))return e.stop();let t=s.get("Site_Url");if(!t)return;let i=location.origin+window.__meteor_runtime_config__.ROOT_URL_PATH_PREFIX;window.__meteor_runtime_config__.ROOT_URL.replace(/\/$/,"")!==i&&d.open({component:u,props:{onConfirm:()=>{d.close(),a.call("saveSetting","Site_Url",i).then(()=>{g({type:"success",message:p("Saved")})})},siteUrl:t,currentUrl:i,onClose:d.close}});let c=s.get("Document_Domain");return c&&(window.document.domain=c),e.stop()})}),o.startup(()=>{i.autorun(e=>{let n=o.userId();if(!n||!l.ready.get()||!_.get())return;if(!1===r(n,"admin"))return e.stop();let t=s.get("Deployment_FingerPrint_Verified");if(null==t||!0===t)return;let i=()=>{d.close(),a.rest.post("/v1/fingerprint",{setDeploymentAs:"updated-configuration"}).then(()=>{g({type:"success",message:p("Configuration_update_confirmed")})})},u=()=>{d.close(),a.rest.post("/v1/fingerprint",{setDeploymentAs:"new-workspace"}).then(()=>{g({type:"success",message:p("New_workspace_confirmed")})})},f=()=>{d.open({component:c,props:{onConfirm:()=>{d.open({component:m,props:{onConfirm:u,onCancel:f,newWorkspace:!0}})},onCancel:()=>{d.open({component:m,props:{onConfirm:i,onCancel:f,newWorkspace:!1}})},onClose:d.close}})};return f(),e.stop()})})}
//# sourceMappingURL=/dynamic/client/startup/e1eca3297190dfe46c1031c1de80be570532b3ab.map
