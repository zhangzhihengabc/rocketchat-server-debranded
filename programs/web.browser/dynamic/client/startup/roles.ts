function module(e,l,t){let o,i,c,r,n;t.link("meteor/meteor",{Meteor(e){o=e}},0),t.link("meteor/tracker",{Tracker(e){i=e}},1),t.link("../../app/models/client",{Roles(e){c=e}},2),t.link("../../app/ui-cached-collection/client",{CachedCollectionManager(e){r=e}},3),t.link("../../app/utils/client/lib/SDKClient",{sdk(e){n=e}},4),o.startup(()=>{r.onLogin(async()=>{let{roles:e}=await n.rest.get("/v1/roles.list");c._collection._docs._map=new Map(e.map(e=>[c._collection._docs._idStringify(e._id),e])),Object.values(c._collection.queries).forEach(e=>c._collection._recomputeResults(e)),c.ready.set(!0)});let e={changed:e=>{delete e.type,c.upsert({_id:e._id},e)},removed:e=>{c.remove({_id:e._id})}};i.autorun(l=>{o.userId()&&(i.afterFlush(()=>{n.stream("roles",["roles"],l=>{var t;null===(t=e[l.type])||void 0===t||t.call(e,l)})}),l.stop())})})}
//# sourceMappingURL=/dynamic/client/startup/a2d161903a5116f4d1a05bc2c2f9f93bf3fb9a13.map
