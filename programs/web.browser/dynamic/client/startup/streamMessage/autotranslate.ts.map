)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/startup/streamMessage/autotranslate.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Tracker } from 'meteor/tracker';\n\nimport { hasPermission } from '../../../app/authorization/client';\nimport { settings } from '../../../app/settings/client';\nimport { callbacks } from '../../../lib/callbacks';\n\nMeteor.startup(() => {\n\tTracker.autorun(() => {\n\t\tconst isEnabled = settings.get('AutoTranslate_Enabled') && hasPermission('auto-translate');\n\n\t\tif (!isEnabled) {\n\t\t\tcallbacks.remove('streamMessage', 'autotranslate-stream');\n\t\t\treturn;\n\t\t}\n\n\t\timport('../../../app/autotranslate/client').then(({ createAutoTranslateMessageStreamHandler }) => {\n\t\t\tconst streamMessage = createAutoTranslateMessageStreamHandler();\n\t\t\tcallbacks.remove('streamMessage', 'autotranslate-stream');\n\t\t\tcallbacks.add('streamMessage', streamMessage, callbacks.priority.HIGH - 3, 'autotranslate-stream');\n\t\t});\n\t});\n});\n",null],"names":["Meteor","Tracker","hasPermission","settings","callbacks","module","link","startup","autorun","isEnabled","get","remove","dynamicImport","then","_ref","createAutoTranslateMessageStreamHandler","streamMessage","add","priority","HIGH"],"mappings":"2BAAAA,EAAuCC,EAAAC,EAAAC,EAAAC,EAA9BC,EAAQC,IAAA,CAAM,gBAAgB,CAAAN,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,iBAAAA,CAAAJ,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,oCAAAA,CAAAH,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAF,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,yBAAAA,CAAAD,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAOvCJ,EAAOO,OAAO,CAAC,KACdN,EAAQO,OAAO,CAAC,KACf,IAAMC,EAAYN,EAASO,GAAG,CAAC,0BAA4BR,EAAc,kBAEzE,GAAI,CAACO,EAAW,CACfL,EAAUO,MAAM,CAAC,gBAAiB,wBAClC,OAGDN,EAAAO,aAAA,CAAO,qCAAqCC,IAAI,CAACC,IAAgD,GAA/C,CAAEC,wCAAAA,CAAAA,CAAyC,CAAAD,EACtFE,EAAgBD,IACtBX,EAAUO,MAAM,CAAC,gBAAiB,wBAClCP,EAAUa,GAAG,CAAC,gBAAiBD,EAAeZ,EAAUc,QAAQ,CAACC,IAAI,CAAG,EAAG,uBAC5E,EACD,EACD"}