function module(e,o,a){let t,n,l,i,r,s,c,u,m,d,v,g,h,p,k,b,f,y,x,M,T,R,_,A,C;let I=["label"];a.link("@babel/runtime/helpers/extends",{default(e){t=e}},0),a.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){n=e}},1),a.link("@babel/runtime/helpers/objectSpread2",{default(e){l=e}},2),a.link("@rocket.chat/fuselage",{Option(e){i=e},Menu(e){r=e}},0),a.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){s=e}},1),a.link("@rocket.chat/ui-contexts",{useRouter(e){c=e},useSetModal(e){u=e},useToastMessageDispatch(e){m=e},useUserSubscription(e){d=e},useSetting(e){v=e},usePermission(e){g=e},useMethod(e){h=e},useTranslation(e){p=e},useEndpoint(e){k=e}},2),a.link("react",{default(e){b=e},memo(e){f=e},useMemo(e){y=e}},3),a.link("../../app/ui-utils/client",{LegacyRoomManager(e){x=e}},4),a.link("../../definition/IRoomTypeConfig",{UiTextContext(e){M=e}},5),a.link("../../ee/client/omnichannel/hooks/useOmnichannelPrioritiesMenu",{useOmnichannelPrioritiesMenu(e){T=e}},6),a.link("../components/GenericModal",{GenericModalDoNotAskAgain(e){R=e}},7),a.link("../components/WarningModal",{default(e){_=e}},8),a.link("../hooks/useDontAskAgain",{useDontAskAgain(e){A=e}},9),a.link("../lib/rooms/roomCoordinator",{roomCoordinator(e){C=e}},10);let D={f:!0,t:!0,name:!0},E={p:"/v1/groups.close",c:"/v1/channels.close",d:"/v1/im.close",v:"/v1/channels.close",l:"/v1/groups.close"},O={p:"/v1/groups.leave",c:"/v1/channels.leave",d:"/v1/im.leave",v:"/v1/channels.leave",l:"/v1/groups.leave"};a.exportDefault(f(e=>{let{rid:o,unread:a,threadUnread:f,alert:P,roomOpen:S,type:w,cl:N,name:U="",hideDefaultOptions:G=!1}=e,H=p(),L=m(),W=u(),F=s(()=>W()),j=c(),V=d(o,D),Y=v("Favorite_Rooms"),q=!!(null==V?void 0:V.f),z=A("hideRoom"),B=k("POST",E[w]),J=k("POST","/v1/subscriptions.read"),K=k("POST","/v1/rooms.favorite"),Q=k("POST",O[w]),X=h("unreadMessages"),Z=P||a||f,$=g("leave-c"),ee=g("leave-p"),eo="l"===w,ea=T(o),et=("c"!==w||!!$)&&("p"!==w||!!ee)&&!(null!=N&&!N||["d","l"].includes(w)),en=s(()=>{let e=async()=>{try{await Q({roomId:o}),S&&j.navigate("/home"),x.close(o)}catch(e){L({type:"error",message:e})}F()},a=C.getRoomDirectives(w).getUiText(M.LEAVE_WARNING);W(b.createElement(_,{text:H(a,U),confirmText:H("Leave_room"),close:F,cancel:F,cancelText:H("Cancel"),confirm:e}))}),el=s(async()=>{let e=async()=>{try{await B({roomId:o})}catch(e){L({type:"error",message:e})}F()},a=C.getRoomDirectives(w).getUiText(M.HIDE_WARNING);if(z)return e();W(b.createElement(R,{variant:"danger",confirmText:H("Yes_hide_it"),cancelText:H("Cancel"),onClose:F,onCancel:F,onConfirm:e,dontAskAgain:{action:"hideRoom",label:H("Hide_room")}},H(a,U)))}),ei=s(async()=>{try{if(Z){await J({rid:o,readThreads:!0});return}if(await X(void 0,o),null==V)return;x.close(V.t+V.name),j.navigate("/home")}catch(e){L({type:"error",message:e})}}),er=s(async()=>{try{await K({roomId:o,favorite:!q})}catch(e){L({type:"error",message:e})}}),es=y(()=>l(l({},!G&&l(l({hideRoom:{label:{label:H("Hide"),icon:"eye-off"},action:el},toggleRead:{label:{label:Z?H("Mark_read"):H("Mark_unread"),icon:"flag"},action:ei}},Y?{toggleFavorite:{label:{label:q?H("Unfavorite"):H("Favorite"),icon:q?"star-filled":"star"},action:er}}:{}),et&&{leaveRoom:{label:{label:H("Leave_room"),icon:"sign-out"},action:en}})),eo&&ea),[G,H,el,Z,ei,Y,q,er,et,en,eo,ea]);return b.createElement(r,{"rcx-sidebar-item__menu":!0,title:H("Options"),mini:!0,"aria-keyshortcuts":"alt",tabIndex:-1,options:es,maxHeight:300,renderItem:e=>{let{label:{label:o,icon:a}}=e,l=n(e,I);return b.createElement(i,t({label:o,icon:a},l))}})}))}
//# sourceMappingURL=/dynamic/client/sidebar/9a94ceea4ec80a66597562edf706d7873ea7ec19.map
