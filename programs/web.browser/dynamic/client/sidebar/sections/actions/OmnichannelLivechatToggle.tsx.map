)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/sections/actions/OmnichannelLivechatToggle.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Sidebar } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ComponentProps } from 'react';\nimport React from 'react';\n\nimport { useOmnichannelAgentAvailable } from '../../../hooks/omnichannel/useOmnichannelAgentAvailable';\n\nexport const OmnichannelLivechatToggle = (props: Omit<ComponentProps<typeof Sidebar.TopBar.Action>, 'icon'>): ReactElement => {\n\tconst t = useTranslation();\n\tconst agentAvailable = useOmnichannelAgentAvailable();\n\tconst changeAgentStatus = useEndpoint('POST', '/v1/livechat/agent.status');\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleAvailableStatusChange = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tawait changeAgentStatus({});\n\t\t} catch (error: unknown) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\treturn (\n\t\t<Sidebar.TopBar.Action\n\t\t\t{...props}\n\t\t\tid='omnichannel-status-toggle'\n\t\t\ttitle={agentAvailable ? t('Turn_off_answer_chats') : t('Turn_on_answer_chats')}\n\t\t\tsuccess={agentAvailable}\n\t\t\ticon={agentAvailable ? 'message' : 'message-disabled'}\n\t\t\tonClick={handleAvailableStatusChange}\n\t\t/>\n\t);\n};\n",null],"names":["_extends","Sidebar","useMutableCallback","useEndpoint","useToastMessageDispatch","useTranslation","React","useOmnichannelAgentAvailable","module","link","default","export","OmnichannelLivechatToggle","props","t","agentAvailable","changeAgentStatus","dispatchToastMessage","handleAvailableStatusChange","error","type","message","createElement","TopBar","Action","id","title","success","icon","onClick"],"mappings":"2BAAAA,EAAgDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvCC,EAASC,IAAM,CAAA,iCAAwB,CAAAC,QAAAA,CAAAA,EAAAV,EAAAA,CAAA,CAAA,EAAA,GAAhDQ,EAAOG,MAAE,CAAA,CAAAC,0BAAe,IAAAA,CAAwB,GAAAJ,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAP,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAN,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAL,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,0DAAAA,CAAAD,6BAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAQzC,IAAMK,EAA6BC,IACzC,IAAMC,EAAIT,IACJU,EAAiBR,IACjBS,EAAoBb,EAAY,OAAQ,6BACxCc,EAAuBb,IAEvBc,EAA8BhB,EAAmB,UACtD,GAAI,CACH,MAAMc,EAAkB,CAAA,GACvB,MAAOG,EAAgB,CACxBF,EAAqB,CAAEG,KAAM,QAASC,QAASF,CAAK,GAEtD,GAEA,OACCb,EAAAgB,aAAA,CAACrB,EAAQsB,MAAM,CAACC,MAAM,CAAAxB,EAAA,CAAA,EACjBa,EAAK,CACTY,GAAG,4BACHC,KAAK,CAAmBZ,EAAE,AAAnBC,EAAmB,wBAA6B,wBACvDY,QAASZ,EACTa,KAAMb,EAAiB,UAAY,mBACnCc,QAASX,CAA4B,GAGxC"}