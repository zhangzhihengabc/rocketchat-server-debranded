function module(e,o,t){let n,r,l,a,i,s,u,c,d,m,f,k,p,_,h;t.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),t.link("@rocket.chat/fuselage",{Throbber(e){r=e},Box(e){l=e}},0),t.link("@rocket.chat/ui-contexts",{useSetModal(e){a=e},useEndpoint(e){i=e},useToastMessageDispatch(e){s=e},useTranslation(e){u=e}},1),t.link("@tanstack/react-query",{useMutation(e){c=e}},2),t.link("react",{default(e){d=e}},3),t.link("react-virtuoso",{Virtuoso(e){m=e}},4),t.link("../../../components/ScrollableContentWrapper",{default(e){f=e}},5),t.link("../../../lib/rooms/roomCoordinator",{roomCoordinator(e){k=e}},6),t.link("./FederatedRoomListEmptyPlaceholder",{default(e){p=e}},7),t.link("./FederatedRoomListItem",{default(e){_=e}},8),t.link("./useInfiniteFederationSearchPublicRooms",{useInfiniteFederationSearchPublicRooms(e){h=e}},9),t.exportDefault(e=>{let{serverName:o,roomName:t,count:b}=e,E=i("POST","/v1/federation/joinExternalPublicRoom"),x=a(),y=u(),R=s(),{data:g,isLoading:S,isFetchingNextPage:v,fetchNextPage:P}=h(o,t,b),{mutate:C,isLoading:F}=c(["federation/joinExternalPublicRoom"],async e=>{let{id:o,pageToken:n}=e;return E({externalRoomId:o,roomName:t,pageToken:n})},{onSuccess:(e,o)=>{R({type:"success",message:y("Your_request_to_join__roomName__has_been_made_it_could_take_up_to_15_minutes_to_be_processed",{roomName:o.name})}),x(null)},onError:(e,o)=>{let{id:t}=o;if(e instanceof Error&&"already-joined"===e.message){x(null),k.openRouteLink("c",{rid:t});return}R({type:"error",message:e})}});if(S)return d.createElement(r,null);let I=null==g?void 0:g.pages.flatMap(e=>e.rooms);return d.createElement(l,{is:"ul",overflow:"hidden",height:"356px",flexGrow:1,flexShrink:0,mi:-24},d.createElement(m,{data:I||[],computeItemKey:(e,o)=>(null==o?void 0:o.id)||e,overscan:4,components:{Footer:()=>v?d.createElement(r,null):null,Scroller:f,EmptyPlaceholder:p},endReached:S||v?()=>void 0:()=>P(),itemContent:(e,o)=>d.createElement(_,n({onClickJoin:()=>C(o)},o,{disabled:F,key:o.id}))}))})}
//# sourceMappingURL=/dynamic/client/sidebar/header/MatrixFederationSearch/e523df477617c872473edc9a706bc2358d6b2213.map
