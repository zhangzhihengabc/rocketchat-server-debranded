function module(e,t,r){let l,a,n,i,s,o,d,u,c,m,v,E,S,k,x,f,y,g,C,F,M;r.link("@rocket.chat/fuselage",{Divider(e){l=e},Modal(e){a=e},ButtonGroup(e){n=e},Button(e){i=e},Field(e){s=e},TextInput(e){o=e},FieldLabel(e){d=e},FieldRow(e){u=e},FieldError(e){c=e},FieldHint(e){m=e}},0),r.link("@rocket.chat/ui-contexts",{useSetModal(e){v=e},useTranslation(e){E=e},useEndpoint(e){S=e},useToastMessageDispatch(e){k=e}},1),r.link("@tanstack/react-query",{useMutation(e){x=e},useQueryClient(e){f=e}},2),r.link("react",{default(e){y=e},useState(e){g=e}},3),r.link("./MatrixFederationRemoveServerList",{default(e){C=e}},4),r.link("./MatrixFederationSearch",{default(e){F=e}},5),r.link("./useMatrixServerList",{useMatrixServerList(e){M=e}},6);let _=e=>e?"invalid-server-name"===e.error?"Server_doesnt_exist":"invalid-server-name"===e.error?"Server_already_added":void 0:void 0;r.exportDefault(e=>{let{onClickClose:t}=e,r=E(),p=S("POST","/v1/federation/addServerByUser"),[h,T]=g(""),[B,L]=g(),b=v(),D=f(),H=k(),{mutate:U,isLoading:w,isError:Q}=x(["v1/federation/addServerByUser",h],()=>p({serverName:h}),{onSuccess:async()=>{await D.invalidateQueries(["federation/listServersByUsers"]),b(y.createElement(F,{defaultSelectedServer:h,onClose:t,key:h}))},onError:e=>{let t=_(e);if(!t){H({type:"error",message:e});return}L(t)}}),{data:R,isLoading:q}=M();return y.createElement(a,{maxHeight:"x600"},y.createElement(a.Header,null,y.createElement(a.Title,null,r("Manage_servers")),y.createElement(a.Close,{onClick:t})),y.createElement(a.Content,null,y.createElement(s,null,y.createElement(d,null,r("Server_name")),y.createElement(u,null,y.createElement(o,{disabled:w,value:h,onChange:e=>{T(e.currentTarget.value),B&&L(void 0)},mie:4}),y.createElement(i,{onClick:()=>U(),primary:!0,loading:w},r("Add"))),Q&&B&&y.createElement(c,null,r(B)),y.createElement(m,null,r("Federation_Example_matrix_server"))),y.createElement(l,{mb:16}),!q&&(null==R?void 0:R.servers)&&y.createElement(C,{servers:R.servers})),y.createElement(a.Footer,null,y.createElement(n,null,y.createElement(i,{onClick:t},r("Cancel")))))})}
//# sourceMappingURL=/dynamic/client/sidebar/header/MatrixFederationSearch/6af44dc3900160a61110f2acd34e63665b3ed105.map
