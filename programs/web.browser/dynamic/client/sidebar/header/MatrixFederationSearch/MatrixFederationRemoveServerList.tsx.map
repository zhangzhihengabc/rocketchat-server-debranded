)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/header/MatrixFederationSearch/MatrixFederationRemoveServerList.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { css } from '@rocket.chat/css-in-js';\nimport { Box, Option, Icon } from '@rocket.chat/fuselage';\nimport { useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport type { VFC } from 'react';\nimport React from 'react';\n\ntype MatrixFederationRemoveServerListProps = {\n\tservers: Array<{ name: string; default: boolean; local: boolean }>;\n};\n\nconst style = css`\n\ti {\n\t\tvisibility: hidden;\n\t}\n\tli {\n\t\tcursor: default;\n\t}\n\tli:hover {\n\t\ti {\n\t\t\tcursor: pointer;\n\t\t\tvisibility: visible;\n\t\t}\n\t}\n`;\n\nconst MatrixFederationRemoveServerList: VFC<MatrixFederationRemoveServerListProps> = ({ servers }) => {\n\tconst removeMatrixServer = useEndpoint('POST', '/v1/federation/removeServerByUser');\n\n\tconst queryClient = useQueryClient();\n\n\tconst { mutate: removeServer, isLoading: isRemovingServer } = useMutation(\n\t\t['federation/removeServerByUser'],\n\t\t(serverName: string) => removeMatrixServer({ serverName }),\n\t\t{ onSuccess: () => queryClient.invalidateQueries(['federation/listServersByUsers']) },\n\t);\n\n\tconst t = useTranslation();\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' className={[style]}>\n\t\t\t<Box is='h2' fontScale='p1' fontWeight='bolder'>\n\t\t\t\t{t('Servers')}\n\t\t\t</Box>\n\t\t\t{servers.map(({ name, default: isDefault }) => (\n\t\t\t\t<Option key={name} title={name} label={name}>\n\t\t\t\t\t{!isDefault && (\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tsize='x16'\n\t\t\t\t\t\t\tcolor={isRemovingServer ? 'annotation' : 'danger'}\n\t\t\t\t\t\t\tname='cross'\n\t\t\t\t\t\t\tonClick={() => (isRemovingServer ? null : removeServer(name))}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Option>\n\t\t\t))}\n\t\t</Box>\n\t);\n};\n\nexport default MatrixFederationRemoveServerList;\n",null],"names":["_taggedTemplateLiteral","css","Box","Option","Icon","useTranslation","useEndpoint","useMutation","useQueryClient","React","module","default","link","style","_templateObject","exportDefault","_ref","servers","removeMatrixServer","queryClient","mutate","removeServer","isLoading","isRemovingServer","serverName","onSuccess","invalidateQueries","t","createElement","display","flexDirection","className","is","fontScale","fontWeight","map","_ref2","name","isDefault","key","title","label","size","color","onClick"],"mappings":"iCAAAA,EAAAC,EAA6CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAzBC,EAAAA,IAAAA,CAAAA,+CAAyB,CAAAC,QAAAA,CAAAA,EAAAX,EAAAA,CAAA,CAAA,EAAA,GAAtCU,EAAOE,IAAA,CAAM,yBAAyB,CAAAX,IAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAR,IAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,KAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAL,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAH,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,QAAAA,CAAAC,QAAAA,CAAAA,EAAAF,EAAAA,CAAA,CAAA,EAAA,GAW7C,IAAMI,EAAQZ,EAAGa,GAAAA,CAAAA,EAAAd,EAAA,CAAA,gJAAA,CAAA,GAXjBU,EAAOK,aAAa,CA0BiEC,IAAgB,GAAf,CAAEC,QAAAA,CAAAA,CAAS,CAAAD,EAC1FE,EAAqBZ,EAAY,OAAQ,qCAEzCa,EAAcX,IAEd,CAAEY,OAAQC,CAAY,CAAEC,UAAWC,CAAAA,CAAkB,CAAGhB,EAC7D,CAAC,gCAAgC,CAChCiB,GAAuBN,EAAmB,CAAEM,WAAAA,CAAU,GACvD,CAAEC,UAAW,IAAMN,EAAYO,iBAAiB,CAAC,CAAC,gCAAgC,CAAC,GAG9EC,EAAItB,IAEV,OACCI,EAAAmB,aAAA,CAAC1B,EAAG,CAAC2B,QAAQ,OAAOC,cAAc,SAASC,UAAW,CAAClB,EAAK,AAAE,EAC7DJ,EAAAmB,aAAA,CAAC1B,EAAG,CAAC8B,GAAG,KAAKC,UAAU,KAAKC,WAAW,QAAQ,EAC7CP,EAAE,YAEHV,EAAQkB,GAAG,CAACC,IAAA,GAAC,CAAEC,KAAAA,CAAI,CAAE1B,QAAS2B,CAAAA,CAAW,CAAAF,EAAA,OACzC3B,EAAAmB,aAAA,CAACzB,EAAM,CAACoC,IAAKF,EAAMG,MAAOH,EAAMI,MAAOJ,CAAK,EAC1C,CAACC,GACD7B,EAAAmB,aAAA,CAACxB,EAAI,CACJsC,KAAK,MACLC,MAAOpB,EAAmB,aAAe,SACzCc,KAAK,QACLO,QAAS,IAAOrB,EAAmB,KAAOF,EAAagB,EAAO,GAGxD,GAIb"}