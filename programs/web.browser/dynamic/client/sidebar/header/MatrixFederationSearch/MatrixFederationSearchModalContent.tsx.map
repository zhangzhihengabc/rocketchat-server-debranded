)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/header/MatrixFederationSearch/MatrixFederationSearchModalContent.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { SelectOption } from '@rocket.chat/fuselage';\nimport { Box, Select, TextInput } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { useSetModal, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { VFC, FormEvent } from 'react';\nimport React, { useCallback, useState, useMemo } from 'react';\n\nimport FederatedRoomList from './FederatedRoomList';\nimport FederatedRoomListErrorBoundary from './FederatedRoomListErrorBoundary';\nimport MatrixFederationManageServersModal from './MatrixFederationManageServerModal';\nimport MatrixFederationSearch from './MatrixFederationSearch';\n\ntype MatrixFederationSearchModalContentProps = {\n\tservers: Array<{\n\t\tname: string;\n\t\tdefault: boolean;\n\t\tlocal: boolean;\n\t}>;\n\tdefaultSelectedServer?: string;\n};\n\nconst MatrixFederationSearchModalContent: VFC<MatrixFederationSearchModalContentProps> = ({ defaultSelectedServer, servers }) => {\n\tconst [serverName, setServerName] = useState(() => {\n\t\tconst defaultServer = servers.find((server) => server.name === defaultSelectedServer);\n\t\treturn defaultServer?.name ?? servers[0].name;\n\t});\n\n\tconst [roomName, setRoomName] = useState('');\n\n\tconst setModal = useSetModal();\n\n\tconst debouncedRoomName = useDebouncedValue(roomName, 400);\n\n\tconst t = useTranslation();\n\n\tconst serverOptions = useMemo<Array<SelectOption>>(() => servers.map((server): SelectOption => [server.name, server.name]), [servers]);\n\n\tconst manageServers = useCallback(() => {\n\t\tsetModal(\n\t\t\t<MatrixFederationManageServersModal onClickClose={() => setModal(<MatrixFederationSearch onClose={() => setModal(null)} />)} />,\n\t\t);\n\t}, [setModal]);\n\n\treturn (\n\t\t<>\n\t\t\t<Box display='flex' flexDirection='row'>\n\t\t\t\t<Box mie={4} flexGrow={0} flexShrink={4}>\n\t\t\t\t\t<Select options={serverOptions} value={serverName} onChange={(value) => setServerName(String(value))} />\n\t\t\t\t</Box>\n\t\t\t\t<TextInput\n\t\t\t\t\tplaceholder={t('Search_rooms')}\n\t\t\t\t\tflexGrow={4}\n\t\t\t\t\tflexShrink={0}\n\t\t\t\t\tvalue={roomName}\n\t\t\t\t\tonChange={(e: FormEvent<HTMLInputElement>) => setRoomName(e.currentTarget.value)}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t\t<Box is='a' display='flex' flexDirection='row' mbe={16} onClick={manageServers}>\n\t\t\t\t{t('Manage_server_list')}\n\t\t\t</Box>\n\t\t\t<FederatedRoomListErrorBoundary>\n\t\t\t\t<FederatedRoomList serverName={serverName} roomName={debouncedRoomName} />\n\t\t\t</FederatedRoomListErrorBoundary>\n\t\t</>\n\t);\n};\n\nexport default MatrixFederationSearchModalContent;\n",null],"names":["Box","Select","TextInput","useDebouncedValue","useSetModal","useTranslation","React","useCallback","useState","useMemo","FederatedRoomList","FederatedRoomListErrorBoundary","MatrixFederationManageServersModal","MatrixFederationSearch","module","link","v","default","exportDefault","_ref","defaultSelectedServer","servers","serverName","setServerName","_defaultServer$name","defaultServer","find","server","name","roomName","setRoomName","setModal","debouncedRoomName","t","serverOptions","map","manageServers","createElement","onClickClose","onClose","Fragment","display","flexDirection","mie","flexGrow","flexShrink","options","value","onChange","String","placeholder","e","currentTarget","is","mbe","onClick"],"mappings":"2BACAA,EAAOC,EAAOC,EAAiDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAzCC,EAASC,IAAE,CAAA,wBAAM,CAAuBf,IAACgB,CAAA,EAAAhB,EAAAA,CAAA,EAAAC,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAY,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAX,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAW,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAV,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,QAAAA,CAAAG,QAAAA,CAAAA,EAAAX,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,sBAAAA,CAAAG,QAAAA,CAAAA,EAAAP,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAG,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,sCAAAA,CAAAG,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAG,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAA/DC,EAAOI,aAAa,CAoBqEC,IAAuC,GAAtC,CAAEC,sBAAAA,CAAqB,CAAEC,QAAAA,CAAAA,CAAS,CAAAF,EACrH,CAACG,EAAYC,EAAc,CAAGf,EAAS,KAAK,IAAAgB,EACjD,IAAMC,EAAgBJ,EAAQK,IAAI,CAAEC,GAAWA,EAAOC,IAAI,GAAKR,GAC/D,OAAA,AAA0B,OAA1BI,CAAAA,EAAOC,MAAAA,EAAa,KAAA,EAAbA,EAAeG,IAAI,AAAJA,GAAIJ,AAAA,KAAA,IAAAA,EAAAA,EAAIH,CAAO,CAAC,EAAE,CAACO,IAAI,AAC9C,GAEM,CAACC,EAAUC,EAAY,CAAGtB,EAAS,IAEnCuB,EAAW3B,IAEX4B,EAAoB7B,EAAkB0B,EAAU,KAEhDI,EAAI5B,IAEJ6B,EAAgBzB,EAA6B,IAAMY,EAAQc,GAAG,CAAER,GAAyB,CAACA,EAAOC,IAAI,CAAED,EAAOC,IAAI,CAAC,EAAG,CAACP,EAAQ,EAE/He,EAAgB7B,EAAY,KACjCwB,EACCzB,EAAA+B,aAAA,CAACzB,EAAkC,CAAC0B,aAAc,IAAMP,EAASzB,EAAA+B,aAAA,CAACxB,EAAsB,CAAC0B,QAAS,IAAMR,EAAS,KAAM,GAAK,GAE9H,EAAG,CAACA,EAAS,EAEb,OACCzB,EAAA+B,aAAA,CAAA/B,EAAAkC,QAAA,CAAA,KACClC,EAAA+B,aAAA,CAACrC,EAAG,CAACyC,QAAQ,OAAOC,cAAc,KAAK,EACtCpC,EAAA+B,aAAA,CAACrC,EAAG,CAAC2C,IAAK,EAAGC,SAAU,EAAGC,WAAY,CAAE,EACvCvC,EAAA+B,aAAA,CAACpC,EAAM,CAAC6C,QAASZ,EAAea,MAAOzB,EAAY0B,SAAWD,GAAUxB,EAAc0B,OAAOF,GAAQ,IAEtGzC,EAAA+B,aAAA,CAACnC,EAAS,CACTgD,YAAajB,EAAE,gBACfW,SAAU,EACVC,WAAY,EACZE,MAAOlB,EACPmB,SAAWG,GAAmCrB,EAAYqB,EAAEC,aAAa,CAACL,KAAK,CAAE,IAGnFzC,EAAA+B,aAAA,CAACrC,EAAG,CAACqD,GAAG,IAAIZ,QAAQ,OAAOC,cAAc,MAAMY,IAAK,GAAIC,QAASnB,CAAc,EAC7EH,EAAE,uBAEJ3B,EAAA+B,aAAA,CAAC1B,EAA8B,KAC9BL,EAAA+B,aAAA,CAAC3B,EAAiB,CAACY,WAAYA,EAAYO,SAAUG,CAAkB,IAI3E"}