function module(e,t,r){let l,n,a,o,i,s,u,c,m,d,E,k,p,b,f,C,F,g,h,y;r.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),r.link("@rocket.chat/fuselage",{Box(e){n=e},Modal(e){a=e},Button(e){o=e},FieldGroup(e){i=e},Field(e){s=e},FieldRow(e){u=e},FieldLabel(e){c=e},FieldError(e){m=e}},0),r.link("@rocket.chat/fuselage-hooks",{useUniqueId(e){d=e}},1),r.link("@rocket.chat/ui-contexts",{useTranslation(e){E=e},useEndpoint(e){k=e},useToastMessageDispatch(e){p=e}},2),r.link("@tanstack/react-query",{useMutation(e){b=e}},3),r.link("react",{default(e){f=e},memo(e){C=e}},4),r.link("react-hook-form",{useForm(e){F=e},Controller(e){g=e}},5),r.link("../../components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated",{default(e){h=e}},6),r.link("../../lib/utils/goToRoomById",{goToRoomById(e){y=e}},7),r.exportDefault(C(e=>{let{onClose:t}=e,r=E(),C=d(),q=p(),M=k("POST","/v1/dm.create"),{control:B,handleSubmit:T,formState:{isDirty:v,isSubmitting:x,isValidating:S,errors:_}}=F({mode:"onBlur",defaultValues:{users:[]}}),I=b({mutationFn:M,onSuccess:e=>{let{room:{rid:t}}=e;y(t)},onError:e=>{q({type:"error",message:e})},onSettled:()=>{t()}}),A=async e=>{let{users:t}=e;return I.mutateAsync({usernames:t.join(",")})};return f.createElement(a,{"data-qa":"create-direct-modal",wrapperFunction:e=>f.createElement(n,l({is:"form",onSubmit:T(A)},e))},f.createElement(a.Header,null,f.createElement(a.Title,null,r("Create_direct_message")),f.createElement(a.Close,{tabIndex:-1,onClick:t})),f.createElement(a.Content,{mbe:2},f.createElement(n,{mbe:24},r("Direct_message_creation_description")),f.createElement(i,null,f.createElement(s,null,f.createElement(c,{htmlFor:C,required:!0},r("Members")),f.createElement(u,null,f.createElement(g,{name:"users",rules:{required:r("error-the-field-is-required",{field:r("Members")})},control:B,render:e=>{let{field:{name:t,onChange:r,value:l,onBlur:n}}=e;return f.createElement(h,{name:t,onChange:r,value:l,onBlur:n,id:C,"aria-describedby":"".concat(C,"-error"),"aria-required":"true","aria-invalid":!!_.users})}})),_.users&&f.createElement(m,{"aria-live":"assertive",id:"".concat(C,"-error")},_.users.message)))),f.createElement(a.Footer,null,f.createElement(a.FooterControllers,null,f.createElement(o,{onClick:t},r("Cancel")),f.createElement(o,{disabled:!v,loading:x||S,type:"submit",primary:!0},r("Create")))))}))}
//# sourceMappingURL=/dynamic/client/sidebar/header/1b2a79ce889a29dd4b8356521ac04d9f6c4f81f2.map
