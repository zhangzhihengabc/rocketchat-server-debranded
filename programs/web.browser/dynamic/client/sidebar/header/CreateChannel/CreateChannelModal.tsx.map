)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/header/CreateChannel/CreateChannelModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import {\n\tBox,\n\tModal,\n\tButton,\n\tTextInput,\n\tIcon,\n\tField,\n\tToggleSwitch,\n\tFieldGroup,\n\tFieldLabel,\n\tFieldRow,\n\tFieldError,\n\tFieldHint,\n\tFieldDescription,\n} from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport {\n\tuseSetting,\n\tuseTranslation,\n\tuseEndpoint,\n\tusePermission,\n\tuseToastMessageDispatch,\n\tusePermissionWithScopedRoles,\n} from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { useEffect, useMemo } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport { useHasLicenseModule } from '../../../../ee/client/hooks/useHasLicenseModule';\nimport UserAutoCompleteMultipleFederated from '../../../components/UserAutoCompleteMultiple/UserAutoCompleteMultipleFederated';\nimport { goToRoomById } from '../../../lib/utils/goToRoomById';\n\ntype CreateChannelModalProps = {\n\tteamId?: string;\n\tonClose: () => void;\n};\n\ntype CreateChannelModalPayload = {\n\tname: string;\n\tisPrivate: boolean;\n\ttopic?: string;\n\tmembers: string[];\n\treadOnly: boolean;\n\tencrypted: boolean;\n\tbroadcast: boolean;\n\tfederated: boolean;\n};\n\nconst getFederationHintKey = (licenseModule: ReturnType<typeof useHasLicenseModule>, featureToggle: boolean): TranslationKey => {\n\tif (licenseModule === 'loading' || !licenseModule) {\n\t\treturn 'error-this-is-a-premium-feature';\n\t}\n\tif (!featureToggle) {\n\t\treturn 'Federation_Matrix_Federated_Description_disabled';\n\t}\n\treturn 'Federation_Matrix_Federated_Description';\n};\n\nconst CreateChannelModal = ({ teamId = '', onClose }: CreateChannelModalProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst canSetReadOnly = usePermissionWithScopedRoles('set-readonly', ['owner']);\n\tconst e2eEnabled = useSetting('E2E_Enable');\n\tconst namesValidation = useSetting('UTF8_Channel_Names_Validation');\n\tconst allowSpecialNames = useSetting('UI_Allow_room_names_with_special_chars');\n\tconst federationEnabled = useSetting<boolean>('Federation_Matrix_enabled') || false;\n\tconst e2eEnabledForPrivateByDefault = useSetting('E2E_Enabled_Default_PrivateRooms');\n\n\tconst canCreateChannel = usePermission('create-c');\n\tconst canCreatePrivateChannel = usePermission('create-p');\n\n\tconst channelNameRegex = useMemo(() => new RegExp(`^${namesValidation}$`), [namesValidation]);\n\tconst federatedModule = useHasLicenseModule('federation');\n\tconst canUseFederation = federatedModule !== 'loading' && federatedModule && federationEnabled;\n\n\tconst channelNameExists = useEndpoint('GET', '/v1/rooms.nameExists');\n\tconst createChannel = useEndpoint('POST', '/v1/channels.create');\n\tconst createPrivateChannel = useEndpoint('POST', '/v1/groups.create');\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst canOnlyCreateOneType = useMemo(() => {\n\t\tif (!canCreateChannel && canCreatePrivateChannel) {\n\t\t\treturn 'p';\n\t\t}\n\t\tif (canCreateChannel && !canCreatePrivateChannel) {\n\t\t\treturn 'c';\n\t\t}\n\t\treturn false;\n\t}, [canCreateChannel, canCreatePrivateChannel]);\n\n\tconst {\n\t\tregister,\n\t\tformState: { errors },\n\t\thandleSubmit,\n\t\tcontrol,\n\t\tsetValue,\n\t\twatch,\n\t} = useForm({\n\t\tmode: 'onBlur',\n\t\tdefaultValues: {\n\t\t\tmembers: [],\n\t\t\tname: '',\n\t\t\ttopic: '',\n\t\t\tisPrivate: canOnlyCreateOneType ? canOnlyCreateOneType === 'p' : true,\n\t\t\treadOnly: false,\n\t\t\tencrypted: (e2eEnabledForPrivateByDefault as boolean) ?? false,\n\t\t\tbroadcast: false,\n\t\t\tfederated: false,\n\t\t},\n\t});\n\n\tconst { isPrivate, broadcast, readOnly, federated } = watch();\n\n\tuseEffect(() => {\n\t\tif (!isPrivate) {\n\t\t\tsetValue('encrypted', false);\n\t\t}\n\n\t\tif (broadcast) {\n\t\t\tsetValue('encrypted', false);\n\t\t}\n\n\t\tif (federated) {\n\t\t\t// if room is federated, it cannot be encrypted or broadcast or readOnly\n\t\t\tsetValue('encrypted', false);\n\t\t\tsetValue('broadcast', false);\n\t\t\tsetValue('readOnly', false);\n\t\t}\n\n\t\tsetValue('readOnly', broadcast);\n\t}, [federated, setValue, broadcast, isPrivate]);\n\n\tconst validateChannelName = async (name: string): Promise<string | undefined> => {\n\t\tif (!name) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!allowSpecialNames && !channelNameRegex.test(name)) {\n\t\t\treturn t('error-invalid-name');\n\t\t}\n\n\t\tconst { exists } = await channelNameExists({ roomName: name });\n\t\tif (exists) {\n\t\t\treturn t('Channel_already_exist', name);\n\t\t}\n\t};\n\n\tconst handleCreateChannel = async ({ name, members, readOnly, topic, broadcast, encrypted, federated }: CreateChannelModalPayload) => {\n\t\tlet roomData;\n\t\tconst params = {\n\t\t\tname,\n\t\t\tmembers,\n\t\t\treadOnly,\n\t\t\textraData: {\n\t\t\t\ttopic,\n\t\t\t\tbroadcast,\n\t\t\t\tencrypted,\n\t\t\t\t...(federated && { federated }),\n\t\t\t\t...(teamId && { teamId }),\n\t\t\t},\n\t\t};\n\n\t\ttry {\n\t\t\tif (isPrivate) {\n\t\t\t\troomData = await createPrivateChannel(params);\n\t\t\t\t!teamId && goToRoomById(roomData.group._id);\n\t\t\t} else {\n\t\t\t\troomData = await createChannel(params);\n\t\t\t\t!teamId && goToRoomById(roomData.channel._id);\n\t\t\t}\n\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Room_has_been_created') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t} finally {\n\t\t\tonClose();\n\t\t}\n\t};\n\n\tconst e2eDisabled = useMemo<boolean>(\n\t\t() => !isPrivate || broadcast || Boolean(!e2eEnabled) || Boolean(e2eEnabledForPrivateByDefault),\n\t\t[e2eEnabled, e2eEnabledForPrivateByDefault, broadcast, isPrivate],\n\t);\n\n\tconst createChannelFormId = useUniqueId();\n\tconst nameId = useUniqueId();\n\tconst topicId = useUniqueId();\n\tconst privateId = useUniqueId();\n\tconst federatedId = useUniqueId();\n\tconst readOnlyId = useUniqueId();\n\tconst encryptedId = useUniqueId();\n\tconst broadcastId = useUniqueId();\n\tconst addMembersId = useUniqueId();\n\n\treturn (\n\t\t<Modal\n\t\t\tdata-qa='create-channel-modal'\n\t\t\taria-labelledby={`${createChannelFormId}-title`}\n\t\t\twrapperFunction={(props: ComponentProps<typeof Box>) => (\n\t\t\t\t<Box is='form' id={createChannelFormId} onSubmit={handleSubmit(handleCreateChannel)} {...props} />\n\t\t\t)}\n\t\t>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Title id={`${createChannelFormId}-title`}>{t('Create_channel')}</Modal.Title>\n\t\t\t\t<Modal.Close tabIndex={-1} title={t('Close')} onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content mbe={2}>\n\t\t\t\t<FieldGroup>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel required htmlFor={nameId}>\n\t\t\t\t\t\t\t{t('Channel_name')}\n\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tid={nameId}\n\t\t\t\t\t\t\t\tdata-qa-type='channel-name-input'\n\t\t\t\t\t\t\t\t{...register('name', {\n\t\t\t\t\t\t\t\t\trequired: t('error-the-field-is-required', { field: t('Name') }),\n\t\t\t\t\t\t\t\t\tvalidate: (value) => validateChannelName(value),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\terror={errors.name?.message}\n\t\t\t\t\t\t\t\taddon={<Icon name={isPrivate ? 'hashtag-lock' : 'hashtag'} size='x20' />}\n\t\t\t\t\t\t\t\taria-invalid={errors.name ? 'true' : 'false'}\n\t\t\t\t\t\t\t\taria-describedby={`${nameId}-error`}\n\t\t\t\t\t\t\t\taria-required='true'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t{errors.name && (\n\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${nameId}-error`}>\n\t\t\t\t\t\t\t\t{errors.name.message}\n\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel htmlFor={topicId}>{t('Topic')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput id={topicId} aria-describedby={`${topicId}-hint`} {...register('topic')} data-qa-type='channel-topic-input' />\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t<FieldHint id={`${topicId}-hint`}>{t('Channel_what_is_this_channel_about')}</FieldHint>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={privateId}>{t('Private')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldHint id={`${privateId}-hint`}>\n\t\t\t\t\t\t\t\t\t{isPrivate ? t('Only_invited_users_can_acess_this_channel') : t('Everyone_can_access_this_channel')}\n\t\t\t\t\t\t\t\t</FieldHint>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='isPrivate'\n\t\t\t\t\t\t\t\trender={({ field: { onChange, value, ref } }): ReactElement => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\tid={privateId}\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${privateId}-hint`}\n\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\tdisabled={!!canOnlyCreateOneType}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={federatedId}>{t('Federation_Matrix_Federated')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldHint id={`${federatedId}-hint`}>{t(getFederationHintKey(federatedModule, federationEnabled))}</FieldHint>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='federated'\n\t\t\t\t\t\t\t\trender={({ field: { onChange, value, ref } }): ReactElement => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${federatedId}-hint`}\n\t\t\t\t\t\t\t\t\t\tid={federatedId}\n\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\tdisabled={!canUseFederation}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={readOnlyId}>{t('Read_only')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldHint id={`${readOnlyId}-hint`}>\n\t\t\t\t\t\t\t\t\t{readOnly ? t('Only_authorized_users_can_write_new_messages') : t('All_users_in_the_channel_can_write_new_messages')}\n\t\t\t\t\t\t\t\t</FieldHint>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='readOnly'\n\t\t\t\t\t\t\t\trender={({ field: { onChange, value, ref } }): ReactElement => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\tid={readOnlyId}\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${readOnlyId}-hint`}\n\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\tdisabled={!canSetReadOnly || broadcast || federated}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={encryptedId}>{t('Encrypted')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldDescription id={`${encryptedId}-hint`}>\n\t\t\t\t\t\t\t\t\t{isPrivate ? t('Encrypted_channel_Description') : t('Encrypted_not_available')}\n\t\t\t\t\t\t\t\t</FieldDescription>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='encrypted'\n\t\t\t\t\t\t\t\trender={({ field: { onChange, value, ref } }): ReactElement => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\tid={encryptedId}\n\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\tdisabled={e2eDisabled || federated}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${encryptedId}-hint`}\n\t\t\t\t\t\t\t\t\t\taria-labelledby='Encrypted_channel_Label'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' justifyContent='space-between' alignItems='start'>\n\t\t\t\t\t\t\t<Box display='flex' flexDirection='column' width='full'>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={broadcastId}>{t('Broadcast')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldHint id={`${broadcastId}-hint`}>{t('Broadcast_channel_Description')}</FieldHint>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\tname='broadcast'\n\t\t\t\t\t\t\t\trender={({ field: { onChange, value, ref } }): ReactElement => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${broadcastId}-hint`}\n\t\t\t\t\t\t\t\t\t\tid={broadcastId}\n\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\tdisabled={!!federated}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel htmlFor={addMembersId}>{t('Add_members')}</FieldLabel>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\tname='members'\n\t\t\t\t\t\t\trender={({ field: { onChange, value } }): ReactElement => (\n\t\t\t\t\t\t\t\t<UserAutoCompleteMultipleFederated id={addMembersId} value={value} onChange={onChange} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Field>\n\t\t\t\t</FieldGroup>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Modal.FooterControllers>\n\t\t\t\t\t<Button onClick={onClose}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button type='submit' primary data-qa-type='create-channel-confirm-button'>\n\t\t\t\t\t\t{t('Create')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.FooterControllers>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default CreateChannelModal;\n",null],"names":["_extends","_objectSpread","Box","Modal","Button","TextInput","Icon","Field","ToggleSwitch","FieldGroup","FieldLabel","FieldRow","FieldError","FieldHint","FieldDescription","useUniqueId","useSetting","useTranslation","useEndpoint","usePermission","useToastMessageDispatch","usePermissionWithScopedRoles","React","useEffect","useMemo","useForm","Controller","useHasLicenseModule","UserAutoCompleteMultipleFederated","goToRoomById","module","link","default","v","getFederationHintKey","licenseModule","featureToggle","exportDefault","_ref","_errors$name","teamId","onClose","t","canSetReadOnly","e2eEnabled","namesValidation","allowSpecialNames","federationEnabled","e2eEnabledForPrivateByDefault","canCreateChannel","canCreatePrivateChannel","channelNameRegex","RegExp","concat","federatedModule","canUseFederation","channelNameExists","createChannel","createPrivateChannel","dispatchToastMessage","canOnlyCreateOneType","register","formState","errors","handleSubmit","control","setValue","watch","mode","defaultValues","members","name","topic","isPrivate","readOnly","encrypted","broadcast","federated","validateChannelName","test","exists","roomName","handleCreateChannel","_ref2","roomData","params","extraData","group","_id","channel","type","message","error","e2eDisabled","Boolean","createChannelFormId","nameId","topicId","privateId","federatedId","readOnlyId","encryptedId","broadcastId","addMembersId","createElement","wrapperFunction","props","is","id","onSubmit","Header","Title","Close","tabIndex","title","onClick","Content","mbe","required","htmlFor","field","validate","value","addon","size","display","justifyContent","alignItems","flexDirection","width","render","_ref3","onChange","ref","checked","disabled","_ref4","_ref5","_ref6","_ref7","_ref8","Footer","FooterControllers","primary"],"mappings":"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"}