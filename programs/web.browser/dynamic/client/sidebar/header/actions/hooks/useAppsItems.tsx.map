)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/header/actions/hooks/useAppsItems.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Badge, Skeleton } from '@rocket.chat/fuselage';\nimport { useTranslation, useRoute, usePermission } from '@rocket.chat/ui-contexts';\nimport React from 'react';\n\nimport type { GenericMenuItemProps } from '../../../../components/GenericMenu/GenericMenuItem';\nimport { useUserDropdownAppsActionButtons } from '../../../../hooks/useAppActionButtons';\nimport { useAppRequestStats } from '../../../../views/marketplace/hooks/useAppRequestStats';\n\n/**\n * @deprecated Feature preview\n * @description Should be moved to navbar when the feature became part of the core\n * @memberof navigationBar\n */\n\nexport const useAppsItems = (): GenericMenuItemProps[] => {\n\tconst t = useTranslation();\n\n\tconst appBoxItems = useUserDropdownAppsActionButtons();\n\n\tconst hasManageAppsPermission = usePermission('manage-apps');\n\tconst hasAccessMarketplacePermission = usePermission('access-marketplace');\n\n\tconst showMarketplace = hasAccessMarketplacePermission || hasManageAppsPermission;\n\n\tconst marketplaceRoute = useRoute('marketplace');\n\tconst page = 'list';\n\n\tconst appRequestStats = useAppRequestStats();\n\n\tconst marketPlaceItems: GenericMenuItemProps[] = [\n\t\t{\n\t\t\tid: 'marketplace',\n\t\t\ticon: 'store',\n\t\t\tcontent: t('Marketplace'),\n\t\t\tonClick: () => marketplaceRoute.push({ context: 'explore', page }),\n\t\t},\n\t\t{\n\t\t\tid: 'installed',\n\t\t\ticon: 'circle-arrow-down',\n\t\t\tcontent: t('Installed'),\n\t\t\tonClick: () => marketplaceRoute.push({ context: 'installed', page }),\n\t\t},\n\t];\n\n\tconst appsManagementItem: GenericMenuItemProps = {\n\t\tid: 'requested-apps',\n\t\ticon: 'cube',\n\t\tcontent: t('Requested'),\n\t\tonClick: () => {\n\t\t\tmarketplaceRoute.push({ context: 'requested', page });\n\t\t},\n\t\taddon: (\n\t\t\t<>\n\t\t\t\t{appRequestStats.isLoading && <Skeleton variant='circle' height={16} width={16} />}\n\t\t\t\t{appRequestStats.isSuccess && appRequestStats.data.totalUnseen > 0 && (\n\t\t\t\t\t<Badge variant='primary'>{appRequestStats.data.totalUnseen}</Badge>\n\t\t\t\t)}\n\t\t\t</>\n\t\t),\n\t};\n\n\treturn [\n\t\t...(showMarketplace ? marketPlaceItems : []),\n\t\t...(hasManageAppsPermission ? [appsManagementItem] : []),\n\t\t...(appBoxItems.isSuccess ? appBoxItems.data : []),\n\t];\n};\n",null],"names":["Badge","Skeleton","useTranslation","useRoute","usePermission","React","useUserDropdownAppsActionButtons","useAppRequestStats","module","export","useAppsItems","default","t","appBoxItems","hasManageAppsPermission","hasAccessMarketplacePermission","marketplaceRoute","page","appRequestStats","marketPlaceItems","id","icon","content","onClick","push","context","appsManagementItem","addon","createElement","Fragment","isLoading","variant","height","width","isSuccess","data","totalUnseen","showMarketplace"],"mappings":"2BAAgCA,EAAwBC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxDC,EAAOC,MAAE,CAAK,CAAAC,aAAY,IAAMA,CAAA,GAAwBF,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAR,MAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAN,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,QAAAA,CAAAG,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,wCAAAA,CAAAF,iCAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,yDAAAA,CAAAD,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAcjD,IAAMG,EAAe,KAC3B,IAAME,EAAIV,IAEJW,EAAcP,IAEdQ,EAA0BV,EAAc,eACxCW,EAAiCX,EAAc,sBAI/CY,EAAmBb,EAAS,eAC5Bc,EAAO,OAEPC,EAAkBX,IAElBY,EAA2C,CAChD,CACCC,GAAI,cACJC,KAAM,QACNC,QAASV,EAAE,eACXW,QAAS,IAAMP,EAAiBQ,IAAI,CAAC,CAAEC,QAAS,UAAWR,KAAAA,CAAI,IAEhE,CACCG,GAAI,YACJC,KAAM,oBACNC,QAASV,EAAE,aACXW,QAAS,IAAMP,EAAiBQ,IAAI,CAAC,CAAEC,QAAS,YAAaR,KAAAA,CAAI,IAElE,CAEKS,EAA2C,CAChDN,GAAI,iBACJC,KAAM,OACNC,QAASV,EAAE,aACXW,QAAS,KACRP,EAAiBQ,IAAI,CAAC,CAAEC,QAAS,YAAaR,KAAAA,CAAI,EACnD,EACAU,MACCtB,EAAAuB,aAAA,CAAAvB,EAAAwB,QAAA,CAAA,KACEX,EAAgBY,SAAS,EAAIzB,EAAAuB,aAAA,CAAC3B,EAAQ,CAAC8B,QAAQ,SAASC,OAAQ,GAAIC,MAAO,EAAG,GAC9Ef,EAAgBgB,SAAS,EAAIhB,EAAgBiB,IAAI,CAACC,WAAW,CAAG,GAChE/B,EAAAuB,aAAA,CAAC5B,EAAK,CAAC+B,QAAQ,SAAS,EAAEb,EAAgBiB,IAAI,CAACC,WAAW,IAM9D,MAAO,IACFC,AAxCmBtB,GAAkCD,EAwCnCK,EAAmB,EAAE,IACvCL,EAA0B,CAACY,EAAmB,CAAG,EAAE,IACnDb,EAAYqB,SAAS,CAAGrB,EAAYsB,IAAI,CAAG,EAAE,CACjD,AACF"}