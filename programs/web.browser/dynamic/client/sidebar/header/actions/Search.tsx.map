)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/header/actions/Search.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Sidebar } from '@rocket.chat/fuselage';\nimport { useMutableCallback, useOutsideClick } from '@rocket.chat/fuselage-hooks';\nimport type { VFC, HTMLAttributes } from 'react';\nimport React, { useState, useEffect, useRef } from 'react';\nimport tinykeys from 'tinykeys';\n\nimport SearchList from '../../search/SearchList';\n\nconst Search: VFC<Omit<HTMLAttributes<HTMLElement>, 'is'>> = (props) => {\n\tconst [searchOpen, setSearchOpen] = useState(false);\n\n\tconst ref = useRef<HTMLElement>(null);\n\tconst handleCloseSearch = useMutableCallback(() => {\n\t\tsetSearchOpen(false);\n\t});\n\n\tuseOutsideClick([ref], handleCloseSearch);\n\n\tconst openSearch = useMutableCallback(() => {\n\t\tsetSearchOpen(true);\n\t});\n\n\tuseEffect(() => {\n\t\tconst unsubscribe = tinykeys(window, {\n\t\t\t'$mod+K': (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\topenSearch();\n\t\t\t},\n\t\t\t'$mod+P': (event) => {\n\t\t\t\tevent.preventDefault();\n\t\t\t\topenSearch();\n\t\t\t},\n\t\t});\n\n\t\treturn (): void => {\n\t\t\tunsubscribe();\n\t\t};\n\t}, [openSearch]);\n\n\treturn (\n\t\t<>\n\t\t\t<Sidebar.TopBar.Action icon='magnifier' onClick={openSearch} {...props} />\n\t\t\t{searchOpen && <SearchList ref={ref} onClose={handleCloseSearch} />}\n\t\t</>\n\t);\n};\n\nexport default Search;\n",null],"names":["_extends","Sidebar","useMutableCallback","useOutsideClick","React","useState","useEffect","useRef","tinykeys","SearchList","module","link","default","exportDefault","props","searchOpen","setSearchOpen","ref","handleCloseSearch","openSearch","unsubscribe","window","event","preventDefault","createElement","Fragment","TopBar","Action","icon","onClick","onClose"],"mappings":"2BAAAA,EAAAC,EAAgDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvCC,EAASC,IAAM,CAAA,iCAAwB,CAAAC,QAAAA,CAAAA,EAAAZ,EAAAA,CAAA,CAAA,EAAA,GAAvCU,EAASC,IAAA,CAAM,wBAAwB,CAAAV,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAR,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAR,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,WAAAA,CAAAE,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,0BAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAAhDC,EAAOG,aAAW,CAQ4CC,IAC7D,GAAM,CAACC,EAAYC,EAAc,CAAGX,EAAS,CAAA,GAEvCY,EAAMV,EAAoB,MAC1BW,EAAoBhB,EAAmB,KAC5Cc,EAAc,CAAA,EACf,GAEAb,EAAgB,CAACc,EAAI,CAAEC,GAEvB,IAAMC,EAAajB,EAAmB,KACrCc,EAAc,CAAA,EACf,GAmBA,OAjBAV,EAAU,KACT,IAAMc,EAAcZ,EAASa,OAAQ,CACpC,SAAWC,IACVA,EAAMC,cAAc,GACpBJ,GACD,EACA,SAAWG,IACVA,EAAMC,cAAc,GACpBJ,GACD,IAGD,MAAO,KACNC,GACD,CACD,EAAG,CAACD,EAAW,EAGdf,EAAAoB,aAAA,CAAApB,EAAAqB,QAAA,CAAA,KACCrB,EAAAoB,aAAA,CAACvB,EAAQyB,MAAM,CAACC,MAAM,CAAA3B,EAAA,CAAC4B,KAAK,YAAYC,QAASV,CAAW,EAAKL,IAChEC,GAAcX,EAAAoB,aAAA,CAACf,EAAU,CAACQ,IAAKA,EAAKa,QAASZ,CAAkB,GAGnE"}