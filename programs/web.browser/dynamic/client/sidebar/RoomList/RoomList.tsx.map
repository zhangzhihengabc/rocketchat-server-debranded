)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/sidebar/RoomList/RoomList.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport { Box } from '@rocket.chat/fuselage';\nimport { useResizeObserver } from '@rocket.chat/fuselage-hooks';\nimport { useUserPreference, useUserId, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\nimport { Virtuoso } from 'react-virtuoso';\n\nimport { useOpenedRoom } from '../../lib/RoomManager';\nimport { useAvatarTemplate } from '../hooks/useAvatarTemplate';\nimport { usePreventDefault } from '../hooks/usePreventDefault';\nimport { useRoomList } from '../hooks/useRoomList';\nimport { useShortcutOpenMenu } from '../hooks/useShortcutOpenMenu';\nimport { useTemplateByViewMode } from '../hooks/useTemplateByViewMode';\nimport RoomListRow from './RoomListRow';\nimport ScrollerWithCustomProps from './ScrollerWithCustomProps';\n\nconst computeItemKey = (index: number, room: IRoom): IRoom['_id'] | number => room._id || index;\n\nconst RoomList = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst isAnonymous = !useUserId();\n\tconst roomsList = useRoomList();\n\tconst avatarTemplate = useAvatarTemplate();\n\tconst sideBarItemTemplate = useTemplateByViewMode();\n\tconst { ref } = useResizeObserver({ debounceDelay: 100 });\n\tconst openedRoom = useOpenedRoom() ?? '';\n\tconst sidebarViewMode = useUserPreference<'extended' | 'medium' | 'condensed'>('sidebarViewMode') || 'extended';\n\n\tconst extended = sidebarViewMode === 'extended';\n\tconst itemData = useMemo(\n\t\t() => ({\n\t\t\textended,\n\t\t\tt,\n\t\t\tSideBarItemTemplate: sideBarItemTemplate,\n\t\t\tAvatarTemplate: avatarTemplate,\n\t\t\topenedRoom,\n\t\t\tsidebarViewMode,\n\t\t\tisAnonymous,\n\t\t}),\n\t\t[avatarTemplate, extended, isAnonymous, openedRoom, sideBarItemTemplate, sidebarViewMode, t],\n\t);\n\n\tusePreventDefault(ref);\n\tuseShortcutOpenMenu(ref);\n\n\tconst roomsListStyle = css`\n\t\tposition: relative;\n\n\t\tdisplay: flex;\n\n\t\toverflow-x: hidden;\n\t\toverflow-y: hidden;\n\n\t\tflex: 1 1 auto;\n\n\t\theight: 100%;\n\n\t\t&--embedded {\n\t\t\tmargin-top: 2rem;\n\t\t}\n\n\t\t&__list:not(:last-child) {\n\t\t\tmargin-bottom: 22px;\n\t\t}\n\n\t\t&__type {\n\t\t\tdisplay: flex;\n\n\t\t\tflex-direction: row;\n\n\t\t\tpadding: 0 var(--sidebar-default-padding) 1rem var(--sidebar-default-padding);\n\n\t\t\tcolor: var(--rooms-list-title-color);\n\n\t\t\tfont-size: var(--rooms-list-title-text-size);\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\n\t\t\t&-text--livechat {\n\t\t\t\tflex: 1;\n\t\t\t}\n\t\t}\n\n\t\t&__empty-room {\n\t\t\tpadding: 0 var(--sidebar-default-padding);\n\n\t\t\tcolor: var(--rooms-list-empty-text-color);\n\n\t\t\tfont-size: var(--rooms-list-empty-text-size);\n\t\t}\n\n\t\t&__toolbar-search {\n\t\t\tposition: absolute;\n\t\t\tz-index: 10;\n\t\t\tleft: 0;\n\n\t\t\toverflow-y: scroll;\n\n\t\t\theight: 100%;\n\n\t\t\tbackground-color: var(--sidebar-background);\n\n\t\t\tpadding-block-start: 12px;\n\t\t}\n\n\t\t@media (max-width: 400px) {\n\t\t\tpadding: 0 calc(var(--sidebar-small-default-padding) - 4px);\n\n\t\t\t&__type,\n\t\t\t&__empty-room {\n\t\t\t\tpadding: 0 calc(var(--sidebar-small-default-padding) - 4px) 0.5rem calc(var(--sidebar-small-default-padding) - 4px);\n\t\t\t}\n\t\t}\n\t`;\n\n\treturn (\n\t\t<Box className={[roomsListStyle, 'sidebar--custom-colors'].filter(Boolean)} aria-label={t('Channels')} role='navigation'>\n\t\t\t<Box h='full' w='full' ref={ref}>\n\t\t\t\t<Virtuoso\n\t\t\t\t\ttotalCount={roomsList.length}\n\t\t\t\t\tdata={roomsList}\n\t\t\t\t\tcomponents={{ Scroller: ScrollerWithCustomProps }}\n\t\t\t\t\tcomputeItemKey={computeItemKey}\n\t\t\t\t\titemContent={(_, data): ReactElement => <RoomListRow data={itemData} item={data} />}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport default RoomList;\n",null],"names":["_taggedTemplateLiteral","css","Box","useResizeObserver","useUserPreference","useUserId","useTranslation","React","useMemo","Virtuoso","useOpenedRoom","useAvatarTemplate","usePreventDefault","useRoomList","useShortcutOpenMenu","useTemplateByViewMode","RoomListRow","ScrollerWithCustomProps","module","default","link","computeItemKey","index","room","_id","exportDefault","_useOpenedRoom","t","isAnonymous","roomsList","avatarTemplate","sideBarItemTemplate","ref","debounceDelay","openedRoom","sidebarViewMode","extended","itemData","SideBarItemTemplate","AvatarTemplate","roomsListStyle","_templateObject","createElement","className","filter","Boolean","role","h","w","totalCount","length","data","components","Scroller","itemContent","_","item"],"mappings":"iCACAA,EAAAC,EAA6CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAzBC,EAAAA,IAAAA,CAAAA,+CAAyB,CAAAC,QAAAA,CAAAA,EAAAnB,EAAAA,CAAA,CAAA,EAAA,GAAtCkB,EAAOE,IAAA,CAAM,yBAAyB,CAAAnB,IAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAiB,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAhB,IAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAgB,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAf,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAe,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAd,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAY,EAAAA,IAAAA,CAAAA,QAAAA,CAAAC,QAAAA,CAAAA,EAAAZ,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,iBAAAA,CAAAT,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAR,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAP,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAN,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,uBAAAA,CAAAL,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAJ,oBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,IAAAI,EAAAA,IAAAA,CAAAA,iCAAAA,CAAAH,sBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,IAAAG,EAAAA,IAAAA,CAAAA,gBAAAA,CAAAC,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,IAAAE,EAAAA,IAAAA,CAAAA,4BAAAA,CAAAC,QAAAA,CAAAA,EAAAF,EAAAA,CAAA,CAAA,EAAA,IAiB7C,IAAMI,EAAiB,CAACC,EAAeC,IAAuCA,EAAKC,GAAG,EAAIF,EAjB1FJ,EAAOO,aAAa,CAmBH,KAAmB,IAAAC,EACnC,IAAMC,EAAIrB,IACJsB,EAAc,CAACvB,IACfwB,EAAYhB,IACZiB,EAAiBnB,IACjBoB,EAAsBhB,IACtB,CAAEiB,IAAAA,CAAAA,CAAK,CAAG7B,EAAkB,CAAE8B,cAAe,GAAG,GAChDC,EAAU,AAAkB,OAAlBR,CAAAA,EAAGhB,GAAa,GAAEgB,AAAA,KAAA,IAAAA,EAAAA,EAAI,GAChCS,EAAkB/B,EAAuD,oBAAsB,WAE/FgC,EAAWD,AAAoB,aAApBA,EACXE,EAAW7B,EAChB,IAAO,CAAA,CACN4B,SAAAA,EACAT,EAAAA,EACAW,oBAAqBP,EACrBQ,eAAgBT,EAChBI,WAAAA,EACAC,gBAAAA,EACAP,YAAAA,IAED,CAACE,EAAgBM,EAAUR,EAAaM,EAAYH,EAAqBI,EAAiBR,EAAE,EAG7Ff,EAAkBoB,GAClBlB,EAAoBkB,GAEpB,IAAMQ,EAAiBvC,EAAGwC,GAAAA,CAAAA,EAAAzC,EAAA,CAAA,ouCAAA,CAAA,GAsE1B,OACCO,EAAAmC,aAAA,CAACxC,EAAG,CAACyC,UAAW,CAACH,EAAgB,yBAAyB,CAACI,MAAM,CAACC,SAAU,aAAYlB,EAAE,YAAamB,KAAK,YAAY,EACvHvC,EAAAmC,aAAA,CAACxC,EAAG,CAAC6C,EAAE,OAAOC,EAAE,OAAOhB,IAAKA,CAAI,EAC/BzB,EAAAmC,aAAA,CAACjC,EAAQ,CACRwC,WAAYpB,EAAUqB,MAAO,CAC7BC,KAAMtB,EACNuB,WAAY,CAAEC,SAAUpC,CAAuB,EAC/CI,eAAgBA,EAChBiC,YAAa,CAACC,EAAGJ,IAAuB5C,EAAAmC,aAAA,CAAC1B,EAAW,CAACmC,KAAMd,EAAUmB,KAAML,CAAK,EAAI,IAKzF"}