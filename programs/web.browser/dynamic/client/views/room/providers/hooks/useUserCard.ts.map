)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/providers/hooks/useUserCard.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { UIEvent } from 'react';\nimport { useCallback, useEffect } from 'react';\n\nimport { openUserCard, closeUserCard } from '../../../../../app/ui/client/lib/userCard';\nimport { useRoom } from '../../contexts/RoomContext';\nimport { useRoomToolbox } from '../../contexts/RoomToolboxContext';\n\nexport const useUserCard = () => {\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tcloseUserCard();\n\t\t};\n\t}, []);\n\n\tconst room = useRoom();\n\tconst { openTab } = useRoomToolbox();\n\n\tconst openUserInfo = useMutableCallback((username?: string) => {\n\t\tswitch (room.t) {\n\t\t\tcase 'l':\n\t\t\t\topenTab('room-info', username);\n\t\t\t\tbreak;\n\n\t\t\tcase 'v':\n\t\t\t\topenTab('voip-room-info', username);\n\t\t\t\tbreak;\n\n\t\t\tcase 'd':\n\t\t\t\t(room.uids?.length ?? 0) > 2 ? openTab('user-info-group', username) : openTab('user-info', username);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\topenTab('members-list', username);\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tconst open = useCallback(\n\t\t(username: string) => (event: UIEvent) => {\n\t\t\tevent.preventDefault();\n\t\t\topenUserCard({\n\t\t\t\tusername,\n\t\t\t\ttarget: event.currentTarget,\n\t\t\t\trid: room._id,\n\t\t\t\topen: (event: UIEvent) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\topenUserInfo(username);\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[openUserInfo, room._id],\n\t);\n\n\treturn { open, close: closeUserCard };\n};\n",null],"names":["useMutableCallback","useCallback","useEffect","openUserCard","closeUserCard","useRoom","useRoomToolbox","module","export","useUserCard","room","openTab","openUserInfo","username","_room$uids$length","_room$uids","t","uids","length","open","event","preventDefault","target","currentTarget","rid","_id","close"],"mappings":"2BAAmCA,EAA8BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjEC,EAAOC,MAAE,CAAA,CAAAC,YAAkB,IAAEA,CAAM,GAA8BF,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAP,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,QAAAA,CAAAN,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,4CAAAA,CAAAJ,aAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAF,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,oCAAAA,CAAAD,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAQ1D,IAAMG,EAAc,KAC1BP,EAAU,IACF,KACNE,GACD,EACE,EAAE,EAEL,IAAMM,EAAOL,IACP,CAAEM,QAAAA,CAAAA,CAAS,CAAGL,IAEdM,EAAeZ,EAAoBa,IAAqB,IAAAC,EAAAC,EAC7D,OAAQL,EAAKM,CAAC,EACb,IAAK,IACJL,EAAQ,YAAaE,GACrB,KAED,KAAK,IACJF,EAAQ,iBAAkBE,GAC1B,KAED,KAAK,IACJ,CAAA,AAAkB,OAAlBC,CAAAA,EAAA,AAAU,OAAVC,CAAAA,EAACL,EAAKO,IAAI,AAAJA,GAAIF,AAAA,KAAA,IAAAA,EAAA,KAAA,EAATA,EAAWG,MAAM,AAANA,GAAMJ,AAAA,KAAA,IAAAA,EAAAA,EAAI,CAAA,EAAK,EAAIH,EAAQ,kBAAmBE,GAAYF,EAAQ,YAAaE,GAC3F,KAED,SACCF,EAAQ,eAAgBE,EAClB,CAET,GAEMM,EAAOlB,EACXY,GAAsBO,IACtBA,EAAMC,cAAc,GACpBlB,EAAa,CACZU,SAAAA,EACAS,OAAQF,EAAMG,aAAa,CAC3BC,IAAKd,EAAKe,GAAG,CACbN,KAAOC,IACNA,EAAMC,cAAc,GACpBT,EAAaC,EACd,GAEF,EACA,CAACD,EAAcF,EAAKe,GAAG,CAAC,EAGzB,MAAO,CAAEN,KAAAA,EAAMO,MAAOtB,CAAa,CACpC"}