)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/providers/hooks/useInstance.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useRef, useEffect } from 'react';\n\nimport { useDepsMatch } from './useDepsMatch';\n\nexport function useInstance<T>(factory: () => [instance: T, release?: () => void], deps: unknown[]): T {\n\tconst ref = useRef<[instance: T, release?: () => void]>();\n\n\tuseEffect(\n\t\t() => () => {\n\t\t\tref.current?.[1]?.();\n\t\t},\n\t\t[],\n\t);\n\n\tconst depsMatch = useDepsMatch(deps);\n\n\tif (!ref.current || !depsMatch) {\n\t\tref.current?.[1]?.();\n\t\tref.current = factory();\n\t}\n\n\treturn ref.current[0];\n}\n",null],"names":["useRef","useEffect","useDepsMatch","useInstance","factory","deps","ref","_ref$current","_ref$current$","current","call","depsMatch","_ref$current2","_ref$current2$","module","export"],"mappings":"2BAA0CA,EAAAC,EAAAC,EAIpC,SAAUC,EAAeC,CAAkD,CAAEC,CAAe,EACjG,IAAMC,EAAMN,IAEZC,EACC,IAAM,KAAK,IAAAM,EAAAC,CACV,AAAW,QAAXD,CAAAA,EAAAD,EAAIG,OAAO,AAAPA,GAAOF,AAAA,KAAA,IAAAA,GAAA,AAAK,OAALC,CAAAA,EAAXD,CAAA,CAAc,EAAE,AAAD,GAACC,AAAA,KAAA,IAAAA,GAAhBA,EAAAE,IAAA,CAAAH,EACD,EACA,EAAE,EAGH,IAAMI,EAAYT,EAAaG,GAE/B,GAAI,CAACC,EAAIG,OAAO,EAAI,CAACE,EAAW,CAAA,IAAAC,EAAAC,CAC/B,AAAW,QAAXD,CAAAA,EAAAN,EAAIG,OAAO,AAAPA,GAAOG,AAAA,KAAA,IAAAA,GAAA,AAAK,OAALC,CAAAA,EAAXD,CAAA,CAAc,EAAE,AAAD,GAACC,AAAA,KAAA,IAAAA,GAAhBA,EAAAH,IAAA,CAAAE,GACAN,EAAIG,OAAO,CAAGL,IAGf,OAAOE,EAAIG,OAAO,CAAC,EAAE,AACtB,CAtBAK,EAAOC,MAAE,CAAA,CAAMZ,YAAW,IAAEA,CAAc,GAAAW,EAAAA,IAAAA,CAAAA,QAAAA,CAAAd,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAa,EAAAA,IAAAA,CAAAA,iBAAAA,CAAAZ,aAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA"}