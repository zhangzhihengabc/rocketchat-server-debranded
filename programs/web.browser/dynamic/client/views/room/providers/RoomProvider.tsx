function module(e,o,t){let a,l,n,r,i,u,s,m,c,d,k,R,g,p,v,b,f,M,h,x,y;t.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},0),t.link("@rocket.chat/ui-contexts",{useRouter(e){l=e}},0),t.link("react",{default(e){n=e},useMemo(e){r=e},memo(e){i=e},useEffect(e){u=e},useCallback(e){s=e}},1),t.link("../../../../app/models/client",{ChatSubscription(e){m=e}},2),t.link("../../../../app/ui-utils/client",{RoomHistoryManager(e){c=e}},3),t.link("../../../../app/ui/client/lib/UserAction",{UserAction(e){d=e}},4),t.link("../../../hooks/useReactiveQuery",{useReactiveQuery(e){k=e}},5),t.link("../../../hooks/useReactiveValue",{useReactiveValue(e){R=e}},6),t.link("../../../lib/RoomManager",{RoomManager(e){g=e}},7),t.link("../../../lib/rooms/roomCoordinator",{roomCoordinator(e){p=e}},8),t.link("../RoomNotFound",{default(e){v=e}},9),t.link("../RoomSkeleton",{default(e){b=e}},10),t.link("../body/hooks/useRoomRolesManagement",{useRoomRolesManagement(e){f=e}},11),t.link("../contexts/RoomContext",{RoomContext(e){M=e}},12),t.link("./ComposerPopupProvider",{default(e){h=e}},13),t.link("./RoomToolboxProvider",{default(e){x=e}},14),t.link("./hooks/useRoomQuery",{useRoomQuery(e){y=e}},15),t.exportDefault(i(e=>{let{rid:o,children:t}=e;f(o);let{data:i,isSuccess:C}=y(o),E=l();u(()=>{C&&!i&&E.navigate("/home")},[C,i,E]);let P=k(["subscriptions",{rid:o}],()=>{var e;return null!==(e=m.findOne({rid:o}))&&void 0!==e?e:null}),N=r(()=>i?a(a(a({},P.data),i),{},{name:p.getRoomName(i.t,i),federationOriginalName:i.name}):null,[i,P.data]),{hasMorePreviousMessages:Q,hasMoreNextMessages:S,isLoadingMoreMessages:A}=R(s(()=>{let{hasMore:e,hasMoreNext:t,isLoading:a}=c.getRoom(o);return{hasMorePreviousMessages:e.get(),hasMoreNextMessages:t.get(),isLoadingMoreMessages:a.get()}},[o])),O=r(()=>{var e;return N?{rid:o,room:N,subscription:null!==(e=P.data)&&void 0!==e?e:void 0,hasMorePreviousMessages:Q,hasMoreNextMessages:S,isLoadingMoreMessages:A}:null},[S,Q,A,N,o,P.data]);u(()=>(g.open(o),()=>{g.back(o)}),[o]);let U=!!P.data;return(u(()=>{if(U)return d.addStream(o),()=>{try{d.cancel(o)}catch(e){}}},[o,U]),N)?n.createElement(M.Provider,{value:O},n.createElement(x,null,n.createElement(h,{room:N},t))):C&&!i?n.createElement(v,null):n.createElement(b,null)}))}
//# sourceMappingURL=/dynamic/client/views/room/providers/617884fdb77f5fc83f18b447618c447d15295c34.map
