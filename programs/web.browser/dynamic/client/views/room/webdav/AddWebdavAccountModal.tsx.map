)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/webdav/AddWebdavAccountModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IWebdavAccountPayload } from '@rocket.chat/core-typings';\nimport { Modal, Field, FieldGroup, FieldLabel, FieldRow, FieldError, TextInput, PasswordInput, Button, Box } from '@rocket.chat/fuselage';\nimport { useToastMessageDispatch, useMethod, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState } from 'react';\nimport type { SubmitHandler } from 'react-hook-form';\nimport { useForm } from 'react-hook-form';\n\ntype AddWebdavAccountModalPayload = IWebdavAccountPayload;\n\ntype AddWebdavAccountModalProps = {\n\tonClose: () => void;\n\tonConfirm: () => void;\n};\n\nconst AddWebdavAccountModal = ({ onClose, onConfirm }: AddWebdavAccountModalProps): ReactElement => {\n\tconst handleAddWebdavAccount = useMethod('addWebdavAccount');\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tformState: { errors },\n\t} = useForm<AddWebdavAccountModalPayload>();\n\tconst t = useTranslation();\n\n\tconst onSubmit: SubmitHandler<AddWebdavAccountModalPayload> = async (data) => {\n\t\tsetIsLoading(true);\n\n\t\ttry {\n\t\t\tawait handleAddWebdavAccount(data);\n\t\t\treturn dispatchToastMessage({ type: 'success', message: t('webdav-account-saved') });\n\t\t} catch (error) {\n\t\t\treturn dispatchToastMessage({ type: 'error', message: error });\n\t\t} finally {\n\t\t\tonConfirm();\n\t\t\tsetIsLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal wrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(onSubmit)} {...props} />}>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Title>{t('Webdav_add_new_account')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<FieldGroup>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Name_optional')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput placeholder={t('Name_optional')} {...register('name')} />\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Webdav_Server_URL')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput placeholder={t('Webdav_Server_URL')} {...register('serverURL', { required: true })} />\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t{errors.serverURL && <FieldError>{t('error-the-field-is-required', { field: t('Webdav_Server_URL') })}</FieldError>}\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Username')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput placeholder={t('Username')} {...register('username', { required: true })} />\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t{errors.username && <FieldError>{t('error-the-field-is-required', { field: t('Username') })}</FieldError>}\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<FieldLabel>{t('Password')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<PasswordInput placeholder={t('Password')} {...register('password', { required: true })} />\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t{errors.password && <FieldError>{t('error-the-field-is-required', { field: t('Password') })}</FieldError>}\n\t\t\t\t\t</Field>\n\t\t\t\t</FieldGroup>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Modal.FooterControllers>\n\t\t\t\t\t<Button secondary onClick={onClose}>\n\t\t\t\t\t\t{t('Cancel')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button primary type='submit' loading={isLoading}>\n\t\t\t\t\t\t{t('Webdav_add_new_account')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.FooterControllers>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default AddWebdavAccountModal;\n",null],"names":["_extends","Modal","Field","FieldGroup","FieldLabel","FieldRow","FieldError","TextInput","PasswordInput","Button","Box","useToastMessageDispatch","useMethod","useTranslation","React","useState","useForm","module","link","default","v","exportDefault","_ref","onClose","onConfirm","handleAddWebdavAccount","dispatchToastMessage","isLoading","setIsLoading","register","handleSubmit","formState","errors","t","onSubmit","data","type","message","error","createElement","wrapperFunction","props","is","Header","Title","Close","onClick","Content","placeholder","required","serverURL","field","username","password","Footer","FooterControllers","secondary","primary","loading"],"mappings":"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"}