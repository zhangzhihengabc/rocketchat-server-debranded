)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/PruneMessages/PruneMessages.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Field, FieldLabel, FieldRow, ButtonGroup, Button, CheckBox, Callout } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { useFormContext, Controller } from 'react-hook-form';\n\nimport {\n\tContextualbarHeader,\n\tContextualbarIcon,\n\tContextualbarTitle,\n\tContextualbarScrollableContent,\n\tContextualbarFooter,\n\tContextualbarClose,\n} from '../../../../components/Contextualbar';\nimport UserAutoCompleteMultiple from '../../../../components/UserAutoCompleteMultiple';\nimport PruneMessagesDateTimeRow from './PruneMessagesDateTimeRow';\n\ntype PruneMessagesProps = {\n\tcallOutText?: string;\n\tvalidateText?: string;\n\tusers: string[];\n\tonClickClose: () => void;\n\tonClickPrune: () => void;\n};\n\nconst PruneMessages = ({ callOutText, validateText, onClickClose, onClickPrune }: PruneMessagesProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst { control, register } = useFormContext();\n\n\tconst inclusiveCheckboxId = useUniqueId();\n\tconst pinnedCheckboxId = useUniqueId();\n\tconst discussionCheckboxId = useUniqueId();\n\tconst threadsCheckboxId = useUniqueId();\n\tconst attachedCheckboxId = useUniqueId();\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarIcon name='eraser' />\n\t\t\t\t<ContextualbarTitle>{t('Prune_Messages')}</ContextualbarTitle>\n\t\t\t\t{onClickClose && <ContextualbarClose onClick={onClickClose} />}\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<PruneMessagesDateTimeRow label={t('Newer_than')} field='newer' />\n\t\t\t\t<PruneMessagesDateTimeRow label={t('Older_than')} field='older' />\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel flexGrow={0}>{t('Only_from_users')}</FieldLabel>\n\t\t\t\t\t<Controller\n\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\tname='users'\n\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\n\t\t\t\t\t\t\t<UserAutoCompleteMultiple value={value} onChange={onChange} placeholder={t('Please_enter_usernames')} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<CheckBox id={inclusiveCheckboxId} {...register('inclusive')} />\n\t\t\t\t\t\t<FieldLabel htmlFor={inclusiveCheckboxId}>{t('Inclusive')}</FieldLabel>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<CheckBox id={pinnedCheckboxId} {...register('pinned')} />\n\t\t\t\t\t\t<FieldLabel htmlFor={pinnedCheckboxId}>{t('RetentionPolicy_DoNotPrunePinned')}</FieldLabel>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<CheckBox id={discussionCheckboxId} {...register('discussion')} />\n\t\t\t\t\t\t<FieldLabel htmlFor={discussionCheckboxId}>{t('RetentionPolicy_DoNotPruneDiscussion')}</FieldLabel>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<CheckBox id={threadsCheckboxId} {...register('threads')} />\n\t\t\t\t\t\t<FieldLabel htmlFor={threadsCheckboxId}>{t('RetentionPolicy_DoNotPruneThreads')}</FieldLabel>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<CheckBox id={attachedCheckboxId} {...register('attached')} />\n\t\t\t\t\t\t<FieldLabel htmlFor={attachedCheckboxId}>{t('Files_only')}</FieldLabel>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t{callOutText && !validateText && <Callout type='warning'>{callOutText}</Callout>}\n\t\t\t\t{validateText && <Callout type='warning'>{validateText}</Callout>}\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button danger disabled={Boolean(validateText)} onClick={onClickPrune}>\n\t\t\t\t\t\t{t('Prune')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default PruneMessages;\n",null],"names":["_extends","Field","FieldLabel","FieldRow","ButtonGroup","Button","CheckBox","Callout","useUniqueId","useTranslation","React","useFormContext","Controller","ContextualbarHeader","ContextualbarIcon","ContextualbarTitle","ContextualbarScrollableContent","ContextualbarFooter","ContextualbarClose","UserAutoCompleteMultiple","PruneMessagesDateTimeRow","module","link","default","v","exportDefault","_ref","callOutText","validateText","onClickClose","onClickPrune","t","control","register","inclusiveCheckboxId","pinnedCheckboxId","discussionCheckboxId","threadsCheckboxId","attachedCheckboxId","createElement","Fragment","name","onClick","label","field","flexGrow","render","_ref2","onChange","value","placeholder","id","htmlFor","type","stretch","danger","disabled","Boolean"],"mappings":"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"}