function module(e,t,l){let n,o,r,a,i,u,s,c,d,m,h,x,k,p,f,E,b,C,g,v,T,S,y,w,G,I,L,R,D,A,B,z,M;l.link("@rocket.chat/fuselage",{Box(e){n=e},Icon(e){o=e},TextInput(e){r=e},Select(e){a=e},Margins(e){i=e},Callout(e){u=e},Throbber(e){s=e}},0),l.link("@rocket.chat/fuselage-hooks",{useResizeObserver(e){c=e},useAutoFocus(e){d=e},useLocalStorage(e){m=e},useDebouncedValue(e){h=e}},1),l.link("@rocket.chat/ui-contexts",{useTranslation(e){x=e},useUserId(e){k=e}},2),l.link("react",{default(e){p=e},useMemo(e){f=e},useState(e){E=e},useCallback(e){b=e}},3),l.link("react-virtuoso",{Virtuoso(e){C=e}},4),l.link("../../../../components/Contextualbar",{ContextualbarClose(e){g=e},ContextualbarContent(e){v=e},ContextualbarHeader(e){T=e},ContextualbarIcon(e){S=e},ContextualbarTitle(e){y=e},ContextualbarEmptyContent(e){w=e}},5),l.link("../../../../components/ScrollableContentWrapper",{default(e){G=e}},6),l.link("../../../../hooks/lists/useRecordList",{useRecordList(e){I=e}},7),l.link("../../../../lib/asyncState",{AsyncStatePhase(e){L=e}},8),l.link("../../contexts/RoomContext",{useRoom(e){R=e},useRoomSubscription(e){D=e}},9),l.link("../../contexts/RoomToolboxContext",{useRoomToolbox(e){A=e}},10),l.link("../../hooks/useGoToThread",{useGoToThread(e){B=e}},11),l.link("./components/ThreadListItem",{default(e){z=e}},12),l.link("./hooks/useThreadsList",{useThreadsList(e){M=e}},13),l.exportDefault(()=>{var e;let t=x(),{closeTab:l}=A(),N=b(()=>{l()},[l]),{ref:O,contentBoxSize:{inlineSize:U=378,blockSize:F=1}={}}=c({debounceDelay:200}),_=d(!0),[V,W]=E(""),j=b(e=>{W(e.currentTarget.value)},[W]),H=f(()=>[["all",t("All")],["following",t("Following")],["unread",t("Unread")]],[t]),[P,q]=m("thread-list-type","all"),J=b(e=>{let t=H.find(t=>{let[l]=t;return l===e});t&&q(t[0])},[q,H]),K=R(),Q=K._id,X=D(),Y=!!X,Z=k(),$=null==X?void 0:null===(e=X.tunread)||void 0===e?void 0:e.sort().join(","),ee=h(V,400),et=h(f(()=>{if("all"===P||!Y||!Z)return{rid:Q,text:ee,type:"all"};switch(P){case"following":return{rid:Q,text:ee,type:P,uid:Z};case"unread":return{rid:Q,text:ee,type:P,tunread:null==$?void 0:$.split(",")}}},[Q,Y,ee,$,P,Z]),300),{threadsList:el,loadMoreItems:en}=M(et,Z),{phase:eo,error:er,items:ea,itemCount:ei}=I(el),eu=B({replace:!0}),es=b(e=>{eu({rid:Q,tmid:e})},[Q,eu]);return p.createElement(p.Fragment,null,p.createElement(T,null,p.createElement(S,{name:"thread"}),p.createElement(y,null,t("Threads")),p.createElement(g,{onClick:N})),p.createElement(v,{paddingInline:0,ref:O},p.createElement(n,{display:"flex",flexDirection:"row",p:24,borderBlockEndWidth:2,borderBlockEndStyle:"solid",borderBlockEndColor:"extra-light",flexShrink:0},p.createElement(n,{display:"flex",flexDirection:"row",flexGrow:1,mi:-4},p.createElement(i,{inline:4},p.createElement(r,{placeholder:t("Search_Messages"),addon:p.createElement(o,{name:"magnifier",size:"x20"}),ref:_,value:V,onChange:j}),p.createElement(n,{w:"x144"},p.createElement(a,{options:H,value:P,onChange:e=>J(String(e))}))))),eo===L.LOADING&&p.createElement(n,{pi:24,pb:12},p.createElement(s,{size:"x12"})),er&&p.createElement(u,{mi:24,type:"danger"},er.toString()),eo!==L.LOADING&&0===ei&&p.createElement(w,{title:t("No_Threads")}),p.createElement(n,{flexGrow:1,flexShrink:1,overflow:"hidden",display:"flex"},!er&&ei>0&&ea.length>0&&p.createElement(C,{style:{height:F,width:U},totalCount:ei,endReached:eo===L.LOADING?()=>void 0:e=>{en(e,Math.min(50,ei-e))},overscan:25,data:ea,components:{Scroller:G},itemContent:(e,t)=>{var l,n,o;return p.createElement(z,{thread:t,unread:null!==(l=null==X?void 0:X.tunread)&&void 0!==l?l:[],unreadUser:null!==(n=null==X?void 0:X.tunreadUser)&&void 0!==n?n:[],unreadGroup:null!==(o=null==X?void 0:X.tunreadGroup)&&void 0!==o?o:[],onClick:es})}}))))})}
//# sourceMappingURL=/dynamic/client/views/room/contextualBar/Threads/ea44dea9d149b299d6edafbed9c7220b94bf3b75.map
