function module(e,r,t){let l,c,s,i,n,o,u;t.export({useLegacyThreadMessageListScrolling:()=>a}),t.link("@rocket.chat/core-typings",{isEditedMessage(e){l=e}},0),t.link("@rocket.chat/ui-contexts",{useUser(e){c=e}},1),t.link("react",{useCallback(e){s=e},useEffect(e){i=e},useRef(e){n=e}},2),t.link("../../../../../../lib/callbacks",{callbacks(e){o=e}},3),t.link("../../../contexts/RoomContext",{useRoom(e){u=e}},4);let a=e=>{let r=n(null),t=n(null),a=n(!0),d=s(e=>{let{scrollHeight:r,scrollTop:t,clientHeight:l}=e;a.current=t>=r-l},[]),k=s(()=>{if(!0===a.current){let e=r.current;null==e||e.scrollTo(30,e.scrollHeight)}},[]),_=u(),g=c();return i(()=>(o.add("streamNewMessage",r=>{_._id!==r.rid||l(r)||r.tmid!==e._id||r.u._id!==(null==g?void 0:g._id)||(a.current=!0,k())},o.priority.MEDIUM,"thread-scroll-".concat(_._id)),()=>{o.remove("streamNewMessage","thread-scroll-".concat(_._id))}),[_._id,k,null==g?void 0:g._id,e._id]),i(()=>{let e=new ResizeObserver(()=>{k()});return r.current&&e.observe(r.current),t.current&&e.observe(t.current),()=>{e.disconnect()}},[k]),{listWrapperRef:r,listRef:t,requestScrollToBottom:k,onScroll:d}}}
//# sourceMappingURL=/dynamic/client/views/room/contextualBar/Threads/hooks/6a3eb2d353b64959617b80d5e789f5d87a971044.map
