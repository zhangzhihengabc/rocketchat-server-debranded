)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/ExportMessages/MailExportForm.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport {\n\tFieldError,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tTextAreaInput,\n\tTextInput,\n\tButtonGroup,\n\tButton,\n\tBox,\n\tIcon,\n\tCallout,\n\tFieldGroup,\n\tSelect,\n} from '@rocket.chat/fuselage';\nimport { useAutoFocus, useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useEffect, useContext } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\n\nimport { validateEmail } from '../../../../../lib/emailValidator';\nimport { ContextualbarScrollableContent, ContextualbarFooter } from '../../../../components/Contextualbar';\nimport UserAutoCompleteMultiple from '../../../../components/UserAutoCompleteMultiple';\nimport { SelectedMessageContext, useCountSelected } from '../../MessageList/contexts/SelectedMessagesContext';\nimport type { MailExportFormValues } from './ExportMessages';\nimport { useRoomExportMutation } from './useRoomExportMutation';\n\ntype MailExportFormProps = {\n\tformId: string;\n\trid: IRoom['_id'];\n\tonCancel: () => void;\n\texportOptions: SelectOption[];\n};\n\nconst MailExportForm = ({ formId, rid, onCancel, exportOptions }: MailExportFormProps) => {\n\tconst t = useTranslation();\n\tconst formFocus = useAutoFocus<HTMLFormElement>();\n\n\tconst {\n\t\twatch,\n\t\tsetValue,\n\t\tcontrol,\n\t\tregister,\n\t\tformState: { errors, isDirty, isSubmitting },\n\t\thandleSubmit,\n\t\tclearErrors,\n\t} = useFormContext<MailExportFormValues>();\n\tconst roomExportMutation = useRoomExportMutation();\n\n\tconst { selectedMessageStore } = useContext(SelectedMessageContext);\n\tconst messages = selectedMessageStore.getSelectedMessages();\n\n\tconst count = useCountSelected();\n\n\tconst clearSelection = useMutableCallback(() => {\n\t\tselectedMessageStore.clearStore();\n\t});\n\n\tuseEffect(() => {\n\t\tselectedMessageStore.setIsSelecting(true);\n\t\treturn (): void => {\n\t\t\tselectedMessageStore.reset();\n\t\t};\n\t}, [selectedMessageStore]);\n\n\tconst { toUsers } = watch();\n\n\tuseEffect(() => {\n\t\tsetValue('messagesCount', messages.length);\n\t}, [setValue, messages.length]);\n\n\tconst handleExport = async ({ type, toUsers, subject, additionalEmails }: MailExportFormValues) => {\n\t\troomExportMutation.mutateAsync({\n\t\t\trid,\n\t\t\ttype,\n\t\t\ttoUsers,\n\t\t\ttoEmails: additionalEmails?.split(','),\n\t\t\tsubject,\n\t\t\tmessages,\n\t\t});\n\t};\n\n\tconst clickable = css`\n\t\tcursor: pointer;\n\t`;\n\n\tconst methodField = useUniqueId();\n\tconst toUsersField = useUniqueId();\n\tconst additionalEmailsField = useUniqueId();\n\tconst subjectField = useUniqueId();\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<form ref={formFocus} tabIndex={-1} aria-labelledby={`${formId}-title`} id={formId} onSubmit={handleSubmit(handleExport)}>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={methodField}>{t('Method')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='type'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <Select id={methodField} {...field} placeholder={t('Type')} options={exportOptions} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<Callout onClick={clearSelection} title={t('Messages_selected')} type={count > 0 ? 'success' : 'info'}>\n\t\t\t\t\t\t\t\t<p>{`${count} Messages selected`}</p>\n\t\t\t\t\t\t\t\t{count > 0 && (\n\t\t\t\t\t\t\t\t\t<Box is='p' className={clickable}>\n\t\t\t\t\t\t\t\t\t\t{t('Click_here_to_clear_the_selection')}\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{count === 0 && <Box is='p'>{t('Click_the_messages_you_would_like_to_send_by_email')}</Box>}\n\t\t\t\t\t\t\t</Callout>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype='hidden'\n\t\t\t\t\t\t\t\t{...register('messagesCount', {\n\t\t\t\t\t\t\t\t\tvalidate: (messagesCount) => (messagesCount > 0 ? undefined : t('Mail_Message_No_messages_selected_select_all')),\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{errors.messagesCount && <FieldError aria-live='assertive'>{errors.messagesCount.message}</FieldError>}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={toUsersField}>{t('To_users')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='toUsers'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field: { value, onChange, onBlur, name } }) => (\n\t\t\t\t\t\t\t\t\t\t<UserAutoCompleteMultiple\n\t\t\t\t\t\t\t\t\t\t\tid={toUsersField}\n\t\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\t\t\t\tonChange(value);\n\t\t\t\t\t\t\t\t\t\t\t\tclearErrors('additionalEmails');\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={additionalEmailsField}>{t('To_additional_emails')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='additionalEmails'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{\n\t\t\t\t\t\t\t\t\t\tvalidate: {\n\t\t\t\t\t\t\t\t\t\t\tvalidateEmail: (additionalEmails) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails === '') {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails !== '' && validateEmail(additionalEmails)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn t('Mail_Message_Invalid_emails', additionalEmails);\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tvalidateToUsers: (additionalEmails) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (additionalEmails !== '' || toUsers?.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\treturn t('Mail_Message_Missing_to');\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\t\t\t\tid={additionalEmailsField}\n\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Email_Placeholder_any')}\n\t\t\t\t\t\t\t\t\t\t\taddon={<Icon name='mail' size='x20' />}\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${additionalEmailsField}-error`}\n\t\t\t\t\t\t\t\t\t\t\taria-invalid={Boolean(errors?.additionalEmails?.message)}\n\t\t\t\t\t\t\t\t\t\t\terror={errors?.additionalEmails?.message}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors?.additionalEmails && (\n\t\t\t\t\t\t\t\t<FieldError aria-live='assertive' id={`${additionalEmailsField}-error`}>\n\t\t\t\t\t\t\t\t\t{errors.additionalEmails.message}\n\t\t\t\t\t\t\t\t</FieldError>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={subjectField}>{t('Subject')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='subject'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <TextAreaInput rows={3} id={subjectField} {...field} addon={<Icon name='edit' size='x20' />} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</form>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button onClick={onCancel}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button loading={isSubmitting} disabled={!isDirty} form={formId} primary type='submit'>\n\t\t\t\t\t\t{t('Send')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default MailExportForm;\n",null],"names":["_extends","_taggedTemplateLiteral","css","FieldError","Field","FieldLabel","FieldRow","TextAreaInput","TextInput","ButtonGroup","Button","Box","Icon","Callout","FieldGroup","Select","useAutoFocus","useMutableCallback","useUniqueId","useTranslation","React","useEffect","useContext","Controller","useFormContext","validateEmail","ContextualbarScrollableContent","ContextualbarFooter","UserAutoCompleteMultiple","SelectedMessageContext","useCountSelected","useRoomExportMutation","module","link","default","exportDefault","_ref","formId","rid","onCancel","exportOptions","t","formFocus","watch","setValue","control","register","formState","errors","isDirty","isSubmitting","handleSubmit","clearErrors","roomExportMutation","selectedMessageStore","messages","getSelectedMessages","count","clearSelection","clearStore","setIsSelecting","reset","toUsers","length","handleExport","_ref2","type","subject","additionalEmails","mutateAsync","toEmails","split","clickable","_templateObject","methodField","toUsersField","additionalEmailsField","subjectField","createElement","Fragment","ref","tabIndex","concat","id","onSubmit","htmlFor","name","render","_ref3","field","placeholder","options","onClick","title","is","className","validate","messagesCount","undefined","message","_ref4","value","onChange","onBlur","rules","validateToUsers","_ref5","_errors$additionalEma","_errors$additionalEma2","addon","size","Boolean","error","_ref6","rows","stretch","loading","disabled","form","primary"],"mappings":"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"}