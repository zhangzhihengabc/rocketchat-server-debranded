)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/OTR/OTR.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IUser } from '@rocket.chat/core-typings';\nimport { Box, Button, Throbber } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { MouseEventHandler, ReactElement } from 'react';\nimport React from 'react';\n\nimport { OtrRoomState } from '../../../../../app/otr/lib/OtrRoomState';\nimport {\n\tContextualbarHeader,\n\tContextualbarIcon,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarScrollableContent,\n} from '../../../../components/Contextualbar';\nimport OTREstablished from './components/OTREstablished';\nimport OTRStates from './components/OTRStates';\n\ntype OTRProps = {\n\tisOnline: boolean;\n\tonClickClose: MouseEventHandler<HTMLOrSVGElement>;\n\tonClickStart: () => void;\n\tonClickEnd: () => void;\n\tonClickRefresh: () => void;\n\totrState: string;\n\tpeerUsername: IUser['username'];\n};\n\nconst OTR = ({ isOnline, onClickClose, onClickStart, onClickEnd, onClickRefresh, otrState, peerUsername }: OTRProps): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst renderOTRState = (): ReactElement => {\n\t\tswitch (otrState) {\n\t\t\tcase OtrRoomState.NOT_STARTED:\n\t\t\t\treturn (\n\t\t\t\t\t<Button onClick={onClickStart} primary>\n\t\t\t\t\t\t{t('Start_OTR')}\n\t\t\t\t\t</Button>\n\t\t\t\t);\n\t\t\tcase OtrRoomState.ESTABLISHING:\n\t\t\t\treturn (\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Box fontScale='p2'>{t('Please_wait_while_OTR_is_being_established')}</Box>\n\t\t\t\t\t\t<Box mb={16}>\n\t\t\t\t\t\t\t<Throbber />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t);\n\t\t\tcase OtrRoomState.ESTABLISHED:\n\t\t\t\treturn <OTREstablished onClickEnd={onClickEnd} onClickRefresh={onClickRefresh} />;\n\t\t\tcase OtrRoomState.DECLINED:\n\t\t\t\treturn (\n\t\t\t\t\t<OTRStates\n\t\t\t\t\t\ttitle={t('OTR_Chat_Declined_Title')}\n\t\t\t\t\t\tdescription={t('OTR_Chat_Declined_Description', peerUsername || '')}\n\t\t\t\t\t\ticon='cross'\n\t\t\t\t\t\tonClickStart={onClickStart}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase OtrRoomState.TIMEOUT:\n\t\t\t\treturn (\n\t\t\t\t\t<OTRStates\n\t\t\t\t\t\ttitle={t('OTR_Chat_Timeout_Title')}\n\t\t\t\t\t\tdescription={t('OTR_Chat_Timeout_Description', peerUsername || '')}\n\t\t\t\t\t\ticon='clock'\n\t\t\t\t\t\tonClickStart={onClickStart}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<OTRStates\n\t\t\t\t\t\ttitle={t('OTR_Chat_Error_Title')}\n\t\t\t\t\t\tdescription={t('OTR_Chat_Error_Description')}\n\t\t\t\t\t\ticon='warning'\n\t\t\t\t\t\tonClickStart={onClickStart}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarIcon name='stopwatch' />\n\t\t\t\t<ContextualbarTitle>{t('OTR')}</ContextualbarTitle>\n\t\t\t\t{onClickClose && <ContextualbarClose onClick={onClickClose} />}\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent p={24} color='default'>\n\t\t\t\t<Box fontScale='h4'>{t('Off_the_record_conversation')}</Box>\n\t\t\t\t{isOnline ? renderOTRState() : <Box fontScale='p2m'>{t('OTR_is_only_available_when_both_users_are_online')}</Box>}\n\t\t\t</ContextualbarScrollableContent>\n\t\t</>\n\t);\n};\n\nexport default OTR;\n",null],"names":["Box","Button","Throbber","useTranslation","React","OtrRoomState","ContextualbarHeader","ContextualbarIcon","ContextualbarTitle","ContextualbarClose","ContextualbarScrollableContent","OTREstablished","OTRStates","module","link","v","default","exportDefault","_ref","isOnline","onClickClose","onClickStart","onClickEnd","onClickRefresh","otrState","peerUsername","t","createElement","Fragment","name","onClick","p","color","fontScale","renderOTRState","NOT_STARTED","primary","ESTABLISHING","mb","ESTABLISHED","DECLINED","title","description","icon","TIMEOUT"],"mappings":"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"}