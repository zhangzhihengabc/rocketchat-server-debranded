function module(e,t,l){let n,o,u,i,s,a,r,c,k,d,R,m;l.link("@rocket.chat/ui-contexts",{useUserId(e){n=e}},0),l.link("react",{default(e){o=e},useCallback(e){u=e},useEffect(e){i=e},useMemo(e){s=e}},1),l.link("../../../../../app/otr/client/OTR",{default(e){a=e}},2),l.link("../../../../../app/otr/lib/OtrRoomState",{OtrRoomState(e){r=e}},3),l.link("../../../../hooks/usePresence",{usePresence(e){c=e}},4),l.link("../../../../hooks/useReactiveValue",{useReactiveValue(e){k=e}},5),l.link("../../contexts/RoomContext",{useRoom(e){d=e}},6),l.link("../../contexts/RoomToolboxContext",{useRoomToolbox(e){R=e}},7),l.link("./OTR",{default(e){m=e}},8),l.exportDefault(()=>{let e=n(),t=d(),{closeTab:l}=R(),f=s(()=>{if(e)return a.getInstanceByRoomId(e,t._id)},[e,t._id]),T=k(u(()=>f?f.getState():r.ERROR,[f])),h=c(null==f?void 0:f.getPeerId()),x=null==h?void 0:h.status,C=null==h?void 0:h.username,S=!["offline","loading"].includes(x||"");return i(()=>{if(T!==r.ESTABLISHING)return;let e=setTimeout(()=>{null==f||f.setState(r.TIMEOUT)},1e4);return()=>{clearTimeout(e)}},[f,T]),o.createElement(m,{isOnline:S,onClickClose:l,onClickStart:()=>{null==f||f.handshake()},onClickEnd:()=>{null==f||f.end()},onClickRefresh:()=>{null==f||f.reset(),null==f||f.handshake(!0)},otrState:T,peerUsername:C})})}
//# sourceMappingURL=/dynamic/client/views/room/contextualBar/OTR/d2df1814c2cc8e0e4be32a10935c5bd3379e5d62.map
