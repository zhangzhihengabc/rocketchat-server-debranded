)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/PinnedMessagesTab.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport { mapMessageFromApi } from '../../../lib/utils/mapMessageFromApi';\nimport { useRoom } from '../contexts/RoomContext';\nimport MessageListTab from './MessageListTab';\n\nconst PinnedMessagesTab = (): ReactElement => {\n\tconst getPinnedMessages = useEndpoint('GET', '/v1/chat.getPinnedMessages');\n\n\tconst room = useRoom();\n\n\tconst pinnedMessagesQueryResult = useQuery(['rooms', room._id, 'pinned-messages'] as const, async () => {\n\t\tconst messages: IMessage[] = [];\n\n\t\tfor (\n\t\t\tlet offset = 0, result = await getPinnedMessages({ roomId: room._id, offset: 0 });\n\t\t\tresult.count > 0;\n\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\toffset += result.count, result = await getPinnedMessages({ roomId: room._id, offset })\n\t\t) {\n\t\t\tmessages.push(...result.messages.map(mapMessageFromApi));\n\t\t}\n\n\t\treturn messages;\n\t});\n\n\tconst t = useTranslation();\n\n\treturn (\n\t\t<MessageListTab\n\t\t\ticonName='pin'\n\t\t\ttitle={t('Pinned_Messages')}\n\t\t\temptyResultMessage={t('No_pinned_messages')}\n\t\t\tcontext='pinned'\n\t\t\tqueryResult={pinnedMessagesQueryResult}\n\t\t/>\n\t);\n};\n\nexport default PinnedMessagesTab;\n",null],"names":["useEndpoint","useTranslation","useQuery","React","mapMessageFromApi","useRoom","MessageListTab","module","link","default","exportDefault","getPinnedMessages","room","pinnedMessagesQueryResult","_id","messages","offset","result","roomId","count","push","map","t","createElement","iconName","title","emptyResultMessage","context","queryResult"],"mappings":"2BACAA,EAASC,EAA8DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjDC,EAAgBC,IAAAA,CAAAA,2BAAgC,CAACR,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAL,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,uCAAAA,CAAAH,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,0BAAAA,CAAAF,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,mBAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAAvEC,EAAOG,aAAa,CASM,KACzB,IAAMC,EAAoBX,EAAY,MAAO,8BAEvCY,EAAOP,IAEPQ,EAA4BX,EAAS,CAAC,QAASU,EAAKE,GAAG,CAAE,kBAA2B,CAAE,UAC3F,IAAMC,EAAuB,EAAE,CAE/B,IACC,IAAIC,EAAS,EAAGC,EAAS,MAAMN,EAAkB,CAAEO,OAAQN,EAAKE,GAAG,CAAEE,OAAQ,CAAC,GAC9EC,EAAOE,KAAK,CAAG,EAEfH,GAAUC,EAAOE,KAAK,CAAEF,EAAS,MAAMN,EAAkB,CAAEO,OAAQN,EAAKE,GAAG,CAAEE,OAAAA,CAAM,GAEnFD,EAASK,IAAI,IAAIH,EAAOF,QAAQ,CAACM,GAAG,CAACjB,IAGtC,OAAOW,CACR,GAEMO,EAAIrB,IAEV,OACCE,EAAAoB,aAAA,CAACjB,EAAc,CACdkB,SAAS,MACTC,MAAOH,EAAE,mBACTI,mBAAoBJ,EAAE,sBACtBK,QAAQ,SACRC,YAAaf,CAA0B,EAG1C"}