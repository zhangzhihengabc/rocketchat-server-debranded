)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/MentionsTab.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport { mapMessageFromApi } from '../../../lib/utils/mapMessageFromApi';\nimport { useRoom } from '../contexts/RoomContext';\nimport MessageListTab from './MessageListTab';\n\nconst MentionsTab = (): ReactElement => {\n\tconst getMentionedMessages = useEndpoint('GET', '/v1/chat.getMentionedMessages');\n\n\tconst room = useRoom();\n\n\tconst mentionedMessagesQueryResult = useQuery(['rooms', room._id, 'mentioned-messages'] as const, async () => {\n\t\tconst messages: IMessage[] = [];\n\n\t\tfor (\n\t\t\tlet offset = 0, result = await getMentionedMessages({ roomId: room._id, offset: 0 });\n\t\t\tresult.count > 0;\n\t\t\t// eslint-disable-next-line no-await-in-loop\n\t\t\toffset += result.count, result = await getMentionedMessages({ roomId: room._id, offset })\n\t\t) {\n\t\t\tmessages.push(...result.messages.map(mapMessageFromApi));\n\t\t}\n\n\t\treturn messages;\n\t});\n\n\tconst t = useTranslation();\n\n\treturn (\n\t\t<MessageListTab\n\t\t\ticonName='at'\n\t\t\ttitle={t('Mentions')}\n\t\t\temptyResultMessage={t('No_mentions_found')}\n\t\t\tcontext='mentions'\n\t\t\tqueryResult={mentionedMessagesQueryResult}\n\t\t/>\n\t);\n};\n\nexport default MentionsTab;\n",null],"names":["useEndpoint","useTranslation","useQuery","React","mapMessageFromApi","useRoom","MessageListTab","module","link","default","exportDefault","getMentionedMessages","room","mentionedMessagesQueryResult","_id","messages","offset","result","roomId","count","push","map","t","createElement","iconName","title","emptyResultMessage","context","queryResult"],"mappings":"2BACAA,EAASC,EAA8DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjDC,EAAgBC,IAAAA,CAAAA,2BAAgC,CAACR,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAL,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,uCAAAA,CAAAH,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,0BAAAA,CAAAF,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,mBAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAAvEC,EAAOG,aAAa,CASA,KACnB,IAAMC,EAAuBX,EAAY,MAAO,iCAE1CY,EAAOP,IAEPQ,EAA+BX,EAAS,CAAC,QAASU,EAAKE,GAAG,CAAE,qBAA8B,CAAE,UACjG,IAAMC,EAAuB,EAAE,CAE/B,IACC,IAAIC,EAAS,EAAGC,EAAS,MAAMN,EAAqB,CAAEO,OAAQN,EAAKE,GAAG,CAAEE,OAAQ,CAAC,GACjFC,EAAOE,KAAK,CAAG,EAEfH,GAAUC,EAAOE,KAAK,CAAEF,EAAS,MAAMN,EAAqB,CAAEO,OAAQN,EAAKE,GAAG,CAAEE,OAAAA,CAAM,GAEtFD,EAASK,IAAI,IAAIH,EAAOF,QAAQ,CAACM,GAAG,CAACjB,IAGtC,OAAOW,CACR,GAEMO,EAAIrB,IAEV,OACCE,EAAAoB,aAAA,CAACjB,EAAc,CACdkB,SAAS,KACTC,MAAOH,EAAE,YACTI,mBAAoBJ,EAAE,qBACtBK,QAAQ,WACRC,YAAaf,CAA6B,EAG7C"}