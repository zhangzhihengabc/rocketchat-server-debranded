)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/RoomFiles/RoomFiles.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Icon, TextInput, Select, Throbber, Margins } from '@rocket.chat/fuselage';\nimport { useUniqueId, useAutoFocus } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useMemo } from 'react';\nimport { Virtuoso } from 'react-virtuoso';\n\nimport {\n\tContextualbarHeader,\n\tContextualbarIcon,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarContent,\n\tContextualbarEmptyContent,\n} from '../../../../components/Contextualbar';\nimport ScrollableContentWrapper from '../../../../components/ScrollableContentWrapper';\nimport Row from './Row';\n\nfunction RoomFiles({\n\tloading,\n\tfilesItems = [],\n\ttext,\n\ttype,\n\tsetText,\n\tsetType,\n\tonClickClose,\n\tonClickDelete,\n\ttotal,\n\tloadMoreItems,\n\tisDeletionAllowed,\n}) {\n\tconst t = useTranslation();\n\tconst options = useMemo(\n\t\t() => [\n\t\t\t['all', t('All')],\n\t\t\t['image', t('Images')],\n\t\t\t['video', t('Videos')],\n\t\t\t['audio', t('Audios')],\n\t\t\t['text', t('Texts')],\n\t\t\t['application', t('Files')],\n\t\t],\n\t\t[t],\n\t);\n\tconst inputRef = useAutoFocus(true);\n\n\tconst searchId = useUniqueId();\n\n\tconst itemData = useMemo(\n\t\t() => ({\n\t\t\tonClickDelete,\n\t\t\tisDeletionAllowed,\n\t\t}),\n\t\t[isDeletionAllowed, onClickDelete],\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarIcon name='attachment' />\n\t\t\t\t<ContextualbarTitle>{t('Files')}</ContextualbarTitle>\n\t\t\t\t{onClickClose && <ContextualbarClose onClick={onClickClose} />}\n\t\t\t</ContextualbarHeader>\n\n\t\t\t<ContextualbarContent p={12}>\n\t\t\t\t<Box display='flex' flexDirection='row' p={12} flexShrink={0}>\n\t\t\t\t\t<Box display='flex' flexDirection='row' flexGrow={1} mi='neg-x4'>\n\t\t\t\t\t\t<Margins inline='x4'>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tdata-qa-files-search\n\t\t\t\t\t\t\t\tid={searchId}\n\t\t\t\t\t\t\t\tplaceholder={t('Search_Files')}\n\t\t\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\t\t\tvalue={text}\n\t\t\t\t\t\t\t\tonChange={setText}\n\t\t\t\t\t\t\t\taddon={<Icon name='magnifier' size='x20' />}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Box w='x144' mis={8}>\n\t\t\t\t\t\t\t\t<Select onChange={setType} value={type} options={options} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\n\t\t\t\t{loading && (\n\t\t\t\t\t<Box p={12}>\n\t\t\t\t\t\t<Throbber size='x12' />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\n\t\t\t\t{!loading && filesItems.length <= 0 && <ContextualbarEmptyContent title={t('No_files_found')} />}\n\n\t\t\t\t{!loading && filesItems.length > 0 && (\n\t\t\t\t\t<Box w='full' h='full' flexShrink={1} overflow='hidden'>\n\t\t\t\t\t\t<Virtuoso\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttotalCount={total}\n\t\t\t\t\t\t\tendReached={loading ? () => {} : (start) => loadMoreItems(start, Math.min(50, total - start))}\n\t\t\t\t\t\t\toverscan={50}\n\t\t\t\t\t\t\tdata={filesItems}\n\t\t\t\t\t\t\tcomponents={{ Scroller: ScrollableContentWrapper }}\n\t\t\t\t\t\t\titemContent={(index, data) => <Row data={itemData} index={index} item={data} />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarContent>\n\t\t</>\n\t);\n}\n\nexport default RoomFiles;\n",null],"names":["Box","Icon","TextInput","Select","Throbber","Margins","useUniqueId","useAutoFocus","useTranslation","React","useMemo","Virtuoso","ContextualbarHeader","ContextualbarIcon","ContextualbarTitle","ContextualbarClose","ContextualbarContent","ContextualbarEmptyContent","ScrollableContentWrapper","Row","module","link","v","default","exportDefault","_ref","loading","filesItems","text","type","setText","setType","onClickClose","onClickDelete","total","loadMoreItems","isDeletionAllowed","t","options","inputRef","searchId","itemData","createElement","Fragment","name","onClick","p","display","flexDirection","flexShrink","flexGrow","mi","inline","id","placeholder","ref","value","onChange","addon","size","w","mis","length","title","h","overflow","style","height","width","totalCount","endReached","start","Math","min","overscan","data","components","Scroller","itemContent","index","item"],"mappings":"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"}