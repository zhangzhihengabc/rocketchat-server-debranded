)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/NotificationPreferences/NotificationPreferencesForm.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { SelectOption } from '@rocket.chat/fuselage';\nimport { FieldGroup, IconButton, Margins } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React from 'react';\nimport { useFormContext, Controller } from 'react-hook-form';\n\nimport NotificationByDevice from './components/NotificationByDevice';\nimport NotificationPreference from './components/NotificationPreference';\nimport NotificationToggle from './components/NotificationToggle';\n\ntype NotificationPreferencesFormProps = {\n\tnotificationOptions: {\n\t\t[key: string]: SelectOption[];\n\t};\n\thandlePlaySound: () => void;\n};\n\nconst NotificationPreferencesForm = ({ notificationOptions, handlePlaySound }: NotificationPreferencesFormProps) => {\n\tconst t = useTranslation();\n\tconst { watch, control } = useFormContext();\n\n\tconst { showCounter } = watch();\n\n\treturn (\n\t\t<>\n\t\t\t<Controller\n\t\t\t\tcontrol={control}\n\t\t\t\tname='turnOn'\n\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t<NotificationToggle label={t('Turn_ON')} description={t('Receive_alerts')} onChange={onChange} defaultChecked={value} />\n\t\t\t\t)}\n\t\t\t/>\n\t\t\t<Controller\n\t\t\t\tcontrol={control}\n\t\t\t\tname='muteGroupMentions'\n\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t<NotificationToggle label={t('Mute_Group_Mentions')} onChange={onChange} defaultChecked={value} />\n\t\t\t\t)}\n\t\t\t/>\n\t\t\t<Controller\n\t\t\t\tcontrol={control}\n\t\t\t\tname='showCounter'\n\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t<NotificationToggle\n\t\t\t\t\t\tlabel={t('Show_counter')}\n\t\t\t\t\t\tdescription={t('Display_unread_counter')}\n\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\tdefaultChecked={value}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t/>\n\t\t\t{!showCounter && (\n\t\t\t\t<Controller\n\t\t\t\t\tcontrol={control}\n\t\t\t\t\tname='showMentions'\n\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t<NotificationToggle\n\t\t\t\t\t\t\tlabel={t('Show_mentions')}\n\t\t\t\t\t\t\tdescription={t('Display_mentions_counter')}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tdefaultChecked={value}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<FieldGroup>\n\t\t\t\t<NotificationByDevice device={t('Desktop')} icon='desktop'>\n\t\t\t\t\t<Controller\n\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\tname='desktopAlert'\n\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t<NotificationPreference\n\t\t\t\t\t\t\t\tid='DesktopAlert'\n\t\t\t\t\t\t\t\tname={t('Alerts')}\n\t\t\t\t\t\t\t\toptions={notificationOptions.alerts}\n\t\t\t\t\t\t\t\toptionValue={value}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<Margins blockStart={16}>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\tname='desktopSound'\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<NotificationPreference\n\t\t\t\t\t\t\t\t\tid='DesktopSound'\n\t\t\t\t\t\t\t\t\tname={t('Sound')}\n\t\t\t\t\t\t\t\t\toptions={notificationOptions.sounds}\n\t\t\t\t\t\t\t\t\toptionValue={value}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<IconButton icon='play' mis={4} onClick={handlePlaySound} />\n\t\t\t\t\t\t\t\t</NotificationPreference>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Margins>\n\t\t\t\t</NotificationByDevice>\n\t\t\t\t<NotificationByDevice device={t('Mobile')} icon='mobile'>\n\t\t\t\t\t<Controller\n\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\tname='mobileAlert'\n\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t<NotificationPreference\n\t\t\t\t\t\t\t\tid='MobileAlert'\n\t\t\t\t\t\t\t\tname={t('Alerts')}\n\t\t\t\t\t\t\t\toptions={notificationOptions.alerts}\n\t\t\t\t\t\t\t\toptionValue={value}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</NotificationByDevice>\n\t\t\t\t<NotificationByDevice device={t('Email')} icon='mail'>\n\t\t\t\t\t<Controller\n\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\tname='emailAlert'\n\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t<NotificationPreference\n\t\t\t\t\t\t\t\tid='EmailAlert'\n\t\t\t\t\t\t\t\tname={t('Alerts')}\n\t\t\t\t\t\t\t\toptions={notificationOptions.alerts}\n\t\t\t\t\t\t\t\toptionValue={value}\n\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</NotificationByDevice>\n\t\t\t</FieldGroup>\n\t\t</>\n\t);\n};\n\nexport default NotificationPreferencesForm;\n",null],"names":["FieldGroup","IconButton","Margins","useTranslation","React","useFormContext","Controller","NotificationByDevice","NotificationPreference","NotificationToggle","module","link","v","default","exportDefault","_ref","notificationOptions","handlePlaySound","t","watch","control","showCounter","createElement","Fragment","name","render","_ref2","field","value","onChange","label","description","defaultChecked","_ref3","_ref4","_ref5","device","icon","_ref6","id","options","alerts","optionValue","blockStart","_ref7","sounds","mis","onClick","_ref8","_ref9"],"mappings":"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"}