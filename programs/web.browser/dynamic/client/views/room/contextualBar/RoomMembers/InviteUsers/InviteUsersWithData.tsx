function module(e,t,i){let s,n,a,r,l,o,u,_,d,c,k;i.link("@babel/runtime/helpers/objectSpread2",{default(e){s=e}},0),i.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){n=e}},0),i.link("@rocket.chat/ui-contexts",{useEndpoint(e){a=e},useTranslation(e){r=e},useToastMessageDispatch(e){l=e}},1),i.link("react",{default(e){o=e},useState(e){u=e},useEffect(e){_=e}},2),i.link("../../../../../hooks/useFormatDateAndTime",{useFormatDateAndTime(e){d=e}},3),i.link("../../../contexts/RoomToolboxContext",{useRoomToolbox(e){c=e}},4),i.link("./InviteUsers",{default(e){k=e}},5),i.exportDefault(e=>{let{rid:t,onClickBack:i}=e,x=r(),m=l(),[{isEditing:f,url:p,caption:v,error:b,daysAndMaxUses:{days:U,maxUses:g}},E]=u({isEditing:!1,daysAndMaxUses:{days:"1",maxUses:"0"},url:"",caption:"",error:void 0}),{closeTab:T}=c(),y=d(),C=a("POST","/v1/findOrCreateInvite"),h=n(()=>E(e=>s(s({},e),{},{isEditing:!0}))),w=n(()=>E(e=>s(s({},e),{},{isEditing:!1}))),M=n(e=>{if(!e)return"";if(e.expires){let t=new Date(e.expires);if(e.maxUses){let i=e.maxUses-e.uses;return x("Your_invite_link_will_expire_on__date__or_after__usesLeft__uses",{date:y(t),usesLeft:i})}return x("Your_invite_link_will_expire_on__date__",{date:y(t)})}if(e.maxUses){let t=e.maxUses-e.uses;return x("Your_invite_link_will_expire_after__usesLeft__uses",{usesLeft:t})}return x("Your_invite_link_will_never_expire")});_(()=>{(async()=>{try{let e=await C({rid:t,days:Number(U),maxUses:Number(g)});E(t=>s(s({},t),{},{url:null==e?void 0:e.url,caption:M(e)})),m({type:"success",message:x("Invite_link_generated")})}catch(e){E(t=>s(s({},t),{},{error:e}))}})()},[m,x,C,M,t,U,g]);let A=n(e=>{E(t=>s(s({},t),{},{daysAndMaxUses:e,isEditing:!1}))});return o.createElement(k,{isEditing:f,error:b,linkText:p,captionText:v,daysAndMaxUses:{days:U,maxUses:g},onClose:T,onClickBackMembers:i,onClickBackLink:w,onClickEdit:h,onClickNewLink:A})})}
//# sourceMappingURL=/dynamic/client/views/room/contextualBar/RoomMembers/InviteUsers/2e057bdc5039fe9271052b493798a67fed253492.map
