)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/RoomMembers/AddUsers/AddMatrixUsers/AddMatrixUsersModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Modal, Button, Box, Icon } from '@rocket.chat/fuselage';\nimport { useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\n\ntype AddMatrixUsersModalProps = {\n\tmatrixIdVerifiedStatus: Map<string, string>;\n\tcompleteUserList: string[];\n\tonClose: () => void;\n\tonSave: (args_0: any) => Promise<void>;\n};\n\ntype FormValues = {\n\tusersToInvite: string[];\n};\n\nconst verificationStatusAsIcon = (verificationStatus: string) => {\n\tif (verificationStatus === 'VERIFIED') {\n\t\treturn 'circle-check';\n\t}\n\n\tif (verificationStatus === 'UNVERIFIED') {\n\t\treturn 'circle-cross';\n\t}\n\n\tif (verificationStatus === 'UNABLE_TO_VERIFY') {\n\t\treturn 'circle-exclamation';\n\t}\n};\n\nconst AddMatrixUsersModal = ({ onClose, matrixIdVerifiedStatus, onSave, completeUserList }: AddMatrixUsersModalProps): ReactElement => {\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst usersToInvite = completeUserList.filter(\n\t\t(user) => !(matrixIdVerifiedStatus.has(user) && matrixIdVerifiedStatus.get(user) === 'UNVERIFIED'),\n\t);\n\tconst rocketChatUsers = usersToInvite.filter((user) => !matrixIdVerifiedStatus.has(user));\n\n\tconst { handleSubmit } = useForm<FormValues>({\n\t\tdefaultValues: {\n\t\t\tusersToInvite,\n\t\t},\n\t});\n\n\tconst onSubmit = (data: FormValues) => {\n\t\tonSave({ users: data.usersToInvite })\n\t\t\t.then(onClose)\n\t\t\t.catch((error) => dispatchToastMessage({ type: 'error', message: error as Error }));\n\t};\n\n\tconst t = useTranslation();\n\n\treturn (\n\t\t<Modal>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.HeaderText>\n\t\t\t\t\t<Modal.Title>{t('Continue_Adding')}</Modal.Title>\n\t\t\t\t</Modal.HeaderText>\n\t\t\t\t<Modal.Close title={t('Close')} onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<Box>\n\t\t\t\t\t<Box is='ul'>\n\t\t\t\t\t\t{[...matrixIdVerifiedStatus.entries()].map(([_matrixId, _verificationStatus]) => (\n\t\t\t\t\t\t\t<li key={_matrixId}>\n\t\t\t\t\t\t\t\t{_matrixId}: <Icon name={verificationStatusAsIcon(_verificationStatus) as ComponentProps<typeof Icon>['name']} size='x20' />\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t{rocketChatUsers.map((_user) => (\n\t\t\t\t\t\t\t<li key={`rocket-chat-${_user}`}>{_user}</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer justifyContent='center'>\n\t\t\t\t<Modal.FooterControllers>\n\t\t\t\t\t<Button onClick={onClose}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button primary onClick={handleSubmit(onSubmit)} disabled={!(usersToInvite.length > 0)}>\n\t\t\t\t\t\t{t('Yes_continue')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.FooterControllers>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default AddMatrixUsersModal;\n",null],"names":["Modal","Button","Box","Icon","useToastMessageDispatch","useTranslation","React","useForm","module","link","v","default","verificationStatusAsIcon","verificationStatus","exportDefault","_ref","onClose","matrixIdVerifiedStatus","onSave","completeUserList","dispatchToastMessage","usersToInvite","filter","user","has","get","rocketChatUsers","handleSubmit","defaultValues","t","createElement","Header","HeaderText","Title","Close","title","onClick","Content","is","entries","map","_ref2","_matrixId","_verificationStatus","key","name","size","_user","concat","Footer","justifyContent","FooterControllers","primary","data","users","then","catch","error","type","message","disabled","length"],"mappings":"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"}