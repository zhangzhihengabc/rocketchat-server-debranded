)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/Info/hooks/actions/useRoomHide.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useSetModal, useToastMessageDispatch, useMethod, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport React from 'react';\n\nimport { UiTextContext } from '../../../../../../../definition/IRoomTypeConfig';\nimport WarningModal from '../../../../../../components/WarningModal';\nimport { roomCoordinator } from '../../../../../../lib/rooms/roomCoordinator';\n\nexport const useRoomHide = (room: IRoom) => {\n\tconst t = useTranslation();\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst hideRoom = useMethod('hideRoom');\n\tconst router = useRouter();\n\n\tconst handleHide = useMutableCallback(async () => {\n\t\tconst hide = async () => {\n\t\t\ttry {\n\t\t\t\tawait hideRoom(room._id);\n\t\t\t\trouter.navigate('/home');\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tsetModal(null);\n\t\t};\n\n\t\tconst warnText = roomCoordinator.getRoomDirectives(room.t).getUiText(UiTextContext.HIDE_WARNING);\n\n\t\tsetModal(\n\t\t\t<WarningModal\n\t\t\t\ttext={t(warnText as TranslationKey, room.fname || room.name)}\n\t\t\t\tconfirmText={t('Yes_hide_it')}\n\t\t\t\tclose={() => setModal(null)}\n\t\t\t\tcancel={() => setModal(null)}\n\t\t\t\tcancelText={t('Cancel')}\n\t\t\t\tconfirm={hide}\n\t\t\t/>,\n\t\t);\n\t});\n\n\treturn handleHide;\n};\n",null],"names":["useMutableCallback","useSetModal","useToastMessageDispatch","useMethod","useTranslation","useRouter","React","UiTextContext","WarningModal","roomCoordinator","module","export","useRoomHide","default","room","t","setModal","dispatchToastMessage","hideRoom","router","handleHide","hide","_id","navigate","error","type","message","warnText","getRoomDirectives","getUiText","HIDE_WARNING","createElement","text","fname","name","confirmText","close","cancel","cancelText","confirm"],"mappings":"2BACmCA,EAA8BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjEC,EAAOC,MAAE,CAAA,CAAAC,YAAkB,IAAEA,CAAM,GAA8BF,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAV,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAT,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAAG,QAAAA,CAAAA,EAAAP,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,kDAAAA,CAAAH,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,4CAAAA,CAAAG,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,8CAAAA,CAAAD,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAS1D,IAAMG,EAAeE,IAC3B,IAAMC,EAAIX,IACJY,EAAWf,IACXgB,EAAuBf,IACvBgB,EAAWf,EAAU,YACrBgB,EAASd,IAETe,EAAapB,EAAmB,UACrC,IAAMqB,EAAO,UACZ,GAAI,CACH,MAAMH,EAASJ,EAAKQ,GAAG,EACvBH,EAAOI,QAAQ,CAAC,SACf,MAAOC,EAAO,CACfP,EAAqB,CAAEQ,KAAM,QAASC,QAASF,CAAK,GAErDR,EAAS,KACV,EAEMW,EAAWlB,EAAgBmB,iBAAiB,CAACd,EAAKC,CAAC,EAAEc,SAAS,CAACtB,EAAcuB,YAAY,EAE/Fd,EACCV,EAAAyB,aAAA,CAACvB,EAAY,CACZwB,KAAMjB,EAAEY,EAA4Bb,EAAKmB,KAAK,EAAInB,EAAKoB,IAAI,EAC3DC,YAAapB,EAAE,eACfqB,MAAO,IAAMpB,EAAS,MACtBqB,OAAQ,IAAMrB,EAAS,MACvBsB,WAAYvB,EAAE,UACdwB,QAASlB,CAAK,GAGjB,GAEA,OAAOD,CACR"}