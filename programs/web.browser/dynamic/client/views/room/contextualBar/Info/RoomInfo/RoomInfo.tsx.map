)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/Info/RoomInfo/RoomInfo.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { Box, Callout, Menu, Option } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useMemo } from 'react';\n\nimport {\n\tContextualbarHeader,\n\tContextualbarScrollableContent,\n\tContextualbarBack,\n\tContextualbarIcon,\n\tContextualbarClose,\n\tContextualbarTitle,\n} from '../../../../../components/Contextualbar';\nimport InfoPanel from '../../../../../components/InfoPanel';\nimport RetentionPolicyCallout from '../../../../../components/InfoPanel/RetentionPolicyCallout';\nimport MarkdownText from '../../../../../components/MarkdownText';\nimport RoomAvatar from '../../../../../components/avatar/RoomAvatar';\nimport type { Action } from '../../../../hooks/useActionSpread';\nimport { useActionSpread } from '../../../../hooks/useActionSpread';\nimport { useRetentionPolicy } from '../../../body/hooks/useRetentionPolicy';\nimport { useRoomActions } from '../hooks/useRoomActions';\n\ntype RoomInfoProps = {\n\troom: IRoom;\n\ticon: string;\n\tonClickBack?: () => void;\n\tonClickClose?: () => void;\n\tonClickEnterRoom?: () => void;\n\tonClickEdit?: () => void;\n\tresetState?: () => void;\n};\n\nconst RoomInfo = ({ room, icon, onClickBack, onClickClose, onClickEnterRoom, onClickEdit, resetState }: RoomInfoProps) => {\n\tconst t = useTranslation();\n\tconst { name, fname, description, topic, archived, broadcast, announcement } = room;\n\tconst roomTitle = fname || name;\n\n\tconst retentionPolicy = useRetentionPolicy(room);\n\tconst memoizedActions = useRoomActions(room, { onClickEnterRoom, onClickEdit }, resetState);\n\tconst { actions: actionsDefinition, menu: menuOptions } = useActionSpread(memoizedActions);\n\n\tconst menu = useMemo(() => {\n\t\tif (!menuOptions) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<Menu\n\t\t\t\tsmall={false}\n\t\t\t\tflexShrink={0}\n\t\t\t\tmi={4}\n\t\t\t\tkey='menu'\n\t\t\t\tmaxHeight='initial'\n\t\t\t\tsecondary\n\t\t\t\trenderItem={({ label: { label, icon }, ...props }) => <Option {...props} label={label} icon={icon} />}\n\t\t\t\toptions={menuOptions}\n\t\t\t/>\n\t\t);\n\t}, [menuOptions]);\n\n\tconst actions = useMemo(() => {\n\t\tconst mapAction = ([key, { label, icon, action }]: [string, Action]) => (\n\t\t\t<InfoPanel.Action key={key} label={label} onClick={action} icon={icon} />\n\t\t);\n\n\t\treturn [...actionsDefinition.map(mapAction), menu].filter(Boolean);\n\t}, [actionsDefinition, menu]);\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t{onClickBack ? <ContextualbarBack onClick={onClickBack} /> : <ContextualbarIcon name='info-circled' />}\n\t\t\t\t<ContextualbarTitle>{t('Room_Info')}</ContextualbarTitle>\n\t\t\t\t{onClickClose && <ContextualbarClose onClick={onClickClose} />}\n\t\t\t</ContextualbarHeader>\n\n\t\t\t<ContextualbarScrollableContent p={24}>\n\t\t\t\t<InfoPanel>\n\t\t\t\t\t<InfoPanel.Avatar>\n\t\t\t\t\t\t<RoomAvatar size='x332' room={room} />\n\t\t\t\t\t</InfoPanel.Avatar>\n\n\t\t\t\t\t<InfoPanel.ActionGroup>{actions}</InfoPanel.ActionGroup>\n\n\t\t\t\t\t{archived && (\n\t\t\t\t\t\t<InfoPanel.Section>\n\t\t\t\t\t\t\t<Box mb={16}>\n\t\t\t\t\t\t\t\t<Callout type='warning'>{t('Room_archived')}</Callout>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</InfoPanel.Section>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{roomTitle && (\n\t\t\t\t\t\t<InfoPanel.Section>\n\t\t\t\t\t\t\t<InfoPanel.Title title={roomTitle} icon={icon} />\n\t\t\t\t\t\t</InfoPanel.Section>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<InfoPanel.Section>\n\t\t\t\t\t\t{broadcast && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>\n\t\t\t\t\t\t\t\t\t<b>{t('Broadcast_channel')}</b> {t('Broadcast_channel_Description')}\n\t\t\t\t\t\t\t\t</InfoPanel.Label>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{description && description !== '' && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>{t('Description')}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t<InfoPanel.Text withTruncatedText={false}>\n\t\t\t\t\t\t\t\t\t<MarkdownText variant='inline' content={description} />\n\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{announcement && announcement !== '' && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>{t('Announcement')}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t<InfoPanel.Text withTruncatedText={false}>\n\t\t\t\t\t\t\t\t\t<MarkdownText variant='inline' content={announcement} />\n\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{topic && topic !== '' && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>{t('Topic')}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t<InfoPanel.Text withTruncatedText={false}>\n\t\t\t\t\t\t\t\t\t<MarkdownText variant='inline' content={topic} />\n\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{retentionPolicy && (\n\t\t\t\t\t\t\t<RetentionPolicyCallout\n\t\t\t\t\t\t\t\tfilesOnlyDefault={retentionPolicy.filesOnly}\n\t\t\t\t\t\t\t\texcludePinnedDefault={retentionPolicy.excludePinned}\n\t\t\t\t\t\t\t\tmaxAgeDefault={retentionPolicy.maxAge}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</InfoPanel.Section>\n\t\t\t\t</InfoPanel>\n\t\t\t</ContextualbarScrollableContent>\n\t\t</>\n\t);\n};\n\nexport default RoomInfo;\n",null],"names":["_extends","_objectWithoutProperties","Box","Callout","Menu","Option","useTranslation","React","useMemo","ContextualbarHeader","ContextualbarScrollableContent","ContextualbarBack","ContextualbarIcon","ContextualbarClose","ContextualbarTitle","InfoPanel","RetentionPolicyCallout","MarkdownText","RoomAvatar","useActionSpread","useRetentionPolicy","useRoomActions","module","link","default","v","exportDefault","_ref","room","icon","onClickBack","onClickClose","onClickEnterRoom","onClickEdit","resetState","t","name","fname","description","topic","archived","broadcast","announcement","roomTitle","retentionPolicy","memoizedActions","actions","actionsDefinition","menu","menuOptions","createElement","small","flexShrink","mi","key","maxHeight","secondary","renderItem","_ref2","label","props","_excluded","options","map","_ref3","action","Action","onClick","filter","Boolean","Fragment","p","Avatar","size","ActionGroup","Section","mb","type","Title","title","Field","Label","Text","withTruncatedText","variant","content","filesOnlyDefault","filesOnly","excludePinnedDefault","excludePinned","maxAgeDefault","maxAge"],"mappings":"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"}