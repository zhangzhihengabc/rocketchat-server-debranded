)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/Info/EditRoomInfo/EditRoomInfo.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoomWithRetentionPolicy } from '@rocket.chat/core-typings';\nimport { isRoomFederated } from '@rocket.chat/core-typings';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport {\n\tField,\n\tFieldRow,\n\tFieldLabel,\n\tFieldHint,\n\tTextInput,\n\tPasswordInput,\n\tToggleSwitch,\n\tMultiSelect,\n\tAccordion,\n\tCallout,\n\tNumberInput,\n\tFieldGroup,\n\tButton,\n\tButtonGroup,\n\tBox,\n\tTextAreaInput,\n} from '@rocket.chat/fuselage';\nimport { useMutableCallback, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useSetting, useTranslation, useToastMessageDispatch, useEndpoint } from '@rocket.chat/ui-contexts';\nimport React, { useMemo } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport { MessageTypesValues } from '../../../../../../app/lib/lib/MessageTypes';\nimport {\n\tContextualbarHeader,\n\tContextualbarBack,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarScrollableContent,\n\tContextualbarFooter,\n} from '../../../../../components/Contextualbar';\nimport RawText from '../../../../../components/RawText';\nimport RoomAvatarEditor from '../../../../../components/avatar/RoomAvatarEditor';\nimport { getDirtyFields } from '../../../../../lib/getDirtyFields';\nimport { useDeleteRoom } from '../../../../hooks/roomActions/useDeleteRoom';\nimport { useEditRoomInitialValues } from './useEditRoomInitialValues';\nimport { useEditRoomPermissions } from './useEditRoomPermissions';\n\ntype EditRoomInfoProps = {\n\troom: IRoomWithRetentionPolicy;\n\tonClickClose: () => void;\n\tonClickBack: () => void;\n};\n\nconst EditRoomInfo = ({ room, onClickClose, onClickBack }: EditRoomInfoProps) => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst isFederated = useMemo(() => isRoomFederated(room), [room]);\n\n\tconst retentionPolicy = useSetting<boolean>('RetentionPolicy_Enabled');\n\tconst { handleDelete, canDeleteRoom } = useDeleteRoom(room);\n\tconst defaultValues = useEditRoomInitialValues(room);\n\n\tconst {\n\t\twatch,\n\t\treset,\n\t\tcontrol,\n\t\thandleSubmit,\n\t\tformState: { isDirty, dirtyFields, errors, isSubmitting },\n\t} = useForm({ mode: 'onBlur', defaultValues });\n\n\tconst sysMesOptions: SelectOption[] = useMemo(\n\t\t() => MessageTypesValues.map(({ key, i18nLabel }) => [key, t(i18nLabel as TranslationKey)]),\n\t\t[t],\n\t);\n\n\tconst { readOnly, archived, joinCodeRequired, hideSysMes, retentionEnabled, retentionMaxAge, retentionOverrideGlobal } = watch();\n\n\tconst {\n\t\tcanChangeType,\n\t\tcanSetReadOnly,\n\t\tcanSetReactWhenReadOnly,\n\t\tcanEditRoomRetentionPolicy,\n\t\tcanArchiveOrUnarchive,\n\t\tcanToggleEncryption,\n\t\tcanViewName,\n\t\tcanViewTopic,\n\t\tcanViewAnnouncement,\n\t\tcanViewArchived,\n\t\tcanViewDescription,\n\t\tcanViewType,\n\t\tcanViewReadOnly,\n\t\tcanViewHideSysMes,\n\t\tcanViewJoinCode,\n\t\tcanViewEncrypted,\n\t} = useEditRoomPermissions(room);\n\n\tconst changeArchiving = archived !== !!room.archived;\n\n\tconst saveAction = useEndpoint('POST', '/v1/rooms.saveRoomSettings');\n\tconst archiveAction = useEndpoint('POST', '/v1/rooms.changeArchivationState');\n\n\tconst handleUpdateRoomData = useMutableCallback(async ({ hideSysMes, ...formData }) => {\n\t\tconst data = getDirtyFields(formData, dirtyFields);\n\t\tdelete data.archived;\n\n\t\ttry {\n\t\t\tawait saveAction({\n\t\t\t\trid: room._id,\n\t\t\t\t...data,\n\t\t\t\t...(data.joinCode && { joinCode: joinCodeRequired ? data.joinCode : '' }),\n\t\t\t\t...((data.systemMessages || !hideSysMes) && {\n\t\t\t\t\tsystemMessages: hideSysMes && data.systemMessages,\n\t\t\t\t}),\n\t\t\t});\n\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Room_updated_successfully') });\n\t\t\tonClickClose();\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst handleArchive = useMutableCallback(async () => {\n\t\ttry {\n\t\t\tawait archiveAction({ rid: room._id, action: room.archived ? 'unarchive' : 'archive' });\n\t\t\tdispatchToastMessage({ type: 'success', message: room.archived ? t('Room_has_been_unarchived') : t('Room_has_been_archived') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst handleSave = useMutableCallback(async (data) => {\n\t\tawait Promise.all([isDirty && handleUpdateRoomData(data), changeArchiving && handleArchive()].filter(Boolean));\n\t});\n\n\tconst formId = useUniqueId();\n\tconst roomNameField = useUniqueId();\n\tconst roomDescriptionField = useUniqueId();\n\tconst roomAnnouncementField = useUniqueId();\n\tconst roomTopicField = useUniqueId();\n\tconst roomTypeField = useUniqueId();\n\tconst readOnlyField = useUniqueId();\n\tconst reactWhenReadOnlyField = useUniqueId();\n\tconst archivedField = useUniqueId();\n\tconst joinCodeRequiredField = useUniqueId();\n\tconst hideSysMesField = useUniqueId();\n\tconst encryptedField = useUniqueId();\n\tconst retentionEnabledField = useUniqueId();\n\tconst retentionOverrideGlobalField = useUniqueId();\n\tconst retentionMaxAgeField = useUniqueId();\n\tconst retentionExcludePinnedField = useUniqueId();\n\tconst retentionFilesOnlyField = useUniqueId();\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t{onClickBack && <ContextualbarBack onClick={onClickBack} />}\n\t\t\t\t<ContextualbarTitle>{room.teamId ? t('edit-team') : t('edit-room')}</ContextualbarTitle>\n\t\t\t\t{onClickClose && <ContextualbarClose onClick={onClickClose} />}\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent p={24}>\n\t\t\t\t<form id={formId} onSubmit={handleSubmit(handleSave)}>\n\t\t\t\t\t<Box display='flex' justifyContent='center'>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\tname='roomAvatar'\n\t\t\t\t\t\t\trender={({ field: { onChange, value } }) => <RoomAvatarEditor room={room} roomAvatar={value} onChangeAvatar={onChange} />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={roomNameField} required>\n\t\t\t\t\t\t\t\t{t('Name')}\n\t\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='roomName'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trules={{ required: t('error-the-field-is-required', { field: t('Name') }) }}\n\t\t\t\t\t\t\t\t\trender={({ field }) => <TextInput id={roomNameField} {...field} disabled={!canViewName} />}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t{errors.roomName && <Field.Error>{errors.roomName.message}</Field.Error>}\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t{canViewDescription && (\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={roomDescriptionField}>{t('Description')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='roomDescription'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => <TextAreaInput id={roomDescriptionField} {...field} disabled={isFederated} rows={4} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{canViewAnnouncement && (\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={roomAnnouncementField}>{t('Announcement')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='roomAnnouncement'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => <TextAreaInput id={roomAnnouncementField} {...field} disabled={isFederated} rows={4} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{canViewTopic && (\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel htmlFor={roomTopicField}>{t('Topic')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='roomTopic'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => <TextAreaInput id={roomTopicField} {...field} rows={4} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{canViewType && (\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={roomTypeField}>{t('Private')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tname='roomType'\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: { name, onBlur, onChange, value, ref } }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={roomTypeField}\n\t\t\t\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={name}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonBlur={onBlur}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!canChangeType || isFederated}\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={value === 'p'}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={() => onChange(value === 'p' ? 'c' : 'p')}\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${roomTypeField}-hint`}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<FieldHint id={`${roomTypeField}-hint`}>{t('Teams_New_Private_Description_Enabled')}</FieldHint>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{canViewReadOnly && (\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={readOnlyField}>{t('Read_only')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tname='readOnly'\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={readOnlyField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!canSetReadOnly || isFederated}\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${readOnlyField}-hint`}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<FieldHint id={`${readOnlyField}-hint`}>{t('Only_authorized_users_can_write_new_messages')}</FieldHint>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{readOnly && (\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={reactWhenReadOnlyField}>{t('React_when_read_only')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tname='reactWhenReadOnly'\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={reactWhenReadOnlyField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!canSetReactWhenReadOnly}\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${reactWhenReadOnlyField}-hint`}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<FieldHint id={`${reactWhenReadOnlyField}-hint`}>{t('Only_authorized_users_can_react_to_messages')}</FieldHint>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{canViewArchived && (\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={archivedField}>{t('Room_archivation_state_true')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tname='archived'\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch id={archivedField} {...field} disabled={!canArchiveOrUnarchive} checked={value} />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{canViewJoinCode && (\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={joinCodeRequiredField}>{t('Password_to_access')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tname='joinCodeRequired'\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch id={joinCodeRequiredField} {...field} disabled={isFederated} checked={value} />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tname='joinCode'\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => <PasswordInput {...field} placeholder={t('Reset_password')} disabled={!joinCodeRequired} />}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{canViewHideSysMes && (\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={hideSysMesField}>{t('Hide_System_Messages')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tname='hideSysMes'\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch id={hideSysMesField} {...field} checked={value} disabled={isFederated} />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='systemMessages'\n\t\t\t\t\t\t\t\t\t\trender={({ field }) => (\n\t\t\t\t\t\t\t\t\t\t\t<MultiSelect\n\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\toptions={sysMesOptions}\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!hideSysMes || isFederated}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={t('Select_an_option')}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{canViewEncrypted && (\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={encryptedField}>{t('Encrypted')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\tname='encrypted'\n\t\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch id={encryptedField} {...field} disabled={!canToggleEncryption || isFederated} checked={value} />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t{retentionPolicy && (\n\t\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t\t<Accordion.Item title={t('Prune')}>\n\t\t\t\t\t\t\t\t<FieldGroup>\n\t\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={retentionEnabledField}>{t('RetentionPolicyRoom_Enabled')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='retentionEnabled'\n\t\t\t\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch id={retentionEnabledField} {...field} checked={value} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={retentionOverrideGlobalField}>{t('RetentionPolicyRoom_OverrideGlobal')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='retentionOverrideGlobal'\n\t\t\t\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={retentionOverrideGlobalField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!retentionEnabled || !canEditRoomRetentionPolicy}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t{retentionOverrideGlobal && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<Callout type='danger'>\n\t\t\t\t\t\t\t\t\t\t\t\t<RawText>{t('RetentionPolicyRoom_ReadTheDocs')}</RawText>\n\t\t\t\t\t\t\t\t\t\t\t</Callout>\n\t\t\t\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={retentionMaxAgeField}>{t('RetentionPolicyRoom_MaxAge', { max: retentionMaxAge })}</FieldLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='retentionMaxAge'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trender={({ field: { onChange, ...field } }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NumberInput\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={retentionMaxAgeField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...field}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(currentValue) => onChange(Math.max(1, Number(currentValue)))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={retentionExcludePinnedField}>{t('RetentionPolicyRoom_ExcludePinned')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='retentionExcludePinned'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch id={retentionExcludePinnedField} {...field} checked={value} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FieldLabel htmlFor={retentionFilesOnlyField}>{t('RetentionPolicyRoom_FilesOnly')}</FieldLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='retentionFilesOnly'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trender={({ field: { value, ...field } }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ToggleSwitch id={retentionFilesOnlyField} {...field} checked={value} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t)}\n\t\t\t\t</form>\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button type='reset' disabled={!isDirty || isSubmitting} onClick={() => reset(defaultValues)}>\n\t\t\t\t\t\t{t('Reset')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button form={formId} type='submit' loading={isSubmitting} disabled={!isDirty}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t\t<ButtonGroup stretch mbs={8}>\n\t\t\t\t\t<Button icon='trash' danger disabled={!canDeleteRoom || isFederated || isSubmitting} onClick={handleDelete}>\n\t\t\t\t\t\t{t('Delete')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default EditRoomInfo;\n",null],"names":["_extends","_objectSpread","_objectWithoutProperties","isRoomFederated","Field","FieldRow","FieldLabel","FieldHint","TextInput","PasswordInput","ToggleSwitch","MultiSelect","Accordion","Callout","NumberInput","FieldGroup","Button","ButtonGroup","Box","TextAreaInput","useMutableCallback","useUniqueId","useSetting","useTranslation","useToastMessageDispatch","useEndpoint","React","useMemo","useForm","Controller","MessageTypesValues","ContextualbarHeader","ContextualbarBack","ContextualbarTitle","ContextualbarClose","ContextualbarScrollableContent","ContextualbarFooter","RawText","RoomAvatarEditor","getDirtyFields","useDeleteRoom","useEditRoomInitialValues","useEditRoomPermissions","module","default","v","link","exportDefault","_ref","room","onClickClose","onClickBack","t","dispatchToastMessage","isFederated","retentionPolicy","handleDelete","canDeleteRoom","defaultValues","watch","reset","control","handleSubmit","formState","isDirty","dirtyFields","errors","isSubmitting","mode","sysMesOptions","map","_ref2","key","i18nLabel","readOnly","archived","joinCodeRequired","hideSysMes","retentionEnabled","retentionMaxAge","retentionOverrideGlobal","canChangeType","canSetReadOnly","canSetReactWhenReadOnly","canEditRoomRetentionPolicy","canArchiveOrUnarchive","canToggleEncryption","canViewName","canViewTopic","canViewAnnouncement","canViewArchived","canViewDescription","canViewType","canViewReadOnly","canViewHideSysMes","canViewJoinCode","canViewEncrypted","changeArchiving","saveAction","archiveAction","handleUpdateRoomData","_ref3","formData","_excluded","data","rid","_id","joinCode","systemMessages","type","message","error","handleArchive","action","handleSave","Promise","all","filter","Boolean","formId","roomNameField","roomDescriptionField","roomAnnouncementField","roomTopicField","roomTypeField","readOnlyField","reactWhenReadOnlyField","archivedField","joinCodeRequiredField","hideSysMesField","encryptedField","retentionEnabledField","retentionOverrideGlobalField","retentionMaxAgeField","retentionExcludePinnedField","retentionFilesOnlyField","createElement","Fragment","onClick","teamId","p","id","onSubmit","display","justifyContent","name","render","_ref4","field","onChange","value","roomAvatar","onChangeAvatar","htmlFor","required","rules","_ref5","disabled","roomName","Error","_ref6","rows","_ref7","_ref8","flexDirection","flexGrow","_ref9","onBlur","ref","checked","concat","_ref10","_excluded2","_ref11","_excluded3","_ref12","_excluded4","_ref13","_excluded5","_ref14","placeholder","_ref15","_excluded6","_ref16","options","_ref17","_excluded7","Item","title","_ref18","_excluded8","_ref19","_excluded9","max","_ref20","_excluded10","currentValue","Math","Number","_ref21","_excluded11","_ref22","_excluded12","stretch","form","loading","mbs","icon","danger"],"mappings":"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"}