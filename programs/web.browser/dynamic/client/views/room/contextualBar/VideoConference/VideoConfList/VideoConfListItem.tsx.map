)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/VideoConference/VideoConfList/VideoConfListItem.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IGroupVideoConference } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport { Button, Message, Box, Avatar, Palette } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation, useSetting } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport UserAvatar from '../../../../../components/avatar/UserAvatar';\nimport { useVideoConfJoinCall } from '../../../../../contexts/VideoConfContext';\nimport { useTimeAgo } from '../../../../../hooks/useTimeAgo';\nimport { VIDEOCONF_STACK_MAX_USERS } from '../../../../../lib/constants';\n\nconst VideoConfListItem = ({\n\tvideoConfData,\n\tclassName = [],\n\treload,\n\t...props\n}: {\n\tvideoConfData: IGroupVideoConference;\n\tclassName?: string[];\n\treload: () => void;\n}): ReactElement => {\n\tconst t = useTranslation();\n\tconst formatDate = useTimeAgo();\n\tconst joinCall = useVideoConfJoinCall();\n\tconst showRealName = Boolean(useSetting('UI_Use_Real_Name'));\n\n\tconst {\n\t\t_id: callId,\n\t\tcreatedBy: { name, username, _id },\n\t\tusers,\n\t\tcreatedAt,\n\t\tendedAt,\n\t} = videoConfData;\n\n\tconst joinedUsers = users.filter((user) => user._id !== _id);\n\n\tconst hovered = css`\n\t\t&:hover,\n\t\t&:focus {\n\t\t\tbackground: ${Palette.surface['surface-tint']};\n\t\t\t.rcx-message {\n\t\t\t\tbackground: ${Palette.surface['surface-tint']};\n\t\t\t}\n\t\t}\n\t`;\n\n\tconst handleJoinConference = useMutableCallback((): void => {\n\t\tjoinCall(callId);\n\t\treturn reload();\n\t});\n\n\treturn (\n\t\t<Box\n\t\t\tcolor='default'\n\t\t\tborderBlockEndWidth={2}\n\t\t\tborderBlockEndColor='stroke-extra-light'\n\t\t\tborderBlockEndStyle='solid'\n\t\t\tclassName={[...className, hovered].filter(Boolean)}\n\t\t\tpb={8}\n\t\t>\n\t\t\t<Message {...props}>\n\t\t\t\t<Message.LeftContainer>\n\t\t\t\t\t{username && <UserAvatar username={username} className='rcx-message__avatar' size='x36' />}\n\t\t\t\t</Message.LeftContainer>\n\t\t\t\t<Message.Container>\n\t\t\t\t\t<Message.Header>\n\t\t\t\t\t\t<Message.Name title={username}>{showRealName ? name : username}</Message.Name>\n\t\t\t\t\t\t<Message.Timestamp>{formatDate(createdAt)}</Message.Timestamp>\n\t\t\t\t\t</Message.Header>\n\t\t\t\t\t<Message.Body clamp={2} />\n\t\t\t\t\t<Box display='flex'></Box>\n\t\t\t\t\t<Message.Block flexDirection='row' alignItems='center'>\n\t\t\t\t\t\t<Button disabled={Boolean(endedAt)} small alignItems='center' display='flex' onClick={handleJoinConference}>\n\t\t\t\t\t\t\t{endedAt ? t('Call_ended') : t('Join_call')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{joinedUsers.length > 0 && (\n\t\t\t\t\t\t\t<Box mis={8} fontScale='c1' display='flex' alignItems='center'>\n\t\t\t\t\t\t\t\t<Avatar.Stack>\n\t\t\t\t\t\t\t\t\t{joinedUsers.map(\n\t\t\t\t\t\t\t\t\t\t(user, index) =>\n\t\t\t\t\t\t\t\t\t\t\tuser.username &&\n\t\t\t\t\t\t\t\t\t\t\tindex + 1 <= VIDEOCONF_STACK_MAX_USERS && (\n\t\t\t\t\t\t\t\t\t\t\t\t<UserAvatar\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-tooltip={user.username}\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={user.username}\n\t\t\t\t\t\t\t\t\t\t\t\t\tusername={user.username}\n\t\t\t\t\t\t\t\t\t\t\t\t\tetag={user.avatarETag}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize='x28'\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Avatar.Stack>\n\t\t\t\t\t\t\t\t<Box mis={4}>\n\t\t\t\t\t\t\t\t\t{joinedUsers.length > VIDEOCONF_STACK_MAX_USERS\n\t\t\t\t\t\t\t\t\t\t? t('__usersCount__member_joined', { usersCount: joinedUsers.length - VIDEOCONF_STACK_MAX_USERS })\n\t\t\t\t\t\t\t\t\t\t: t('joined')}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{joinedUsers.length === 0 && !endedAt && (\n\t\t\t\t\t\t\t<Box mis={8} fontScale='c1'>\n\t\t\t\t\t\t\t\t{t('Be_the_first_to_join')}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Message.Block>\n\t\t\t\t</Message.Container>\n\t\t\t</Message>\n\t\t</Box>\n\t);\n};\n\nexport default VideoConfListItem;\n",null],"names":["_taggedTemplateLiteral","_objectWithoutProperties","css","Button","Message","Box","Avatar","Palette","useMutableCallback","useTranslation","useSetting","React","UserAvatar","useVideoConfJoinCall","useTimeAgo","VIDEOCONF_STACK_MAX_USERS","module","default","link","exportDefault","_ref","videoConfData","className","reload","props","_excluded","t","formatDate","joinCall","showRealName","Boolean","_id","callId","createdBy","name","username","users","createdAt","endedAt","joinedUsers","filter","user","hovered","_templateObject","surface","handleJoinConference","createElement","color","borderBlockEndWidth","borderBlockEndColor","borderBlockEndStyle","pb","LeftContainer","size","Container","Header","Name","title","Timestamp","Body","clamp","display","Block","flexDirection","alignItems","disabled","small","onClick","length","mis","fontScale","Stack","map","index","key","etag","avatarETag","usersCount"],"mappings":"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"}