)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/VideoConference/VideoConfPopups/VideoConfPopup/TimedVideoConfPopup.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { useUserRoom } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState } from 'react';\n\nimport {\n\tuseVideoConfAcceptCall,\n\tuseVideoConfAbortCall,\n\tuseVideoConfRejectIncomingCall,\n\tuseVideoConfDismissCall,\n\tuseVideoConfStartCall,\n\tuseVideoConfDismissOutgoing,\n} from '../../../../../../contexts/VideoConfContext';\nimport IncomingPopup from './IncomingPopup';\nimport OutgoingPopup from './OutgoingPopup';\nimport StartCallPopup from './StartCallPopup';\n\ntype TimedVideoConfPopupProps = {\n\tid: string;\n\trid: IRoom['_id'];\n\tisReceiving?: boolean;\n\tisCalling?: boolean;\n\tposition: number;\n\tonClose?: (id: string) => void;\n};\n\nconst TimedVideoConfPopup = ({\n\tid,\n\trid,\n\tisReceiving = false,\n\tisCalling = false,\n\tposition,\n}: TimedVideoConfPopupProps): ReactElement | null => {\n\tconst [starting, setStarting] = useState(false);\n\tconst acceptCall = useVideoConfAcceptCall();\n\tconst abortCall = useVideoConfAbortCall();\n\tconst rejectCall = useVideoConfRejectIncomingCall();\n\tconst dismissCall = useVideoConfDismissCall();\n\tconst startCall = useVideoConfStartCall();\n\tconst dismissOutgoing = useVideoConfDismissOutgoing();\n\tconst room = useUserRoom(rid);\n\n\tif (!room) {\n\t\treturn null;\n\t}\n\n\tconst handleConfirm = (): void => {\n\t\tacceptCall(id);\n\t};\n\n\tconst handleClose = (id: string): void => {\n\t\tif (isReceiving) {\n\t\t\trejectCall(id);\n\t\t\treturn;\n\t\t}\n\n\t\tabortCall();\n\t};\n\n\tconst handleMute = (): void => {\n\t\tdismissCall(id);\n\t};\n\n\tconst handleStartCall = async (): Promise<void> => {\n\t\tsetStarting(true);\n\t\tstartCall(rid);\n\t};\n\n\tif (isReceiving) {\n\t\treturn <IncomingPopup room={room} id={id} position={position} onClose={handleClose} onMute={handleMute} onConfirm={handleConfirm} />;\n\t}\n\n\tif (isCalling) {\n\t\treturn <OutgoingPopup room={room} id={id} onClose={handleClose} />;\n\t}\n\n\treturn <StartCallPopup loading={starting} room={room} id={id} onClose={dismissOutgoing} onConfirm={handleStartCall} />;\n};\n\nexport default TimedVideoConfPopup;\n",null],"names":["useUserRoom","React","useState","useVideoConfAcceptCall","useVideoConfAbortCall","useVideoConfRejectIncomingCall","useVideoConfDismissCall","useVideoConfStartCall","useVideoConfDismissOutgoing","IncomingPopup","OutgoingPopup","StartCallPopup","module","link","default","exportDefault","_ref","id","rid","isReceiving","isCalling","position","starting","setStarting","acceptCall","abortCall","rejectCall","dismissCall","startCall","dismissOutgoing","room","handleClose","handleStartCall","createElement","onClose","onMute","onConfirm","loading"],"mappings":"2BACAA,EAAuDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9CC,EAAaC,IAAA,CAAM,2BAA2B,CAAAb,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAY,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAb,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,8CAAAA,CAAAT,uBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,sBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,+BAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,sBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,4BAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,kBAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,kBAAAA,CAAAE,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,mBAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAAvDC,EAAOG,aAAa,CAyBQC,IAMwB,GANvB,CAC5BC,GAAAA,CAAE,CACFC,IAAAA,CAAG,CACHC,YAAAA,EAAc,CAAA,CAAK,CACnBC,UAAAA,EAAY,CAAA,CAAK,CACjBC,SAAAA,CAAAA,CAC0B,CAAAL,EACpB,CAACM,EAAUC,EAAY,CAAGrB,EAAS,CAAA,GACnCsB,EAAarB,IACbsB,EAAYrB,IACZsB,EAAarB,IACbsB,EAAcrB,IACdsB,EAAYrB,IACZsB,EAAkBrB,IAClBsB,EAAO9B,EAAYkB,GAEzB,GAAI,CAACY,EACJ,OAAO,KAOR,IAAMC,EAAed,IACpB,GAAIE,EAAa,CAChBO,EAAWT,GACX,OAGDQ,GACD,EAMMO,EAAkB,UACvBT,EAAY,CAAA,GACZK,EAAUV,EACX,SAEA,AAAIC,EACIlB,EAAAgC,aAAA,CAACxB,EAAa,CAACqB,KAAMA,EAAMb,GAAIA,EAAII,SAAUA,EAAUa,QAASH,EAAaI,OAVlE,KAClBR,EAAYV,EACb,EAQyGmB,UAvBnF,KACrBZ,EAAWP,EACZ,CAqBkI,GAG9HG,EACInB,EAAAgC,aAAA,CAACvB,EAAa,CAACoB,KAAMA,EAAMb,GAAIA,EAAIiB,QAASH,CAAY,GAGzD9B,EAAAgC,aAAA,CAACtB,EAAc,CAAC0B,QAASf,EAAUQ,KAAMA,EAAMb,GAAIA,EAAIiB,QAASL,EAAiBO,UAAWJ,CAAgB,EACpH"}