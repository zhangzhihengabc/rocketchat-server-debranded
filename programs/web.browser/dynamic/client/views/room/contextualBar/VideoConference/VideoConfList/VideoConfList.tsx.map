)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/contextualBar/VideoConference/VideoConfList/VideoConfList.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IGroupVideoConference } from '@rocket.chat/core-typings';\nimport { Box, States, StatesIcon, StatesTitle, StatesSubtitle } from '@rocket.chat/fuselage';\nimport { useResizeObserver } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { Virtuoso } from 'react-virtuoso';\n\nimport {\n\tContextualbarSkeleton,\n\tContextualbarHeader,\n\tContextualbarIcon,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarContent,\n\tContextualbarEmptyContent,\n} from '../../../../../components/Contextualbar';\nimport ScrollableContentWrapper from '../../../../../components/ScrollableContentWrapper';\nimport { getErrorMessage } from '../../../../../lib/errorHandling';\nimport VideoConfListItem from './VideoConfListItem';\n\ntype VideoConfListProps = {\n\tonClose: () => void;\n\ttotal: number;\n\tvideoConfs: IGroupVideoConference[];\n\tloading: boolean;\n\terror?: Error;\n\treload: () => void;\n\tloadMoreItems: (min: number, max: number) => void;\n};\n\nconst VideoConfList = ({ onClose, total, videoConfs, loading, error, reload, loadMoreItems }: VideoConfListProps): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst { ref, contentBoxSize: { inlineSize = 378, blockSize = 1 } = {} } = useResizeObserver<HTMLElement>({\n\t\tdebounceDelay: 200,\n\t});\n\n\tif (loading) {\n\t\treturn <ContextualbarSkeleton />;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarIcon name='phone' />\n\t\t\t\t<ContextualbarTitle>{t('Calls')}</ContextualbarTitle>\n\t\t\t\t<ContextualbarClose onClick={onClose} />\n\t\t\t</ContextualbarHeader>\n\n\t\t\t<ContextualbarContent paddingInline={0} ref={ref}>\n\t\t\t\t{(total === 0 || error) && (\n\t\t\t\t\t<Box display='flex' flexDirection='column' justifyContent='center' height='100%'>\n\t\t\t\t\t\t{error && (\n\t\t\t\t\t\t\t<States>\n\t\t\t\t\t\t\t\t<StatesIcon name='circle-exclamation' variation='danger' />\n\t\t\t\t\t\t\t\t<StatesTitle>{t('Something_went_wrong')}</StatesTitle>\n\t\t\t\t\t\t\t\t<StatesSubtitle>{getErrorMessage(error)}</StatesSubtitle>\n\t\t\t\t\t\t\t</States>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!error && total === 0 && (\n\t\t\t\t\t\t\t<ContextualbarEmptyContent\n\t\t\t\t\t\t\t\ticon='phone'\n\t\t\t\t\t\t\t\ttitle={t('No_history')}\n\t\t\t\t\t\t\t\tsubtitle={t('There_is_no_video_conference_history_in_this_room')}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t\t{videoConfs.length > 0 && (\n\t\t\t\t\t<Box flexGrow={1} flexShrink={1} overflow='hidden' display='flex'>\n\t\t\t\t\t\t<Virtuoso\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\theight: blockSize,\n\t\t\t\t\t\t\t\twidth: inlineSize,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttotalCount={total}\n\t\t\t\t\t\t\tendReached={(start): unknown => loadMoreItems(start, Math.min(50, total - start))}\n\t\t\t\t\t\t\toverscan={25}\n\t\t\t\t\t\t\tdata={videoConfs}\n\t\t\t\t\t\t\tcomponents={{ Scroller: ScrollableContentWrapper as any }}\n\t\t\t\t\t\t\titemContent={(_index, data): ReactElement => <VideoConfListItem videoConfData={data} reload={reload} />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</ContextualbarContent>\n\t\t</>\n\t);\n};\n\nexport default VideoConfList;\n",null],"names":["Box","States","StatesIcon","StatesTitle","StatesSubtitle","useResizeObserver","useTranslation","React","Virtuoso","ContextualbarSkeleton","ContextualbarHeader","ContextualbarIcon","ContextualbarTitle","ContextualbarClose","ContextualbarContent","ContextualbarEmptyContent","ScrollableContentWrapper","getErrorMessage","VideoConfListItem","module","v","default","exportDefault","_ref","onClose","total","videoConfs","loading","error","reload","loadMoreItems","t","ref","contentBoxSize","inlineSize","blockSize","debounceDelay","createElement","Fragment","name","onClick","paddingInline","display","flexDirection","justifyContent","height","variation","icon","title","subtitle","length","flexGrow","flexShrink","overflow","style","width","totalCount","endReached","start","Math","min","overscan","data","components","Scroller","itemContent","_index","videoConfData"],"mappings":"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"}