)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/MessageList/hooks/useMessageBody.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport type { Options, Root } from '@rocket.chat/message-parser';\nimport { useUserSubscription } from '@rocket.chat/ui-contexts';\nimport { useMemo } from 'react';\n\nimport { parseMessageTextToAstMarkdown } from '../../../../lib/parseMessageTextToAstMarkdown';\nimport { useAutoLinkDomains } from './useAutoLinkDomains';\nimport { useAutoTranslate } from './useAutoTranslate';\n\nexport const useMessageBody = (message: IMessage | undefined, rid: string): string | Root => {\n\tconst subscription = useUserSubscription(rid);\n\tconst autoTranslateOptions = useAutoTranslate(subscription);\n\tconst customDomains = useAutoLinkDomains();\n\n\treturn useMemo(() => {\n\t\tif (!message) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (message.md) {\n\t\t\tconst parseOptions: Options = {\n\t\t\t\tcustomDomains,\n\t\t\t\temoticons: true,\n\t\t\t};\n\n\t\t\tconst messageWithMd = parseMessageTextToAstMarkdown(message, parseOptions, autoTranslateOptions);\n\n\t\t\treturn messageWithMd.md;\n\t\t}\n\n\t\tif (message.msg) {\n\t\t\treturn message.msg;\n\t\t}\n\n\t\tif (message.attachments) {\n\t\t\tconst attachment = message.attachments.find((attachment) => attachment.title || attachment.description);\n\n\t\t\tif (attachment?.description) {\n\t\t\t\treturn attachment.description;\n\t\t\t}\n\n\t\t\tif (attachment?.title) {\n\t\t\t\treturn attachment.title;\n\t\t\t}\n\t\t}\n\n\t\treturn '';\n\t}, [message, customDomains, autoTranslateOptions]);\n};\n",null],"names":["useUserSubscription","useMemo","parseMessageTextToAstMarkdown","useAutoLinkDomains","useAutoTranslate","module","export","useMessageBody","message","rid","subscription","autoTranslateOptions","customDomains","md","messageWithMd","emoticons","msg","attachments","attachment","find","title","description"],"mappings":"2BAEoCA,EAA2BC,EAAAC,EAAAC,EAAAC,EAA/DC,EAAOC,MAAE,CAAA,CAAAC,eAAqB,IAAAA,CAAM,GAA2BF,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAL,oBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAAJ,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,gDAAAA,CAAAH,8BAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,uBAAAA,CAAAF,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,qBAAAA,CAAAD,iBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAOxD,IAAMG,EAAiB,CAACC,EAA+BC,KAC7D,IAAMC,EAAeV,EAAoBS,GACnCE,EAAuBP,EAAiBM,GACxCE,EAAgBT,IAEtB,OAAOF,EAAQ,KACd,GAAI,CAACO,EACJ,MAAO,GAGR,GAAIA,EAAQK,EAAE,CAAE,CAMf,IAAMC,EAAgBZ,EAA8BM,EALtB,CAC7BI,cAAAA,EACAG,UAAW,CAAA,GAG+DJ,GAE3E,OAAOG,EAAcD,EAAE,CAGxB,GAAIL,EAAQQ,GAAG,CACd,OAAOR,EAAQQ,GAAG,CAGnB,GAAIR,EAAQS,WAAW,CAAE,CACxB,IAAMC,EAAaV,EAAQS,WAAW,CAACE,IAAI,CAAED,GAAeA,EAAWE,KAAK,EAAIF,EAAWG,WAAW,EAEtG,GAAIH,MAAAA,GAAAA,EAAYG,WAAW,CAC1B,OAAOH,EAAWG,WAAW,CAG9B,GAAIH,MAAAA,GAAAA,EAAYE,KAAK,CACpB,OAAOF,EAAWE,KAAK,CAIzB,MAAO,EACR,EAAG,CAACZ,EAASI,EAAeD,EAAqB,CAClD"}