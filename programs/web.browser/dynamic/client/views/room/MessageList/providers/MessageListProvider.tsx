function module(e,t,r){let s,i,n,a,o,l,u,d,c,m,h,g,v,p,k,x,f,S,R,P,M,w;r.link("@babel/runtime/helpers/objectSpread2",{default(e){s=e}},0),r.link("@rocket.chat/core-typings",{isMessageReactionsNormalized(e){i=e},isThreadMainMessage(e){n=e}},0),r.link("@rocket.chat/ui-contexts",{useLayout(e){a=e},useUser(e){o=e},useUserPreference(e){l=e},useSetting(e){u=e},useEndpoint(e){d=e},useSearchParameter(e){c=e}},1),r.link("react",{default(e){m=e},useMemo(e){h=e},memo(e){g=e}},2),r.link("../../../../../app/highlight-words/client/helper",{getRegexHighlight(e){v=e},getRegexHighlightUrl(e){p=e}},3),r.link("../../../../components/message/list/MessageListContext",{MessageListContext(e){k=e}},4),r.link("../../../../providers/AttachmentProvider",{default(e){x=e}},5),r.link("../../contexts/ChatContext",{useChat(e){f=e}},6),r.link("../../contexts/RoomContext",{useRoom(e){S=e},useRoomSubscription(e){R=e}},7),r.link("../hooks/useAutoTranslate",{useAutoTranslate(e){P=e}},8),r.link("../hooks/useKatex",{useKatex(e){M=e}},9),r.link("../hooks/useLoadSurroundingMessages",{useLoadSurroundingMessages(e){w=e}},10),r.exportDefault(g(e=>{let{children:t,scrollMessageList:r,attachmentDimension:g}=e,E=S();if(!E)throw Error("Room not found");let U=d("POST","/v1/chat.react"),_=o(),b=null==_?void 0:_._id,y=null==_?void 0:_.username,C=R(),{isMobile:T}=a(),L=!!u("UI_Use_Real_Name"),j=u("HexColorPreview_Enabled"),A=!!u("UI_DisplayRoles"),H=!!(!l("hideRoles")&&!T),I=A&&H,O=!!(!l("hideUsernames")&&!T),D=l("highlights"),{showAutoTranslate:F,autoTranslateLanguage:K}=P(C),{katexEnabled:N,katexDollarSyntaxEnabled:z,katexParenthesisSyntaxEnabled:q}=M(),B=!!C,G=c("msg");w(G);let J=f(),Q=h(()=>s(s({showColors:j,useReactionsFilter:e=>{let{reactions:t}=e;return L?r=>{if(!(null!=t&&t[r]))return[];if(!i(e)){var s,n;return(null===(s=e.reactions)||void 0===s?void 0:null===(n=s[r])||void 0===n?void 0:n.usernames.filter(e=>e!==y).map(e=>"@".concat(e)))||[]}if(!y)return e.reactions[r].names;let a=e.reactions[r].usernames.indexOf(y);return -1===a?e.reactions[r].names:e.reactions[r].names.splice(a,1)}:e=>{var r;return(null==t?void 0:null===(r=t[e])||void 0===r?void 0:r.usernames.filter(e=>e!==y).map(e=>"@".concat(e)))||[]}},useUserHasReacted:y?e=>t=>{var r;return!!(null===(r=e.reactions)||void 0===r?void 0:r[t].usernames.includes(y))}:()=>()=>!1,useShowFollowing:b?e=>{let{message:t}=e;return!!(t.replies&&t.replies.indexOf(b)>-1&&!n(t))}:()=>!1,autoTranslateLanguage:K,useShowTranslated:F,useShowStarred:B?e=>{let{message:t}=e;return!!(Array.isArray(t.starred)&&t.starred.find(e=>e._id===b))}:()=>!1,useMessageDateFormatter:()=>e=>e.toLocaleString(),showRoles:I,showRealName:L,showUsername:O,scrollMessageList:r,jumpToMessageParam:G},N&&{katex:{dollarSyntaxEnabled:z,parenthesisSyntaxEnabled:q}}),{},{highlights:null==D?void 0:D.map(e=>e.trim()).map(e=>({highlight:e,regex:v(e),urlRegex:p(e)})),useOpenEmojiPicker:b?e=>t=>{t.nativeEvent.stopImmediatePropagation(),null==J||J.emojiPicker.open(t.currentTarget,t=>U({messageId:e._id,reaction:t}))}:()=>()=>void 0}),[y,b,F,B,K,I,L,O,N,z,q,D,U,j,G,r,null==J?void 0:J.emojiPicker]);return m.createElement(x,{width:null==g?void 0:g.width,height:null==g?void 0:g.height},m.createElement(k.Provider,{value:Q},t))}))}
//# sourceMappingURL=/dynamic/client/views/room/MessageList/providers/e6147f1e296988ac2c2f7202a633f0540f1ac1d1.map
