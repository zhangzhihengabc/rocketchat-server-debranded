)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/Header/icons/Encrypted.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport colors from '@rocket.chat/fuselage-tokens/colors';\nimport { HeaderState } from '@rocket.chat/ui-client';\nimport { useSetting, usePermission, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\nimport React, { memo } from 'react';\n\nimport { dispatchToastMessage } from '../../../../lib/toast';\n\nconst Encrypted = ({ room }: { room: IRoom }) => {\n\tconst t = useTranslation();\n\tconst e2eEnabled = useSetting('E2E_Enable');\n\tconst toggleE2E = useEndpoint('POST', '/v1/rooms.saveRoomSettings');\n\tconst canToggleE2E = usePermission('toggle-room-e2e-encryption');\n\tconst encryptedLabel = canToggleE2E ? t('Encrypted_key_title') : t('Encrypted');\n\tconst handleE2EClick = useMutableCallback(async () => {\n\t\tif (!canToggleE2E) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { success } = await toggleE2E({ rid: room._id, encrypted: !room.encrypted });\n\t\tif (!success) {\n\t\t\treturn;\n\t\t}\n\n\t\tdispatchToastMessage({\n\t\t\ttype: 'success',\n\t\t\tmessage: t('E2E_Encryption_disabled_for_room', { roomName: room.name }),\n\t\t});\n\t});\n\treturn e2eEnabled && room?.encrypted ? (\n\t\t<HeaderState title={encryptedLabel} icon='key' onClick={handleE2EClick} color={colors.g500} tiny />\n\t) : null;\n};\n\nexport default memo(Encrypted);\n",null],"names":["useMutableCallback","colors","HeaderState","useSetting","usePermission","useTranslation","useEndpoint","React","memo","dispatchToastMessage","module","link","default","exportDefault","_ref","room","t","e2eEnabled","toggleE2E","canToggleE2E","encryptedLabel","handleE2EClick","success","rid","_id","encrypted","type","message","roomName","name","createElement","title","icon","onClick","color","g500","tiny"],"mappings":"2BACAA,EAAiEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxDC,EAAoBC,IAAA,CAAM,8BAA8B,CAAAX,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,sCAAAA,CAAAE,QAAAA,CAAAA,EAAAX,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,yBAAAA,CAAAR,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAP,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,EAAAC,KAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAD,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAjEC,EAAOG,aAAE,CAkCML,EA1BGM,IAA8B,GAA7B,CAAEC,KAAAA,CAAAA,CAAuB,CAAAD,EACrCE,EAAIX,IACJY,EAAad,EAAW,cACxBe,EAAYZ,EAAY,OAAQ,8BAChCa,EAAef,EAAc,8BAC7BgB,EAAiBD,EAAeH,EAAE,uBAAyBA,EAAE,aAC7DK,EAAiBrB,EAAmB,UACzC,GAAI,CAACmB,EACJ,OAGD,GAAM,CAAEG,QAAAA,CAAAA,CAAS,CAAG,MAAMJ,EAAU,CAAEK,IAAKR,EAAKS,GAAG,CAAEC,UAAW,CAACV,EAAKU,SAAAA,AAAS,GAC1EH,GAILb,EAAqB,CACpBiB,KAAM,UACNC,QAASX,EAAE,mCAAoC,CAAEY,SAAUb,EAAKc,IAAAA,AAAI,IAEtE,GACA,OAAOZ,GAAcF,MAAAA,GAAAA,EAAMU,SAAS,CACnClB,EAAAuB,aAAA,CAAC5B,EAAW,CAAC6B,MAAOX,EAAgBY,KAAK,MAAMC,QAASZ,EAAgBa,MAAOjC,EAAOkC,IAAK,CAACC,KAAI,CAAA,CAAA,GAC7F,IACL"}