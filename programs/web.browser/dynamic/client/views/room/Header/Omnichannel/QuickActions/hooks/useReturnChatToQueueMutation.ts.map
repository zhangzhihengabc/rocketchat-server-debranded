)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/Header/Omnichannel/QuickActions/hooks/useReturnChatToQueueMutation.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { useMethod } from '@rocket.chat/ui-contexts';\nimport type { UseMutationOptions, UseMutationResult } from '@tanstack/react-query';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\n\nexport const useReturnChatToQueueMutation = (\n\toptions?: Omit<UseMutationOptions<void, Error, IRoom['_id']>, 'mutationFn'>,\n): UseMutationResult<void, Error, IRoom['_id']> => {\n\tconst returnChatToQueue = useMethod('livechat:returnAsInquiry');\n\n\tconst queryClient = useQueryClient();\n\n\treturn useMutation(\n\t\tasync (rid) => {\n\t\t\tawait returnChatToQueue(rid);\n\t\t},\n\t\t{\n\t\t\t...options,\n\t\t\tonSuccess: async (data, rid, context) => {\n\t\t\t\tawait queryClient.invalidateQueries(['current-chats']);\n\t\t\t\tqueryClient.removeQueries(['rooms', rid]);\n\t\t\t\tqueryClient.removeQueries(['subscriptions', { rid }]);\n\t\t\t\treturn options?.onSuccess?.(data, rid, context);\n\t\t\t},\n\t\t},\n\t);\n};\n",null],"names":["_objectSpread","useMethod","useMutation","useQueryClient","module","link","default","export","useReturnChatToQueueMutation","options","returnChatToQueue","queryClient","rid","onSuccess","data","context","_options$onSuccess","invalidateQueries","removeQueries","call"],"mappings":"2BACAA,EAAqDC,EAAAC,EAAAC,EAAnCC,EAAEC,IAAM,CAAA,uCAA2B,CAAAC,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAArDI,EAAOG,MAAE,CAAA,CAAAC,6BAAiB,IAAAA,CAA2B,GAAAJ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAH,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAF,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAI9C,IAAMK,EACZC,IAEA,IAAMC,EAAoBT,EAAU,4BAE9BU,EAAcR,IAEpB,OAAOD,EACN,MAAOU,IACN,MAAMF,EAAkBE,EACzB,EAACZ,EAAAA,EAAA,CAAA,EAEGS,GAAO,CAAA,EAAA,CACVI,UAAW,MAAOC,EAAMF,EAAKG,KAAW,IAAAC,EAIvC,OAHA,MAAML,EAAYM,iBAAiB,CAAC,CAAC,gBAAgB,EACrDN,EAAYO,aAAa,CAAC,CAAC,QAASN,EAAI,EACxCD,EAAYO,aAAa,CAAC,CAAC,gBAAiB,CAAEN,IAAAA,CAAG,EAAG,EAC7CH,MAAAA,EAAO,KAAA,EAAA,AAAW,OAAXO,CAAAA,EAAPP,EAASI,SAAS,AAATA,GAASG,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAlBA,EAAAG,IAAA,CAAAV,EAAqBK,EAAMF,EAAKG,EACxC,CAAC,GAGJ"}