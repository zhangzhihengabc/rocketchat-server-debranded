function module(e,t,o){let l,i,n,a,s,u,d,r,v,c,m,g,p;let y=["tmid","readOnly","onSend"];o.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),o.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){i=e}},1),o.link("@rocket.chat/ui-contexts",{useToastMessageDispatch(e){n=e}},0),o.link("react",{default(e){a=e},memo(e){s=e},useCallback(e){u=e},useMemo(e){d=e}},1),o.link("../../../../app/ui-utils/client",{LegacyRoomManager(e){r=e}},2),o.link("../../../hooks/useReactiveValue",{useReactiveValue(e){v=e}},3),o.link("../contexts/ChatContext",{useChat(e){c=e}},4),o.link("../contexts/RoomContext",{useRoom(e){m=e}},5),o.link("./ComposerSkeleton",{default(e){g=e}},6),o.link("./messageBox/MessageBox",{default(e){p=e}},7),o.exportDefault(s(e=>{var t;let{tmid:o,readOnly:s,onSend:k}=e,x=i(e,y),h=c(),f=m(),w=n(),M=d(()=>({onJoin:async()=>{try{var e;await (null==h?void 0:null===(e=h.data)||void 0===e?void 0:e.joinRoom())}catch(e){throw w({type:"error",message:e}),e}},onSend:async e=>{let{value:t,tshow:o,previewUrls:l}=e;try{await (null==h?void 0:h.action.stop("typing"));let e=await (null==h?void 0:h.flows.sendMessage({text:t,tshow:o,previewUrls:l}));e&&(null==k||k())}catch(e){w({type:"error",message:e})}},onTyping:async()=>{var e,t;if((null==h?void 0:null===(e=h.composer)||void 0===e?void 0:null===(t=e.text)||void 0===t?void 0:t.trim())===""){await (null==h?void 0:h.action.stop("typing"));return}await (null==h?void 0:h.action.start("typing"))},onNavigateToPreviousMessage:()=>null==h?void 0:h.messageEditing.toPreviousMessage(),onNavigateToNextMessage:()=>null==h?void 0:h.messageEditing.toNextMessage(),onUploadFiles:e=>null==h?void 0:h.flows.uploadFiles(e)}),[null==h?void 0:h.data,null==h?void 0:h.flows,null==h?void 0:h.action,null==h?void 0:null===(t=h.composer)||void 0===t?void 0:t.text,null==h?void 0:h.messageEditing,w,k]),R=v(u(()=>{var e,t;return null!==(e=null===(t=r.getOpenedRoomByRid(f._id))||void 0===t?void 0:t.streamActive)&&void 0!==e&&e},[f._id]));return R?a.createElement(p,l({readOnly:null!=s&&s,key:f._id,tmid:o},M,{showFormattingTips:!0},x)):a.createElement(g,null)}))}
//# sourceMappingURL=/dynamic/client/views/room/composer/4eba70fd6bcf5d075c03d86f0ec26fc7b05979df.map
