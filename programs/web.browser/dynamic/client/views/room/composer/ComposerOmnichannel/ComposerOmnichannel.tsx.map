)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/composer/ComposerOmnichannel/ComposerOmnichannel.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { MessageFooterCallout } from '@rocket.chat/ui-composer';\nimport { useTranslation, useUserId } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport { useIsRoomOverMacLimit } from '../../../../hooks/omnichannel/useIsRoomOverMacLimit';\nimport { useOmnichannelRoom, useUserIsSubscribed } from '../../contexts/RoomContext';\nimport type { ComposerMessageProps } from '../ComposerMessage';\nimport ComposerMessage from '../ComposerMessage';\nimport { ComposerOmnichannelInquiry } from './ComposerOmnichannelInquiry';\nimport { ComposerOmnichannelJoin } from './ComposerOmnichannelJoin';\nimport { ComposerOmnichannelOnHold } from './ComposerOmnichannelOnHold';\n\nconst ComposerOmnichannel = (props: ComposerMessageProps): ReactElement => {\n\tconst room = useOmnichannelRoom();\n\tconst { servedBy, queuedAt, open, onHold } = room;\n\tconst userId = useUserId();\n\n\tconst isSubscribed = useUserIsSubscribed();\n\n\tconst t = useTranslation();\n\n\tconst isInquired = !servedBy && queuedAt;\n\n\tconst isSameAgent = servedBy?._id === userId;\n\n\tconst isRoomOverMacLimit = useIsRoomOverMacLimit(room);\n\n\tif (!open) {\n\t\treturn <MessageFooterCallout color='default'>{t('This_conversation_is_already_closed')}</MessageFooterCallout>;\n\t}\n\n\tif (isRoomOverMacLimit) {\n\t\treturn <MessageFooterCallout color='default'>{t('Workspace_exceeded_MAC_limit_disclaimer')}</MessageFooterCallout>;\n\t}\n\n\tif (onHold) {\n\t\treturn <ComposerOmnichannelOnHold />;\n\t}\n\n\tif (isInquired) {\n\t\treturn <ComposerOmnichannelInquiry />;\n\t}\n\n\tif (!isSubscribed && !isSameAgent) {\n\t\treturn <ComposerOmnichannelJoin />;\n\t}\n\n\treturn <ComposerMessage {...props} />;\n};\n\nexport default ComposerOmnichannel;\n",null],"names":["MessageFooterCallout","useTranslation","useUserId","React","useIsRoomOverMacLimit","useOmnichannelRoom","useUserIsSubscribed","ComposerMessage","ComposerOmnichannelInquiry","ComposerOmnichannelJoin","ComposerOmnichannelOnHold","module","link","default","exportDefault","props","room","servedBy","queuedAt","open","onHold","userId","isSubscribed","t","isSameAgent","_id","isRoomOverMacLimit","createElement","color"],"mappings":"2BAAAA,EAAgEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvDC,EAAsBC,IAAA,CAAM,2BAA2B,CAAAZ,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAW,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAV,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAV,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,sDAAAA,CAAAP,sBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAN,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,oBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,qBAAAA,CAAAE,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAH,2BAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,4BAAAA,CAAAF,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAD,0BAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAhEC,EAAOG,aAAE,CAaoBC,IAC5B,IAAMC,EAAOX,IACP,CAAEY,SAAAA,CAAQ,CAAEC,SAAAA,CAAQ,CAAEC,KAAAA,CAAI,CAAEC,OAAAA,CAAAA,CAAQ,CAAGJ,EACvCK,EAASnB,IAEToB,EAAehB,IAEfiB,EAAItB,IAIJuB,EAAc,AAAAP,CAAAA,MAAAA,EAAQ,KAAA,EAARA,EAAUQ,GAAG,AAAHA,IAAQJ,EAEhCK,EAAqBtB,EAAsBY,UAEjD,AAAKG,EAIDO,EACIvB,EAAAwB,aAAA,CAAC3B,EAAoB,CAAC4B,MAAM,SAAS,EAAEL,EAAE,4CAG7CH,EACIjB,EAAAwB,aAAA,CAACjB,EAAyB,MAff,CAACO,GAAYC,EAmBxBf,EAAAwB,aAAA,CAACnB,EAA0B,MAG/B,AAACc,GAAiBE,EAIfrB,EAAAwB,aAAA,CAACpB,EAAoBQ,GAHpBZ,EAAAwB,aAAA,CAAClB,EAAuB,MAhBxBN,EAAAwB,aAAA,CAAC3B,EAAoB,CAAC4B,MAAM,SAAS,EAAEL,EAAE,uCAoBlD"}