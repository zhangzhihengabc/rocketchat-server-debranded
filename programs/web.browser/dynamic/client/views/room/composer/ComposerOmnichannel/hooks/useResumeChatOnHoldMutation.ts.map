)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/composer/ComposerOmnichannel/hooks/useResumeChatOnHoldMutation.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { useEndpoint, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\nimport type { UseMutationOptions, UseMutationResult } from '@tanstack/react-query';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\n\nexport const useResumeChatOnHoldMutation = (\n\toptions?: Omit<UseMutationOptions<void, Error, IRoom['_id']>, 'mutationFn'>,\n): UseMutationResult<void, Error, IRoom['_id']> => {\n\tconst resumeChatOnHold = useEndpoint('POST', '/v1/livechat/room.resumeOnHold');\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst queryClient = useQueryClient();\n\n\treturn useMutation(\n\t\tasync (roomId) => {\n\t\t\tawait resumeChatOnHold({ roomId });\n\t\t},\n\t\t{\n\t\t\t...options,\n\t\t\tonSuccess: async (data, rid, context) => {\n\t\t\t\tawait queryClient.invalidateQueries(['current-chats']);\n\t\t\t\tawait queryClient.invalidateQueries(['rooms', rid]);\n\t\t\t\tawait queryClient.invalidateQueries(['subscriptions', { rid }]);\n\t\t\t\treturn options?.onSuccess?.(data, rid, context);\n\t\t\t},\n\t\t\tonError: (error) => {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t},\n\t\t},\n\t);\n};\n",null],"names":["_objectSpread","useEndpoint","useMutation","useQueryClient","module","link","default","export","useResumeChatOnHoldMutation","useToastMessageDispatch","options","resumeChatOnHold","dispatchToastMessage","queryClient","roomId","onSuccess","data","rid","context","_options$onSuccess","invalidateQueries","call","onError","error","type","message"],"mappings":"2BACAA,EAAgFC,EAAAA,EAAAC,EAAAC,EAAvEC,EAAaC,IAAA,CAAA,uCAA+B,CAAAC,QAAAA,CAA0B,EAACN,EAAAA,CAAA,CAAA,EAAA,GAAhFI,EAAOG,MAAE,CAAA,CAAAC,4BAAa,IAAyBA,CAAM,GAA2BJ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAH,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAQ,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAL,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAF,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAIzE,IAAMK,EACZE,IAEA,IAAMC,EAAmBV,EAAY,OAAQ,kCAEvCW,EAAuBH,IAEvBI,EAAcV,IAEpB,OAAOD,EACN,MAAOY,IACN,MAAMH,EAAiB,CAAEG,OAAAA,CAAM,EAChC,EAACd,EAAAA,EAAA,CAAA,EAEGU,GAAO,CAAA,EAAA,CACVK,UAAW,MAAOC,EAAMC,EAAKC,KAAW,IAAAC,EAIvC,OAHA,MAAMN,EAAYO,iBAAiB,CAAC,CAAC,gBAAgB,EACrD,MAAMP,EAAYO,iBAAiB,CAAC,CAAC,QAASH,EAAI,EAClD,MAAMJ,EAAYO,iBAAiB,CAAC,CAAC,gBAAiB,CAAEH,IAAAA,CAAG,EAAG,EACvDP,MAAAA,EAAO,KAAA,EAAA,AAAW,OAAXS,CAAAA,EAAPT,EAASK,SAAS,AAATA,GAASI,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAlBA,EAAAE,IAAA,CAAAX,EAAqBM,EAAMC,EAAKC,EACxC,EACAI,QAAUC,IACTX,EAAqB,CAAEY,KAAM,QAASC,QAASF,CAAK,EACrD,CAAC,GAGJ"}