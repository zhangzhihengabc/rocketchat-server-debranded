)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/composer/ComposerOmnichannel/ComposerOmnichannelInquiry.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { MessageFooterCallout, MessageFooterCalloutAction, MessageFooterCalloutContent } from '@rocket.chat/ui-composer';\nimport { useEndpoint, useMethod, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport { useOmnichannelRoom } from '../../contexts/RoomContext';\n\nexport const ComposerOmnichannelInquiry = (): ReactElement => {\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst room = useOmnichannelRoom();\n\tconst getInquire = useEndpoint('GET', `/v1/livechat/inquiries.getOne`);\n\tconst result = useQuery(['inquire', room._id], () =>\n\t\tgetInquire({\n\t\t\troomId: room._id,\n\t\t}),\n\t);\n\tconst takeInquiry = useMethod('livechat:takeInquiry');\n\n\tconst handleTakeInquiry = async (): Promise<void> => {\n\t\tif (!result.isSuccess) {\n\t\t\treturn;\n\t\t}\n\t\tif (!result.data.inquiry) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tawait takeInquiry(result.data.inquiry._id, { clientAction: true });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\tconst t = useTranslation();\n\treturn (\n\t\t<MessageFooterCallout aria-busy={result.isLoading}>\n\t\t\t<MessageFooterCalloutContent>{t('you_are_in_preview_mode_of_incoming_livechat')}</MessageFooterCalloutContent>\n\t\t\t<MessageFooterCalloutAction disabled={result.isLoading} onClick={handleTakeInquiry}>\n\t\t\t\t{t('Take_it')}\n\t\t\t</MessageFooterCalloutAction>\n\t\t</MessageFooterCallout>\n\t);\n};\n",null],"names":["MessageFooterCallout","MessageFooterCalloutAction","MessageFooterCalloutContent","useEndpoint","useMethod","useToastMessageDispatch","useTranslation","useQuery","React","useOmnichannelRoom","module","export","ComposerOmnichannelInquiry","default","dispatchToastMessage","room","getInquire","result","_id","roomId","takeInquiry","handleTakeInquiry","isSuccess","data","inquiry","clientAction","error","type","message","t","createElement","isLoading","disabled","onClick"],"mappings":"2BAA2DA,EAAmCC,EAA2BC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAzHC,EAAOC,MAAE,CAAA,CAAAC,2BAAsB,IAAAA,CAA4B,GAA8DF,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAV,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,2BAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,4BAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAP,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAH,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,QAAAA,CAAAG,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAD,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAQlH,IAAMG,EAA6B,KACzC,IAAME,EAAuBT,IAEvBU,EAAON,IACPO,EAAab,EAAY,MAAK,iCAC9Bc,EAASV,EAAS,CAAC,UAAWQ,EAAKG,GAAG,CAAC,CAAE,IAC9CF,EAAW,CACVG,OAAQJ,EAAKG,GAAAA,IAGTE,EAAchB,EAAU,wBAExBiB,EAAoB,UACzB,GAAKJ,EAAOK,SAAS,EAGhBL,EAAOM,IAAI,CAACC,OAAO,CAGxB,GAAI,CACH,MAAMJ,EAAYH,EAAOM,IAAI,CAACC,OAAO,CAACN,GAAG,CAAE,CAAEO,aAAc,CAAA,CAAI,GAC9D,MAAOC,EAAO,CACfZ,EAAqB,CAAEa,KAAM,QAASC,QAASF,CAAK,GAEtD,EAEMG,EAAIvB,IACV,OACCE,EAAAsB,aAAA,CAAC9B,EAAoB,CAAC,YAAWiB,EAAOc,SAAAA,AAAU,EACjDvB,EAAAsB,aAAA,CAAC5B,EAA2B,KAAE2B,EAAE,iDAChCrB,EAAAsB,aAAA,CAAC7B,EAA0B,CAAC+B,SAAUf,EAAOc,SAAU,CAACE,QAASZ,CAAkB,EACjFQ,EAAE,YAIP"}