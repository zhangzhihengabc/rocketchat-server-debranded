)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/composer/messageBox/MessageBoxActionsToolbar/actions/ShareLocationAction.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { isRoomFederated } from '@rocket.chat/core-typings';\nimport { Option, OptionTitle, OptionIcon, OptionContent } from '@rocket.chat/fuselage';\nimport { useSetting, useSetModal, useTranslation } from '@rocket.chat/ui-contexts';\nimport React from 'react';\n\nimport ShareLocationModal from '../../../../ShareLocation/ShareLocationModal';\n\nconst ShareLocationAction = ({ room, tmid }: { room: IRoom; tmid?: string }) => {\n\tconst t = useTranslation();\n\tconst setModal = useSetModal();\n\n\tconst isMapViewEnabled = useSetting('MapView_Enabled') === true;\n\tconst isGeolocationCurrentPositionSupported = Boolean(navigator.geolocation?.getCurrentPosition);\n\tconst googleMapsApiKey = useSetting('MapView_GMapsAPIKey') as string;\n\tconst canGetGeolocation = isMapViewEnabled && isGeolocationCurrentPositionSupported && googleMapsApiKey && googleMapsApiKey.length;\n\n\tconst handleShareLocation = () => setModal(<ShareLocationModal rid={room._id} tmid={tmid} onClose={() => setModal(null)} />);\n\n\tconst allowGeolocation = room && canGetGeolocation && !isRoomFederated(room);\n\n\treturn (\n\t\t<>\n\t\t\t<OptionTitle>{t('Share')}</OptionTitle>\n\t\t\t<Option {...(!allowGeolocation && { title: t('Not_Available') })} disabled={!allowGeolocation} onClick={handleShareLocation}>\n\t\t\t\t<OptionIcon name='map-pin' />\n\t\t\t\t<OptionContent>{t('Location')}</OptionContent>\n\t\t\t</Option>\n\t\t</>\n\t);\n};\n\nexport default ShareLocationAction;\n",null],"names":["_extends","isRoomFederated","Option","OptionTitle","OptionIcon","OptionContent","useSetting","useSetModal","useTranslation","React","ShareLocationModal","module","default","v","link","exportDefault","_ref","_navigator$geolocatio","room","tmid","t","setModal","isMapViewEnabled","isGeolocationCurrentPositionSupported","Boolean","navigator","geolocation","getCurrentPosition","googleMapsApiKey","canGetGeolocation","length","allowGeolocation","createElement","Fragment","title","disabled","onClick","rid","_id","onClose","name"],"mappings":"2BACAA,EAAAC,EAA4DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAnDC,EAAAA,IAAe,CAAA,iCAAQ,CAA2BC,QAACC,CAAA,EAAAb,EAAAA,CAAA,CAAA,EAAA,GAAnDW,EAAiBG,IAAA,CAAM,4BAA4B,CAAAb,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAT,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAL,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,QAAAA,CAAAC,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,+CAAAA,CAAAC,QAAAA,CAAAA,EAAAF,EAAAA,CAAA,CAAA,EAAA,GAA5DC,EAAOI,aAAE,CAOmBC,IAAmD,IAAAC,EAAA,GAAlD,CAAEC,KAAAA,CAAI,CAAEC,KAAAA,CAAAA,CAAsC,CAAAH,EACpEI,EAAIZ,IACJa,EAAWd,IAEXe,EAAmBhB,AAAkC,CAAA,IAAlCA,EAAW,mBAC9BiB,EAAwCC,CAAAA,CAAO,CAAA,AAAsB,OAAtBP,CAAAA,EAACQ,UAAUC,WAAW,AAAXA,GAAWT,AAAA,KAAA,IAAAA,EAAA,KAAA,EAArBA,EAAuBU,kBAAkB,AAAlBA,EACvEC,EAAmBtB,EAAW,uBAC9BuB,EAAoBP,GAAoBC,GAAyCK,GAAoBA,EAAiBE,MAAM,CAI5HC,EAAmBb,GAAQW,GAAqB,CAAC5B,EAAgBiB,GAEvE,OACCT,EAAAuB,aAAA,CAAAvB,EAAAwB,QAAA,CAAA,KACCxB,EAAAuB,aAAA,CAAC7B,EAAW,KAAEiB,EAAE,UAChBX,EAAAuB,aAAA,CAAC9B,EAAMF,EAAA,CAAA,EAAM,CAAC+B,GAAoB,CAAEG,MAAOd,EAAE,gBAAgB,EAAE,CAAGe,SAAU,CAACJ,EAAkBK,QAPrE,IAAMf,EAASZ,EAAAuB,aAAA,CAACtB,EAAkB,CAAC2B,IAAKnB,EAAKoB,GAAI,CAACnB,KAAMA,EAAMoB,QAAS,IAAMlB,EAAS,KAAM,GAOM,GAC3HZ,EAAAuB,aAAA,CAAC5B,EAAU,CAACoC,KAAK,SAAS,GAC1B/B,EAAAuB,aAAA,CAAC3B,EAAa,KAAEe,EAAE,cAItB"}