function module(e,i,o){let l,t,a,s,n,d,r,c,u,p,m,k;let h=["chatContext","disabled","isMicrophoneDenied"];o.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),o.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){t=e}},1),o.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){a=e}},0),o.link("@rocket.chat/ui-composer",{MessageComposerAction(e){s=e}},1),o.link("@rocket.chat/ui-contexts",{useSetting(e){n=e}},2),o.link("react",{default(e){d=e},useEffect(e){r=e},useMemo(e){c=e}},3),o.link("../../../../../../../app/ui/client/lib/recorderjs/AudioRecorder",{AudioRecorder(e){u=e}},4),o.link("../../../../contexts/ChatContext",{useChat(e){p=e}},5),o.link("../../hooks/useMediaActionTitle",{useMediaActionTitle(e){m=e}},6),o.link("../../hooks/useMediaPermissions",{useMediaPermissions(e){k=e}},7);let b=new u;o.exportDefault(e=>{var i;let{chatContext:o,disabled:u,isMicrophoneDenied:M}=e,g=t(e,h),v=n("FileUpload_Enabled"),f=n("Message_AudioRecorderEnabled"),x=n("FileUpload_MediaTypeBlackList"),_=n("FileUpload_MediaTypeWhiteList"),[C]=k("microphone"),A=c(()=>!!(b.isSupported()&&!M&&v&&f&&!(null!=x&&x.match(/audio\/mp3|audio\/\*/i))&&(!_||_.match(/audio\/mp3|audio\/\*/i))),[x,_,f,v,M]),R=m("audio",C,v,f,A),E=null!==(i=p())&&void 0!==i?i:o,T=a(()=>{var e;null==E||E.action.stop("recording"),null==E||null===(e=E.composer)||void 0===e||e.setRecordingMode(!1)}),D=a(e=>{var i;e&&T(),null==E||null===(i=E.composer)||void 0===i||i.setIsMicrophoneDenied(e)});return r(()=>{D(C)},[D,C]),d.createElement(s,l({title:R,icon:"mic",disabled:u||!A,className:"rc-message-box__icon rc-message-box__audio-message-mic","data-qa-id":"audio-record",onClick:()=>{var e;return null==E?void 0:null===(e=E.composer)||void 0===e?void 0:e.setRecordingMode(!0)}},g))})}
//# sourceMappingURL=/dynamic/client/views/room/composer/messageBox/MessageBoxActionsToolbar/actions/6227ae922072addb03252bbb50546a96802bee9c.map
