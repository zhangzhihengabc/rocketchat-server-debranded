)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/composer/messageBox/MessageBoxFormattingToolbar/FormattingToolbarDropdown.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Dropdown, IconButton, Option, OptionTitle, OptionIcon, OptionContent } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useRef } from 'react';\n\nimport type { FormattingButton } from '../../../../../../app/ui-message/client/messageBox/messageBoxFormatting';\nimport type { ComposerAPI } from '../../../../../lib/chats/ChatAPI';\nimport { useDropdownVisibility } from '../../../../../sidebar/header/hooks/useDropdownVisibility';\n\ntype FormattingToolbarDropdownProps = {\n\tcomposer: ComposerAPI;\n\titems: FormattingButton[];\n};\n\nconst FormattingToolbarDropdown = ({ composer, items, ...props }: FormattingToolbarDropdownProps) => {\n\tconst t = useTranslation();\n\tconst reference = useRef(null);\n\tconst target = useRef(null);\n\n\tconst { isVisible, toggle } = useDropdownVisibility({ reference, target });\n\n\treturn (\n\t\t<>\n\t\t\t<IconButton {...props} small ref={reference} icon='meatballs' onClick={() => toggle()} />\n\t\t\t{isVisible && (\n\t\t\t\t<Dropdown reference={reference} ref={target} placement='bottom-start'>\n\t\t\t\t\t<OptionTitle>{t('Message_Formatting_Toolbox')}</OptionTitle>\n\t\t\t\t\t{items.map((formatter, index) => {\n\t\t\t\t\t\tconst handleFormattingAction = () => {\n\t\t\t\t\t\t\tif ('link' in formatter) {\n\t\t\t\t\t\t\t\twindow.open(formatter.link, '_blank', 'rel=noreferrer noopener');\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcomposer.wrapSelection(formatter.pattern);\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Option\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\thandleFormattingAction();\n\t\t\t\t\t\t\t\t\ttoggle();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<OptionIcon name={'icon' in formatter ? formatter.icon : 'link'} />\n\t\t\t\t\t\t\t\t<OptionContent>{t(formatter.label)}</OptionContent>\n\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</Dropdown>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default FormattingToolbarDropdown;\n",null],"names":["_extends","_objectWithoutProperties","Dropdown","IconButton","Option","OptionTitle","OptionIcon","OptionContent","useTranslation","React","useRef","useDropdownVisibility","module","link","default","v","exportDefault","_ref","composer","items","props","_excluded","t","reference","target","isVisible","toggle","createElement","Fragment","small","ref","icon","onClick","placement","map","formatter","index","handleFormattingAction","window","open","wrapSelection","pattern","key","name","label"],"mappings":"2BAAAA,EAAqFC,EAArFC,EAASC,EAAUC,EAAYC,EAAQC,EAAaC,EAAyDC,EAAAC,EAAAC,EAAAC,6BAApGC,EAAUC,IAAA,CAAA,iCAAiC,CAAAC,QAAYC,CAAA,EAAAf,EAAee,CAAA,CAAA,EAAA,GAA8BH,EAAAA,IAAAA,CAAAA,iDAAAA,CAAAE,QAAAA,CAAAA,EAAAb,EAAAA,CAAA,CAAA,EAAA,GAA7CW,EAAAA,IAAe,CAAA,wBAAM,CAAAV,SAAwBa,CAAA,EAAAb,EAAAA,CAAA,EAAAC,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAJ,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,EAAAC,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,4DAAAA,CAAAD,sBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAA7GC,EAAOI,aAAY,CAaeC,IAAkE,GAAjE,CAAEC,SAAAA,CAAQ,CAAEC,MAAAA,CAAAA,CAAiD,CAAAF,EAAvCG,EAAKnB,EAAAgB,EAAAI,GACvDC,EAAId,IACJe,EAAYb,EAAO,MACnBc,EAASd,EAAO,MAEhB,CAAEe,UAAAA,CAAS,CAAEC,OAAAA,CAAAA,CAAQ,CAAGf,EAAsB,CAAEY,UAAAA,EAAWC,OAAAA,CAAM,GAEvE,OACCf,EAAAkB,aAAA,CAAAlB,EAAAmB,QAAA,CAAA,KACCnB,EAAAkB,aAAA,CAACxB,EAAUH,EAAA,CAAA,EAAKoB,EAAK,CAAES,MAAK,CAAA,EAACC,IAAKP,EAAWQ,KAAK,YAAYC,QAAS,IAAMN,GAAS,IACrFD,GACAhB,EAAAkB,aAAA,CAACzB,EAAQ,CAACqB,UAAWA,EAAWO,IAAKN,EAAQS,UAAU,cAAc,EACpExB,EAAAkB,aAAA,CAACtB,EAAW,KAAEiB,EAAE,+BACfH,EAAMe,GAAG,CAAC,CAACC,EAAWC,KACtB,IAAMC,EAAyB,KAC9B,GAAI,SAAUF,EAAW,CACxBG,OAAOC,IAAI,CAACJ,EAAUtB,IAAI,CAAE,SAAU,2BACtC,OAEDK,EAASsB,aAAa,CAACL,EAAUM,OAAO,CACzC,EAEA,OACChC,EAAAkB,aAAA,CAACvB,EAAM,CACNsC,IAAKN,EACLJ,QAAS,KACRK,IACAX,GACD,CAAE,EAEFjB,EAAAkB,aAAA,CAACrB,EAAU,CAACqC,KAAM,SAAUR,EAAYA,EAAUJ,IAAI,CAAG,MAAO,GAChEtB,EAAAkB,aAAA,CAACpB,EAAa,KAAEe,EAAEa,EAAUS,KAAK,GAGpC,IAKL"}