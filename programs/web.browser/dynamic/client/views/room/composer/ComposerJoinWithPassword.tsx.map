)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/room/composer/ComposerJoinWithPassword.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { TextInput } from '@rocket.chat/fuselage';\nimport { MessageFooterCallout, MessageFooterCalloutAction, MessageFooterCalloutContent } from '@rocket.chat/ui-composer';\nimport { useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\nimport type { ChangeEvent, ReactElement, FormEventHandler } from 'react';\nimport React, { useCallback, useState } from 'react';\n\nimport { useRoom } from '../contexts/RoomContext';\n\nconst ComposerJoinWithPassword = (): ReactElement => {\n\tconst room = useRoom();\n\tconst [joinCode, setJoinPassword] = useState<string>('');\n\n\tconst [error, setError] = useState<string>('');\n\n\tconst t = useTranslation();\n\n\tconst joinEndpoint = useEndpoint('POST', '/v1/channels.join');\n\n\tconst join = useCallback<FormEventHandler<HTMLElement>>(\n\t\tasync (e) => {\n\t\t\te.preventDefault();\n\t\t\ttry {\n\t\t\t\tawait joinEndpoint({\n\t\t\t\t\troomId: room._id,\n\t\t\t\t\tjoinCode,\n\t\t\t\t});\n\t\t\t} catch (error: any) {\n\t\t\t\tsetError(error.error);\n\t\t\t}\n\t\t},\n\t\t[joinEndpoint, room._id, joinCode],\n\t);\n\n\tconst handleChange = useCallback((e: ChangeEvent<HTMLInputElement>) => {\n\t\tsetJoinPassword(e.target.value);\n\t\tsetError('');\n\t}, []);\n\n\treturn (\n\t\t<MessageFooterCallout is='form' aria-label={t('Join_with_password')} onSubmit={join}>\n\t\t\t<MessageFooterCalloutContent>{t('you_are_in_preview')}</MessageFooterCalloutContent>\n\t\t\t<MessageFooterCalloutContent>\n\t\t\t\t<TextInput\n\t\t\t\t\terror={error}\n\t\t\t\t\tvalue={joinCode}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tplaceholder={t('you_are_in_preview_please_insert_the_password')}\n\t\t\t\t/>\n\t\t\t</MessageFooterCalloutContent>\n\t\t\t<MessageFooterCalloutAction type='submit' disabled={Boolean(!joinCode)}>\n\t\t\t\t{t('Join_with_password')}\n\t\t\t</MessageFooterCalloutAction>\n\t\t</MessageFooterCallout>\n\t);\n};\n\nexport default ComposerJoinWithPassword;\n",null],"names":["TextInput","MessageFooterCallout","MessageFooterCalloutAction","MessageFooterCalloutContent","useTranslation","useEndpoint","React","useCallback","useState","useRoom","module","link","default","exportDefault","room","joinCode","setJoinPassword","error","setError","t","joinEndpoint","join","e","preventDefault","roomId","_id","handleChange","target","value","createElement","is","onSubmit","onChange","placeholder","type","disabled"],"mappings":"2BAAAA,EAAkDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAzCC,EAAWC,IAAA,CAAM,wBAAwB,CAAAX,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAT,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,2BAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,4BAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAN,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,0BAAAA,CAAAD,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAlDC,EAAOG,aAAa,CAQa,KAChC,IAAMC,EAAOL,IACP,CAACM,EAAUC,EAAgB,CAAGR,EAAiB,IAE/C,CAACS,EAAOC,EAAS,CAAGV,EAAiB,IAErCW,EAAIf,IAEJgB,EAAef,EAAY,OAAQ,qBAEnCgB,EAAOd,EACZ,MAAOe,IACNA,EAAEC,cAAc,GAChB,GAAI,CACH,MAAMH,EAAa,CAClBI,OAAQV,EAAKW,GAAG,CAChBV,SAAAA,IAEA,MAAOE,EAAY,CACpBC,EAASD,EAAMA,KAAK,EAEtB,EACA,CAACG,EAAcN,EAAKW,GAAG,CAAEV,EAAS,EAG7BW,EAAenB,EAAae,IACjCN,EAAgBM,EAAEK,MAAM,CAACC,KAAK,EAC9BV,EAAS,GACV,EAAG,EAAE,EAEL,OACCZ,EAAAuB,aAAA,CAAC5B,EAAoB,CAAC6B,GAAG,OAAO,aAAYX,EAAE,sBAAuBY,SAAUV,CAAK,EACnFf,EAAAuB,aAAA,CAAC1B,EAA2B,KAAEgB,EAAE,uBAChCb,EAAAuB,aAAA,CAAC1B,EAA2B,KAC3BG,EAAAuB,aAAA,CAAC7B,EAAS,CACTiB,MAAOA,EACPW,MAAOb,EACPiB,SAAUN,EACVO,YAAad,EAAE,gDAAiD,IAGlEb,EAAAuB,aAAA,CAAC3B,EAA0B,CAACgC,KAAK,SAASC,SAAkB,CAACpB,CAAU,EACrEI,EAAE,uBAIP"}