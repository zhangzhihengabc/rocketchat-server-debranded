function module(e,o,r){let n,t,i,s,a,l,m,d,_,u,c,g,k,p,v,h,M;r.export({useChangeModeratorAction:()=>f}),r.link("@rocket.chat/core-typings",{isRoomFederated(e){n=e}},0),r.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){t=e}},1),r.link("@rocket.chat/string-helpers",{escapeHTML(e){i=e}},2),r.link("@rocket.chat/ui-contexts",{useTranslation(e){s=e},usePermission(e){a=e},useUserRoom(e){l=e},useUserSubscription(e){m=e},useUser(e){d=e},useSetModal(e){_=e}},3),r.link("react",{default(e){u=e},useCallback(e){c=e},useMemo(e){g=e}},4),r.link("../../../../../components/GenericModal",{default(e){k=e}},5),r.link("../../../../../hooks/useEndpointAction",{useEndpointAction(e){p=e}},6),r.link("../../../../../lib/rooms/roomCoordinator",{roomCoordinator(e){v=e}},7),r.link("../../../lib/getRoomDirectives",{getRoomDirectives(e){h=e}},8),r.link("../../useUserHasRoomRole",{useUserHasRoomRole(e){M=e}},9);let R=(e,o,r,n,t)=>u.createElement(k,{variant:"warning",onClose:e,onConfirm:o,onCancel:e,title:r,confirmText:n},t),f=(e,o)=>{let r=s(),u=l(o),{_id:k}=e,f=a("set-moderator",o),C=M(k,o,"moderator"),I=m(o),{_id:U=""}=d()||{},b=M(U,o,"moderator"),w=M(U,o,"owner"),x=_(),E=c(()=>x(null),[x]);if(!u)throw Error("Room not provided");let F="p"===u.t?"/v1/groups":"/v1/channels",{roomCanSetModerator:S}=h({room:u,showingUserId:k,userSubscription:I}),T=(null==u?void 0:u.t)&&i(v.getRoomName(u.t,u)),A=C?"removeModerator":"addModerator",H=C?"User__username__removed_from__room_name__moderators":"User__username__is_now_a_moderator_of__room_name_",y=p("POST","".concat(F,".").concat(A),{successMessage:r(H,{username:e.username,room_name:T})}),D=c(()=>{y({roomId:o,userId:k}),E()},[y,o,k,E]),P=c(e=>{let{userId:t}=e;if(!n(u))return y({roomId:o,userId:k});let i=t===U;return i&&b||i&&w?x(()=>R(E,D,r("Federation_Matrix_losing_privileges"),r("Yes_continue"),r("Federation_Matrix_losing_privileges_warning"))):!i&&b?x(()=>R(E,D,r("Warning"),r("Yes_continue"),r("Federation_Matrix_giving_same_permission_warning"))):void y({roomId:o,userId:k})},[x,U,b,w,r,o,k,y,E,D,u]),Y=t(()=>P({roomId:o,userId:k})),G=g(()=>n(u)&&S||!n(u)&&S&&f?{content:r(C?"Remove_as_moderator":"Set_as_moderator"),icon:"shield-blank",onClick:Y,type:"privileges"}:void 0,[Y,C,S,r,f,u]);return G}}
//# sourceMappingURL=/dynamic/client/views/room/hooks/useUserInfoActions/actions/6650ad47bb6f8a8cb12fee56a858088c74f64523.map
