function module(e,o,n){let r,i,s,t,a,l,_,c,m,u,d,g,k,p,v,w,h;n.export({useChangeOwnerAction:()=>f}),n.link("@rocket.chat/core-typings",{isRoomFederated(e){r=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){i=e}},1),n.link("@rocket.chat/string-helpers",{escapeHTML(e){s=e}},2),n.link("@rocket.chat/ui-contexts",{useTranslation(e){t=e},usePermission(e){a=e},useUserRoom(e){l=e},useUserSubscription(e){_=e},useSetModal(e){c=e},useUser(e){m=e}},3),n.link("react",{default(e){u=e},useCallback(e){d=e},useMemo(e){g=e}},4),n.link("../../../../../components/GenericModal",{default(e){k=e}},5),n.link("../../../../../hooks/useEndpointAction",{useEndpointAction(e){p=e}},6),n.link("../../../../../lib/rooms/roomCoordinator",{roomCoordinator(e){v=e}},7),n.link("../../../lib/getRoomDirectives",{getRoomDirectives(e){w=e}},8),n.link("../../useUserHasRoomRole",{useUserHasRoomRole(e){h=e}},9);let R=(e,o,n,r,i)=>u.createElement(k,{variant:"warning",onClose:e,onConfirm:o,onCancel:e,title:n,confirmText:r},i),f=(e,o)=>{let n=t(),u=l(o),{_id:k}=e,f=a("set-owner",o),C=h(k,o,"owner"),I=_(o),M=c(),{_id:U=""}=m()||{},b=h(U,o,"owner"),x=d(()=>M(null),[M]);if(!u)throw Error("Room not provided");let E="p"===u.t?"/v1/groups":"/v1/channels",{roomCanSetOwner:F}=w({room:u,showingUserId:k,userSubscription:I}),O=(null==u?void 0:u.t)&&s(v.getRoomName(u.t,u)),S=C?"removeOwner":"addOwner",T=C?"User__username__removed_from__room_name__owners":"User__username__is_now_an_owner_of__room_name_",y=p("POST","".concat(E,".").concat(S),{successMessage:n(T,{username:e.username,room_name:O})}),A=d(()=>{y({roomId:o,userId:k}),x()},[y,o,k,x]),H=d(e=>{let{userId:i}=e;if(!r(u))return y({roomId:o,userId:k});let s=i===U;return s&&b?M(()=>R(x,A,n("Federation_Matrix_losing_privileges"),n("Yes_continue"),n("Federation_Matrix_losing_privileges_warning"))):!s&&b?M(()=>R(x,A,n("Warning"),n("Yes_continue"),n("Federation_Matrix_giving_same_permission_warning"))):void y({roomId:o,userId:k})},[M,U,b,n,o,k,y,x,A,u]),D=i(async()=>H({roomId:o,userId:k})),P=g(()=>r(u)&&F||!r(u)&&F&&f?{content:n(C?"Remove_as_owner":"Set_as_owner"),icon:"shield-check",onClick:D,type:"privileges"}:void 0,[D,F,f,C,n,u]);return P}}
//# sourceMappingURL=/dynamic/client/views/room/hooks/useUserInfoActions/actions/dbf5cbdaaadda4ed1f8768b2512ef47cca29dd75.map
