)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/invite/hooks/useInviteTokenMutation.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useEndpoint, useRouter, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useMutation } from '@tanstack/react-query';\n\nexport const useInviteTokenMutation = () => {\n\tconst t = useTranslation();\n\tconst router = useRouter();\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst getInviteRoom = useEndpoint('POST', '/v1/useInviteToken');\n\n\tconst { mutate } = useMutation({\n\t\tmutationFn: (token: string) => getInviteRoom({ token }),\n\t\tonSuccess: (result) => {\n\t\t\tif (!result.room.name) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: t('Failed_to_activate_invite_token') });\n\t\t\t\trouter.navigate('/home');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (result.room.t === 'p') {\n\t\t\t\trouter.navigate(`/group/${result.room.name}`);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trouter.navigate(`/channel/${result.room.name}`);\n\t\t},\n\t\tonError: () => {\n\t\t\tdispatchToastMessage({ type: 'error', message: t('Failed_to_activate_invite_token') });\n\t\t\trouter.navigate('/home');\n\t\t},\n\t});\n\n\treturn mutate;\n};\n",null],"names":["useEndpoint","useRouter","useToastMessageDispatch","useTranslation","useMutation","module","export","useInviteTokenMutation","t","router","dispatchToastMessage","getInviteRoom","mutate","mutationFn","token","onSuccess","result","room","name","type","message","navigate","concat","onError"],"mappings":"2BAA0DA,EAAsBC,EAAAC,EAA2BC,EAAAC,EAA3GC,EAAOC,MAAE,CAAA,CAAAC,uBAAwB,IAAAA,CAAyB,GAAiDF,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAL,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAD,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAGpG,IAAMG,EAAyB,KACrC,IAAMC,EAAIL,IACJM,EAASR,IAETS,EAAuBR,IAEvBS,EAAgBX,EAAY,OAAQ,sBAEpC,CAAEY,OAAAA,CAAAA,CAAQ,CAAGR,EAAY,CAC9BS,WAAaC,GAAkBH,EAAc,CAAEG,MAAAA,CAAK,GACpDC,UAAYC,IACX,GAAI,CAACA,EAAOC,IAAI,CAACC,IAAI,CAAE,CACtBR,EAAqB,CAAES,KAAM,QAASC,QAASZ,EAAE,kCAAkC,GACnFC,EAAOY,QAAQ,CAAC,SAChB,OAGD,GAAIL,AAAkB,MAAlBA,EAAOC,IAAI,CAACT,CAAC,CAAU,CAC1BC,EAAOY,QAAQ,CAAA,UAAAC,MAAA,CAAWN,EAAOC,IAAI,CAACC,IAAI,GAC1C,OAGDT,EAAOY,QAAQ,CAAA,YAAAC,MAAA,CAAaN,EAAOC,IAAI,CAACC,IAAI,EAC7C,EACAK,QAAS,KACRb,EAAqB,CAAES,KAAM,QAASC,QAASZ,EAAE,kCAAkC,GACnFC,EAAOY,QAAQ,CAAC,QACjB,IAGD,OAAOT,CACR"}