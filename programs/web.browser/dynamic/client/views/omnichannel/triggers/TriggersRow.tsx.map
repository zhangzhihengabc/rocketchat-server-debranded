)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/triggers/TriggersRow.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { ILivechatTrigger } from '@rocket.chat/core-typings';\nimport { IconButton } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSetModal, useToastMessageDispatch, useRoute, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\nimport React, { memo } from 'react';\n\nimport GenericModal from '../../../components/GenericModal';\nimport { GenericTableCell, GenericTableRow } from '../../../components/GenericTable';\n\ntype TriggersRowProps = Pick<ILivechatTrigger, '_id' | 'name' | 'description' | 'enabled'> & { reload: () => void };\n\nconst TriggersRow = ({ _id, name, description, enabled, reload }: TriggersRowProps) => {\n\tconst t = useTranslation();\n\tconst setModal = useSetModal();\n\tconst triggersRoute = useRoute('omnichannel-triggers');\n\tconst deleteTrigger = useEndpoint('DELETE', '/v1/livechat/triggers/:_id', { _id });\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleClick = useMutableCallback(() => {\n\t\ttriggersRoute.push({\n\t\t\tcontext: 'edit',\n\t\t\tid: _id,\n\t\t});\n\t});\n\n\tconst handleKeyDown = useMutableCallback((e) => {\n\t\tif (!['Enter', 'Space'].includes(e.nativeEvent.code)) {\n\t\t\treturn;\n\t\t}\n\n\t\thandleClick();\n\t});\n\n\tconst handleDelete = useMutableCallback((e) => {\n\t\te.stopPropagation();\n\t\tconst onDeleteTrigger = async () => {\n\t\t\ttry {\n\t\t\t\tawait deleteTrigger();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Trigger_removed') });\n\t\t\t\treload();\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tsetModal();\n\t\t};\n\n\t\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteTrigger} onCancel={() => setModal()} confirmText={t('Delete')} />);\n\t});\n\n\treturn (\n\t\t<GenericTableRow key={_id} role='link' action tabIndex={0} onClick={handleClick} onKeyDown={handleKeyDown}>\n\t\t\t<GenericTableCell withTruncatedText>{name}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{description}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{enabled ? t('Yes') : t('No')}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>\n\t\t\t\t<IconButton icon='trash' small title={t('Remove')} onClick={handleDelete} />\n\t\t\t</GenericTableCell>\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default memo(TriggersRow);\n",null],"names":["IconButton","useMutableCallback","useSetModal","useToastMessageDispatch","useRoute","useTranslation","useEndpoint","React","memo","GenericModal","GenericTableCell","GenericTableRow","module","link","default","exportDefault","_ref","_id","name","description","enabled","reload","t","setModal","triggersRoute","deleteTrigger","dispatchToastMessage","handleClick","push","context","id","handleKeyDown","e","includes","nativeEvent","code","handleDelete","stopPropagation","onDeleteTrigger","type","message","error","createElement","variant","onConfirm","onCancel","confirmText","key","role","action","tabIndex","onClick","onKeyDown","withTruncatedText","icon","small","title"],"mappings":"2BACAA,EAAmDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA1CC,EAAYC,IAAA,CAAM,wBAAwB,CAAAb,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAY,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAX,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAW,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAV,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAP,EAAAA,CAAA,EAAAC,KAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAF,iBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAnDC,EAAOG,aAAY,CA4DJP,EAlDKQ,IAAkE,GAAjE,CAAEC,IAAAA,CAAG,CAAEC,KAAAA,CAAI,CAAEC,YAAAA,CAAW,CAAEC,QAAAA,CAAO,CAAEC,OAAAA,CAAAA,CAA0B,CAAAL,EAC3EM,EAAIjB,IACJkB,EAAWrB,IACXsB,EAAgBpB,EAAS,wBACzBqB,EAAgBnB,EAAY,SAAU,6BAA8B,CAAEW,IAAAA,CAAG,GACzES,EAAuBvB,IAEvBwB,EAAc1B,EAAmB,KACtCuB,EAAcI,IAAI,CAAC,CAClBC,QAAS,OACTC,GAAIb,GAEN,GAEMc,EAAgB9B,EAAoB+B,IACpC,CAAC,QAAS,QAAQ,CAACC,QAAQ,CAACD,EAAEE,WAAW,CAACC,IAAI,GAInDR,GACD,GAEMS,EAAenC,EAAoB+B,IACxCA,EAAEK,eAAe,GACjB,IAAMC,EAAkB,UACvB,GAAI,CACH,MAAMb,IACNC,EAAqB,CAAEa,KAAM,UAAWC,QAASlB,EAAE,kBAAkB,GACrED,IACC,MAAOoB,EAAO,CACff,EAAqB,CAAEa,KAAM,QAASC,QAASC,CAAK,GAErDlB,GACD,EAEAA,EAAShB,EAAAmC,aAAA,CAACjC,EAAY,CAACkC,QAAQ,SAASC,UAAWN,EAAiBO,SAAU,IAAMtB,IAAYuB,YAAaxB,EAAE,SAAU,GAC1H,GAEA,OACCf,EAAAmC,aAAA,CAAC/B,EAAe,CAACoC,IAAK9B,EAAK+B,KAAK,OAAOC,OAAM,CAAA,EAACC,SAAU,EAAGC,QAASxB,EAAayB,UAAWrB,CAAc,EACzGxB,EAAAmC,aAAA,CAAChC,EAAgB,CAAC2C,kBAAiB,CAAA,CAAA,EAAEnC,GACrCX,EAAAmC,aAAA,CAAChC,EAAgB,CAAC2C,kBAAiB,CAAA,CAAA,EAAElC,GACrCZ,EAAAmC,aAAA,CAAChC,EAAgB,CAAC2C,kBAAiB,CAAA,CAAA,EAAEjC,EAAUE,EAAE,OAASA,EAAE,OAC5Df,EAAAmC,aAAA,CAAChC,EAAgB,CAAC2C,kBAAiB,CAAA,CAAA,EAClC9C,EAAAmC,aAAA,CAAC1C,EAAU,CAACsD,KAAK,QAAQC,MAAK,CAAA,EAACC,MAAOlC,EAAE,UAAW6B,QAASf,CAAa,IAI7E"}