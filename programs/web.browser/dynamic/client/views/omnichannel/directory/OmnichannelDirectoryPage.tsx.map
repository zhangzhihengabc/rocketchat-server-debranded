)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/directory/OmnichannelDirectoryPage.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Tabs } from '@rocket.chat/fuselage';\nimport { useRouteParameter, usePermission, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useEffect, useCallback } from 'react';\n\nimport Page from '../../../components/Page';\nimport { queryClient } from '../../../lib/queryClient';\nimport NotAuthorizedPage from '../../notAuthorized/NotAuthorizedPage';\nimport ContextualBar from './ContextualBar';\nimport CallTab from './calls/CallTab';\nimport ChatTab from './chats/ChatTab';\nimport ContactTab from './contacts/ContactTab';\n\nconst DEFAULT_TAB = 'contacts';\n\nconst OmnichannelDirectoryPage = (): ReactElement => {\n\tconst router = useRouter();\n\tconst page = useRouteParameter('page');\n\tconst canViewDirectory = usePermission('view-omnichannel-contact-center');\n\n\tuseEffect(\n\t\t() =>\n\t\t\trouter.subscribeToRouteChange(() => {\n\t\t\t\tif (router.getRouteName() !== 'omnichannel-directory' || !!router.getRouteParameters().page) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\trouter.navigate({\n\t\t\t\t\tname: 'omnichannel-directory',\n\t\t\t\t\tparams: { page: DEFAULT_TAB },\n\t\t\t\t});\n\t\t\t}),\n\t\t[router],\n\t);\n\n\tconst handleTabClick = useCallback((tab) => () => router.navigate({ name: 'omnichannel-directory', params: { tab } }), [router]);\n\n\tconst chatReload = () => queryClient.invalidateQueries({ queryKey: ['current-chats'] });\n\n\tconst t = useTranslation();\n\n\tif (!canViewDirectory) {\n\t\treturn <NotAuthorizedPage />;\n\t}\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<Page.Header title={t('Omnichannel_Contact_Center')} />\n\t\t\t\t<Tabs flexShrink={0}>\n\t\t\t\t\t<Tabs.Item selected={page === 'contacts'} onClick={handleTabClick('contacts')}>\n\t\t\t\t\t\t{t('Contacts')}\n\t\t\t\t\t</Tabs.Item>\n\t\t\t\t\t<Tabs.Item selected={page === 'chats'} onClick={handleTabClick('chats')}>\n\t\t\t\t\t\t{t('Chats' as 'color')}\n\t\t\t\t\t</Tabs.Item>\n\t\t\t\t\t<Tabs.Item selected={page === 'calls'} onClick={handleTabClick('calls')}>\n\t\t\t\t\t\t{t('Calls' as 'color')}\n\t\t\t\t\t</Tabs.Item>\n\t\t\t\t</Tabs>\n\t\t\t\t<Page.Content>\n\t\t\t\t\t{(page === 'contacts' && <ContactTab />) || (page === 'chats' && <ChatTab />) || (page === 'calls' && <CallTab />)}\n\t\t\t\t</Page.Content>\n\t\t\t</Page>\n\t\t\t<ContextualBar chatReload={chatReload} />\n\t\t</Page>\n\t);\n};\n\nexport default OmnichannelDirectoryPage;\n",null],"names":["Tabs","useRouteParameter","usePermission","useTranslation","useRouter","React","useEffect","useCallback","Page","queryClient","NotAuthorizedPage","ContextualBar","CallTab","ChatTab","ContactTab","module","link","default","exportDefault","router","page","canViewDirectory","subscribeToRouteChange","getRouteName","getRouteParameters","navigate","name","params","handleTabClick","tab","t","createElement","flexDirection","Header","title","flexShrink","Item","selected","onClick","Content","chatReload","invalidateQueries","queryKey"],"mappings":"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"}