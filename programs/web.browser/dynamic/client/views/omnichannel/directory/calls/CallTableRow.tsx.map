)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/directory/calls/CallTableRow.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IVoipRoom, Serialized } from '@rocket.chat/core-typings';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport moment from 'moment';\nimport type { ReactElement } from 'react';\nimport React, { useCallback } from 'react';\n\nimport { parseOutboundPhoneNumber } from '../../../../../ee/client/lib/voip/parseOutboundPhoneNumber';\nimport { GenericTableRow, GenericTableCell } from '../../../../components/GenericTable';\nimport { useIsCallReady } from '../../../../contexts/CallContext';\nimport { CallDialpadButton } from '../components/CallDialpadButton';\n\ntype CallTableRowProps = {\n\troom: Serialized<IVoipRoom>;\n\tonRowClick(_id: string, token?: string): void;\n};\n\nexport const CallTableRow = ({ room, onRowClick }: CallTableRowProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst isCallReady = useIsCallReady();\n\n\tconst { _id, fname, callStarted, queue, callDuration = 0, v, direction } = room;\n\tconst duration = moment.duration(callDuration / 1000, 'seconds');\n\tconst phoneNumber = Array.isArray(v?.phone) ? v?.phone[0]?.phoneNumber : v?.phone;\n\n\tconst resolveDirectionLabel = useCallback(\n\t\t(direction: IVoipRoom['direction']) => {\n\t\t\tconst labels = {\n\t\t\t\tinbound: 'Incoming',\n\t\t\t\toutbound: 'Outgoing',\n\t\t\t} as const;\n\t\t\treturn t(labels[direction] || 'Not_Available');\n\t\t},\n\t\t[t],\n\t);\n\n\treturn (\n\t\t<GenericTableRow\n\t\t\tkey={_id}\n\t\t\trcx-show-call-button-on-hover\n\t\t\ttabIndex={0}\n\t\t\trole='link'\n\t\t\tonClick={(): void => onRowClick(_id, v?.token)}\n\t\t\taction\n\t\t\tqa-user-id={_id}\n\t\t\theight='40px'\n\t\t>\n\t\t\t<GenericTableCell withTruncatedText>{parseOutboundPhoneNumber(fname)}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{parseOutboundPhoneNumber(phoneNumber)}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{queue}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{moment(callStarted).format('L LTS')}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{duration.isValid() && duration.humanize()}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{resolveDirectionLabel(direction)}</GenericTableCell>\n\t\t\t<GenericTableCell>{isCallReady && <CallDialpadButton phoneNumber={phoneNumber} />}</GenericTableCell>\n\t\t</GenericTableRow>\n\t);\n};\n",null],"names":["useTranslation","moment","React","useCallback","parseOutboundPhoneNumber","GenericTableRow","GenericTableCell","useIsCallReady","CallDialpadButton","module","export","CallTableRow","default","_ref","_v$phone$","room","onRowClick","t","isCallReady","_id","fname","callStarted","queue","callDuration","v","direction","duration","phoneNumber","Array","isArray","phone","resolveDirectionLabel","labels","inbound","outbound","createElement","key","tabIndex","role","onClick","token","action","height","withTruncatedText","format","isValid","humanize"],"mappings":"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"}