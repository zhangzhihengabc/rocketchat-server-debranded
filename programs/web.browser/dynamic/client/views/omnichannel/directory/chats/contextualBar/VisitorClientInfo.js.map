)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/directory/chats/contextualBar/VisitorClientInfo.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useMemo } from 'react';\nimport UAParser from 'ua-parser-js';\n\nimport { useEndpointData } from '../../../../../hooks/useEndpointData';\nimport { AsyncStatePhase } from '../../../../../lib/asyncState';\nimport Field from '../../../components/Field';\nimport Info from '../../../components/Info';\nimport Label from '../../../components/Label';\nimport { FormSkeleton } from '../../components/FormSkeleton';\n\nconst VisitorClientInfo = ({ uid }) => {\n\tconst t = useTranslation();\n\tconst {\n\t\tvalue: userData,\n\t\tphase: state,\n\t\terror,\n\t} = useEndpointData('/v1/livechat/visitors.info', { params: useMemo(() => ({ visitorId: uid }), [uid]) });\n\n\tif (state === AsyncStatePhase.LOADING) {\n\t\treturn <FormSkeleton />;\n\t}\n\n\tif (error || !userData || !userData.visitor.userAgent) {\n\t\treturn null;\n\t}\n\n\tconst clientData = {};\n\tconst ua = new UAParser();\n\tua.setUA(userData.visitor.userAgent);\n\tclientData.os = `${ua.getOS().name} ${ua.getOS().version}`;\n\tclientData.browser = `${ua.getBrowser().name} ${ua.getBrowser().version}`;\n\tclientData.host = userData.visitor.host;\n\tclientData.ip = userData.visitor.ip;\n\n\treturn (\n\t\t<>\n\t\t\t{clientData.os && (\n\t\t\t\t<Field>\n\t\t\t\t\t<Label>{t('OS')}</Label>\n\t\t\t\t\t<Info>{clientData.os}</Info>\n\t\t\t\t</Field>\n\t\t\t)}\n\t\t\t{clientData.browser && (\n\t\t\t\t<Field>\n\t\t\t\t\t<Label>{t('Browser')}</Label>\n\t\t\t\t\t<Info>{clientData.browser}</Info>\n\t\t\t\t</Field>\n\t\t\t)}\n\t\t\t{clientData.host && (\n\t\t\t\t<Field>\n\t\t\t\t\t<Label>{t('Host')}</Label>\n\t\t\t\t\t<Info>{clientData.host}</Info>\n\t\t\t\t</Field>\n\t\t\t)}\n\t\t\t{clientData.ip && (\n\t\t\t\t<Field>\n\t\t\t\t\t<Label>{t('IP')}</Label>\n\t\t\t\t\t<Info>{clientData.ip}</Info>\n\t\t\t\t</Field>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default VisitorClientInfo;\n",null],"names":["useTranslation","React","useMemo","UAParser","useEndpointData","AsyncStatePhase","Field","Info","Label","FormSkeleton","module","link","v","default","exportDefault","_ref","uid","t","value","userData","phase","state","error","params","visitorId","LOADING","createElement","visitor","userAgent","clientData","ua","setUA","os","concat","getOS","name","version","browser","getBrowser","host","ip","Fragment"],"mappings":"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"}