function module(e,t,n){let l,a,r,o,c,i,s,m,u,d,h,k,E,g,p,T,f,b,C,x,w,y,v,S,_,P,G,A,D,I,L,N,R;let F=["current","itemsPerPage","setItemsPerPage","setCurrent"];n.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},1),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){r=e}},2),n.link("@rocket.chat/fuselage",{Tag(e){o=e},Box(e){c=e},Pagination(e){i=e},States(e){s=e},StatesIcon(e){m=e},StatesTitle(e){u=e},StatesActions(e){d=e},StatesAction(e){h=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){k=e}},1),n.link("@rocket.chat/ui-contexts",{useRoute(e){E=e},useTranslation(e){g=e},useUserId(e){p=e}},2),n.link("@tanstack/react-query",{hashQueryKey(e){T=e}},3),n.link("moment",{default(e){f=e}},4),n.link("react",{default(e){b=e},useState(e){C=e},useMemo(e){x=e},useCallback(e){w=e}},5),n.link("../../../../components/FilterByText",{default(e){y=e}},6),n.link("../../../../components/GenericNoResults/GenericNoResults",{default(e){v=e}},7),n.link("../../../../components/GenericTable",{GenericTable(e){S=e},GenericTableBody(e){_=e},GenericTableCell(e){P=e},GenericTableHeader(e){G=e},GenericTableHeaderCell(e){A=e},GenericTableLoadingTable(e){D=e},GenericTableRow(e){I=e}},8),n.link("../../../../components/GenericTable/hooks/usePagination",{usePagination(e){L=e}},9),n.link("../../../../components/GenericTable/hooks/useSort",{useSort(e){N=e}},10),n.link("../../currentChats/hooks/useCurrentChats",{useCurrentChats(e){R=e}},11),n.exportDefault(()=>{let e=g(),[t,n]=C(""),B=p(),H=E("omnichannel-directory"),j=L(),{current:q,itemsPerPage:M,setItemsPerPage:K,setCurrent:O}=j,Q=r(j,F),{sortBy:U,sortDirection:W,setSort:z}=N("fname"),J=x(()=>a(a({sort:'{ "'.concat(U,'": ').concat("asc"===W?1:-1," }"),open:!1,roomName:t||"",agents:B?[B]:[]},M&&{count:M}),q&&{offset:q}),[U,q,W,M,B,t]),V=k(e=>H.push({page:"chats",bar:"info",id:e})),X=b.createElement(b.Fragment,null,b.createElement(A,{key:"fname",direction:W,active:"fname"===U,onClick:z,sort:"fname",w:"x400"},e("Contact_Name")),b.createElement(A,{key:"department",direction:W,active:"department"===U,onClick:z,sort:"department",w:"x200"},e("Department")),b.createElement(A,{key:"ts",direction:W,active:"ts"===U,onClick:z,sort:"ts",w:"x200"},e("Started_At")),b.createElement(A,{key:"chatDuration",direction:W,active:"chatDuration"===U,onClick:z,sort:"chatDuration",w:"x120"},e("Chat_Duration")),b.createElement(A,{key:"closedAt",direction:W,active:"closedAt"===U,onClick:z,sort:"closedAt",w:"x200"},e("Closed_At"))),{data:Y,isLoading:Z,isSuccess:$,isError:ee,refetch:et}=R(J),[en]=C(T([J])),el=en!==T([J]),ea=w(e=>{let{_id:t,fname:n,ts:l,closedAt:a,department:r,tags:i}=e;return b.createElement(I,{key:t,tabIndex:0,role:"link",onClick:()=>V(t),action:!0,"qa-user-id":t},b.createElement(P,{withTruncatedText:!0},b.createElement(c,{display:"flex",flexDirection:"column"},b.createElement(c,{withTruncatedText:!0},n),i&&b.createElement(c,{color:"hint",display:"flex","flex-direction":"row"},i.map(e=>b.createElement(c,{style:{marginTop:4,whiteSpace:"nowrap",overflow:e.length>10?"hidden":"visible",textOverflow:"ellipsis"},key:e,mie:4},b.createElement(o,{style:{display:"inline"},disabled:!0},e)))))),b.createElement(P,{withTruncatedText:!0},r?r.name:""),b.createElement(P,{withTruncatedText:!0},f(l).format("L LTS")),b.createElement(P,{withTruncatedText:!0},f(a).from(f(l),!0)),b.createElement(P,{withTruncatedText:!0},f(a).format("L LTS")))},[V]);return b.createElement(b.Fragment,null,($&&(null==Y?void 0:Y.rooms.length)>0||el)&&b.createElement(y,{onChange:e=>{let{text:t}=e;return n(t)}}),Z&&b.createElement(S,null,b.createElement(G,null,X),b.createElement(_,null,b.createElement(D,{headerCells:5}))),$&&(null==Y?void 0:Y.rooms.length)===0&&el&&b.createElement(v,null),$&&(null==Y?void 0:Y.rooms.length)===0&&!el&&b.createElement(v,{icon:"message",title:e("No_chats_yet"),description:e("No_chats_yet_description"),linkHref:"https://go.rocket.chat/omnichannel-docs",linkText:e("Learn_more_about_conversations")}),$&&(null==Y?void 0:Y.rooms.length)>0&&b.createElement(b.Fragment,null,b.createElement(S,null,b.createElement(G,null,X),b.createElement(_,null,null==Y?void 0:Y.rooms.map(e=>ea(e)))),b.createElement(i,l({divider:!0,current:q,itemsPerPage:M,count:(null==Y?void 0:Y.total)||0,onSetItemsPerPage:K,onSetCurrent:O},Q))),ee&&b.createElement(s,null,b.createElement(m,{name:"warning",variation:"danger"}),b.createElement(u,null,e("Something_went_wrong")),b.createElement(d,null,b.createElement(h,{onClick:()=>et()},e("Reload_page")))))})}
//# sourceMappingURL=/dynamic/client/views/omnichannel/directory/chats/3c109d39b91e6e04fcc1b44636487df4f51749a1.map
