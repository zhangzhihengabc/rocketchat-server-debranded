)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/directory/ChatsContextualBar.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box } from '@rocket.chat/fuselage';\nimport { useRoute, useRouteParameter, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { FC } from 'react';\nimport React from 'react';\n\nimport {\n\tContextualbar,\n\tContextualbarHeader,\n\tContextualbarIcon,\n\tContextualbarTitle,\n\tContextualbarAction,\n\tContextualbarClose,\n} from '../../../components/Contextualbar';\nimport Chat from './chats/Chat';\nimport ChatInfoDirectory from './chats/contextualBar/ChatInfoDirectory';\nimport { RoomEditWithData } from './chats/contextualBar/RoomEdit';\nimport { FormSkeleton } from './components';\nimport { useOmnichannelRoomInfo } from './hooks/useOmnichannelRoomInfo';\n\nconst ChatsContextualBar: FC<{ chatReload?: () => void }> = ({ chatReload }) => {\n\tconst directoryRoute = useRoute('omnichannel-directory');\n\n\tconst bar = useRouteParameter('bar') || 'info';\n\tconst id = useRouteParameter('id') || '';\n\n\tconst t = useTranslation();\n\n\tconst openInRoom = (): void => {\n\t\tid && directoryRoute.push({ page: 'chats', id, bar: 'view' });\n\t};\n\n\tconst handleChatsContextualbarCloseButtonClick = (): void => {\n\t\tdirectoryRoute.push({ page: 'chats' });\n\t};\n\n\tconst handleChatsContextualbarBackButtonClick = (): void => {\n\t\tid && directoryRoute.push({ page: 'chats', id, bar: 'info' });\n\t};\n\n\tconst { data: room, isLoading, isError, refetch: reloadInfo } = useOmnichannelRoomInfo(id);\n\n\tif (bar === 'view' && id) {\n\t\treturn <Chat rid={id} />;\n\t}\n\n\tif (isLoading) {\n\t\treturn (\n\t\t\t<Box pi={24}>\n\t\t\t\t<FormSkeleton />\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tif (isError || !room) {\n\t\treturn <Box mbs={16}>{t('Room_not_found')}</Box>;\n\t}\n\n\treturn (\n\t\t<Contextualbar>\n\t\t\t<ContextualbarHeader expanded>\n\t\t\t\t{bar === 'info' && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<ContextualbarIcon name='info-circled' />\n\t\t\t\t\t\t<ContextualbarTitle>{t('Room_Info')}</ContextualbarTitle>\n\t\t\t\t\t\t<ContextualbarAction title={t('View_full_conversation')} name='new-window' onClick={openInRoom} />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{bar === 'edit' && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<ContextualbarIcon name='pencil' />\n\t\t\t\t\t\t<ContextualbarTitle>{t('edit-room')}</ContextualbarTitle>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t<ContextualbarClose onClick={handleChatsContextualbarCloseButtonClick} />\n\t\t\t</ContextualbarHeader>\n\t\t\t{bar === 'info' && <ChatInfoDirectory id={id} room={room} />}\n\t\t\t{bar === 'edit' && (\n\t\t\t\t<RoomEditWithData id={id} reload={chatReload} reloadInfo={reloadInfo} onClose={handleChatsContextualbarBackButtonClick} />\n\t\t\t)}\n\t\t</Contextualbar>\n\t);\n};\n\nexport default ChatsContextualBar;\n",null],"names":["Box","useRoute","useRouteParameter","useTranslation","React","Contextualbar","ContextualbarHeader","ContextualbarIcon","ContextualbarTitle","ContextualbarAction","ContextualbarClose","Chat","ChatInfoDirectory","RoomEditWithData","FormSkeleton","useOmnichannelRoomInfo","module","link","default","exportDefault","_ref","chatReload","directoryRoute","bar","id","t","data","room","isLoading","isError","refetch","reloadInfo","createElement","rid","pi","mbs","expanded","Fragment","name","title","onClick","push","page","reload","onClose"],"mappings":"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"}