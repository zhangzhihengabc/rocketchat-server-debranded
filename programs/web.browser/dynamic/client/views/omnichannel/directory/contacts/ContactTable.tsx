function module(e,t,n){let l,a,o,r,c,i,s,u,m,d,h,k,b,E,p,g,C,T,v,x,y,f,P,_,w,S,G,N,B,D,F,R,I,A,H;let L=["current","itemsPerPage","setItemsPerPage","setCurrent"];n.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},1),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){o=e}},2),n.link("@rocket.chat/fuselage",{Pagination(e){r=e},States(e){c=e},StatesAction(e){i=e},StatesActions(e){s=e},StatesIcon(e){u=e},StatesTitle(e){m=e},Box(e){d=e}},0),n.link("@rocket.chat/fuselage-hooks",{useDebouncedState(e){h=e},useDebouncedValue(e){k=e},useMutableCallback(e){b=e}},1),n.link("@rocket.chat/ui-contexts",{useRoute(e){E=e},useTranslation(e){p=e}},2),n.link("@tanstack/react-query",{hashQueryKey(e){g=e}},3),n.link("react",{default(e){C=e},useMemo(e){T=e},useState(e){v=e}},4),n.link("../../../../../ee/client/lib/voip/parseOutboundPhoneNumber",{parseOutboundPhoneNumber(e){x=e}},5),n.link("../../../../components/FilterByText",{default(e){y=e}},6),n.link("../../../../components/GenericNoResults",{default(e){f=e}},7),n.link("../../../../components/GenericTable",{GenericTable(e){P=e},GenericTableHeader(e){_=e},GenericTableCell(e){w=e},GenericTableBody(e){S=e},GenericTableRow(e){G=e},GenericTableHeaderCell(e){N=e},GenericTableLoadingRow(e){B=e}},8),n.link("../../../../components/GenericTable/hooks/usePagination",{usePagination(e){D=e}},9),n.link("../../../../components/GenericTable/hooks/useSort",{useSort(e){F=e}},10),n.link("../../../../contexts/CallContext",{useIsCallReady(e){R=e}},11),n.link("../../../../hooks/useFormatDate",{useFormatDate(e){I=e}},12),n.link("../components/CallDialpadButton",{CallDialpadButton(e){A=e}},13),n.link("./hooks/useCurrentContacts",{useCurrentContacts(e){H=e}},14),n.exportDefault(function(){let e=D(),{current:t,itemsPerPage:n,setItemsPerPage:j,setCurrent:q}=e,M=o(e,L),{sortBy:O,sortDirection:K,setSort:Q}=F("username"),U=R(),[V,W]=h("",500),z=p(),J=k(T(()=>a(a({term:V,sort:'{ "'.concat(O,'": ').concat("asc"===K?1:-1," }")},n&&{count:n}),t&&{offset:t}),[n,t,O,K,V]),500),X=E("omnichannel-directory"),Y=I(),Z=b(()=>X.push({page:"contacts",bar:"new"})),$=b(e=>()=>X.push({page:"contacts",id:e,bar:"info"})),{data:ee,isLoading:et,isError:en,isSuccess:el,refetch:ea}=H(J),[eo]=v(g([J])),er=eo!==g([J]),ec=C.createElement(C.Fragment,null,C.createElement(N,{key:"username",direction:K,active:"username"===O,onClick:Q,sort:"username"},z("Username")),C.createElement(N,{key:"name",direction:K,active:"name"===O,onClick:Q,sort:"name"},z("Name")),C.createElement(N,{key:"phone",direction:K,active:"phone"===O,onClick:Q,sort:"phone"},z("Phone")),C.createElement(N,{key:"email",direction:K,active:"visitorEmails.address"===O,onClick:Q,sort:"visitorEmails.address"},z("Email")),C.createElement(N,{key:"lastchat",direction:K,active:"lastchat"===O,onClick:Q,sort:"lastchat"},z("Last_Chat")),C.createElement(N,{key:"call",width:44}));return C.createElement(C.Fragment,null,(el&&(null==ee?void 0:ee.visitors.length)>0||er)&&C.createElement(y,{displayButton:!0,textButton:z("New_contact"),onButtonClick:Z,onChange:e=>{let{text:t}=e;return W(t)}}),et&&C.createElement(P,null,C.createElement(_,null,ec),C.createElement(S,null,C.createElement(B,{cols:6}))),el&&(null==ee?void 0:ee.visitors.length)===0&&er&&C.createElement(f,null),el&&(null==ee?void 0:ee.visitors.length)===0&&!er&&C.createElement(f,{icon:"user-plus",title:z("No_contacts_yet"),description:z("No_contacts_yet_description"),buttonTitle:z("New_contact"),buttonAction:Z,linkHref:"https://go.rocket.chat/omnichannel-docs",linkText:z("Learn_more_about_contacts")}),el&&(null==ee?void 0:ee.visitors.length)>0&&C.createElement(C.Fragment,null,C.createElement(P,null,C.createElement(_,null,ec),C.createElement(S,null,null==ee?void 0:ee.visitors.map(e=>{let{_id:t,username:n,fname:l,name:a,visitorEmails:o,phone:r,lastChat:c}=e,i=(null==r?void 0:r.length)&&r[0].phoneNumber||"",s=(null==o?void 0:o.length)&&o[0].address;return C.createElement(G,{action:!0,key:t,tabIndex:0,role:"link",height:"40px","qa-user-id":t,"rcx-show-call-button-on-hover":!0,onClick:$(t)},C.createElement(w,{withTruncatedText:!0},n),C.createElement(w,{withTruncatedText:!0},x(l||a)),C.createElement(w,{withTruncatedText:!0},x(i)),C.createElement(w,{withTruncatedText:!0},s),C.createElement(w,{withTruncatedText:!0},c&&Y(c.ts)),C.createElement(w,null,U&&C.createElement(A,{phoneNumber:i})))}))),C.createElement(r,l({divider:!0,current:t,itemsPerPage:n,count:null==ee?void 0:ee.total,onSetItemsPerPage:j,onSetCurrent:q},M))),en&&C.createElement(d,{mbs:20},C.createElement(c,null,C.createElement(u,{variation:"danger",name:"circle-exclamation"}),C.createElement(m,null,z("Connection_error")),C.createElement(s,null,C.createElement(i,{icon:"reload",onClick:()=>ea()},z("Reload_page"))))))})}
//# sourceMappingURL=/dynamic/client/views/omnichannel/directory/contacts/fa59209d6a1217a639fa4a3f060d49c8b6f9e1d7.map
