function module(e,t,s){let o,i,l,r,a,n,d,c;s.link("@babel/runtime/helpers/objectSpread2",{default(e){o=e}},0),s.export({useHistoryList:()=>u}),s.link("@rocket.chat/ui-contexts",{useEndpoint(e){i=e}},0),s.link("react",{useCallback(e){l=e},useState(e){r=e}},1),s.link("../../../hooks/lists/useScrollableRecordList",{useScrollableRecordList(e){a=e}},2),s.link("../../../hooks/useComponentDidUpdate",{useComponentDidUpdate(e){n=e}},3),s.link("../../../lib/lists/RecordList",{RecordList(e){d=e}},4),s.link("../../../lib/utils/mapMessageFromApi",{mapMessageFromApi(e){c=e}},5);let u=e=>{let[t,s]=r(()=>new d),u=l(()=>s(new d),[]),m=i("GET","/v1/livechat/visitors.searchChats/room/:roomId/visitor/:visitorId",{roomId:e.roomId,visitorId:e.visitorId});n(()=>{e&&u()},[e,u]);let v=l(async(t,s)=>{let{history:i,total:l}=await m(o(o({},e.filter&&{searchText:e.filter}),{},{closedChatsOnly:"true",servedChatsOnly:"true",offset:t,count:s+t}));return{items:i.map(e=>o(o({},e),{},{ts:new Date(e.ts),_updatedAt:new Date(e.ts),closedAt:e.closedAt?new Date(e.closedAt):void 0,servedBy:e.servedBy?o(o({},e.servedBy),{},{ts:new Date(e.servedBy.ts)}):void 0,closingMessage:e.closingMessage?c(e.closingMessage):void 0})),itemCount:l}},[m,e]),{loadMoreItems:p,initialItemCount:k}=a(t,v,25);return{itemsList:t,loadMoreItems:p,initialItemCount:k}}}
//# sourceMappingURL=/dynamic/client/views/omnichannel/contactHistory/844b8a0292616f12531ec4ee1eae1fbb422c6a2f.map
