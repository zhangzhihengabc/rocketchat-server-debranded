)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/contactHistory/ContactHistoryItem.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import {\n\tMessage,\n\tBox,\n\tMessageGenericPreview,\n\tMessageGenericPreviewContent,\n\tMessageGenericPreviewDescription,\n\tMessageGenericPreviewTitle,\n\tMessageSystemBody,\n} from '@rocket.chat/fuselage';\nimport type { VisitorSearchChatsResult } from '@rocket.chat/rest-typings';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { Dispatch, ReactElement, SetStateAction } from 'react';\nimport React, { memo } from 'react';\n\nimport UserAvatar from '../../../components/avatar/UserAvatar';\nimport { useFormatDateAndTime } from '../../../hooks/useFormatDateAndTime';\nimport { clickableItem } from '../../../lib/clickableItem';\n\ntype ContactHistoryItemProps = {\n\thistory: VisitorSearchChatsResult;\n\tsetChatId: Dispatch<SetStateAction<string>>;\n};\n\nfunction ContactHistoryItem({ history, setChatId, ...props }: ContactHistoryItemProps): ReactElement {\n\tconst t = useTranslation();\n\tconst formatDate = useFormatDateAndTime();\n\tconst username = history.servedBy?.username;\n\tconst hasClosingMessage = !!history.closingMessage?.msg?.trim();\n\tconst onClick = (): void => {\n\t\tsetChatId(history._id);\n\t};\n\n\treturn (\n\t\t<Box pbs={16} is={Message} onClick={onClick} data-qa='chat-history-item' {...props}>\n\t\t\t<Message.LeftContainer>\n\t\t\t\t{username && <UserAvatar username={username} className='rcx-message__avatar' size='x36' />}\n\t\t\t</Message.LeftContainer>\n\t\t\t<Message.Container>\n\t\t\t\t<Message.Header>\n\t\t\t\t\t<Message.Name title={username}>{username}</Message.Name>\n\t\t\t\t\t{history.closingMessage?.ts && <Message.Timestamp>{formatDate(history.closingMessage?.ts)}</Message.Timestamp>}\n\t\t\t\t</Message.Header>\n\t\t\t\t<Message.Body>\n\t\t\t\t\t<MessageSystemBody title={t('Conversation_closed_without_comment')}>{t('Conversation_closed_without_comment')}</MessageSystemBody>\n\t\t\t\t\t{hasClosingMessage && (\n\t\t\t\t\t\t<MessageGenericPreview>\n\t\t\t\t\t\t\t<MessageGenericPreviewContent>\n\t\t\t\t\t\t\t\t<MessageGenericPreviewTitle>{t('Closing_chat_message')}:</MessageGenericPreviewTitle>\n\t\t\t\t\t\t\t\t<MessageGenericPreviewDescription clamp>\n\t\t\t\t\t\t\t\t\t<Box title={history.closingMessage?.msg}>{history.closingMessage?.msg}</Box>\n\t\t\t\t\t\t\t\t</MessageGenericPreviewDescription>\n\t\t\t\t\t\t\t</MessageGenericPreviewContent>\n\t\t\t\t\t\t</MessageGenericPreview>\n\t\t\t\t\t)}\n\t\t\t\t</Message.Body>\n\t\t\t\t<Message.Metrics>\n\t\t\t\t\t<Message.Metrics.Item>\n\t\t\t\t\t\t<Message.Metrics.Item.Icon name='thread' />\n\t\t\t\t\t\t<Message.Metrics.Item.Label>{history.msgs}</Message.Metrics.Item.Label>\n\t\t\t\t\t</Message.Metrics.Item>\n\t\t\t\t</Message.Metrics>\n\t\t\t</Message.Container>\n\t\t</Box>\n\t);\n}\n\nexport default memo(clickableItem(ContactHistoryItem));\n",null],"names":["_extends","_objectWithoutProperties","Message","Box","MessageGenericPreview","MessageGenericPreviewContent","MessageGenericPreviewDescription","MessageGenericPreviewTitle","MessageSystemBody","useTranslation","React","memo","UserAvatar","useFormatDateAndTime","clickableItem","module","link","default","v","exportDefault","_ref","_history$servedBy","_history$closingMessa","_history$closingMessa2","_history$closingMessa3","_history$closingMessa4","_history$closingMessa5","_history$closingMessa6","history","setChatId","props","_excluded","t","formatDate","username","servedBy","hasClosingMessage","closingMessage","msg","trim","createElement","pbs","is","onClick","_id","LeftContainer","className","size","Container","Header","Name","title","ts","Timestamp","Body","clamp","Metrics","Item","Icon","name","Label","msgs"],"mappings":"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"}