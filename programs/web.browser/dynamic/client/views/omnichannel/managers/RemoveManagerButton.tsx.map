)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/managers/RemoveManagerButton.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { IconButton } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSetModal, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport GenericModal from '../../../components/GenericModal';\nimport { GenericTableCell } from '../../../components/GenericTable';\nimport { useEndpointAction } from '../../../hooks/useEndpointAction';\n\nconst RemoveManagerButton = ({ _id, reload }: { _id: string; reload: () => void }): ReactElement => {\n\tconst t = useTranslation();\n\tconst deleteAction = useEndpointAction('DELETE', '/v1/livechat/users/manager/:_id', { keys: { _id } });\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleRemoveClick = useMutableCallback(async () => {\n\t\tawait deleteAction();\n\t\treload();\n\t});\n\tconst handleDelete = useMutableCallback((e) => {\n\t\te.stopPropagation();\n\t\tconst onDeleteManager = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait handleRemoveClick();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Manager_removed') });\n\t\t\t} catch (error: unknown) {\n\t\t\t\t(typeof error === 'string' || error instanceof Error) && dispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tsetModal();\n\t\t};\n\n\t\tsetModal(\n\t\t\t<GenericModal\n\t\t\t\tvariant='danger'\n\t\t\t\tonConfirm={onDeleteManager}\n\t\t\t\tonCancel={(): void => setModal()}\n\t\t\t\tonClose={(): void => setModal()}\n\t\t\t\tconfirmText={t('Delete')}\n\t\t\t/>,\n\t\t);\n\t});\n\n\treturn (\n\t\t<GenericTableCell fontScale='p2' color='hint' withTruncatedText>\n\t\t\t<IconButton small icon='trash' title={t('Remove')} onClick={handleDelete} />\n\t\t</GenericTableCell>\n\t);\n};\n\nexport default RemoveManagerButton;\n",null],"names":["IconButton","useMutableCallback","useSetModal","useToastMessageDispatch","useTranslation","React","GenericModal","GenericTableCell","useEndpointAction","module","link","default","exportDefault","_ref","_id","reload","t","deleteAction","keys","setModal","dispatchToastMessage","handleRemoveClick","handleDelete","e","stopPropagation","onDeleteManager","type","message","error","Error","createElement","variant","onConfirm","onCancel","onClose","confirmText","fontScale","color","withTruncatedText","small","icon","title","onClick"],"mappings":"2BAAAA,EAAmDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA1CC,EAAYC,IAAA,CAAM,wBAAwB,CAAAV,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAR,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAP,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAF,iBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAD,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAnDC,EAAOG,aAAY,CAUSC,IAAuE,GAAtE,CAAEC,IAAAA,CAAG,CAAEC,OAAAA,CAAAA,CAA6C,CAAAF,EAC1EG,EAAIZ,IACJa,EAAeT,EAAkB,SAAU,kCAAmC,CAAEU,KAAM,CAAEJ,IAAAA,CAAG,CAAE,GAC7FK,EAAWjB,IACXkB,EAAuBjB,IAEvBkB,EAAoBpB,EAAmB,UAC5C,MAAMgB,IACNF,GACD,GACMO,EAAerB,EAAoBsB,IACxCA,EAAEC,eAAe,GACjB,IAAMC,EAAkB,UACvB,GAAI,CACH,MAAMJ,IACND,EAAqB,CAAEM,KAAM,UAAWC,QAASX,EAAE,kBAAkB,GACpE,MAAOY,EAAgB,CACxB,AAAC,CAAA,AAAiB,UAAjB,OAAOA,GAAsBA,aAAiBC,KAAAA,GAAUT,EAAqB,CAAEM,KAAM,QAASC,QAASC,CAAK,GAE9GT,GACD,EAEAA,EACCd,EAAAyB,aAAA,CAACxB,EAAY,CACZyB,QAAQ,SACRC,UAAWP,EACXQ,SAAU,IAAYd,IACtBe,QAAS,IAAYf,IACrBgB,YAAanB,EAAE,SAAU,GAG5B,GAEA,OACCX,EAAAyB,aAAA,CAACvB,EAAgB,CAAC6B,UAAU,KAAKC,MAAM,OAAOC,kBAAiB,CAAA,CAAA,EAC9DjC,EAAAyB,aAAA,CAAC9B,EAAU,CAACuC,MAAK,CAAA,EAACC,KAAK,QAAQC,MAAOzB,EAAE,UAAW0B,QAASpB,CAAa,GAG5E"}