)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/webhooks/WebhooksPage.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { SettingValue } from '@rocket.chat/core-typings';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport {\n\tBox,\n\tFieldGroup,\n\tField,\n\tFieldRow,\n\tTextInput,\n\tMultiSelect,\n\tButton,\n\tButtonGroup,\n\tNumberInput,\n\tFieldLabel,\n} from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport { useToastMessageDispatch, useTranslation, useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useMutation } from '@tanstack/react-query';\nimport React, { useMemo } from 'react';\nimport { Controller, useForm, useWatch } from 'react-hook-form';\n\nimport Page from '../../../components/Page';\n\ntype WebhooksPageProps = {\n\tsettings: Record<string, SettingValue>;\n};\n\ntype SendOnOptions =\n\t| 'Livechat_webhook_on_start'\n\t| 'Livechat_webhook_on_close'\n\t| 'Livechat_webhook_on_chat_taken'\n\t| 'Livechat_webhook_on_chat_queued'\n\t| 'Livechat_webhook_on_forward'\n\t| 'Livechat_webhook_on_offline_msg'\n\t| 'Livechat_webhook_on_visitor_message'\n\t| 'Livechat_webhook_on_agent_message';\n\ntype WebhookFormValues = {\n\tLivechat_webhookUrl: string | undefined;\n\tLivechat_secret_token: string | undefined;\n\tLivechat_http_timeout: string | undefined;\n\tsendOn: SendOnOptions[];\n};\n\nconst reduceSendOptions = (options: Record<string, SettingValue>) =>\n\tObject.entries(options).reduce<string[]>((acc, [key, val]) => {\n\t\tif (val) {\n\t\t\tacc = [...acc, key];\n\t\t}\n\t\treturn acc;\n\t}, []);\n\nconst INTEGRATION_URL = 'https://docs.rocket.chat/use-rocket.chat/omnichannel/webhooks';\n\nconst getInitialValues = ({\n\tLivechat_webhookUrl,\n\tLivechat_secret_token,\n\tLivechat_webhook_on_start,\n\tLivechat_webhook_on_close,\n\tLivechat_webhook_on_chat_taken,\n\tLivechat_webhook_on_chat_queued,\n\tLivechat_webhook_on_forward,\n\tLivechat_webhook_on_offline_msg,\n\tLivechat_webhook_on_visitor_message,\n\tLivechat_webhook_on_agent_message,\n\tLivechat_http_timeout,\n}: WebhooksPageProps['settings']): WebhookFormValues => {\n\tconst mappedSendOptions = reduceSendOptions({\n\t\tLivechat_webhook_on_start,\n\t\tLivechat_webhook_on_close,\n\t\tLivechat_webhook_on_chat_taken,\n\t\tLivechat_webhook_on_chat_queued,\n\t\tLivechat_webhook_on_forward,\n\t\tLivechat_webhook_on_offline_msg,\n\t\tLivechat_webhook_on_visitor_message,\n\t\tLivechat_webhook_on_agent_message,\n\t});\n\n\treturn {\n\t\tLivechat_webhookUrl,\n\t\tLivechat_secret_token,\n\t\tLivechat_http_timeout,\n\t\tsendOn: mappedSendOptions,\n\t} as WebhookFormValues;\n};\n\nconst WebhooksPage = ({ settings }: WebhooksPageProps) => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst defaultValues = getInitialValues(settings);\n\tconst {\n\t\tcontrol,\n\t\treset,\n\t\tformState: { isDirty, isSubmitting },\n\t\thandleSubmit,\n\t} = useForm({\n\t\tdefaultValues,\n\t});\n\n\tconst save = useEndpoint('POST', '/v1/omnichannel/integrations');\n\tconst test = useEndpoint('POST', '/v1/livechat/webhook.test');\n\n\tconst livechatWebhookUrl = useWatch({ name: 'Livechat_webhookUrl', control });\n\tconst canTest = !(livechatWebhookUrl && !isDirty);\n\n\tconst sendOptions = useMemo<SelectOption[]>(\n\t\t() => [\n\t\t\t['Livechat_webhook_on_start', t('Chat_start')],\n\t\t\t['Livechat_webhook_on_close', t('Chat_close')],\n\t\t\t['Livechat_webhook_on_chat_taken', t('Chat_taken')],\n\t\t\t['Livechat_webhook_on_chat_queued', t('Chat_queued')],\n\t\t\t['Livechat_webhook_on_forward', t('Forwarding')],\n\t\t\t['Livechat_webhook_on_offline_msg', t('Offline_messages')],\n\t\t\t['Livechat_webhook_on_visitor_message', t('Visitor_message')],\n\t\t\t['Livechat_webhook_on_agent_message', t('Agent_messages')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst handleSave = useMutableCallback(async (values) => {\n\t\tconst { sendOn, Livechat_webhookUrl, Livechat_secret_token, Livechat_http_timeout } = values;\n\t\ttry {\n\t\t\tawait save({\n\t\t\t\tLivechatWebhookUrl: Livechat_webhookUrl,\n\t\t\t\tLivechatSecretToken: Livechat_secret_token,\n\t\t\t\tLivechatHttpTimeout: Livechat_http_timeout,\n\t\t\t\tLivechatWebhookOnStart: sendOn.includes('Livechat_webhook_on_start'),\n\t\t\t\tLivechatWebhookOnClose: sendOn.includes('Livechat_webhook_on_close'),\n\t\t\t\tLivechatWebhookOnChatTaken: sendOn.includes('Livechat_webhook_on_chat_taken'),\n\t\t\t\tLivechatWebhookOnChatQueued: sendOn.includes('Livechat_webhook_on_chat_queued'),\n\t\t\t\tLivechatWebhookOnForward: sendOn.includes('Livechat_webhook_on_forward'),\n\t\t\t\tLivechatWebhookOnOfflineMsg: sendOn.includes('Livechat_webhook_on_offline_msg'),\n\t\t\t\tLivechatWebhookOnVisitorMessage: sendOn.includes('Livechat_webhook_on_visitor_message'),\n\t\t\t\tLivechatWebhookOnAgentMessage: sendOn.includes('Livechat_webhook_on_agent_message'),\n\t\t\t});\n\n\t\t\treset(values);\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Saved') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t});\n\n\tconst testWebhook = useMutation({\n\t\tmutationFn: () => test(),\n\t\tonSuccess: () => dispatchToastMessage({ type: 'success', message: t('It_works') }),\n\t\tonError: (error) => dispatchToastMessage({ type: 'error', message: error }),\n\t});\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Webhooks')}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => reset()} disabled={!isDirty || isSubmitting}>\n\t\t\t\t\t\t{t('Reset')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => testWebhook.mutateAsync()}\n\t\t\t\t\t\tdisabled={canTest || testWebhook.isLoading}\n\t\t\t\t\t\ttitle={canTest ? t('Webhook_URL_not_set') : ''}\n\t\t\t\t\t>\n\t\t\t\t\t\t{testWebhook.isLoading ? t('Sending') : t('Send_Test')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button primary onClick={handleSubmit(handleSave)} loading={isSubmitting} disabled={!isDirty}>\n\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Page.Header>\n\t\t\t<Page.ScrollableContentWithShadow>\n\t\t\t\t<Box maxWidth='x600' w='full' alignSelf='center'>\n\t\t\t\t\t<p>{t('You_can_use_webhooks_to_easily_integrate_livechat_with_your_CRM')}</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<ExternalLink to={INTEGRATION_URL}>{t('Click_here')}</ExternalLink> {t('to_see_more_details_on_how_to_integrate')}\n\t\t\t\t\t</p>\n\t\t\t\t\t<FieldGroup style={{ marginTop: '1.5rem' }}>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel>{t('Webhook_URL')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='Livechat_webhookUrl'\n\t\t\t\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\n\t\t\t\t\t\t\t\t\t\t<TextInput onChange={onChange} value={value} placeholder='https://yourdomain.com/webhook/entrypoint' />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel>{t('Secret_token')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='Livechat_secret_token'\n\t\t\t\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\n\t\t\t\t\t\t\t\t\t\t<TextInput onChange={onChange} value={value} placeholder={t('Secret_token')} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel>{t('Send_request_on')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Box w='full' display='flex' alignItems='stretch' justifyContent='stretch'>\n\t\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\t\tname='sendOn'\n\t\t\t\t\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\n\t\t\t\t\t\t\t\t\t\t\t<MultiSelect w='full' value={value} onChange={onChange} options={sendOptions} placeholder={t('Select_an_option')} />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t<FieldLabel>{t('Http_timeout')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\tname='Livechat_http_timeout'\n\t\t\t\t\t\t\t\t\trender={({ field: { onChange, value } }) => (\n\t\t\t\t\t\t\t\t\t\t<NumberInput onChange={onChange} value={value} placeholder={t('Http_timeout_value')} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Field>\n\t\t\t\t\t</FieldGroup>\n\t\t\t\t</Box>\n\t\t\t</Page.ScrollableContentWithShadow>\n\t\t</Page>\n\t);\n};\n\nexport default WebhooksPage;\n",null],"names":["Box","FieldGroup","Field","FieldRow","TextInput","MultiSelect","Button","ButtonGroup","NumberInput","FieldLabel","useMutableCallback","ExternalLink","useToastMessageDispatch","useTranslation","useEndpoint","useMutation","React","useMemo","Controller","useForm","useWatch","Page","module","link","v","default","reduceSendOptions","options","Object","entries","reduce","acc","_ref","key","val","getInitialValues","_ref2","Livechat_webhookUrl","Livechat_secret_token","Livechat_webhook_on_start","Livechat_webhook_on_close","Livechat_webhook_on_chat_taken","Livechat_webhook_on_chat_queued","Livechat_webhook_on_forward","Livechat_webhook_on_offline_msg","Livechat_webhook_on_visitor_message","Livechat_webhook_on_agent_message","Livechat_http_timeout","mappedSendOptions","sendOn","exportDefault","_ref3","settings","t","dispatchToastMessage","defaultValues","control","reset","formState","isDirty","isSubmitting","handleSubmit","save","test","livechatWebhookUrl","name","canTest","sendOptions","handleSave","values","LivechatWebhookUrl","LivechatSecretToken","LivechatHttpTimeout","LivechatWebhookOnStart","includes","LivechatWebhookOnClose","LivechatWebhookOnChatTaken","LivechatWebhookOnChatQueued","LivechatWebhookOnForward","LivechatWebhookOnOfflineMsg","LivechatWebhookOnVisitorMessage","LivechatWebhookOnAgentMessage","type","message","error","testWebhook","mutationFn","onSuccess","onError","createElement","Header","title","onClick","disabled","mutateAsync","isLoading","primary","loading","ScrollableContentWithShadow","maxWidth","w","alignSelf","to","style","marginTop","render","_ref4","field","onChange","value","placeholder","_ref5","display","alignItems","justifyContent","_ref6","_ref7"],"mappings":"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"}