)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/webhooks/WebhooksPageContainer.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { ISetting, Serialized, SettingValue } from '@rocket.chat/core-typings';\nimport { Callout } from '@rocket.chat/fuselage';\nimport { useEndpoint, usePermission, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport React from 'react';\n\nimport Page from '../../../components/Page';\nimport PageSkeleton from '../../../components/PageSkeleton';\nimport NotAuthorizedPage from '../../notAuthorized/NotAuthorizedPage';\nimport WebhooksPage from './WebhooksPage';\n\nconst reduceSettings = (settings: Serialized<ISetting>[]) =>\n\tsettings.reduce<Record<string, SettingValue>>((acc, { _id, value }) => {\n\t\tacc = { ...acc, [_id]: value };\n\t\treturn acc;\n\t}, {});\n\nconst WebhooksPageContainer = () => {\n\tconst t = useTranslation();\n\n\tconst getIntegrationsSettings = useEndpoint('GET', '/v1/livechat/integrations.settings');\n\n\tconst { data, isLoading, isError } = useQuery(['/v1/livechat/integrations.settings'], async () => {\n\t\tconst { settings, success } = await getIntegrationsSettings();\n\t\treturn { settings: reduceSettings(settings), success };\n\t});\n\n\tconst canViewLivechatWebhooks = usePermission('view-livechat-webhooks');\n\n\tif (!canViewLivechatWebhooks) {\n\t\treturn <NotAuthorizedPage />;\n\t}\n\n\tif (isLoading) {\n\t\treturn <PageSkeleton />;\n\t}\n\n\tif (!data?.success || !data?.settings || isError) {\n\t\treturn (\n\t\t\t<Page>\n\t\t\t\t<Page.Header title={t('Webhooks')} />\n\t\t\t\t<Page.ScrollableContentWithShadow>\n\t\t\t\t\t<Callout type='danger'>{t('Error')}</Callout>\n\t\t\t\t</Page.ScrollableContentWithShadow>\n\t\t\t</Page>\n\t\t);\n\t}\n\n\treturn <WebhooksPage settings={data.settings} />;\n};\n\nexport default WebhooksPageContainer;\n",null],"names":["_objectSpread","Callout","useEndpoint","usePermission","useTranslation","useQuery","React","Page","PageSkeleton","NotAuthorizedPage","WebhooksPage","module","link","default","reduceSettings","settings","reduce","acc","_ref","_id","value","exportDefault","t","getIntegrationsSettings","data","isLoading","isError","success","canViewLivechatWebhooks","createElement","Header","title","ScrollableContentWithShadow","type"],"mappings":"2BACAA,EAAAC,EAAgDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9BC,EAAMC,IAAA,CAAA,uCAAwB,CAAAC,QAAAA,CAAAA,EAAAb,EAAAA,CAAA,CAAA,EAAA,GAAvCW,EAASC,IAAA,CAAM,wBAAwB,CAAAX,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAT,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAN,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAP,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAE,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,wCAAAA,CAAAE,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,iBAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAUhD,IAAMI,EAAkBC,GACvBA,EAASC,MAAM,CAA+B,CAACC,EAAGC,KAAoB,GAAlB,CAAEC,IAAAA,CAAG,CAAEC,MAAAA,CAAAA,CAAO,CAAAF,EAEjE,OADAD,EAAGjB,EAAAA,EAAA,CAAA,EAAQiB,GAAG,CAAA,EAAA,CAAE,CAACE,EAAG,CAAGC,CAAK,EAE7B,EAAG,CAAA,GAdJT,EAAOU,aAAW,CAgBY,KAC7B,IAAMC,EAAIlB,IAEJmB,EAA0BrB,EAAY,MAAO,sCAE7C,CAAEsB,KAAAA,CAAI,CAAEC,UAAAA,CAAS,CAAEC,QAAAA,CAAAA,CAAS,CAAGrB,EAAS,CAAC,qCAAqC,CAAE,UACrF,GAAM,CAAEU,SAAAA,CAAQ,CAAEY,QAAAA,CAAAA,CAAS,CAAG,MAAMJ,IACpC,MAAO,CAAER,SAAUD,EAAeC,GAAWY,QAAAA,CAAO,CACrD,GAEMC,EAA0BzB,EAAc,iCAE9C,AAAKyB,EAIDH,EACInB,EAAAuB,aAAA,CAACrB,EAAY,MAGjB,MAACgB,GAAAA,EAAMG,OAAO,EAAKH,MAAAA,GAAAA,EAAMT,QAAQ,GAAIW,EAWlCpB,EAAAuB,aAAA,CAACnB,EAAY,CAACK,SAAUS,EAAKT,QAAAA,AAAS,GAT3CT,EAAAuB,aAAA,CAACtB,EAAI,KACJD,EAAAuB,aAAA,CAACtB,EAAKuB,MAAM,CAAA,CAACC,MAAOT,EAAE,WAAY,GAClChB,EAAAuB,aAAA,CAACtB,EAAKyB,2BAA2B,CAAA,KAChC1B,EAAAuB,aAAA,CAAC5B,EAAO,CAACgC,KAAK,QAAQ,EAAEX,EAAE,YAZtBhB,EAAAuB,aAAA,CAACpB,EAAiB,KAmB3B"}