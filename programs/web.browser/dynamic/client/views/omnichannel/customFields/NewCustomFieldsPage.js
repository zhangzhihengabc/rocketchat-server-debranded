function module(e,t,l){let a,i,s,n,o,u,r,c,d,m,h,k,b,p,v,C,f;l.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},0),l.link("@rocket.chat/fuselage",{Box(e){i=e},Button(e){s=e},FieldGroup(e){n=e},ButtonGroup(e){o=e}},0),l.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){u=e}},1),l.link("@rocket.chat/ui-contexts",{useToastMessageDispatch(e){r=e},useRoute(e){c=e},useMethod(e){d=e},useTranslation(e){m=e}},2),l.link("react",{default(e){h=e},useCallback(e){k=e},useState(e){b=e}},3),l.link("../../../components/Page",{default(e){p=e}},4),l.link("../../../hooks/useForm",{useForm(e){v=e}},5),l.link("../additionalForms",{CustomFieldsAdditionalFormContainer(e){C=e}},6),l.link("./NewCustomFieldsForm",{default(e){f=e}},7);let g={field:"",label:"",scope:"visitor",visibility:!0,regexp:"",searchable:!0};l.exportDefault(e=>{let{reload:t}=e,l=m(),F=r(),[E,y]=b({}),S=c("omnichannel-customfields"),w=k(()=>{S.push({})},[S]),{values:x,handlers:B,hasUnsavedChanges:M}=v(g),N=d("livechat:saveCustomField"),{hasError:D,data:G,hasUnsavedChanges:P}=E,{label:T,field:W}=x,_=u(async()=>{try{await N(void 0,a(a({},x),{},{visibility:x.visibility?"visible":"hidden"},G)),F({type:"success",message:l("Saved")}),t(),S.push({})}catch(e){F({type:"error",message:e})}}),j=u(e=>{y(a(a({},E),e))});return h.createElement(p,null,h.createElement(p.Header,{title:l("New_Custom_Field")},h.createElement(o,null,h.createElement(s,{icon:"back",onClick:w},l("Back")),h.createElement(s,{"data-qa-id":"NewCustomFieldsPageButtonSave",primary:!0,onClick:_,disabled:!(!D&&T&&W&&(P||M))},l("Save")))),h.createElement(p.ScrollableContentWithShadow,null,h.createElement(i,{maxWidth:"x600",w:"full",alignSelf:"center"},h.createElement(n,null,h.createElement(f,{values:x,handlers:B}),h.createElement(C,{onChange:j,state:x})))))})}
//# sourceMappingURL=/dynamic/client/views/omnichannel/customFields/af066e5b2e23e2adf34febb953812b2423cb39e6.map
