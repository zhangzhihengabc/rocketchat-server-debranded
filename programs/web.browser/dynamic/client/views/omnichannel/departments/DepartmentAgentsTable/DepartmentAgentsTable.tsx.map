)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/departments/DepartmentAgentsTable/DepartmentAgentsTable.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Pagination } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useMemo } from 'react';\nimport type { Control, UseFormRegister } from 'react-hook-form';\nimport { useWatch, useFieldArray } from 'react-hook-form';\n\nimport { GenericTable, GenericTableBody, GenericTableHeader, GenericTableHeaderCell } from '../../../../components/GenericTable';\nimport { usePagination } from '../../../../components/GenericTable/hooks/usePagination';\nimport type { FormValues } from '../EditDepartment';\nimport AddAgent from './AddAgent';\nimport AgentRow from './AgentRow';\n\ntype DepartmentAgentsTableProps = {\n\tcontrol: Control<FormValues>;\n\tregister: UseFormRegister<FormValues>;\n};\n\nfunction DepartmentAgentsTable({ control, register }: DepartmentAgentsTableProps) {\n\tconst t = useTranslation();\n\tconst { fields, append, remove } = useFieldArray({ control, name: 'agentList' });\n\tconst agentList = useWatch({ control, name: 'agentList' });\n\n\tconst { current, itemsPerPage, setItemsPerPage: onSetItemsPerPage, setCurrent: onSetCurrent, ...paginationProps } = usePagination();\n\tconst page = useMemo(() => fields.slice(current, current + itemsPerPage), [current, fields, itemsPerPage]);\n\n\treturn (\n\t\t<>\n\t\t\t<AddAgent agentList={agentList} data-qa='DepartmentSelect-AgentsTable' onAdd={append} />\n\n\t\t\t<GenericTable>\n\t\t\t\t<GenericTableHeader>\n\t\t\t\t\t<GenericTableHeaderCell w='x200'>{t('Name')}</GenericTableHeaderCell>\n\t\t\t\t\t<GenericTableHeaderCell w='x140'>{t('Count')}</GenericTableHeaderCell>\n\t\t\t\t\t<GenericTableHeaderCell w='x120'>{t('Order')}</GenericTableHeaderCell>\n\t\t\t\t\t<GenericTableHeaderCell w='x40'>{t('Remove')}</GenericTableHeaderCell>\n\t\t\t\t</GenericTableHeader>\n\n\t\t\t\t<GenericTableBody>\n\t\t\t\t\t{page.map((agent, index) => (\n\t\t\t\t\t\t<AgentRow key={agent.id} index={index} agent={agent} register={register} onRemove={() => remove(index)} />\n\t\t\t\t\t))}\n\t\t\t\t</GenericTableBody>\n\t\t\t</GenericTable>\n\n\t\t\t<Pagination\n\t\t\t\tdivider\n\t\t\t\tcurrent={current}\n\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\tcount={fields.length}\n\t\t\t\tonSetItemsPerPage={onSetItemsPerPage}\n\t\t\t\tonSetCurrent={onSetCurrent}\n\t\t\t\t{...paginationProps}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default DepartmentAgentsTable;\n",null],"names":["_extends","_objectWithoutProperties","Pagination","useTranslation","React","useMemo","useWatch","useFieldArray","GenericTable","GenericTableBody","GenericTableHeader","GenericTableHeaderCell","usePagination","AddAgent","AgentRow","module","link","default","exportDefault","_ref","control","register","t","fields","append","remove","name","agentList","_usePagination","current","itemsPerPage","setItemsPerPage","onSetItemsPerPage","setCurrent","onSetCurrent","paginationProps","_excluded","page","slice","createElement","Fragment","onAdd","w","map","agent","index","key","id","onRemove","divider","count","length"],"mappings":"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"}