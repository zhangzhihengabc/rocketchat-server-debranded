function module(e,t,n){let a,r,l,i,c,o,s,m,u,d,p,h,k,g,b,E,T,v,y,f,w,P,C,_,x,G;let N=["current","itemsPerPage","setItemsPerPage","setCurrent"];n.link("@babel/runtime/helpers/extends",{default(e){a=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default(e){r=e}},1),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){l=e}},2),n.link("@rocket.chat/fuselage",{Pagination(e){i=e}},0),n.link("@rocket.chat/fuselage-hooks",{useDebouncedValue(e){c=e},useMutableCallback(e){o=e}},1),n.link("@rocket.chat/ui-contexts",{useTranslation(e){s=e},useEndpoint(e){m=e},useRouter(e){u=e}},2),n.link("@tanstack/react-query",{useQuery(e){d=e},hashQueryKey(e){p=e}},3),n.link("react",{default(e){h=e},useState(e){k=e},useMemo(e){g=e}},4),n.link("../../../../components/FilterByText",{default(e){b=e}},5),n.link("../../../../components/GenericNoResults/GenericNoResults",{default(e){E=e}},6),n.link("../../../../components/GenericTable",{GenericTable(e){T=e},GenericTableBody(e){v=e},GenericTableCell(e){y=e},GenericTableHeader(e){f=e},GenericTableHeaderCell(e){w=e},GenericTableLoadingTable(e){P=e},GenericTableRow(e){C=e}},7),n.link("../../../../components/GenericTable/hooks/usePagination",{usePagination(e){_=e}},8),n.link("../../../../components/GenericTable/hooks/useSort",{useSort(e){x=e}},9),n.link("./DepartmentItemMenu",{default(e){G=e}},10);let R={department:"/v1/livechat/department",archived:"/v1/livechat/departments/archived"};n.exportDefault(e=>{let{archived:t}=e,n=s(),[S,A]=k(""),D=u(),I=c(S,500),O=_(),{current:F,itemsPerPage:M,setItemsPerPage:H,setCurrent:j}=O,B=l(O,N),{sortBy:L,sortDirection:Q,setSort:Y}=x("name"),q=m("GET",t?R.archived:R.department),J=o(()=>D.navigate("/omnichannel/departments/new")),K=g(()=>r(r({onlyMyDepartments:"true",text:I,sort:JSON.stringify({[L]:"asc"===Q?1:-1})},F&&{offset:F}),M&&{count:M}),[F,M,L,Q,I]),{data:V,isSuccess:W,isLoading:z}=d(["livechat-departments",K,t],async()=>q(K),{keepPreviousData:!0}),[U]=k(p([K])),X=U!==p([K]),Z=h.createElement(h.Fragment,null,h.createElement(w,{key:"name",direction:Q,active:"name"===L,onClick:Y,sort:"name"},n("Name")),h.createElement(w,{key:"description",direction:Q,active:"description"===L,onClick:Y,sort:"description"},n("Description")),h.createElement(w,{key:"numAgents",direction:Q,active:"numAgents"===L,onClick:Y,sort:"numAgents"},n("Num_Agents")),h.createElement(w,{key:"enabled",direction:Q,active:"enabled"===L,onClick:Y,sort:"enabled"},n("Enabled")),h.createElement(w,{key:"showOnRegistration",direction:Q,active:"showOnRegistration"===L,onClick:Y,sort:"showOnRegistration"},n("Show_on_registration_page")),h.createElement(w,{key:"spacer",w:40}));return h.createElement(h.Fragment,null,(W&&(null==V?void 0:V.departments.length)>0||X)&&h.createElement(b,{onChange:e=>{let{text:t}=e;return A(t)}}),z&&h.createElement(T,null,h.createElement(f,null,Z),h.createElement(v,null,h.createElement(P,{headerCells:6}))),W&&(null==V?void 0:V.departments.length)===0&&(X||t)&&h.createElement(E,null),W&&(null==V?void 0:V.departments.length)===0&&!X&&!t&&h.createElement(E,{icon:"folder",title:n("No_departments_yet"),description:n("No_departments_yet_description"),buttonAction:J,buttonTitle:n("Create_department"),linkHref:"https://go.rocket.chat/omnichannel-docs",linkText:n("Learn_more_about_departments")}),W&&(null==V?void 0:V.departments.length)>0&&h.createElement(h.Fragment,null,h.createElement(T,{"aria-busy":S!==I,"aria-live":"assertive"},h.createElement(f,null,Z),h.createElement(v,null,V.departments.map(e=>h.createElement(C,{key:e._id,tabIndex:0,width:"full"},h.createElement(y,{withTruncatedText:!0},e.name),h.createElement(y,{withTruncatedText:!0},e.description),h.createElement(y,{withTruncatedText:!0},e.numAgents||"0"),h.createElement(y,{withTruncatedText:!0},e.enabled?n("Yes"):n("No")),h.createElement(y,{withTruncatedText:!0},e.showOnRegistration?n("Yes"):n("No")),h.createElement(y,{withTruncatedText:!0},h.createElement(G,{department:e,archived:t})))))),h.createElement(i,a({divider:!0,current:F,itemsPerPage:M,count:(null==V?void 0:V.total)||0,onSetItemsPerPage:H,onSetCurrent:j},B))))})}
//# sourceMappingURL=/dynamic/client/views/omnichannel/departments/DepartmentsTable/7a45a3a3281412879dec53fc6e9e50caf8a39cd6.map
