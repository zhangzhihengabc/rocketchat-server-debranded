)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/agents/AgentInfoActions.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useSetModal, useToastMessageDispatch, useRouteParameter, useRoute, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport GenericModal from '../../../components/GenericModal';\nimport { useEndpointAction } from '../../../hooks/useEndpointAction';\nimport AgentInfoAction from './AgentInfoAction';\n\nconst AgentInfoActions = ({ reload }: { reload: () => void }): ReactElement => {\n\tconst t = useTranslation();\n\tconst _id = useRouteParameter('id') ?? '';\n\tconst agentsRoute = useRoute('omnichannel-agents');\n\tconst deleteAction = useEndpointAction('DELETE', '/v1/livechat/users/agent/:_id', { keys: { _id } });\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst handleRemoveClick = useMutableCallback(async () => {\n\t\tconst result = await deleteAction();\n\t\tif (result.success === true) {\n\t\t\tagentsRoute.push({});\n\t\t\treload();\n\t\t}\n\t});\n\n\tconst handleDelete = useMutableCallback((e) => {\n\t\te.stopPropagation();\n\t\tconst onDeleteAgent = async (): Promise<void> => {\n\t\t\ttry {\n\t\t\t\tawait handleRemoveClick();\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Agent_removed') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t}\n\t\t\tsetModal();\n\t\t};\n\n\t\tsetModal(<GenericModal variant='danger' onConfirm={onDeleteAgent} onCancel={(): void => setModal()} confirmText={t('Delete')} />);\n\t});\n\n\tconst handleEditClick = useMutableCallback(() =>\n\t\tagentsRoute.push({\n\t\t\tcontext: 'edit',\n\t\t\tid: _id,\n\t\t}),\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t<AgentInfoAction key={t('Edit')} title={t('Edit')} label={t('Edit')} onClick={handleEditClick} icon='edit' />\n\t\t\t<AgentInfoAction key={t('Remove')} title={t('Remove')} label={t('Remove')} onClick={handleDelete} icon='trash' />\n\t\t</>\n\t);\n};\n\nexport default AgentInfoActions;\n",null],"names":["useMutableCallback","useSetModal","useToastMessageDispatch","useRouteParameter","useRoute","useTranslation","React","GenericModal","useEndpointAction","AgentInfoAction","module","link","default","exportDefault","_ref","_useRouteParameter","reload","t","_id","agentsRoute","deleteAction","keys","setModal","dispatchToastMessage","handleRemoveClick","result","success","push","handleDelete","e","stopPropagation","onDeleteAgent","type","message","error","createElement","variant","onConfirm","onCancel","confirmText","handleEditClick","context","id","Fragment","key","title","label","onClick","icon"],"mappings":"2BAAAA,EAAiEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxDC,EAAoBC,IAAA,CAAM,8BAA8B,CAAAX,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAT,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAF,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,oBAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAAjEC,EAAOG,aAAE,CASgBC,IAAqD,IAAAC,EAAA,GAApD,CAAEC,OAAAA,CAAAA,CAAgC,CAAAF,EACrDG,EAAIZ,IACJa,EAAG,AAA0B,OAA1BH,CAAAA,EAAGZ,EAAkB,KAAI,GAACY,AAAA,KAAA,IAAAA,EAAAA,EAAI,GACjCI,EAAcf,EAAS,sBACvBgB,EAAeZ,EAAkB,SAAU,gCAAiC,CAAEa,KAAM,CAAEH,IAAAA,CAAG,CAAE,GAC3FI,EAAWrB,IACXsB,EAAuBrB,IAEvBsB,EAAoBxB,EAAmB,UAC5C,IAAMyB,EAAS,MAAML,GACE,EAAA,IAAnBK,EAAOC,OAAO,GACjBP,EAAYQ,IAAI,CAAC,CAAA,GACjBX,IAEF,GAEMY,EAAe5B,EAAoB6B,IACxCA,EAAEC,eAAe,GACjB,IAAMC,EAAgB,UACrB,GAAI,CACH,MAAMP,IACND,EAAqB,CAAES,KAAM,UAAWC,QAAShB,EAAE,gBAAgB,GAClE,MAAOiB,EAAO,CACfX,EAAqB,CAAES,KAAM,QAASC,QAASC,CAAK,GAErDZ,GACD,EAEAA,EAAShB,EAAA6B,aAAA,CAAC5B,EAAY,CAAC6B,QAAQ,SAASC,UAAWN,EAAeO,SAAU,IAAYhB,IAAYiB,YAAatB,EAAE,SAAU,GAC9H,GAEMuB,EAAkBxC,EAAmB,IAC1CmB,EAAYQ,IAAI,CAAC,CAChBc,QAAS,OACTC,GAAIxB,KAIN,OACCZ,EAAA6B,aAAA,CAAA7B,EAAAqC,QAAA,CAAA,KACCrC,EAAA6B,aAAA,CAAC1B,EAAe,CAACmC,IAAK3B,EAAE,QAAS4B,MAAO5B,EAAE,QAAS6B,MAAO7B,EAAE,QAAS8B,QAASP,EAAiBQ,KAAK,MAAM,GAC1G1C,EAAA6B,aAAA,CAAC1B,EAAe,CAACmC,IAAK3B,EAAE,UAAW4B,MAAO5B,EAAE,UAAW6B,MAAO7B,EAAE,UAAW8B,QAASnB,EAAcoB,KAAK,OAAO,GAGjH"}