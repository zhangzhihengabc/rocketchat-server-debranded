)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/agents/AgentsTable/AgentsTableRow.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box } from '@rocket.chat/fuselage';\nimport { useRoute, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQueryClient } from '@tanstack/react-query';\nimport type { ReactElement } from 'react';\nimport React, { useCallback } from 'react';\n\nimport { GenericTableRow, GenericTableCell } from '../../../../components/GenericTable';\nimport UserAvatar from '../../../../components/avatar/UserAvatar';\nimport RemoveAgentButton from './RemoveAgentButton';\n\nconst AgentsTableRow = ({\n\tuser: { _id, name, username, avatarETag, emails, statusLivechat, departments },\n\tmediaQuery,\n\treload,\n}: {\n\tuser: {\n\t\t_id: string;\n\t\tname?: string;\n\t\tusername?: string;\n\t\tavatarETag?: string;\n\t\temails?: { address: string }[];\n\t\tstatusLivechat: string;\n\t\tdepartments: string[];\n\t};\n\tmediaQuery: boolean;\n\treload: () => void;\n}): ReactElement => {\n\tconst t = useTranslation();\n\tconst agentsRoute = useRoute('omnichannel-agents');\n\tconst queryClient = useQueryClient();\n\n\tconst onRowClick = useCallback(() => {\n\t\tagentsRoute.push({\n\t\t\tcontext: 'info',\n\t\t\tid: _id,\n\t\t});\n\t}, [_id, agentsRoute]);\n\n\tconst onAgentRemoved = useCallback(() => {\n\t\tdepartments.forEach((departmentId) => {\n\t\t\tqueryClient.removeQueries(['/v1/livechat/department/:_id', departmentId]);\n\t\t});\n\t}, [queryClient, departments]);\n\n\treturn (\n\t\t<GenericTableRow action onClick={onRowClick}>\n\t\t\t<GenericTableCell>\n\t\t\t\t<Box display='flex' alignItems='center'>\n\t\t\t\t\t{username && <UserAvatar size={mediaQuery ? 'x28' : 'x40'} title={username} username={username} etag={avatarETag} />}\n\t\t\t\t\t<Box display='flex' withTruncatedText mi={8}>\n\t\t\t\t\t\t<Box display='flex' flexDirection='column' alignSelf='center' withTruncatedText>\n\t\t\t\t\t\t\t<Box fontScale='p2m' withTruncatedText color='default'>\n\t\t\t\t\t\t\t\t{name || username}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t{!mediaQuery && name && (\n\t\t\t\t\t\t\t\t<Box fontScale='p2' color='hint' withTruncatedText>\n\t\t\t\t\t\t\t\t\t{`@${username}`}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t\t{mediaQuery && (\n\t\t\t\t<GenericTableCell>\n\t\t\t\t\t<Box fontScale='p2m' withTruncatedText color='hint'>\n\t\t\t\t\t\t{username}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box mi={4} />\n\t\t\t\t</GenericTableCell>\n\t\t\t)}\n\t\t\t<GenericTableCell withTruncatedText>{emails?.length && emails[0].address}</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{statusLivechat === 'available' ? t('Available') : t('Not_Available')}</GenericTableCell>\n\t\t\t<RemoveAgentButton _id={_id} reload={reload} onAgentRemoved={onAgentRemoved} />\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default AgentsTableRow;\n",null],"names":["Box","useRoute","useTranslation","useQueryClient","React","useCallback","GenericTableRow","GenericTableCell","UserAvatar","RemoveAgentButton","module","link","default","exportDefault","_ref","user","_id","name","username","avatarETag","emails","statusLivechat","departments","mediaQuery","reload","t","agentsRoute","queryClient","onRowClick","push","context","id","onAgentRemoved","forEach","departmentId","removeQueries","createElement","action","onClick","display","alignItems","size","title","etag","withTruncatedText","mi","flexDirection","alignSelf","fontScale","color","concat","length","address"],"mappings":"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"}