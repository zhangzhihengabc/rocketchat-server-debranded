)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/analytics/AnalyticsPage.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { SelectOption } from '@rocket.chat/fuselage';\nimport { Box, Select, Margins, Field, FieldLabel, FieldRow, Label } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useMemo, useState, useEffect } from 'react';\n\nimport AutoCompleteDepartment from '../../../components/AutoCompleteDepartment';\nimport Page from '../../../components/Page';\nimport AgentOverview from './AgentOverview';\nimport DateRangePicker from './DateRangePicker';\nimport InterchangeableChart from './InterchangeableChart';\nimport Overview from './Overview';\n\nconst useOptions = (type: string): SelectOption[] => {\n\tconst t = useTranslation();\n\treturn useMemo(() => {\n\t\tif (type === 'Conversations') {\n\t\t\treturn [\n\t\t\t\t['Total_conversations', t('Total_conversations')],\n\t\t\t\t['Avg_chat_duration', t('Avg_chat_duration')],\n\t\t\t\t['Total_messages', t('Total_messages')],\n\t\t\t];\n\t\t}\n\t\treturn [\n\t\t\t['Avg_first_response_time', t('Avg_first_response_time')],\n\t\t\t['Best_first_response_time', t('Best_first_response_time')],\n\t\t\t['Avg_response_time', t('Avg_response_time')],\n\t\t\t['Avg_reaction_time', t('Avg_reaction_time')],\n\t\t];\n\t}, [t, type]);\n};\n\nconst AnalyticsPage = () => {\n\tconst t = useTranslation();\n\tconst [type, setType] = useState('Conversations');\n\tconst [department, setDepartment] = useState<string | null>(null);\n\tconst [dateRange, setDateRange] = useState({ start: '', end: '' });\n\tconst [chartName, setChartName] = useState<string | undefined>();\n\n\tconst typeOptions: SelectOption[] = useMemo(\n\t\t() => [\n\t\t\t['Conversations', t('Conversations')],\n\t\t\t['Productivity', t('Productivity')],\n\t\t],\n\t\t[t],\n\t);\n\n\tconst graphOptions: SelectOption[] = useOptions(type);\n\n\tuseEffect(() => {\n\t\tsetChartName(graphOptions[0][0]);\n\t}, [graphOptions]);\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Analytics')} />\n\t\t\t<Page.ScrollableContentWithShadow display='flex' flexDirection='column'>\n\t\t\t\t<Margins block={4}>\n\t\t\t\t\t<Box display='flex' mi='neg-x4' flexWrap='wrap' flexGrow={1}>\n\t\t\t\t\t\t<Box display='flex' flexWrap='wrap' flexGrow={1}>\n\t\t\t\t\t\t\t<Box display='flex' mi={4} flexDirection='column' flexGrow={1}>\n\t\t\t\t\t\t\t\t<Label mb={4}>{t('Type')}</Label>\n\t\t\t\t\t\t\t\t<Select options={typeOptions} value={type} onChange={(value) => setType(String(value))} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t<Box display='flex' mi={4} flexDirection='column' flexGrow={1}>\n\t\t\t\t\t\t\t\t<Label mb={4}>{t('Departments')}</Label>\n\t\t\t\t\t\t\t\t<AutoCompleteDepartment value={department || undefined} onChange={setDepartment} onlyMyDepartments />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<DateRangePicker flexGrow={1} mi={4} onChange={setDateRange} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box>\n\t\t\t\t\t\t<Overview type={type} dateRange={dateRange} departmentId={department || ''} />\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex'>\n\t\t\t\t\t\t<Margins inline={2}>\n\t\t\t\t\t\t\t<Field>\n\t\t\t\t\t\t\t\t<FieldLabel>{t('Chart')}</FieldLabel>\n\t\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t\t<Select options={graphOptions} value={chartName} onChange={(value) => setChartName(String(value))} />\n\t\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t</Margins>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex' flexGrow={1} flexShrink={1}>\n\t\t\t\t\t\t<InterchangeableChart\n\t\t\t\t\t\t\tflexShrink={1}\n\t\t\t\t\t\t\tw='66%'\n\t\t\t\t\t\t\th='100%'\n\t\t\t\t\t\t\tchartName={chartName || ''}\n\t\t\t\t\t\t\tdepartmentId={department || ''}\n\t\t\t\t\t\t\tdateRange={dateRange}\n\t\t\t\t\t\t\talignSelf='stretch'\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Box display='flex' w='33%' justifyContent='stretch' p={10} mis={4}>\n\t\t\t\t\t\t\t<AgentOverview type={chartName || ''} dateRange={dateRange} departmentId={department || ''} />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Margins>\n\t\t\t</Page.ScrollableContentWithShadow>\n\t\t</Page>\n\t);\n};\n\nexport default AnalyticsPage;\n",null],"names":["Box","Select","Margins","Field","FieldLabel","FieldRow","Label","useTranslation","React","useMemo","useState","useEffect","AutoCompleteDepartment","Page","AgentOverview","DateRangePicker","InterchangeableChart","Overview","module","link","v","default","useOptions","type","t","exportDefault","setType","department","setDepartment","dateRange","setDateRange","start","end","chartName","setChartName","typeOptions","graphOptions","createElement","Header","title","ScrollableContentWithShadow","display","flexDirection","block","mi","flexWrap","flexGrow","mb","options","value","onChange","String","undefined","onlyMyDepartments","departmentId","inline","flexShrink","w","h","alignSelf","justifyContent","p","mis"],"mappings":"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"}