)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/omnichannel/analytics/AgentOverview.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Table, TableBody, TableCell, TableHead, TableRow } from '@rocket.chat/fuselage';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useMemo, useEffect, useState } from 'react';\n\nconst style = { width: '100%' };\n\nconst AgentOverview = ({\n\ttype,\n\tdateRange,\n\tdepartmentId,\n}: {\n\ttype: string;\n\tdateRange: { start: string; end: string };\n\tdepartmentId: string;\n}) => {\n\tconst t = useTranslation();\n\tconst { start, end } = dateRange;\n\n\tconst params = useMemo(\n\t\t() => ({\n\t\t\tname: type,\n\t\t\tfrom: start,\n\t\t\tto: end,\n\t\t\t...(departmentId && { departmentId }),\n\t\t}),\n\t\t[departmentId, end, start, type],\n\t);\n\n\tconst [displayData, setDisplayData] = useState<{ head: { name: string }[]; data: { name: string; value: number | string }[] }>({\n\t\thead: [],\n\t\tdata: [],\n\t});\n\n\tconst loadData = useEndpoint('GET', '/v1/livechat/analytics/agent-overview');\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tif (!start || !end) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst value = await loadData(params);\n\t\t\tsetDisplayData(value);\n\t\t}\n\t\tfetchData();\n\t}, [start, end, loadData, params]);\n\n\treturn (\n\t\t<Table style={style} fixed>\n\t\t\t<TableHead>\n\t\t\t\t<TableRow>\n\t\t\t\t\t{displayData.head?.map(({ name }, i) => (\n\t\t\t\t\t\t<TableCell key={i}>{t(name as TranslationKey)}</TableCell>\n\t\t\t\t\t))}\n\t\t\t\t</TableRow>\n\t\t\t</TableHead>\n\t\t\t<TableBody>\n\t\t\t\t{displayData.data?.map(({ name, value }, i) => (\n\t\t\t\t\t<TableRow key={i}>\n\t\t\t\t\t\t<TableCell>{name}</TableCell>\n\t\t\t\t\t\t<TableCell>{value}</TableCell>\n\t\t\t\t\t</TableRow>\n\t\t\t\t))}\n\t\t\t</TableBody>\n\t\t</Table>\n\t);\n};\n\nexport default AgentOverview;\n",null],"names":["_objectSpread","Table","TableBody","TableCell","TableHead","TableRow","useEndpoint","useTranslation","React","useMemo","useEffect","useState","module","link","default","v","style","width","exportDefault","_ref","_displayData$head","_displayData$data","type","dateRange","departmentId","t","start","end","params","name","from","to","displayData","setDisplayData","head","data","loadData","fetchData","value","createElement","fixed","map","_ref2","i","key","_ref3"],"mappings":"2BAAAA,EAAAC,EAASC,EAAOC,EAAWC,EAAWC,EAAmDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAzEC,EAASC,IAAE,CAAA,uCAAsC,CAAAC,QAAAA,CAAAA,EAAAd,EAAwBe,CAAA,CAAA,EAAA,GAAxCH,EAAAA,IAAU,CAAA,wBAAM,CAAAX,MAAwBc,CAAA,EAAAd,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAN,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAKzF,IAAMK,EAAQ,CAAEC,MAAO,MAAM,EAL7BL,EAAOM,aAAS,CAOMC,IAQjB,IAAAC,EAAAC,EAAA,GARkB,CACtBC,KAAAA,CAAI,CACJC,UAAAA,CAAS,CACTC,aAAAA,CAAAA,CAKA,CAAAL,EACMM,EAAIlB,IACJ,CAAEmB,MAAAA,CAAK,CAAEC,IAAAA,CAAAA,CAAK,CAAGJ,EAEjBK,EAASnB,EACd,IAAAT,EAAA,CACC6B,KAAMP,EACNQ,KAAMJ,EACNK,GAAIJ,CAAG,EACHH,GAAgB,CAAEA,aAAAA,CAAY,GAEnC,CAACA,EAAcG,EAAKD,EAAOJ,EAAK,EAG3B,CAACU,EAAaC,EAAe,CAAGtB,EAAyF,CAC9HuB,KAAM,EAAE,CACRC,KAAM,EAAA,GAGDC,EAAW9B,EAAY,MAAO,yCAapC,OAXAI,EAAU,KAQT2B,AAPA,CAAA,eAAeA,IACd,GAAI,CAACX,GAAS,CAACC,EACd,OAED,IAAMW,EAAQ,MAAMF,EAASR,GAC7BK,EAAeK,EAChB,CAAA,GAED,EAAG,CAACZ,EAAOC,EAAKS,EAAUR,EAAO,EAGhCpB,EAAA+B,aAAA,CAACtC,EAAK,CAACe,MAAOA,EAAOwB,MAAK,CAAA,CAAA,EACzBhC,EAAA+B,aAAA,CAACnC,EAAS,KACTI,EAAA+B,aAAA,CAAClC,EAAQ,KAAA,AACS,OADTe,CAAAA,EACPY,EAAYE,IAAI,AAAJA,GAAId,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAhBA,EAAkBqB,GAAG,CAAC,CAAAC,EAAWC,KAAC,GAAX,CAAEd,KAAAA,CAAAA,CAAM,CAAAa,EAAA,OAC/BlC,EAAA+B,aAAA,CAACpC,EAAS,CAACyC,IAAKD,CAAE,EAAElB,EAAEI,GAAoC,KAI7DrB,EAAA+B,aAAA,CAACrC,EAAS,KAAA,AACQ,OADRmB,CAAAA,EACRW,EAAYG,IAAI,AAAJA,GAAId,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAhBA,EAAkBoB,GAAG,CAAC,CAAAI,EAAkBF,KAAC,GAAlB,CAAEd,KAAAA,CAAI,CAAES,MAAAA,CAAAA,CAAO,CAAAO,EAAA,OACtCrC,EAAA+B,aAAA,CAAClC,EAAQ,CAACuC,IAAKD,CAAE,EAChBnC,EAAA+B,aAAA,CAACpC,EAAS,KAAE0B,GACZrB,EAAA+B,aAAA,CAACpC,EAAS,KAAEmC,GACF,IAKhB"}