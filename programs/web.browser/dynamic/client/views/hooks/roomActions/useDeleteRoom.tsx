function module(e,t,n){let a,o,l,s,i,r,m,u,c,d,g,k,f;n.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},0),n.export({useDeleteRoom:()=>h}),n.link("@rocket.chat/core-typings",{isRoomFederated(e){o=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){l=e}},1),n.link("@rocket.chat/ui-contexts",{useSetModal(e){s=e},useToastMessageDispatch(e){i=e},useRouter(e){r=e},usePermission(e){m=e},useEndpoint(e){u=e},useTranslation(e){c=e}},2),n.link("@tanstack/react-query",{useMutation(e){d=e}},3),n.link("react",{default(e){g=e}},4),n.link("../../../components/GenericModal",{default(e){k=e}},5),n.link("../../teams/contextualBar/info/DeleteTeam",{default(e){f=e}},6);let h=function(e){let{reload:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c(),h=r(),_=s(),p=i(),y=m("delete-".concat(e.t),e._id),v=!o(e)&&y,S="admin-rooms"===h.getRouteName(),b=u("POST","/v1/rooms.delete"),I=u("POST","/v1/teams.delete"),T=d({mutationFn:b,onSuccess:()=>(p({type:"success",message:n("Room_has_been_deleted")}),S)?h.navigate("/admin/rooms"):h.navigate("/home"),onError:e=>{p({type:"error",message:e})},onSettled:()=>{_(null),null==t||t()}}),M=d({mutationFn:I,onSuccess:()=>(p({type:"success",message:n("Team_has_been_deleted")}),S)?h.navigate("/admin/rooms"):h.navigate("/home"),onError:e=>{p({type:"error",message:e})},onSettled:()=>{_(null),null==t||t()}}),R=M.isLoading||T.isLoading,C=l(()=>{let t=async t=>{e.teamId&&M.mutateAsync(a({teamId:e.teamId},t.length&&{roomsToRemove:t}))};if(e.teamMain&&e.teamId)return _(g.createElement(f,{onConfirm:t,onCancel:()=>_(null),teamId:e.teamId}));let o=async()=>{T.mutateAsync({roomId:e._id})};_(g.createElement(k,{variant:"danger",onConfirm:o,onCancel:()=>_(null),confirmText:n("Yes_delete_it")},n("Delete_Room_Warning")))});return{handleDelete:C,canDeleteRoom:v,isDeleting:R}}}
//# sourceMappingURL=/dynamic/client/views/hooks/roomActions/4a71fb36aec253c4edf85b67d29315cc014a3cb3.map
