)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/composer/EmojiPicker/EmojiPicker.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { TextInput, Icon, Button, Divider } from '@rocket.chat/fuselage';\nimport { useMediaQuery, useOutsideClick } from '@rocket.chat/fuselage-hooks';\nimport {\n\tEmojiPickerCategoryHeader,\n\tEmojiPickerContainer,\n\tEmojiPickerFooter,\n\tEmojiPickerPreviewArea,\n\tEmojiPickerHeader,\n\tEmojiPickerListArea,\n\tEmojiPickerPreview,\n} from '@rocket.chat/ui-client';\nimport { useTranslation, usePermission, useRoute } from '@rocket.chat/ui-contexts';\nimport type { ChangeEvent, KeyboardEvent, MouseEvent, RefObject } from 'react';\nimport React, { useLayoutEffect, useState, useEffect, useRef } from 'react';\nimport type { VirtuosoHandle } from 'react-virtuoso';\n\nimport type { EmojiItem, EmojiCategoryPosition } from '../../../../app/emoji/client';\nimport { emoji, getCategoriesList, getEmojisBySearchTerm } from '../../../../app/emoji/client';\nimport { usePreviewEmoji, useEmojiPickerData } from '../../../contexts/EmojiPickerContext';\nimport { useIsVisible } from '../../room/hooks/useIsVisible';\nimport CategoriesResult from './CategoriesResult';\nimport EmojiPickerCategoryItem from './EmojiPickerCategoryItem';\nimport EmojiPickerDropdown from './EmojiPickerDropDown';\nimport SearchingResult from './SearchingResult';\nimport ToneSelector from './ToneSelector';\nimport ToneSelectorWrapper from './ToneSelector/ToneSelectorWrapper';\n\ntype EmojiPickerProps = {\n\treference: Element;\n\tonClose: () => void;\n\tonPickEmoji: (emoji: string) => void;\n};\n\nconst EmojiPicker = ({ reference, onClose, onPickEmoji }: EmojiPickerProps) => {\n\tconst t = useTranslation();\n\n\tconst ref = useRef<Element | null>(reference);\n\tconst categoriesPosition = useRef<EmojiCategoryPosition[]>([]);\n\tconst textInputRef = useRef<HTMLInputElement>(null);\n\tconst virtuosoRef = useRef<VirtuosoHandle>(null);\n\tconst emojiContainerRef = useRef<HTMLDivElement>(null);\n\n\tconst isInputVisible = useIsVisible(textInputRef);\n\n\tconst emojiCategories = getCategoriesList();\n\n\tconst canManageEmoji = usePermission('manage-emoji');\n\tconst customEmojiRoute = useRoute('emoji-custom');\n\n\tconst [searching, setSearching] = useState(false);\n\tconst [searchTerm, setSearchTerm] = useState('');\n\tconst [searchResults, setSearchResults] = useState<EmojiItem[]>([]);\n\n\tconst { emojiToPreview, handleRemovePreview } = usePreviewEmoji();\n\tconst {\n\t\trecentEmojis,\n\t\tsetCurrentCategory,\n\t\taddRecentEmoji,\n\t\tsetRecentEmojis,\n\t\tactualTone,\n\t\tcurrentCategory,\n\t\tgetEmojiListsByCategory,\n\t\tcustomItemsLimit,\n\t\tsetActualTone,\n\t\tsetCustomItemsLimit,\n\t} = useEmojiPickerData();\n\n\tuseEffect(() => () => handleRemovePreview(), [handleRemovePreview]);\n\n\tconst scrollCategories = useMediaQuery('(width < 340px)');\n\n\tuseOutsideClick([emojiContainerRef], onClose);\n\n\tuseLayoutEffect(() => {\n\t\tif (!reference) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst resizeObserver = new ResizeObserver(() => {\n\t\t\tconst anchorRect = reference.getBoundingClientRect();\n\t\t\tif (anchorRect.width === 0 && anchorRect.height === 0) {\n\t\t\t\t// The element is hidden, skip it\n\t\t\t\tref.current = null;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tref.current = reference;\n\t\t});\n\n\t\tresizeObserver.observe(reference);\n\n\t\treturn () => {\n\t\t\tresizeObserver.disconnect();\n\t\t};\n\t}, [reference]);\n\n\tuseEffect(() => {\n\t\tif (textInputRef.current && isInputVisible) {\n\t\t\ttextInputRef.current.focus();\n\t\t}\n\t}, [isInputVisible]);\n\n\tconst handleSelectEmoji = (event: MouseEvent<HTMLElement>) => {\n\t\tevent.stopPropagation();\n\n\t\tconst _emoji = event.currentTarget.dataset?.emoji;\n\n\t\tif (!_emoji) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet tone = '';\n\n\t\tfor (const emojiPackage in emoji.packages) {\n\t\t\tif (emoji.packages.hasOwnProperty(emojiPackage)) {\n\t\t\t\tif (actualTone > 0 && emoji.packages[emojiPackage].toneList.hasOwnProperty(_emoji)) {\n\t\t\t\t\ttone = `_tone${actualTone}`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsetSearchTerm('');\n\n\t\tonPickEmoji(_emoji + tone);\n\t\taddRecentEmoji(_emoji + tone);\n\t\tonClose();\n\t};\n\n\tuseEffect(() => {\n\t\tif (recentEmojis.length === 0 && currentCategory === 'recent') {\n\t\t\tconst customEmojiList = getEmojiListsByCategory().filter(({ key }) => key === 'rocket');\n\t\t\thandleGoToCategory(customEmojiList.length > 0 ? 0 : 1);\n\t\t}\n\t}, [actualTone, recentEmojis, getEmojiListsByCategory, currentCategory, setRecentEmojis]);\n\n\tconst handleSearch = (e: ChangeEvent<HTMLInputElement>) => {\n\t\tsetSearchTerm(e.target.value);\n\t\tsetCurrentCategory('');\n\t\tsetSearching(e.target.value !== '');\n\n\t\tconst emojisResult = getEmojisBySearchTerm(e.target.value, actualTone, recentEmojis, setRecentEmojis);\n\n\t\tif (emojisResult.filter((emoji) => emoji.image).length === 0) {\n\t\t\tsetCurrentCategory('no-results');\n\t\t}\n\t\tsetSearchResults(emojisResult as EmojiItem[]);\n\t};\n\n\tconst handleKeyDown = (e: KeyboardEvent<HTMLInputElement>) => {\n\t\tif (e.key === 'Escape') {\n\t\t\tonClose();\n\t\t}\n\t};\n\n\tconst handleLoadMore = () => {\n\t\tsetCustomItemsLimit(customItemsLimit + 90);\n\t};\n\n\t// FIXME: not able to type the event scroll yet due the virtuoso version\n\tconst handleScroll = (event: any) => {\n\t\tconst scrollTop = event?.scrollTop;\n\t\tconst last = categoriesPosition.current?.filter((pos) => pos.top <= scrollTop).pop();\n\n\t\tif (!last) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { el } = last;\n\t\tconst category = el.id.replace('emoji-list-category-', '');\n\n\t\tsetCurrentCategory(category);\n\t};\n\n\tconst handleGoToCategory = (categoryIndex: number) => {\n\t\tsetSearching(false);\n\t\tvirtuosoRef.current?.scrollToIndex({ index: categoryIndex });\n\t};\n\n\tconst handleGoToAddCustom = () => {\n\t\tcustomEmojiRoute.push();\n\t\tonClose();\n\t};\n\n\treturn (\n\t\t<EmojiPickerDropdown reference={ref as RefObject<HTMLElement>} ref={emojiContainerRef}>\n\t\t\t<EmojiPickerContainer role='dialog' aria-label={t('Emoji_picker')} onKeyDown={handleKeyDown}>\n\t\t\t\t<EmojiPickerHeader>\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tref={textInputRef}\n\t\t\t\t\t\tvalue={searchTerm}\n\t\t\t\t\t\tonChange={handleSearch}\n\t\t\t\t\t\taddon={<Icon name='magnifier' size='x20' />}\n\t\t\t\t\t\tplaceholder={t('Search')}\n\t\t\t\t\t\taria-label={t('Search')}\n\t\t\t\t\t/>\n\t\t\t\t</EmojiPickerHeader>\n\t\t\t\t<EmojiPickerCategoryHeader role='tablist' {...(scrollCategories && { overflowX: 'scroll', h: 'x64' })}>\n\t\t\t\t\t{emojiCategories.map((category, index) => (\n\t\t\t\t\t\t<EmojiPickerCategoryItem\n\t\t\t\t\t\t\tkey={category.key}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\tcategory={category}\n\t\t\t\t\t\t\tactive={category.key === currentCategory}\n\t\t\t\t\t\t\thandleGoToCategory={handleGoToCategory}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</EmojiPickerCategoryHeader>\n\t\t\t\t<Divider mb={12} />\n\t\t\t\t<EmojiPickerListArea role='tabpanel'>\n\t\t\t\t\t{searching && <SearchingResult searchResults={searchResults} handleSelectEmoji={handleSelectEmoji} />}\n\t\t\t\t\t{!searching && (\n\t\t\t\t\t\t<CategoriesResult\n\t\t\t\t\t\t\tref={virtuosoRef}\n\t\t\t\t\t\t\temojiListByCategory={getEmojiListsByCategory()}\n\t\t\t\t\t\t\tcategoriesPosition={categoriesPosition}\n\t\t\t\t\t\t\tcustomItemsLimit={customItemsLimit}\n\t\t\t\t\t\t\thandleLoadMore={handleLoadMore}\n\t\t\t\t\t\t\thandleSelectEmoji={handleSelectEmoji}\n\t\t\t\t\t\t\thandleScroll={handleScroll}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</EmojiPickerListArea>\n\t\t\t\t<EmojiPickerPreviewArea>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{emojiToPreview && <EmojiPickerPreview emoji={emojiToPreview.emoji} name={emojiToPreview.name} />}\n\t\t\t\t\t\t{canManageEmoji && emojiToPreview === null && (\n\t\t\t\t\t\t\t<Button small onClick={handleGoToAddCustom}>\n\t\t\t\t\t\t\t\t{t('Add_emoji')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<ToneSelectorWrapper caption={t('Skin_tone')}>\n\t\t\t\t\t\t<ToneSelector tone={actualTone} setTone={setActualTone} />\n\t\t\t\t\t</ToneSelectorWrapper>\n\t\t\t\t</EmojiPickerPreviewArea>\n\t\t\t\t<EmojiPickerFooter>{t('Powered_by_JoyPixels')}</EmojiPickerFooter>\n\t\t\t</EmojiPickerContainer>\n\t\t</EmojiPickerDropdown>\n\t);\n};\n\nexport default EmojiPicker;\n",null],"names":["_extends","TextInput","Icon","Button","Divider","useMediaQuery","useOutsideClick","EmojiPickerCategoryHeader","EmojiPickerContainer","EmojiPickerFooter","EmojiPickerPreviewArea","EmojiPickerHeader","EmojiPickerListArea","EmojiPickerPreview","useTranslation","usePermission","useRoute","React","useLayoutEffect","useState","useEffect","useRef","emoji","getCategoriesList","getEmojisBySearchTerm","usePreviewEmoji","useEmojiPickerData","useIsVisible","CategoriesResult","EmojiPickerCategoryItem","EmojiPickerDropdown","SearchingResult","ToneSelector","ToneSelectorWrapper","module","link","default","v","exportDefault","_ref","reference","onClose","onPickEmoji","t","ref","categoriesPosition","textInputRef","virtuosoRef","emojiContainerRef","isInputVisible","emojiCategories","canManageEmoji","customEmojiRoute","searching","setSearching","searchTerm","setSearchTerm","searchResults","setSearchResults","emojiToPreview","handleRemovePreview","recentEmojis","setCurrentCategory","addRecentEmoji","setRecentEmojis","actualTone","currentCategory","getEmojiListsByCategory","customItemsLimit","setActualTone","setCustomItemsLimit","scrollCategories","resizeObserver","ResizeObserver","anchorRect","getBoundingClientRect","width","height","current","observe","disconnect","focus","handleSelectEmoji","event","_event$currentTarget$","stopPropagation","_emoji","currentTarget","dataset","tone","emojiPackage","packages","hasOwnProperty","toneList","concat","length","customEmojiList","filter","_ref2","key","handleGoToCategory","categoryIndex","_virtuosoRef$current","scrollToIndex","index","createElement","role","onKeyDown","e","autoFocus","value","onChange","target","emojisResult","image","addon","name","size","placeholder","overflowX","h","map","category","active","mb","emojiListByCategory","handleLoadMore","handleScroll","_categoriesPosition$c","scrollTop","last","pos","top","pop","el","id","replace","small","onClick","push","caption","setTone"],"mappings":"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"}