)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/composer/EmojiPicker/ToneSelector/ToneSelector.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { IconButton, useCursor, PositionAnimated, Options } from '@rocket.chat/fuselage';\nimport type { ReactElement } from 'react';\nimport React, { useMemo, useRef, useCallback, useEffect } from 'react';\n\nimport ToneItem from './ToneItem';\n\nconst ToneSelector = ({ tone, setTone }: { tone: number; setTone: (tone: number) => void }) => {\n\tconst options = useMemo(() => {\n\t\tconst renderOption = (tone: number): ReactElement => <ToneItem tone={tone} />;\n\n\t\tconst statuses: Array<[value: number, label: ReactElement, selected: boolean]> = [\n\t\t\t[0, renderOption(0), tone === 0],\n\t\t\t[1, renderOption(1), tone === 1],\n\t\t\t[2, renderOption(2), tone === 2],\n\t\t\t[3, renderOption(3), tone === 3],\n\t\t\t[4, renderOption(4), tone === 4],\n\t\t\t[5, renderOption(5), tone === 5],\n\t\t];\n\n\t\treturn statuses;\n\t}, [tone]);\n\n\tconst [cursor, handleKeyDown, handleKeyUp, reset, [visible, hide, show]] = useCursor(-1, options, ([selected], [, hide]) => {\n\t\tsetTone(selected);\n\t\treset();\n\t\thide();\n\t});\n\n\tconst ref = useRef<HTMLButtonElement>(null);\n\tconst onClick = useCallback(() => {\n\t\tif (!ref?.current) {\n\t\t\treturn;\n\t\t}\n\t\tref.current.focus();\n\t\tshow();\n\t\tref.current.classList.add('focus-visible');\n\t}, [show]);\n\n\tconst handleSelection = useCallback(\n\t\t([selected]) => {\n\t\t\tsetTone(selected);\n\t\t\treset();\n\t\t\thide();\n\t\t},\n\t\t[hide, reset, setTone],\n\t);\n\n\tuseEffect(() => setTone(tone), [tone, setTone]);\n\n\treturn (\n\t\t<>\n\t\t\t<IconButton\n\t\t\t\tmedium\n\t\t\t\tref={ref}\n\t\t\t\tonClick={onClick}\n\t\t\t\tonBlur={hide}\n\t\t\t\tonKeyUp={handleKeyUp}\n\t\t\t\tonKeyDown={handleKeyDown}\n\t\t\t\tmis={4}\n\t\t\t\ticon={<ToneItem tone={tone} />}\n\t\t\t/>\n\t\t\t<PositionAnimated width='auto' visible={visible} anchor={ref} placement='left-middle'>\n\t\t\t\t<Options onSelect={handleSelection} options={options} cursor={cursor} />\n\t\t\t</PositionAnimated>\n\t\t</>\n\t);\n};\n\nexport default ToneSelector;\n",null],"names":["IconButton","useCursor","PositionAnimated","Options","React","useMemo","useRef","useCallback","useEffect","ToneItem","module","link","v","default","exportDefault","_ref","tone","setTone","options","renderOption","createElement","statuses","cursor","handleKeyDown","handleKeyUp","reset","visible","hide","show","_ref2","_ref3","selected","ref","onClick","current","focus","classList","add","handleSelection","_ref4","Fragment","medium","onBlur","onKeyUp","onKeyDown","mis","icon","width","anchor","placement","onSelect"],"mappings":"2BAAAA,EAASC,EAAYC,EAAWC,EAAyDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvCC,EAAOC,IAAE,CAAA,wBAAM,CAAAX,WAAwBY,CAAA,EAAAZ,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,iBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,QAAAA,CAAAG,QAAAA,CAAAA,EAAAT,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,aAAAA,CAAAG,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAzFC,EAAOI,aAAY,CAMEC,IAAyE,GAAxE,CAAEC,KAAAA,CAAI,CAAEC,QAAAA,CAAAA,CAA4D,CAAAF,EACnFG,EAAUb,EAAQ,KACvB,IAAMc,EAAgBH,GAA+BZ,EAAAgB,aAAA,CAACX,EAAQ,CAACO,KAAMA,CAAK,GAEpEK,EAA2E,CAChF,CAAC,EAAGF,EAAa,GAAIH,AAAS,IAATA,EAAW,CAChC,CAAC,EAAGG,EAAa,GAAIH,AAAS,IAATA,EAAW,CAChC,CAAC,EAAGG,EAAa,GAAIH,AAAS,IAATA,EAAW,CAChC,CAAC,EAAGG,EAAa,GAAIH,AAAS,IAATA,EAAW,CAChC,CAAC,EAAGG,EAAa,GAAIH,AAAS,IAATA,EAAW,CAChC,CAAC,EAAGG,EAAa,GAAIH,AAAS,IAATA,EAAW,CAChC,CAED,OAAOK,CACR,EAAG,CAACL,EAAK,EAEH,CAACM,EAAQC,EAAeC,EAAaC,EAAO,CAACC,EAASC,EAAMC,EAAK,CAAC,CAAG3B,EAAU,GAAIiB,EAAS,CAAAW,EAAAC,KAAyB,GAAxB,CAACC,EAAS,CAAAF,EAAE,EAAGF,EAAK,CAAAG,EACtHb,EAAQc,GACRN,IACAE,GACD,GAEMK,EAAM1B,EAA0B,MAChC2B,EAAU1B,EAAY,WACtByB,GAAAA,EAAKE,OAAO,GAGjBF,EAAIE,OAAO,CAACC,KAAK,GACjBP,IACAI,EAAIE,OAAO,CAACE,SAAS,CAACC,GAAG,CAAC,iBAC3B,EAAG,CAACT,EAAK,EAEHU,EAAkB/B,EACvBgC,IAAe,GAAd,CAACR,EAAS,CAAAQ,EACVtB,EAAQc,GACRN,IACAE,GACD,EACA,CAACA,EAAMF,EAAOR,EAAQ,EAKvB,OAFAT,EAAU,IAAMS,EAAQD,GAAO,CAACA,EAAMC,EAAQ,EAG7Cb,EAAAgB,aAAA,CAAAhB,EAAAoC,QAAA,CAAA,KACCpC,EAAAgB,aAAA,CAACpB,EAAU,CACVyC,OAAM,CAAA,EACNT,IAAKA,EACLC,QAASA,EACTS,OAAQf,EACRgB,QAASnB,EACToB,UAAWrB,EACXsB,IAAK,EACLC,KAAM1C,EAAAgB,aAAA,CAACX,EAAQ,CAACO,KAAMA,CAAK,EAAI,GAEhCZ,EAAAgB,aAAA,CAAClB,EAAgB,CAAC6C,MAAM,OAAOrB,QAASA,EAASsB,OAAQhB,EAAKiB,UAAU,aAAa,EACpF7C,EAAAgB,aAAA,CAACjB,EAAO,CAAC+C,SAAUZ,EAAiBpB,QAASA,EAASI,OAAQA,CAAO,IAIzE"}