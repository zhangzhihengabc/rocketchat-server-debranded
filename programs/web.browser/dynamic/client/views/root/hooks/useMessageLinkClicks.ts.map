)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/root/hooks/useMessageLinkClicks.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useAbsoluteUrl, useLayout } from '@rocket.chat/ui-contexts';\nimport { useEffect } from 'react';\n\nimport { fireGlobalEvent } from '../../../lib/utils/fireGlobalEvent';\n\nexport const useMessageLinkClicks = () => {\n\tconst absoluteUrl = useAbsoluteUrl();\n\tconst { isEmbedded: embeddedLayout } = useLayout();\n\n\tuseEffect(() => {\n\t\tif (!embeddedLayout) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst handleMessageLinkClick = (event: Event) => {\n\t\t\tconst element = event.currentTarget as Element | null;\n\n\t\t\tif (!element || !(element instanceof HTMLElement)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!(element instanceof HTMLAnchorElement)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (element.origin !== absoluteUrl('').replace(/\\/+$/, '') || !/msg=([a-zA-Z0-9]+)/.test(element.search)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfireGlobalEvent('click-message-link', { link: element.pathname + element.search });\n\t\t};\n\n\t\tdocument.body.addEventListener('click', handleMessageLinkClick);\n\n\t\treturn () => {\n\t\t\tdocument.body.removeEventListener('click', handleMessageLinkClick);\n\t\t};\n\t}, [absoluteUrl, embeddedLayout]);\n};\n",null],"names":["useAbsoluteUrl","useLayout","useEffect","fireGlobalEvent","module","export","useMessageLinkClicks","absoluteUrl","isEmbedded","embeddedLayout","handleMessageLinkClick","event","element","currentTarget","HTMLElement","HTMLAnchorElement","origin","replace","test","search","link","pathname","document","body","addEventListener","removeEventListener"],"mappings":"2BAA0CA,EAA2BC,EAAAC,EAAAC,EAArEC,EAAOC,MAAE,CAAA,CAAAC,qBAA2B,IAAAA,CAAM,GAA2BF,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAJ,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,QAAAA,CAAAF,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,qCAAAA,CAAAD,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAK9D,IAAMG,EAAuB,KACnC,IAAMC,EAAcP,IACd,CAAEQ,WAAYC,CAAAA,CAAgB,CAAGR,IAEvCC,EAAU,KACT,GAAI,CAACO,EACJ,OAGD,IAAMC,EAA0BC,IAC/B,IAAMC,EAAUD,EAAME,aAA+B,CAEhDD,GAAaA,aAAmBE,aAI/BF,aAAmBG,mBAIrBH,EAAQI,MAAM,GAAKT,EAAY,IAAIU,OAAO,CAAC,OAAQ,KAAQ,qBAAqBC,IAAI,CAACN,EAAQO,MAAM,GAIvGhB,EAAgB,qBAAsB,CAAEiB,KAAMR,EAAQS,QAAQ,CAAGT,EAAQO,MAAAA,AAAM,EAChF,EAIA,OAFAG,SAASC,IAAI,CAACC,gBAAgB,CAAC,QAASd,GAEjC,KACNY,SAASC,IAAI,CAACE,mBAAmB,CAAC,QAASf,EAC5C,CACD,EAAG,CAACH,EAAaE,EAAe,CACjC"}