)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/root/MainLayout/LayoutWithSidebar.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box } from '@rocket.chat/fuselage';\nimport { useLayout, useSetting, useCurrentModal, useRoute, useCurrentRoutePath } from '@rocket.chat/ui-contexts';\nimport { PaletteStyleTag } from '@rocket.chat/ui-theming/src/PaletteStyleTag';\nimport { SidebarPaletteStyleTag } from '@rocket.chat/ui-theming/src/SidebarPaletteStyleTag';\nimport type { ReactElement, ReactNode } from 'react';\nimport React, { useEffect, useRef } from 'react';\n\nimport Sidebar from '../../../sidebar';\n\nconst LayoutWithSidebar = ({ children }: { children: ReactNode }): ReactElement => {\n\tconst { isEmbedded: embeddedLayout } = useLayout();\n\n\tconst modal = useCurrentModal();\n\tconst currentRoutePath = useCurrentRoutePath();\n\tconst channelRoute = useRoute('channel');\n\tconst removeSidenav = embeddedLayout && !currentRoutePath?.startsWith('/admin');\n\tconst readReceiptsEnabled = useSetting('Message_Read_Receipt_Store_Users');\n\n\tconst firstChannelAfterLogin = useSetting('First_Channel_After_Login');\n\n\tconst redirected = useRef(false);\n\n\tuseEffect(() => {\n\t\tconst needToBeRedirect = currentRoutePath && ['/', '/home'].includes(currentRoutePath);\n\n\t\tif (!needToBeRedirect) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!firstChannelAfterLogin || typeof firstChannelAfterLogin !== 'string') {\n\t\t\treturn;\n\t\t}\n\n\t\tif (redirected.current) {\n\t\t\treturn;\n\t\t}\n\t\tredirected.current = true;\n\n\t\tchannelRoute.push({ name: firstChannelAfterLogin });\n\t}, [channelRoute, currentRoutePath, firstChannelAfterLogin]);\n\n\treturn (\n\t\t<Box\n\t\t\tbg='surface-light'\n\t\t\tid='rocket-chat'\n\t\t\tclassName={[embeddedLayout ? 'embedded-view' : undefined, 'menu-nav'].filter(Boolean).join(' ')}\n\t\t\taria-hidden={Boolean(modal)}\n\t\t>\n\t\t\t<PaletteStyleTag />\n\t\t\t<SidebarPaletteStyleTag />\n\t\t\t{!removeSidenav && <Sidebar />}\n\t\t\t<main className={['rc-old', 'main-content', readReceiptsEnabled ? 'read-receipts-enabled' : undefined].filter(Boolean).join(' ')}>\n\t\t\t\t{children}\n\t\t\t</main>\n\t\t</Box>\n\t);\n};\n\nexport default LayoutWithSidebar;\n",null],"names":["Box","useLayout","useSetting","useCurrentModal","useRoute","useCurrentRoutePath","PaletteStyleTag","SidebarPaletteStyleTag","React","useEffect","useRef","Sidebar","module","link","default","exportDefault","_ref","children","isEmbedded","embeddedLayout","modal","currentRoutePath","channelRoute","removeSidenav","startsWith","readReceiptsEnabled","firstChannelAfterLogin","redirected","needToBeRedirect","includes","current","push","name","createElement","bg","id","className","undefined","filter","Boolean","join"],"mappings":"2BAAAA,EAA4CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAArCC,EAAOC,IAAA,CAAM,wBAAwB,CAAAb,IAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAY,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAX,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,oBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,8CAAAA,CAAAN,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,qDAAAA,CAAAL,uBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,mBAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAA5CC,EAAOG,aAAa,CASMC,IAAwD,GAAvD,CAAEC,SAAAA,CAAAA,CAAmC,CAAAD,EACzD,CAAEE,WAAYC,CAAAA,CAAgB,CAAGlB,IAEjCmB,EAAQjB,IACRkB,EAAmBhB,IACnBiB,EAAelB,EAAS,WACxBmB,EAAgBJ,GAAkB,CAACE,CAAAA,MAAAA,GAAAA,EAAkBG,UAAU,CAAC,SAAQ,EACxEC,EAAsBvB,EAAW,oCAEjCwB,EAAyBxB,EAAW,6BAEpCyB,EAAajB,EAAO,CAAA,GAqB1B,OAnBAD,EAAU,KACT,IAAMmB,EAAmBP,GAAoB,CAAC,IAAK,QAAQ,CAACQ,QAAQ,CAACR,GAEhEO,GAIAF,GAA0B,AAAkC,UAAlC,OAAOA,IAIlCC,EAAWG,OAAO,GAGtBH,EAAWG,OAAO,CAAG,CAAA,EAErBR,EAAaS,IAAI,CAAC,CAAEC,KAAMN,CAAsB,GACjD,EAAG,CAACJ,EAAcD,EAAkBK,EAAuB,EAG1DlB,EAAAyB,aAAA,CAACjC,EAAG,CACHkC,GAAG,gBACHC,GAAG,cACHC,UAAW,CAACjB,EAAiB,gBAAkBkB,KAAAA,EAAW,WAAW,CAACC,MAAM,CAACC,SAASC,IAAI,CAAC,KAC3F,cAAaD,CAAAA,CAAQnB,CAAO,EAE5BZ,EAAAyB,aAAA,CAAC3B,EAAe,MAChBE,EAAAyB,aAAA,CAAC1B,EAAsB,MACtB,CAACgB,GAAiBf,EAAAyB,aAAA,CAACtB,EAAO,MAC3BH,EAAAyB,aAAA,CAAA,OAAA,CAAMG,UAAW,CAAC,SAAU,eAAgBX,EAAsB,wBAA0BY,KAAAA,EAAU,CAACC,MAAM,CAACC,SAASC,IAAI,CAAC,IAAK,EAC/HvB,GAIL"}