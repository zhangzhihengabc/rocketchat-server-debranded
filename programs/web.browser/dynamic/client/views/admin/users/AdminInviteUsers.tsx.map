)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/users/AdminInviteUsers.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import {\n\tBox,\n\tButton,\n\tButtonGroup,\n\tStates,\n\tStatesAction,\n\tStatesActions,\n\tStatesSubtitle,\n\tStatesTitle,\n\tTextAreaInput,\n} from '@rocket.chat/fuselage';\nimport { useTranslation, useRoute } from '@rocket.chat/ui-contexts';\nimport type { ChangeEvent } from 'react';\nimport React, { useCallback, useState } from 'react';\n\nimport { validateEmail } from '../../../../lib/emailValidator';\nimport { ContextualbarScrollableContent, ContextualbarFooter, ContextualbarContent } from '../../../components/Contextualbar';\nimport { FormSkeleton } from '../../../components/Skeleton';\nimport { useSendInvitationEmailMutation } from './hooks/useSendInvitationEmailMutation';\nimport { useSmtpQuery } from './hooks/useSmtpQuery';\n\n// TODO: Replace using RHF\nconst AdminInviteUsers = () => {\n\tconst t = useTranslation();\n\tconst [text, setText] = useState('');\n\tconst getEmails = useCallback((text) => text.split(/[\\ ,;]+/i).filter((val: string) => validateEmail(val)), []);\n\tconst adminRouter = useRoute('admin-settings');\n\tconst sendInvitationMutation = useSendInvitationEmailMutation();\n\tconst { data, isLoading } = useSmtpQuery();\n\n\tconst handleClick = () => {\n\t\tsendInvitationMutation.mutate({ emails: getEmails(text) });\n\t};\n\n\tif (isLoading) {\n\t\treturn (\n\t\t\t<ContextualbarContent>\n\t\t\t\t<FormSkeleton />\n\t\t\t</ContextualbarContent>\n\t\t);\n\t}\n\n\tif (!data?.isSMTPConfigured) {\n\t\treturn (\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<States>\n\t\t\t\t\t<StatesTitle>{t('SMTP_Server_Not_Setup_Title')}</StatesTitle>\n\t\t\t\t\t<StatesSubtitle>{t('SMTP_Server_Not_Setup_Description')}</StatesSubtitle>\n\t\t\t\t\t<StatesActions>\n\t\t\t\t\t\t<StatesAction role='link' onClick={() => adminRouter.push({ group: 'Email' })}>\n\t\t\t\t\t\t\t{t('Setup_SMTP')}\n\t\t\t\t\t\t</StatesAction>\n\t\t\t\t\t</StatesActions>\n\t\t\t\t</States>\n\t\t\t</ContextualbarScrollableContent>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarScrollableContent>\n\t\t\t\t<Box is='h2' fontScale='h2' mb={8}>\n\t\t\t\t\t{t('Send_invitation_email')}\n\t\t\t\t</Box>\n\t\t\t\t<Box fontScale='p2' mb={8}>\n\t\t\t\t\t{t('Send_invitation_email_info')}\n\t\t\t\t</Box>\n\t\t\t\t<TextAreaInput rows={5} flexGrow={0} onChange={(e: ChangeEvent<HTMLInputElement>): void => setText(e.currentTarget.value)} />\n\t\t\t</ContextualbarScrollableContent>\n\t\t\t<ContextualbarFooter>\n\t\t\t\t<ButtonGroup stretch>\n\t\t\t\t\t<Button icon='send' primary onClick={handleClick} disabled={!getEmails(text).length} alignItems='stretch' mb={8}>\n\t\t\t\t\t\t{t('Send')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</ContextualbarFooter>\n\t\t</>\n\t);\n};\n\nexport default AdminInviteUsers;\n",null],"names":["Box","Button","ButtonGroup","States","StatesAction","StatesActions","StatesSubtitle","StatesTitle","TextAreaInput","useTranslation","useRoute","React","useCallback","useState","validateEmail","ContextualbarScrollableContent","ContextualbarFooter","ContextualbarContent","FormSkeleton","useSendInvitationEmailMutation","useSmtpQuery","module","v","default","exportDefault","t","text","setText","getEmails","split","filter","val","adminRouter","sendInvitationMutation","data","isLoading","createElement","isSMTPConfigured","Fragment","is","fontScale","mb","rows","flexGrow","onChange","e","currentTarget","value","stretch","icon","primary","onClick","mutate","emails","disabled","length","alignItems","role","push","group"],"mappings":"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"}