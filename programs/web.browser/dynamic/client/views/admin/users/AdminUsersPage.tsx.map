)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/users/AdminUsersPage.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Button, ButtonGroup, ContextualbarIcon } from '@rocket.chat/fuselage';\nimport { usePermission, useRouteParameter, useTranslation, useRouter } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useRef } from 'react';\n\nimport UserPageHeaderContentWithSeatsCap from '../../../../ee/client/views/admin/users/UserPageHeaderContentWithSeatsCap';\nimport { useSeatsCap } from '../../../../ee/client/views/admin/users/useSeatsCap';\nimport { Contextualbar, ContextualbarHeader, ContextualbarTitle, ContextualbarClose } from '../../../components/Contextualbar';\nimport Page from '../../../components/Page';\nimport { useShouldPreventAction } from '../../../hooks/useShouldPreventAction';\nimport AdminInviteUsers from './AdminInviteUsers';\nimport AdminUserForm from './AdminUserForm';\nimport AdminUserFormWithData from './AdminUserFormWithData';\nimport AdminUserInfoWithData from './AdminUserInfoWithData';\nimport AdminUserUpgrade from './AdminUserUpgrade';\nimport UsersTable from './UsersTable';\n\nconst UsersPage = (): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst seatsCap = useSeatsCap();\n\tconst reload = useRef(() => null);\n\n\tconst router = useRouter();\n\tconst context = useRouteParameter('context');\n\tconst id = useRouteParameter('id');\n\n\tconst canCreateUser = usePermission('create-user');\n\tconst canBulkCreateUser = usePermission('bulk-register-user');\n\n\tconst isCreateUserDisabled = useShouldPreventAction('activeUsers');\n\n\tconst handleReload = (): void => {\n\t\tseatsCap?.reload();\n\t\treload.current();\n\t};\n\n\tconst isRoutePrevented = context && ['new', 'invite'].includes(context) && isCreateUserDisabled;\n\n\treturn (\n\t\t<Page flexDirection='row'>\n\t\t\t<Page>\n\t\t\t\t<Page.Header title={t('Users')}>\n\t\t\t\t\t{seatsCap && seatsCap.maxActiveUsers < Number.POSITIVE_INFINITY ? (\n\t\t\t\t\t\t<UserPageHeaderContentWithSeatsCap {...seatsCap} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t{canBulkCreateUser && (\n\t\t\t\t\t\t\t\t<Button icon='mail' onClick={() => router.navigate('/admin/users/invite')}>\n\t\t\t\t\t\t\t\t\t{t('Invite')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{canCreateUser && (\n\t\t\t\t\t\t\t\t<Button icon='user-plus' onClick={() => router.navigate('/admin/users/new')}>\n\t\t\t\t\t\t\t\t\t{t('New_user')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t)}\n\t\t\t\t</Page.Header>\n\t\t\t\t<Page.Content>\n\t\t\t\t\t<UsersTable reload={reload} />\n\t\t\t\t</Page.Content>\n\t\t\t</Page>\n\t\t\t{context && (\n\t\t\t\t<Contextualbar is='aside' aria-labelledby=''>\n\t\t\t\t\t<ContextualbarHeader>\n\t\t\t\t\t\t{context === 'upgrade' && <ContextualbarIcon name='user-plus' />}\n\t\t\t\t\t\t<ContextualbarTitle>\n\t\t\t\t\t\t\t{context === 'info' && t('User_Info')}\n\t\t\t\t\t\t\t{context === 'edit' && t('Edit_User')}\n\t\t\t\t\t\t\t{context === 'new' && t('Add_User')}\n\t\t\t\t\t\t\t{context === 'invite' && t('Invite_Users')}\n\t\t\t\t\t\t</ContextualbarTitle>\n\t\t\t\t\t\t<ContextualbarClose onClick={() => router.navigate('/admin/users')} />\n\t\t\t\t\t</ContextualbarHeader>\n\t\t\t\t\t{context === 'info' && id && <AdminUserInfoWithData uid={id} onReload={handleReload} />}\n\t\t\t\t\t{context === 'edit' && id && <AdminUserFormWithData uid={id} onReload={handleReload} />}\n\t\t\t\t\t{!isRoutePrevented && context === 'new' && <AdminUserForm onReload={handleReload} />}\n\t\t\t\t\t{!isRoutePrevented && context === 'invite' && <AdminInviteUsers />}\n\t\t\t\t\t{isRoutePrevented && <AdminUserUpgrade />}\n\t\t\t\t</Contextualbar>\n\t\t\t)}\n\t\t</Page>\n\t);\n};\n\nexport default UsersPage;\n",null],"names":["Button","ButtonGroup","ContextualbarIcon","usePermission","useRouteParameter","useTranslation","useRouter","React","useRef","UserPageHeaderContentWithSeatsCap","useSeatsCap","Contextualbar","ContextualbarHeader","ContextualbarTitle","ContextualbarClose","Page","useShouldPreventAction","AdminInviteUsers","AdminUserForm","AdminUserFormWithData","AdminUserInfoWithData","AdminUserUpgrade","UsersTable","module","link","v","default","exportDefault","t","seatsCap","reload","router","context","id","canCreateUser","canBulkCreateUser","isCreateUserDisabled","handleReload","current","isRoutePrevented","includes","createElement","flexDirection","Header","title","maxActiveUsers","Number","POSITIVE_INFINITY","icon","onClick","navigate","Content","is","name","uid","onReload"],"mappings":"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"}