function module(e,t,n){let a,r,l,s,i,o,u,c,m,d,k,E,g,p,f,b,h,y,x,T,v,C,P,G,S,w,$;let R=["current","itemsPerPage","setItemsPerPage","setCurrent"];n.link("@babel/runtime/helpers/extends",{default(e){a=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){r=e}},1),n.link("@rocket.chat/fuselage",{Pagination(e){l=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMediaQuery(e){s=e},useDebouncedValue(e){i=e},useMutableCallback(e){o=e}},1),n.link("@rocket.chat/string-helpers",{escapeRegExp(e){u=e}},2),n.link("@rocket.chat/ui-contexts",{useEndpoint(e){c=e},useRoute(e){m=e},useToastMessageDispatch(e){d=e},useTranslation(e){k=e}},3),n.link("@tanstack/react-query",{useQuery(e){E=e}},4),n.link("react",{default(e){g=e},useRef(e){p=e},useMemo(e){f=e},useState(e){b=e},useEffect(e){h=e}},5),n.link("../../../../components/FilterByText",{default(e){y=e}},6),n.link("../../../../components/GenericNoResults",{default(e){x=e}},7),n.link("../../../../components/GenericTable",{GenericTable(e){T=e},GenericTableHeader(e){v=e},GenericTableHeaderCell(e){C=e},GenericTableBody(e){P=e},GenericTableLoadingTable(e){G=e}},8),n.link("../../../../components/GenericTable/hooks/usePagination",{usePagination(e){S=e}},9),n.link("../../../../components/GenericTable/hooks/useSort",{useSort(e){w=e}},10),n.link("./UsersTableRow",{default(e){$=e}},11),n.exportDefault(e=>{let{reload:t}=e,n=k(),F=m("admin-users"),M=s("(min-width: 1024px)"),[N,D]=b(""),Q=S(),{current:U,itemsPerPage:q,setItemsPerPage:B,setCurrent:H}=Q,I=r(Q,R),{sortBy:J,sortDirection:O,setSort:_}=w("name"),j=i(N,500),L=p(""),V=i(f(()=>(j!==L.current&&H(0),{fields:JSON.stringify({name:1,username:1,emails:1,roles:1,status:1,avatarETag:1,active:1}),query:JSON.stringify({$or:[{"emails.address":{$regex:u(j),$options:"i"}},{username:{$regex:u(j),$options:"i"}},{name:{$regex:u(j),$options:"i"}}]}),sort:'{ "'.concat(J,'": ').concat("asc"===O?1:-1," }"),count:q,offset:j===L.current?U:0}),[j,J,O,q,U,H]),500),W=c("GET","/v1/users.list"),z=d(),{data:A,isLoading:K,error:X,isSuccess:Y,refetch:Z}=E(["users",V],async()=>{let e=await W(V);return e},{onError:e=>{z({type:"error",message:e})}});h(()=>{t.current=Z},[t,Z]),h(()=>{L.current=j},[j]);let ee=o(e=>F.push({context:"info",id:e})),et=f(()=>[g.createElement(C,{w:"x200",key:"name",direction:O,active:"name"===J,onClick:_,sort:"name"},n("Name")),M&&g.createElement(C,{w:"x140",key:"username",direction:O,active:"username"===J,onClick:_,sort:"username"},n("Username")),g.createElement(C,{w:"x120",key:"email",direction:O,active:"emails.address"===J,onClick:_,sort:"emails.address"},n("Email")),M&&g.createElement(C,{w:"x120",key:"roles",onClick:_},n("Roles")),g.createElement(C,{w:"x100",key:"status",direction:O,active:"status"===J,onClick:_,sort:"status"},n("Status"))],[M,_,J,O,n]);return X?null:g.createElement(g.Fragment,null,g.createElement(y,{autoFocus:!0,placeholder:n("Search_Users"),onChange:e=>{let{text:t}=e;return D(t)}}),K&&g.createElement(T,null,g.createElement(v,null,et),g.createElement(P,null,K&&g.createElement(G,{headerCells:5}))),(null==A?void 0:A.users)&&A.count>0&&Y&&g.createElement(g.Fragment,null,g.createElement(T,null,g.createElement(v,null,et),g.createElement(P,null,null==A?void 0:A.users.map(e=>g.createElement($,{key:e._id,onClick:ee,mediaQuery:M,user:e})))),g.createElement(l,a({divider:!0,current:U,itemsPerPage:q,count:(null==A?void 0:A.total)||0,onSetItemsPerPage:B,onSetCurrent:H},I))),Y&&(null==A?void 0:A.count)===0&&g.createElement(x,null))})}
//# sourceMappingURL=/dynamic/client/views/admin/users/UsersTable/3163056e2518da5bc7cd3b4ae4d6e9b1fdda382f.map
