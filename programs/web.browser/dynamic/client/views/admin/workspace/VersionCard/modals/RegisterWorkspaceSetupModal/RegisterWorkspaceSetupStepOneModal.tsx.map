)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/workspace/VersionCard/modals/RegisterWorkspaceSetupModal/RegisterWorkspaceSetupStepOneModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Modal, Box, Field, FieldLabel, FieldRow, TextInput, CheckBox, ButtonGroup, Button } from '@rocket.chat/fuselage';\nimport { ExternalLink } from '@rocket.chat/ui-client';\nimport { useEndpoint, useSetModal, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport React from 'react';\nimport { Trans } from 'react-i18next';\n\nimport WorkspaceRegistrationModal from '../RegisterWorkspaceModal';\n\ntype Props = {\n\temail: string;\n\tsetEmail: (email: string) => void;\n\tstep: number;\n\tsetStep: (step: number) => void;\n\tterms: boolean;\n\tsetTerms: (terms: boolean) => void;\n\tonClose: () => void;\n\tvalidInfo: boolean;\n\tsetIntentData: (intentData: any) => void;\n};\n\nconst RegisterWorkspaceSetupStepOneModal = ({\n\temail,\n\tsetEmail,\n\tstep,\n\tsetStep,\n\tterms,\n\tsetTerms,\n\tonClose,\n\tvalidInfo,\n\tsetIntentData,\n\t...props\n}: Props) => {\n\tconst setModal = useSetModal();\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst createRegistrationIntent = useEndpoint('POST', '/v1/cloud.createRegistrationIntent');\n\n\tconst handleBack = (): void => {\n\t\tconst handleModalClose = (): void => setModal(null);\n\t\tsetModal(<WorkspaceRegistrationModal onClose={handleModalClose} />);\n\t};\n\n\tconst handleRegisterWorkspace = async () => {\n\t\ttry {\n\t\t\tconst { intentData } = await createRegistrationIntent({ resend: false, email });\n\t\t\tsetIntentData(intentData);\n\t\t\tsetStep(step + 1);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal {...props}>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.HeaderText>\n\t\t\t\t\t<Modal.Tagline>{t('RegisterWorkspace_Setup_Steps', { step, numberOfSteps: 2 })}</Modal.Tagline>\n\t\t\t\t\t<Modal.Title>{t('RegisterWorkspace_with_email')}</Modal.Title>\n\t\t\t\t</Modal.HeaderText>\n\t\t\t\t<Modal.Close onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<Box>\n\t\t\t\t\t<Box is='p' fontSize='p2' withRichContent>\n\t\t\t\t\t\t{t('RegisterWorkspace_Setup_Subtitle')}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Field pbs={10}>\n\t\t\t\t\t\t<FieldLabel>{t('RegisterWorkspace_Setup_Label')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetEmail((e.target as HTMLInputElement).value);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Field>\n\t\t\t\t\t<Box mb={16} fontSize='c1'>\n\t\t\t\t\t\t<Box is='p'>\n\t\t\t\t\t\t\t<strong>{t('RegisterWorkspace_Setup_Have_Account_Title')}</strong>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box is='p'>{t('RegisterWorkspace_Setup_Have_Account_Subtitle')}</Box>\n\t\t\t\t\t\t<Box is='p' pbs={16}>\n\t\t\t\t\t\t\t<strong>{t('RegisterWorkspace_Setup_No_Account_Title')}</strong>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box is='p'>{t('RegisterWorkspace_Setup_No_Account_Subtitle')}</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex'>\n\t\t\t\t\t\t<CheckBox checked={terms} onChange={() => setTerms(!terms)} />\n\t\t\t\t\t\t<Box is='p' fontSize='c1' pis={8}>\n\t\t\t\t\t\t\t<Trans i18nKey='RegisterWorkspace_Setup_Terms_Privacy'>\n\t\t\t\t\t\t\t\tI agree with <ExternalLink to='https://rocket.chat/terms'>Terms and Conditions </ExternalLink>\n\t\t\t\t\t\t\t\tand\n\t\t\t\t\t\t\t\t<ExternalLink to='https://rocket.chat/privacy'>Privacy Policy</ExternalLink>\n\t\t\t\t\t\t\t</Trans>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<ButtonGroup align='end'>\n\t\t\t\t\t<Button onClick={handleBack}>{t('Back')}</Button>\n\t\t\t\t\t<Button primary onClick={handleRegisterWorkspace} disabled={!validInfo}>\n\t\t\t\t\t\t{t('Next')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default RegisterWorkspaceSetupStepOneModal;\n",null],"names":["_objectWithoutProperties","Modal","Box","Field","FieldLabel","FieldRow","TextInput","CheckBox","ButtonGroup","Button","ExternalLink","useEndpoint","useSetModal","useToastMessageDispatch","useTranslation","React","Trans","WorkspaceRegistrationModal","module","default","v","link","exportDefault","_ref","email","setEmail","step","setStep","terms","setTerms","onClose","validInfo","setIntentData","props","_excluded","setModal","t","dispatchToastMessage","createRegistrationIntent","handleRegisterWorkspace","intentData","resend","error","type","message","createElement","Header","HeaderText","Tagline","numberOfSteps","Title","Close","onClick","Content","is","fontSize","withRichContent","pbs","onChange","e","target","value","mb","display","checked","pis","i18nKey","to","Footer","align","primary","disabled"],"mappings":"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"}