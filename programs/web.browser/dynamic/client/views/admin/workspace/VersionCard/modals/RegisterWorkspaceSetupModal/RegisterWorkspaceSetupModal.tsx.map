)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/workspace/VersionCard/modals/RegisterWorkspaceSetupModal/RegisterWorkspaceSetupModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useSetModal } from '@rocket.chat/ui-contexts';\nimport React, { useEffect, useState } from 'react';\n\nimport { validateEmail } from '../../../../../../../lib/emailValidator';\nimport RegisteredWorkspaceModal from '../RegisteredWorkspaceModal';\nimport RegisterWorkspaceSetupStepOneModal from './RegisterWorkspaceSetupStepOneModal';\nimport RegisterWorkspaceSetupStepTwoModal from './RegisterWorkspaceSetupStepTwoModal';\n\ntype RegisterWorkspaceSetupModalProps = {\n\tonClose: () => void;\n\tonStatusChange?: () => void;\n};\n\nconst RegisterWorkspaceSetupModal = ({ onClose }: RegisterWorkspaceSetupModalProps) => {\n\tconst setModal = useSetModal();\n\n\tconst [step, setStep] = useState(1);\n\tconst [email, setEmail] = useState('');\n\tconst [terms, setTerms] = useState(false);\n\tconst [validInfo, setValidInfo] = useState(false);\n\tconst [intentData, setIntentData] = useState({\n\t\tdevice_code: '',\n\t\tinterval: 0,\n\t\tuser_code: '',\n\t});\n\n\t// reset validInfo when users go back to step 1\n\tuseEffect(() => {\n\t\tsetValidInfo(false);\n\t}, [step]);\n\n\tuseEffect(() => {\n\t\tif (step === 1) {\n\t\t\tsetValidInfo(validateEmail(email) && terms);\n\t\t}\n\t}, [email, terms]);\n\n\tconst onSuccess = () => {\n\t\tconst handleModalClose = (): void => setModal(null);\n\t\tsetModal(<RegisteredWorkspaceModal onClose={handleModalClose} />);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{step === 1 ? (\n\t\t\t\t<RegisterWorkspaceSetupStepOneModal\n\t\t\t\t\temail={email}\n\t\t\t\t\tsetEmail={setEmail}\n\t\t\t\t\tstep={step}\n\t\t\t\t\tsetStep={setStep}\n\t\t\t\t\tterms={terms}\n\t\t\t\t\tsetTerms={setTerms}\n\t\t\t\t\tonClose={onClose}\n\t\t\t\t\tvalidInfo={validInfo}\n\t\t\t\t\tsetIntentData={setIntentData}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<RegisterWorkspaceSetupStepTwoModal\n\t\t\t\t\temail={email}\n\t\t\t\t\tstep={step}\n\t\t\t\t\tsetStep={setStep}\n\t\t\t\t\tonClose={onClose}\n\t\t\t\t\tintentData={intentData}\n\t\t\t\t\tonSuccess={onSuccess}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default RegisterWorkspaceSetupModal;\n",null],"names":["useSetModal","React","useEffect","useState","validateEmail","RegisteredWorkspaceModal","RegisterWorkspaceSetupStepOneModal","RegisterWorkspaceSetupStepTwoModal","module","link","default","exportDefault","_ref","onClose","setModal","step","setStep","email","setEmail","terms","setTerms","validInfo","setValidInfo","intentData","setIntentData","device_code","interval","user_code","createElement","Fragment","onSuccess"],"mappings":"2BAAAA,EAAuDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA9CC,EAAaC,IAAA,CAAM,2BAA2B,CAAAT,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAT,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,0CAAAA,CAAAJ,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,uCAAAA,CAAAE,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,uCAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAAvDC,EAAOG,aAAa,CAagBC,IAAkD,GAAjD,CAAEC,QAAAA,CAAAA,CAA2C,CAAAD,EAC3EE,EAAWd,IAEX,CAACe,EAAMC,EAAQ,CAAGb,EAAS,GAC3B,CAACc,EAAOC,EAAS,CAAGf,EAAS,IAC7B,CAACgB,EAAOC,EAAS,CAAGjB,EAAS,CAAA,GAC7B,CAACkB,EAAWC,EAAa,CAAGnB,EAAS,CAAA,GACrC,CAACoB,EAAYC,EAAc,CAAGrB,EAAS,CAC5CsB,YAAa,GACbC,SAAU,EACVC,UAAW,YAIZzB,EAAU,KACToB,EAAa,CAAA,EACd,EAAG,CAACP,EAAK,EAETb,EAAU,KACI,IAATa,GACHO,EAAalB,EAAca,IAAUE,EAEvC,EAAG,CAACF,EAAOE,EAAM,EAQhBlB,EAAA2B,aAAA,CAAA3B,EAAA4B,QAAA,CAAA,KACEd,AAAS,IAATA,EACAd,EAAA2B,aAAA,CAACtB,EAAkC,CAClCW,MAAOA,EACPC,SAAUA,EACVH,KAAMA,EACNC,QAASA,EACTG,MAAOA,EACPC,SAAUA,EACVP,QAASA,EACTQ,UAAWA,EACXG,cAAeA,CAAc,GAG9BvB,EAAA2B,aAAA,CAACrB,EAAkC,CAClCU,MAAOA,EACPF,KAAMA,EACNC,QAASA,EACTH,QAASA,EACTU,WAAYA,EACZO,UA1Bc,KAEjBhB,EAASb,EAAA2B,aAAA,CAACvB,EAAwB,CAACQ,QADV,IAAYC,EAAS,KACe,GAC9D,CAuByB,GAK1B"}