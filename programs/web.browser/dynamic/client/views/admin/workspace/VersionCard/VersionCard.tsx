function module(e,t,n){let l,o,i,a,r,s,u,c,d,p,m,k,g,v,b,h,E,f,_,y,C,V,S,x,w,L,M;n.link("@rocket.chat/fuselage",{Box(e){l=e},Icon(e){o=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMediaQuery(e){i=e}},1),n.link("@rocket.chat/ui-client",{Card(e){a=e},CardBody(e){r=e},CardCol(e){s=e},CardColSection(e){u=e},CardColTitle(e){c=e},CardFooter(e){d=e},ExternalLink(e){p=e}},2),n.link("@rocket.chat/ui-contexts",{useModal(e){m=e},useMediaUrl(e){k=e}},3),n.link("react",{default(e){g=e},useMemo(e){v=e}},4),n.link("react-i18next",{Trans(e){b=e},useTranslation(e){h=e}},5),n.link("../../../../hooks/useFormatDate",{useFormatDate(e){E=e}},6),n.link("../../../../hooks/useLicense",{useLicense(e){f=e},useLicenseName(e){_=e}},7),n.link("../../../../hooks/useRegistrationStatus",{useRegistrationStatus(e){y=e}},8),n.link("../../../../lib/utils/isOverLicenseLimits",{isOverLicenseLimits(e){C=e}},9),n.link("./components/VersionCardActionButton",{default(e){V=e}},10),n.link("./components/VersionCardActionItemList",{default(e){S=e}},11),n.link("./components/VersionCardSkeleton",{VersionCardSkeleton(e){x=e}},12),n.link("./components/VersionTag",{VersionTag(e){w=e}},13),n.link("./getVersionStatus",{getVersionStatus(e){L=e}},14),n.link("./modals/RegisterWorkspaceModal",{default(e){M=e}},15);let B="https://go.rocket.chat/i/version-support";n.exportDefault(e=>{var t,n;let{serverInfo:T}=e,F=i("(min-width: 1024px)"),I=k(),O={backgroundImage:"url(".concat(I("images/globe.png"),")"),backgroundRepeat:"no-repeat",backgroundPosition:"right 20px center",backgroundSize:F?"auto":"contain"},{setModal:W}=m(),{t:D}=h(),K=E(),{data:z,isLoading:A,refetch:N}=f({loadValues:!0}),{isRegistered:P}=y(),{license:U,limits:J}=z||{},Q=null==U?void 0:null===(t=U.information)||void 0===t?void 0:t.offline,j=_(),q=T.version,{versionStatus:G,versions:H}=v(()=>{var e,t;let n=null!=T&&null!==(e=T.supportedVersions)&&void 0!==e&&e.signed?R(null==T?void 0:null===(t=T.supportedVersions)||void 0===t?void 0:t.signed):void 0;if(!n)return{};let l=L(q,null==n?void 0:n.versions);return{versionStatus:l,versions:null==n?void 0:n.versions}},[null==T?void 0:null===(n=T.supportedVersions)||void 0===n?void 0:n.signed,q]),X=J&&C(J),Y=v(()=>P?(null==G?void 0:G.label)==="outdated"?{action:()=>{window.open("https://go.rocket.chat/i/update-product","_blank")},label:D("Update_version")}:X?{path:"/admin/subscription",label:D("Manage_subscription")}:void 0:{action:()=>{W(g.createElement(M,{onClose:()=>{W(null),N()},onStatusChange:N}))},label:D("RegisterWorkspace_Button")},[P,G,X,D,W,N]),Z=v(()=>[X?{type:"danger",icon:"warning",label:D("Plan_limits_reached")}:{type:"neutral",icon:"check",label:D("Operating_withing_plan_limits")},(Q||!H)&&{type:"neutral",icon:"warning",label:g.createElement(b,{i18nKey:"Check_support_availability"},"Check",g.createElement(p,{to:B},"support"),"availability")},(null==G?void 0:G.label)!=="outdated"&&(null==G?void 0:G.expiration)&&{type:"neutral",icon:"check",label:g.createElement(b,{i18nKey:"Version_supported_until",values:{date:K(null==G?void 0:G.expiration)}},"Version",g.createElement(p,{to:B},"supported"),"until ",K(null==G?void 0:G.expiration))},(null==G?void 0:G.label)==="outdated"&&{type:"danger",icon:"warning",label:g.createElement(b,{i18nKey:"Version_not_supported"},"Version",g.createElement(p,{to:B},"not supported"))},P?{type:"neutral",icon:"check",label:D("Workspace_registered")}:{type:"danger",icon:"warning",label:D("Workspace_not_registered")}].filter(Boolean).sort(e=>"danger"===e.type?-1:1),[X,D,Q,H,null==G?void 0:G.label,null==G?void 0:G.expiration,K,P]);return g.createElement(a,{background:O},!A&&z?g.createElement(g.Fragment,null,g.createElement(r,null,g.createElement(s,null,g.createElement(c,null,g.createElement(l,{fontScale:"h3",mbe:4,display:"flex"},D("Version_version",{version:q}),g.createElement(l,{mis:8,alignSelf:"center",width:"auto"},!Q&&H&&g.createElement(w,{versionStatus:null==G?void 0:G.label,title:G.version})))),g.createElement(u,{m:0},g.createElement(l,{color:"secondary-info",fontScale:"p2"},g.createElement(o,{name:"rocketchat",size:16})," ",j.data)),Z.length>0&&g.createElement(u,null,g.createElement(S,{actionItems:Z})))),Y&&g.createElement(d,null,g.createElement(V,Y))):g.createElement(x,null))});let R=e=>{let[,t]=e.split(".");if(t)return JSON.parse(atob(t))}}
//# sourceMappingURL=/dynamic/client/views/admin/workspace/VersionCard/869c26f436bedb55fa63de70f28c412b1ab0d027.map
