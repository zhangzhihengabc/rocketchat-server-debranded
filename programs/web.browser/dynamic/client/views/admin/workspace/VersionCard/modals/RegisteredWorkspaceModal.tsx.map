)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/workspace/VersionCard/modals/RegisteredWorkspaceModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Button, ButtonGroup, Modal } from '@rocket.chat/fuselage';\nimport { useSafely } from '@rocket.chat/fuselage-hooks';\nimport { useMethod, useSetModal, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useState } from 'react';\n\nimport useFeatureBullets from '../hooks/useFeatureBullets';\n\ntype RegisteredWorkspaceModalProps = {\n\tonClose: () => void;\n\tonStatusChange?: () => void;\n};\n\nconst RegisteredWorkspaceModal = ({ onClose, onStatusChange, ...props }: RegisteredWorkspaceModalProps) => {\n\tconst t = useTranslation();\n\tconst setModal = useSetModal();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst bulletFeatures = useFeatureBullets();\n\tconst [isSyncing, setSyncing] = useSafely(useState(false));\n\n\tconst syncWorkspace = useMethod('cloud:syncWorkspace');\n\n\tconst handleSyncAction = async () => {\n\t\tsetSyncing(true);\n\n\t\ttry {\n\t\t\tconst isSynced = await syncWorkspace();\n\n\t\t\tif (!isSynced) {\n\t\t\t\tthrow Error(t('RegisterWorkspace_Syncing_Error'));\n\t\t\t}\n\n\t\t\tdispatchToastMessage({ type: 'success', message: t('RegisterWorkspace_Syncing_Complete') });\n\t\t\tsetModal(null);\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t} finally {\n\t\t\tonStatusChange?.();\n\t\t\tsetSyncing(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal {...props}>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.HeaderText>\n\t\t\t\t\t<Modal.Title>{t('Workspace_registered')}</Modal.Title>\n\t\t\t\t</Modal.HeaderText>\n\t\t\t\t<Modal.Close onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<Box withRichContent>\n\t\t\t\t\t<span>{`${t('RegisterWorkspace_Registered_Subtitle')}: `}</span>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{bulletFeatures.map((item, index) => (\n\t\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t\t<strong>{item.title}</strong>\n\t\t\t\t\t\t\t\t<Box is='p' mbs={4}>\n\t\t\t\t\t\t\t\t\t{item.description}\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</Box>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<ButtonGroup align='end'>\n\t\t\t\t\t<Button icon='reload' onClick={handleSyncAction} loading={isSyncing}>\n\t\t\t\t\t\t{t('Sync')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default RegisteredWorkspaceModal;\n",null],"names":["_objectWithoutProperties","Box","Button","ButtonGroup","Modal","useSafely","useMethod","useSetModal","useToastMessageDispatch","useTranslation","React","useState","useFeatureBullets","module","link","default","v","exportDefault","_ref","onClose","onStatusChange","props","_excluded","t","setModal","dispatchToastMessage","bulletFeatures","isSyncing","setSyncing","syncWorkspace","handleSyncAction","isSynced","Error","type","message","error","createElement","Header","HeaderText","Title","Close","onClick","Content","withRichContent","concat","map","item","index","key","title","is","mbs","description","Footer","align","icon","loading"],"mappings":"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"}