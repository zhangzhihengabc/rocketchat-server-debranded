)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/rooms/RoomRow.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { isDiscussion } from '@rocket.chat/core-typings';\nimport type { IRoom, RoomAdminFieldsType } from '@rocket.chat/core-typings';\nimport { Box, Icon } from '@rocket.chat/fuselage';\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport { useRouter, useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useCallback } from 'react';\n\nimport { GenericTableCell, GenericTableRow } from '../../../components/GenericTable';\nimport RoomAvatar from '../../../components/avatar/RoomAvatar';\nimport { roomCoordinator } from '../../../lib/rooms/roomCoordinator';\n\nconst roomTypeI18nMap = {\n\tl: 'Omnichannel',\n\tc: 'Channel',\n\td: 'Direct_Message',\n\tp: 'Private_Channel',\n} as const;\n\nconst getRoomDisplayName = (room: Pick<IRoom, RoomAdminFieldsType>): string | undefined =>\n\troom.t === 'd' ? room.usernames?.join(' x ') : roomCoordinator.getRoomName(room.t, room);\n\nconst RoomRow = ({ room }: { room: Pick<IRoom, RoomAdminFieldsType> }) => {\n\tconst t = useTranslation();\n\tconst mediaQuery = useMediaQuery('(min-width: 1024px)');\n\tconst router = useRouter();\n\n\tconst { _id, t: type, usersCount, msgs, default: isDefault, featured, ...args } = room;\n\tconst icon = roomCoordinator.getRoomDirectives(room.t).getIcon?.(room);\n\tconst roomName = getRoomDisplayName(room);\n\n\tconst getRoomType = (\n\t\troom: Pick<IRoom, RoomAdminFieldsType>,\n\t): (typeof roomTypeI18nMap)[keyof typeof roomTypeI18nMap] | 'Teams_Public_Team' | 'Teams_Private_Team' | 'Discussion' => {\n\t\tif (room.teamMain) {\n\t\t\treturn room.t === 'c' ? 'Teams_Public_Team' : 'Teams_Private_Team';\n\t\t}\n\t\tif (isDiscussion(room)) {\n\t\t\treturn 'Discussion';\n\t\t}\n\t\treturn roomTypeI18nMap[(room as IRoom).t as keyof typeof roomTypeI18nMap];\n\t};\n\n\tconst onClick = useCallback(\n\t\t(rid) => (): void =>\n\t\t\trouter.navigate({\n\t\t\t\tname: 'admin-rooms',\n\t\t\t\tparams: {\n\t\t\t\t\tcontext: 'edit',\n\t\t\t\t\tid: rid,\n\t\t\t\t},\n\t\t\t}),\n\t\t[router],\n\t);\n\n\treturn (\n\t\t<GenericTableRow action key={_id} onKeyDown={onClick(_id)} onClick={onClick(_id)} tabIndex={0} role='link' qa-room-id={_id}>\n\t\t\t<GenericTableCell withTruncatedText>\n\t\t\t\t<Box display='flex' alignContent='center'>\n\t\t\t\t\t<RoomAvatar size={mediaQuery ? 'x28' : 'x40'} room={{ type, name: roomName, _id, ...args }} />\n\t\t\t\t\t<Box\n\t\t\t\t\t\tdisplay='flex'\n\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\tflexShrink={1}\n\t\t\t\t\t\tflexBasis='0%'\n\t\t\t\t\t\tflexDirection='row'\n\t\t\t\t\t\talignSelf='center'\n\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\twithTruncatedText\n\t\t\t\t\t>\n\t\t\t\t\t\t{icon && <Icon mi={4} name={icon} fontScale='p2m' color='hint' />}\n\t\t\t\t\t\t<Box fontScale='p2m' withTruncatedText color='default' qa-room-name={roomName}>\n\t\t\t\t\t\t\t{roomName}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t\t<GenericTableCell>\n\t\t\t\t<Box color='hint' fontScale='p2m' withTruncatedText>\n\t\t\t\t\t{t(getRoomType(room))}\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t\t<GenericTableCell withTruncatedText>{usersCount}</GenericTableCell>\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{msgs}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{isDefault ? t('True') : t('False')}</GenericTableCell>}\n\t\t\t{mediaQuery && <GenericTableCell withTruncatedText>{featured ? t('True') : t('False')}</GenericTableCell>}\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default RoomRow;\n",null],"names":["_objectSpread","_objectWithoutProperties","isDiscussion","Box","Icon","useMediaQuery","useRouter","useTranslation","React","useCallback","GenericTableCell","GenericTableRow","RoomAvatar","roomCoordinator","module","link","default","roomTypeI18nMap","l","c","d","p","getRoomDisplayName","room","_room$usernames","t","usernames","join","getRoomName","exportDefault","_ref","_roomCoordinator$getR","_roomCoordinator$getR2","mediaQuery","router","_id","type","usersCount","msgs","isDefault","featured","args","_excluded","icon","getRoomDirectives","getIcon","call","roomName","onClick","rid","navigate","name","params","context","id","createElement","action","key","onKeyDown","tabIndex","role","withTruncatedText","display","alignContent","size","flexGrow","flexShrink","flexBasis","flexDirection","alignSelf","alignItems","mi","fontScale","color","teamMain"],"mappings":"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"}