function module(e,t,l){let n,a,o,r,c,i,u,m,s,d,E,f,h,v,p,_,C,w,x,b,g,k,y;l.link("@rocket.chat/core-typings",{isRoomFederated(e){n=e}},0),l.link("@rocket.chat/fuselage",{Box(e){a=e},Button(e){o=e},ButtonGroup(e){r=e},TextInput(e){c=e},Field(e){i=e},FieldLabel(e){u=e},FieldRow(e){m=e},FieldHint(e){s=e},ToggleSwitch(e){d=e},TextAreaInput(e){E=e}},1),l.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){f=e}},2),l.link("@rocket.chat/ui-contexts",{useTranslation(e){h=e}},3),l.link("react",{default(e){v=e},useMemo(e){p=e}},4),l.link("../../../../definition/IRoomTypeConfig",{RoomSettingsEnum(e){_=e}},5),l.link("../../../components/Contextualbar",{ContextualbarScrollableContent(e){C=e},ContextualbarFooter(e){w=e}},6),l.link("../../../components/avatar/RoomAvatarEditor",{default(e){x=e}},7),l.link("../../../hooks/useEndpointAction",{useEndpointAction(e){b=e}},8),l.link("../../../hooks/useForm",{useForm(e){g=e}},9),l.link("../../../lib/rooms/roomCoordinator",{roomCoordinator(e){k=e}},10),l.link("../../hooks/roomActions/useDeleteRoom",{useDeleteRoom(e){y=e}},11);let R=e=>{var t,l,n,a;return{roomName:"d"===e.t?null===(t=e.usernames)||void 0===t?void 0:t.join(" x "):k.getRoomName(e.t,e),roomType:e.t,readOnly:!!e.ro,archived:!!e.archived,isDefault:!!e.default,favorite:!!e.favorite,featured:!!e.featured,reactWhenReadOnly:!!e.reactWhenReadOnly,roomTopic:null!==(l=e.topic)&&void 0!==l?l:"",roomDescription:null!==(n=e.description)&&void 0!==n?n:"",roomAnnouncement:null!==(a=e.announcement)&&void 0!==a?a:"",roomAvatar:void 0}};l.exportDefault(e=>{var t;let{room:l,onChange:D,onDelete:A}=e,T=h(),{values:N,handlers:O,hasUnsavedChanges:F,reset:G}=g(R(l)),[S,j,I,P,M,H,B]=p(()=>{let e=k.getRoomDirectives(l.t).allowRoomSettingChange;return[null==e?void 0:e(l,_.NAME),null==e?void 0:e(l,_.TOPIC),null==e?void 0:e(l,_.ANNOUNCEMENT),null==e?void 0:e(l,_.ARCHIVE_OR_UNARCHIVE),null==e?void 0:e(l,_.DESCRIPTION),null==e?void 0:e(l,_.TYPE),null==e?void 0:e(l,_.READ_ONLY),null==e?void 0:e(l,_.REACT_WHEN_READ_ONLY)]},[l]),{roomName:L,roomType:V,readOnly:W,reactWhenReadOnly:Y,archived:U,isDefault:q,favorite:z,featured:J,roomTopic:K,roomAvatar:Q,roomDescription:X,roomAnnouncement:Z}=N,{handleIsDefault:$,handleFavorite:ee,handleFeatured:et,handleRoomName:el,handleRoomType:en,handleReadOnly:ea,handleReactWhenReadOnly:eo,handleArchived:er,handleRoomAvatar:ec,handleRoomTopic:ei,handleRoomDescription:eu,handleRoomAnnouncement:em}=O,es=!!l.archived!==U,{handleDelete:ed,canDeleteRoom:eE,isDeleting:ef}=y(l,{reload:A}),eh=l.archived?"unarchive":"archive",ev=l.archived?"Room_has_been_unarchived":"Room_has_been_archived",ep=b("POST","/v1/rooms.saveRoomSettings",{successMessage:T("Room_updated_successfully")}),e_=b("POST","/v1/rooms.changeArchivationState",{successMessage:T(ev)}),eC=f(async()=>{let e=[];F&&e.push(ep({rid:l._id,roomName:"d"===V?void 0:L,roomTopic:K,roomType:V,readOnly:W,default:q,favorite:{defaultValue:q,favorite:z},featured:J,reactWhenReadOnly:Y,roomDescription:X,roomAnnouncement:Z,roomAvatar:Q})),es&&e.push(e_({rid:l._id,action:eh})),await Promise.all(e),D()}),ew=f(()=>{en("p"===V?"c":"p")});return v.createElement(v.Fragment,null,v.createElement(C,{is:"form",onSubmit:f(e=>e.preventDefault())},"d"!==l.t&&v.createElement(a,{pbe:24,display:"flex",justifyContent:"center"},v.createElement(x,{disabled:n(l),roomAvatar:Q,room:l,onChangeAvatar:ec})),v.createElement(i,null,v.createElement(u,{required:!0},T("Name")),v.createElement(m,null,v.createElement(c,{disabled:ef||!S,value:L,onChange:el,flexGrow:1}))),"d"!==l.t&&v.createElement(v.Fragment,null,l.u&&v.createElement(i,null,v.createElement(u,null,T("Owner")),v.createElement(m,null,v.createElement(a,{fontScale:"p2"},null===(t=l.u)||void 0===t?void 0:t.username))),M&&v.createElement(i,null,v.createElement(u,null,T("Description")),v.createElement(m,null,v.createElement(E,{rows:4,disabled:ef||n(l),value:X,onChange:eu,flexGrow:1}))),I&&v.createElement(i,null,v.createElement(u,null,T("Announcement")),v.createElement(m,null,v.createElement(E,{rows:4,disabled:ef||n(l),value:Z,onChange:em,flexGrow:1}))),j&&v.createElement(i,null,v.createElement(u,null,T("Topic")),v.createElement(m,null,v.createElement(E,{rows:4,disabled:ef,value:K,onChange:ei,flexGrow:1}))),H&&v.createElement(i,null,v.createElement(a,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},v.createElement(u,null,T("Private")),v.createElement(m,null,v.createElement(d,{disabled:ef||n(l),checked:"p"===V,onChange:ew}))),v.createElement(s,null,T("Just_invited_people_can_access_this_channel"))),B&&v.createElement(i,null,v.createElement(a,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},v.createElement(u,null,T("Read_only")),v.createElement(m,null,v.createElement(d,{disabled:ef||n(l),checked:W,onChange:ea}))),v.createElement(s,null,T("Only_authorized_users_can_write_new_messages"))),W&&v.createElement(i,null,v.createElement(a,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},v.createElement(u,null,T("React_when_read_only")),v.createElement(m,null,v.createElement(d,{checked:Y||n(l),onChange:eo}))),v.createElement(s,null,T("React_when_read_only_changed_successfully"))),P&&v.createElement(i,null,v.createElement(a,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},v.createElement(u,null,T("Room_archivation_state_true")),v.createElement(m,null,v.createElement(d,{disabled:ef||n(l),checked:U,onChange:er}))))),v.createElement(i,null,v.createElement(a,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},v.createElement(u,null,T("Default")),v.createElement(m,null,v.createElement(d,{disabled:ef||n(l),checked:q,onChange:$})))),v.createElement(i,null,v.createElement(a,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},v.createElement(u,null,T("Favorite")),v.createElement(m,null,v.createElement(d,{disabled:ef,checked:z,onChange:ee})))),v.createElement(i,null,v.createElement(a,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},v.createElement(u,null,T("Featured")),v.createElement(m,null,v.createElement(d,{disabled:ef||n(l),checked:J,onChange:et}))))),v.createElement(w,null,v.createElement(r,{stretch:!0},v.createElement(o,{type:"reset",disabled:!F||ef,onClick:G},T("Reset")),v.createElement(o,{disabled:!F||ef,onClick:eC},T("Save"))),v.createElement(r,{mbs:8,stretch:!0},v.createElement(o,{icon:"trash",danger:!0,loading:ef,disabled:!eE||n(l),onClick:ed},T("Delete")))))})}
//# sourceMappingURL=/dynamic/client/views/admin/rooms/8ba5393173cdd2627fd2f8ea4c3fdea3f7a6b556.map
