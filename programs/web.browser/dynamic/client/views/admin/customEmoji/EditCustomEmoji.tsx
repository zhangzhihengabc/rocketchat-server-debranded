function module(e,t,n){let l,a,o,r,i,s,c,u,m,d,p,E,f,C,h,j,k,b,g,v,_,x,y,F,S,T,D,w;let A=["close","onChange","data"];n.link("@babel/runtime/helpers/objectSpread2",{default(e){l=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},1),n.link("@rocket.chat/fuselage",{Box(e){o=e},Button(e){r=e},ButtonGroup(e){i=e},Margins(e){s=e},TextInput(e){c=e},Field(e){u=e},FieldGroup(e){m=e},FieldLabel(e){d=e},FieldRow(e){p=e},FieldError(e){E=e},IconButton(e){f=e}},0),n.link("@rocket.chat/ui-contexts",{useSetModal(e){C=e},useToastMessageDispatch(e){h=e},useAbsoluteUrl(e){j=e},useTranslation(e){k=e}},1),n.link("react",{default(e){b=e},useCallback(e){g=e},useState(e){v=e},useMemo(e){_=e},useEffect(e){x=e}},2),n.link("../../../components/Contextualbar",{ContextualbarScrollableContent(e){y=e},ContextualbarFooter(e){F=e}},3),n.link("../../../components/GenericModal",{default(e){S=e}},4),n.link("../../../hooks/useEndpointAction",{useEndpointAction(e){T=e}},5),n.link("../../../hooks/useEndpointUpload",{useEndpointUpload(e){D=e}},6),n.link("../../../hooks/useFileInput",{useFileInput(e){w=e}},7),n.exportDefault(e=>{let{close:t,onChange:n,data:I}=e,U=a(e,A),B=k(),M=h(),N=C(),R=j(),[G,L]=v({name:!1,aliases:!1}),{_id:O,name:P,aliases:W}=I||{},[q,H]=v(()=>{var e;return null!==(e=null==I?void 0:I.name)&&void 0!==e?e:""}),[z,J]=v(()=>{var e,t;return null!==(e=null==I?void 0:null===(t=I.aliases)||void 0===t?void 0:t.join(", "))&&void 0!==e?e:""}),[K,Q]=v(),V=_(()=>K?URL.createObjectURL(K):I?R("/emoji-custom/".concat(encodeURIComponent(I.name),".").concat(I.extension)):null,[R,I,K]);x(()=>{H(P||""),J((null==W?void 0:W.join(", "))||"")},[P,W,O]);let X=_(()=>P!==q||z!==W.join(", ")||!!K,[P,q,z,W,K]),Y=D("/v1/emoji-custom.update",B("Custom_Emoji_Updated_Successfully")),Z=g(async()=>{if(!q)return L(e=>l(l({},e),{},{name:!0}));if(q===z)return L(e=>l(l({},e),{},{aliases:!0}));if(!K&&!V)return;let e=new FormData;K&&e.append("emoji",K),e.append("_id",O),e.append("name",q),e.append("aliases",z);let a=await Y(e);a.success&&(n(),t())},[K,O,q,z,Y,n,t,V]),$=T("POST","/v1/emoji-custom.delete"),ee=g(()=>{let e=async()=>{try{await $({emojiId:O}),M({type:"success",message:B("Custom_Emoji_Has_Been_Deleted")})}catch(e){M({type:"error",message:e})}finally{n(),N(null),t()}},l=()=>{N(null)};N(()=>b.createElement(S,{variant:"danger",onConfirm:e,onCancel:l,onClose:l,confirmText:B("Delete")},B("Custom_Emoji_Delete_Warning")))},[N,$,O,M,B,n,t]),et=g(e=>(e.currentTarget.value!==q&&L(e=>l(l({},e),{},{aliases:!1})),J(e.currentTarget.value)),[J,q]),[en]=w(Q,"emoji");return b.createElement(b.Fragment,null,b.createElement(y,U,b.createElement(m,null,b.createElement(u,null,b.createElement(d,null,B("Name")),b.createElement(p,null,b.createElement(c,{value:q,onChange:e=>(""!==e.currentTarget.value&&L(e=>l(l({},e),{},{name:!1})),H(e.currentTarget.value)),placeholder:B("Name")})),G.name&&b.createElement(E,null,B("error-the-field-is-required",{field:B("Name")}))),b.createElement(u,null,b.createElement(d,null,B("Aliases")),b.createElement(p,null,b.createElement(c,{value:z,onChange:et,placeholder:B("Aliases")})),G.aliases&&b.createElement(E,null,B("Custom_Emoji_Error_Same_Name_And_Alias"))),b.createElement(u,null,b.createElement(d,{alignSelf:"stretch",display:"flex",justifyContent:"space-between",alignItems:"center"},B("Custom_Emoji"),b.createElement(f,{icon:"upload",secondary:!0,onClick:en})),V&&b.createElement(o,{display:"flex",flexDirection:"row",mbs:"none",justifyContent:"center"},b.createElement(s,{inline:4},b.createElement(o,{is:"img",style:{objectFit:"contain"},w:"x120",h:"x120",src:V})))))),b.createElement(F,null,b.createElement(i,{stretch:!0},b.createElement(r,{onClick:t},B("Cancel")),b.createElement(r,{primary:!0,onClick:Z,disabled:!X},B("Save"))),b.createElement(i,{mbs:8,stretch:!0},b.createElement(r,{icon:"trash",danger:!0,onClick:ee},B("Delete")))))})}
//# sourceMappingURL=/dynamic/client/views/admin/customEmoji/0139f61c2e3f7ec49f987dd0e09fa91b89c6c744.map
