)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/oauthApps/OAuthAddApp.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import {\n\tButton,\n\tButtonGroup,\n\tTextInput,\n\tField,\n\tFieldLabel,\n\tFieldRow,\n\tFieldError,\n\tFieldHint,\n\tTextAreaInput,\n\tToggleSwitch,\n\tFieldGroup,\n} from '@rocket.chat/fuselage';\nimport { useToastMessageDispatch, useRoute, useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback } from 'react';\nimport type { SubmitHandler } from 'react-hook-form';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport { ContextualbarScrollableContent } from '../../../components/Contextualbar';\n\ntype OAuthAddAppPayload = {\n\tname: string;\n\tactive: boolean;\n\tredirectUri: string;\n};\n\nconst OAuthAddApp = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tformState: { errors },\n\t\tcontrol,\n\t} = useForm<OAuthAddAppPayload>();\n\n\tconst saveApp = useEndpoint('POST', '/v1/oauth-apps.create');\n\n\tconst router = useRoute('admin-oauth-apps');\n\n\tconst close = useCallback(() => router.push({}), [router]);\n\n\tconst onSubmit: SubmitHandler<OAuthAddAppPayload> = async (data) => {\n\t\ttry {\n\t\t\tawait saveApp(data);\n\t\t\tclose();\n\t\t\tdispatchToastMessage({ type: 'success', message: t('Application_added') });\n\t\t} catch (error) {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t}\n\t};\n\n\treturn (\n\t\t<ContextualbarScrollableContent w='full'>\n\t\t\t<FieldGroup maxWidth='x600' alignSelf='center' w='full'>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel display='flex' justifyContent='space-between' w='full'>\n\t\t\t\t\t\t{t('Active')}\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='active'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\tdefaultValue={false}\n\t\t\t\t\t\t\trender={({ field }): ReactElement => <ToggleSwitch onChange={field.onChange} checked={field.value} />}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldLabel>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Application_Name')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<TextInput {...register('name', { required: true })} />\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t<FieldHint>{t('Give_the_application_a_name_This_will_be_seen_by_your_users')}</FieldHint>\n\t\t\t\t\t{errors?.name && <FieldError>{t('error-the-field-is-required', { field: t('Name') })}</FieldError>}\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Redirect_URI')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<TextAreaInput rows={5} {...register('redirectUri', { required: true })} />\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t<FieldHint>{t('After_OAuth2_authentication_users_will_be_redirected_to_this_URL')}</FieldHint>\n\t\t\t\t\t{errors?.redirectUri && <FieldError>{t('error-the-field-is-required', { field: t('Redirect_URI') })}</FieldError>}\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<ButtonGroup stretch w='full'>\n\t\t\t\t\t\t\t<Button onClick={close}>{t('Cancel')}</Button>\n\t\t\t\t\t\t\t<Button primary onClick={handleSubmit(onSubmit)}>\n\t\t\t\t\t\t\t\t{t('Save')}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t</FieldGroup>\n\t\t</ContextualbarScrollableContent>\n\t);\n};\n\nexport default OAuthAddApp;\n",null],"names":["_extends","Button","ButtonGroup","TextInput","Field","FieldLabel","FieldRow","FieldError","FieldHint","TextAreaInput","ToggleSwitch","FieldGroup","useToastMessageDispatch","useRoute","useEndpoint","useTranslation","React","useCallback","useForm","Controller","ContextualbarScrollableContent","module","link","default","v","exportDefault","t","dispatchToastMessage","register","handleSubmit","formState","errors","control","saveApp","router","close","push","onSubmit","data","type","message","error","createElement","w","maxWidth","alignSelf","display","justifyContent","name","defaultValue","render","_ref","field","onChange","checked","value","required","rows","redirectUri","stretch","onClick","primary"],"mappings":"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"}