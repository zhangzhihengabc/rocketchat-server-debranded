function module(e,t,l){let n,a,r,c,i,u,o,m,s,d,E,p,_,h,f,b,k,C,v,y,g,w,A,U,x,S,T;let R=["onChange","data"];l.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),l.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},1),l.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){r=e}},2),l.link("@rocket.chat/fuselage",{Button(e){c=e},ButtonGroup(e){i=e},TextInput(e){u=e},Field(e){o=e},FieldLabel(e){m=e},FieldRow(e){s=e},FieldError(e){d=e},FieldHint(e){E=e},TextAreaInput(e){p=e},ToggleSwitch(e){_=e},FieldGroup(e){h=e}},0),l.link("@rocket.chat/ui-contexts",{useSetModal(e){f=e},useToastMessageDispatch(e){b=e},useRoute(e){k=e},useAbsoluteUrl(e){C=e},useTranslation(e){v=e},useEndpoint(e){y=e}},1),l.link("react",{default(e){g=e},useCallback(e){w=e},useMemo(e){A=e}},2),l.link("react-hook-form",{useForm(e){U=e},Controller(e){x=e}},3),l.link("../../../components/Contextualbar",{ContextualbarScrollableContent(e){S=e}},4),l.link("../../../components/GenericModal",{default(e){T=e}},5),l.exportDefault(e=>{let{onChange:t,data:l}=e,I=r(e,R),F=v(),D=b(),{register:j,handleSubmit:q,formState:{errors:G},control:L}=U({defaultValues:{name:l.name,active:l.active,redirectUri:Array.isArray(l.redirectUri)?l.redirectUri.join("\n"):l.redirectUri}}),M=f(),O=k("admin-oauth-apps"),P=w(()=>O.push({}),[O]),z=C(),B=A(()=>z("oauth/authorize"),[z]),N=A(()=>z("oauth/token"),[z]),V=y("POST","/v1/oauth-apps.update"),W=y("POST","/v1/oauth-apps.delete"),H=async e=>{try{await V(a(a({},e),{},{appId:l._id})),D({type:"success",message:F("Application_updated")}),t()}catch(e){D({type:"error",message:e})}},Y=w(async()=>{try{await W({appId:l._id}),D({type:"success",message:F("Your_entry_has_been_deleted")}),P()}catch(e){D({type:"error",message:e})}finally{M(null)}},[l._id,P,W,D,M,F]);return g.createElement(S,n({w:"full"},I),g.createElement(h,{maxWidth:"x600",alignSelf:"center",w:"full"},g.createElement(o,null,g.createElement(m,{display:"flex",justifyContent:"space-between",w:"full"},F("Active"),g.createElement(x,{name:"active",control:L,defaultValue:l.active,render:e=>{let{field:t}=e;return g.createElement(_,{onChange:t.onChange,checked:t.value})}}))),g.createElement(o,null,g.createElement(m,null,F("Application_Name")),g.createElement(s,null,g.createElement(u,j("name",{required:!0}))),g.createElement(E,null,F("Give_the_application_a_name_This_will_be_seen_by_your_users")),(null==G?void 0:G.name)&&g.createElement(d,null,F("error-the-field-is-required",{field:F("Name")}))),g.createElement(o,null,g.createElement(m,null,F("Redirect_URI")),g.createElement(s,null,g.createElement(p,n({rows:5},j("redirectUri",{required:!0})))),g.createElement(E,null,F("After_OAuth2_authentication_users_will_be_redirected_to_this_URL")),(null==G?void 0:G.redirectUri)&&g.createElement(d,null,F("error-the-field-is-required",{field:F("Redirect_URI")}))),g.createElement(o,null,g.createElement(m,null,F("Client_ID")),g.createElement(s,null,g.createElement(u,{value:l.clientId}))),g.createElement(o,null,g.createElement(m,null,F("Client_Secret")),g.createElement(s,null,g.createElement(u,{value:l.clientSecret}))),g.createElement(o,null,g.createElement(m,null,F("Authorization_URL")),g.createElement(s,null,g.createElement(u,{value:B}))),g.createElement(o,null,g.createElement(m,null,F("Access_Token_URL")),g.createElement(s,null,g.createElement(u,{value:N}))),g.createElement(o,null,g.createElement(s,null,g.createElement(i,{stretch:!0,w:"full"},g.createElement(c,{onClick:P},F("Cancel")),g.createElement(c,{primary:!0,onClick:q(H)},F("Save"))))),g.createElement(o,null,g.createElement(s,null,g.createElement(i,{stretch:!0,w:"full"},g.createElement(c,{icon:"trash",danger:!0,onClick:()=>M(()=>g.createElement(T,{variant:"danger",onConfirm:Y,onCancel:()=>M(null),onClose:()=>M(null),confirmText:F("Delete")},F("Application_delete_warning")))},F("Delete")))))))})}
//# sourceMappingURL=/dynamic/client/views/admin/oauthApps/3ada5731dca35054638adc96ce842dc0285d1e05.map
