function module(e,t,l){let a,n,r,o,s,c,u,i,m,d,p,h,E,f,g,y,b,k,C,S,x,F;let _=["goToNew","close","onChange"];l.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},0),l.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){n=e}},1),l.link("@rocket.chat/fuselage",{Field(e){r=e},FieldLabel(e){o=e},FieldRow(e){s=e},TextInput(e){c=e},Box(e){u=e},Icon(e){i=e},Margins(e){m=e},Button(e){d=e},ButtonGroup(e){p=e}},0),l.link("@rocket.chat/ui-contexts",{useToastMessageDispatch(e){h=e},useMethod(e){E=e},useTranslation(e){f=e}},1),l.link("react",{default(e){g=e},useState(e){y=e},useCallback(e){b=e}},2),l.link("../../../components/Contextualbar",{ContextualbarScrollableContent(e){k=e},ContextualbarFooter(e){C=e}},3),l.link("../../../hooks/useFileInput",{useFileInput(e){S=e}},4),l.link("./lib",{validate(e){x=e},createSoundData(e){F=e}},5),l.exportDefault(e=>{let{goToNew:t,close:l,onChange:w}=e,v=n(e,_),M=f(),T=h(),[B,D]=y(""),[I,N]=y(),j=E("uploadCustomSound"),q=E("insertOrUpdateSound"),R=b(e=>{N(e)},[]),[U]=S(R,"audio/mp3"),z=b(async(e,t)=>{let l=F(t,e),n=x(l,t);n.forEach(e=>{throw Error(M("error-the-field-is-required",{field:M(e)}))});try{let e=await q(l);if(!e)return;T({type:"success",message:M("Uploading_file")});let n=new FileReader;return n.readAsBinaryString(t),n.onloadend=()=>{try{j(n.result,t.type,a(a({},l),{},{_id:e,random:Math.round(1e3*Math.random())})),T({type:"success",message:M("File_uploaded")})}catch(e){("string"==typeof e||e instanceof Error)&&T({type:"error",message:e})}},e}catch(e){("string"==typeof e||e instanceof Error)&&T({type:"error",message:e})}},[T,q,M,j]),A=b(async()=>{try{let e=await z(B,I);e&&T({type:"success",message:M("Custom_Sound_Saved_Successfully")}),e&&t(e),w()}catch(e){T({type:"error",message:e})}},[T,t,B,w,z,I,M]);return g.createElement(g.Fragment,null,g.createElement(k,v,g.createElement(r,null,g.createElement(o,null,M("Name")),g.createElement(s,null,g.createElement(c,{value:B,onChange:e=>D(e.currentTarget.value),placeholder:M("Name")}))),g.createElement(r,null,g.createElement(o,{alignSelf:"stretch"},M("Sound_File_mp3")),g.createElement(u,{display:"flex",flexDirection:"row",mbs:"none"},g.createElement(m,{inline:4},g.createElement(d,{square:!0,onClick:U},g.createElement(i,{name:"upload",size:"x20"})),(null==I?void 0:I.name)||M("None"))))),g.createElement(C,null,g.createElement(p,{stretch:!0},g.createElement(d,{mie:4,onClick:l},M("Cancel")),g.createElement(d,{primary:!0,onClick:A,disabled:""===B},M("Save")))))})}
//# sourceMappingURL=/dynamic/client/views/admin/customSounds/102aff5fed38be92fe06ff95864b473874a5f650.map
