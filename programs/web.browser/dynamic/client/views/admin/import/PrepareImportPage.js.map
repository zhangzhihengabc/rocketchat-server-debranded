)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/import/PrepareImportPage.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Badge, Box, Button, ButtonGroup, Margins, ProgressBar, Throbber, Tabs } from '@rocket.chat/fuselage';\nimport { useDebouncedValue, useSafely } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useTranslation, useStream, useRouter } from '@rocket.chat/ui-contexts';\nimport React, { useEffect, useState, useMemo } from 'react';\n\nimport {\n\tProgressStep,\n\tImportWaitingStates,\n\tImportFileReadyStates,\n\tImportPreparingStartedStates,\n\tImportingStartedStates,\n\tImportingErrorStates,\n} from '../../../../app/importer/lib/ImporterProgressStep';\nimport { numberFormat } from '../../../../lib/utils/stringUtils';\nimport Page from '../../../components/Page';\nimport PrepareChannels from './PrepareChannels';\nimport PrepareUsers from './PrepareUsers';\nimport { useErrorHandler } from './useErrorHandler';\n\nconst waitFor = (fn, predicate) =>\n\tnew Promise((resolve, reject) => {\n\t\tconst callPromise = () => {\n\t\t\tfn().then((result) => {\n\t\t\t\tif (predicate(result)) {\n\t\t\t\t\tresolve(result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(callPromise, 1000);\n\t\t\t}, reject);\n\t\t};\n\n\t\tcallPromise();\n\t});\n\nfunction PrepareImportPage() {\n\tconst t = useTranslation();\n\tconst handleError = useErrorHandler();\n\n\tconst [isPreparing, setPreparing] = useSafely(useState(true));\n\tconst [progressRate, setProgressRate] = useSafely(useState(null));\n\tconst [status, setStatus] = useSafely(useState(null));\n\tconst [messageCount, setMessageCount] = useSafely(useState(0));\n\tconst [users, setUsers] = useState([]);\n\tconst [channels, setChannels] = useState([]);\n\tconst [isImporting, setImporting] = useSafely(useState(false));\n\n\tconst usersCount = useMemo(() => users.filter(({ do_import }) => do_import).length, [users]);\n\tconst channelsCount = useMemo(() => channels.filter(({ do_import }) => do_import).length, [channels]);\n\n\tconst router = useRouter();\n\n\tconst getImportFileData = useEndpoint('GET', '/v1/getImportFileData');\n\tconst getCurrentImportOperation = useEndpoint('GET', '/v1/getCurrentImportOperation');\n\tconst startImport = useEndpoint('POST', '/v1/startImport');\n\n\tconst streamer = useStream('importers');\n\n\tuseEffect(\n\t\t() =>\n\t\t\tstreamer('progress', ({ rate }) => {\n\t\t\t\tsetProgressRate(rate);\n\t\t\t}),\n\t\t[streamer, setProgressRate],\n\t);\n\n\tuseEffect(() => {\n\t\tconst loadImportFileData = async () => {\n\t\t\ttry {\n\t\t\t\tconst data = await waitFor(getImportFileData, (data) => data && !data.waiting);\n\n\t\t\t\tif (!data) {\n\t\t\t\t\thandleError(t('Importer_not_setup'));\n\t\t\t\t\trouter.navigate('/admin/import');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (data.step) {\n\t\t\t\t\thandleError(t('Failed_To_Load_Import_Data'));\n\t\t\t\t\trouter.navigate('/admin/import');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsetMessageCount(data.message_count);\n\t\t\t\tsetUsers(data.users.map((user) => ({ ...user, do_import: true })));\n\t\t\t\tsetChannels(data.channels.map((channel) => ({ ...channel, do_import: true })));\n\t\t\t\tsetPreparing(false);\n\t\t\t\tsetProgressRate(null);\n\t\t\t} catch (error) {\n\t\t\t\thandleError(error, t('Failed_To_Load_Import_Data'));\n\t\t\t\trouter.navigate('/admin/import');\n\t\t\t}\n\t\t};\n\n\t\tconst loadCurrentOperation = async () => {\n\t\t\ttry {\n\t\t\t\tconst { operation } = await waitFor(\n\t\t\t\t\tgetCurrentImportOperation,\n\t\t\t\t\t({ operation }) => operation.valid && !ImportWaitingStates.includes(operation.status),\n\t\t\t\t);\n\n\t\t\t\tif (!operation.valid) {\n\t\t\t\t\trouter.navigate('/admin/import/new');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (ImportingStartedStates.includes(operation.status)) {\n\t\t\t\t\trouter.navigate('/admin/import/progress');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\toperation.status === ProgressStep.USER_SELECTION ||\n\t\t\t\t\tImportPreparingStartedStates.includes(operation.status) ||\n\t\t\t\t\tImportFileReadyStates.includes(operation.status)\n\t\t\t\t) {\n\t\t\t\t\tsetStatus(operation.status);\n\t\t\t\t\tloadImportFileData();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (ImportingErrorStates.includes(operation.status)) {\n\t\t\t\t\thandleError(t('Import_Operation_Failed'));\n\t\t\t\t\trouter.navigate('/admin/import');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (operation.status === ProgressStep.DONE) {\n\t\t\t\t\trouter.navigate('/admin/import');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\thandleError(t('Unknown_Import_State'));\n\t\t\t\trouter.navigate('/admin/import');\n\t\t\t} catch (error) {\n\t\t\t\thandleError(t('Failed_To_Load_Import_Data'));\n\t\t\t\trouter.navigate('/admin/import');\n\t\t\t}\n\t\t};\n\n\t\tloadCurrentOperation();\n\t}, [getCurrentImportOperation, getImportFileData, handleError, router, setMessageCount, setPreparing, setProgressRate, setStatus, t]);\n\n\tconst handleBackToImportsButtonClick = () => {\n\t\trouter.navigate('/admin/import');\n\t};\n\n\tconst handleStartButtonClick = async () => {\n\t\tsetImporting(true);\n\n\t\ttry {\n\t\t\tawait startImport({ input: { users, channels } });\n\t\t\trouter.navigate('/admin/import/progress');\n\t\t} catch (error) {\n\t\t\thandleError(error, t('Failed_To_Start_Import'));\n\t\t\trouter.navigate('/admin/import');\n\t\t}\n\t};\n\n\tconst [tab, setTab] = useState('users');\n\tconst handleTabClick = useMemo(() => (tab) => () => setTab(tab), []);\n\n\tconst statusDebounced = useDebouncedValue(status, 100);\n\n\tconst handleMinimumImportData = !!(\n\t\t(!usersCount && !channelsCount && !messageCount) ||\n\t\t(!usersCount && !channelsCount && messageCount !== 0)\n\t);\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Importing_Data')}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button icon='back' secondary onClick={handleBackToImportsButtonClick}>\n\t\t\t\t\t\t{t('Back_to_imports')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button primary disabled={isImporting || handleMinimumImportData} onClick={handleStartButtonClick}>\n\t\t\t\t\t\t{t('Importer_Prepare_Start_Import')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Page.Header>\n\n\t\t\t<Page.ScrollableContentWithShadow>\n\t\t\t\t<Box marginInline='auto' marginBlock='x24' width='full' maxWidth='590px'>\n\t\t\t\t\t<Box is='h2' fontScale='p2m'>\n\t\t\t\t\t\t{statusDebounced && t(statusDebounced.replace('importer_', 'importer_status_'))}\n\t\t\t\t\t</Box>\n\t\t\t\t\t{!isPreparing && (\n\t\t\t\t\t\t<Tabs flexShrink={0}>\n\t\t\t\t\t\t\t<Tabs.Item selected={tab === 'users'} onClick={handleTabClick('users')}>\n\t\t\t\t\t\t\t\t{t('Users')} <Badge>{usersCount}</Badge>\n\t\t\t\t\t\t\t</Tabs.Item>\n\t\t\t\t\t\t\t<Tabs.Item selected={tab === 'channels'} onClick={handleTabClick('channels')}>\n\t\t\t\t\t\t\t\t{t('Channels')} <Badge>{channelsCount}</Badge>\n\t\t\t\t\t\t\t</Tabs.Item>\n\t\t\t\t\t\t\t<Tabs.Item disabled>\n\t\t\t\t\t\t\t\t{t('Messages')}\n\t\t\t\t\t\t\t\t<Badge>{messageCount}</Badge>\n\t\t\t\t\t\t\t</Tabs.Item>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t)}\n\t\t\t\t\t<Margins block='x24'>\n\t\t\t\t\t\t{isPreparing && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{progressRate ? (\n\t\t\t\t\t\t\t\t\t<Box display='flex' justifyContent='center' fontScale='p2'>\n\t\t\t\t\t\t\t\t\t\t<ProgressBar percentage={progressRate.toFixed(0)} />\n\t\t\t\t\t\t\t\t\t\t<Box is='span' mis='x24'>\n\t\t\t\t\t\t\t\t\t\t\t{numberFormat(progressRate, 0)}%\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Throbber justifyContent='center' />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isPreparing && tab === 'users' && <PrepareUsers usersCount={usersCount} users={users} setUsers={setUsers} />}\n\t\t\t\t\t\t{!isPreparing && tab === 'channels' && (\n\t\t\t\t\t\t\t<PrepareChannels channels={channels} channelsCount={channelsCount} setChannels={setChannels} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Margins>\n\t\t\t\t</Box>\n\t\t\t</Page.ScrollableContentWithShadow>\n\t\t</Page>\n\t);\n}\n\nexport default PrepareImportPage;\n",null],"names":["_objectSpread","Badge","Box","Button","ButtonGroup","Margins","ProgressBar","Throbber","Tabs","useDebouncedValue","useSafely","useEndpoint","useTranslation","useStream","useRouter","React","useEffect","useState","useMemo","ProgressStep","ImportWaitingStates","ImportFileReadyStates","ImportPreparingStartedStates","ImportingStartedStates","ImportingErrorStates","numberFormat","Page","PrepareChannels","PrepareUsers","useErrorHandler","module","link","default","v","waitFor","fn","predicate","Promise","resolve","reject","callPromise","then","result","setTimeout","exportDefault","t","handleError","isPreparing","setPreparing","progressRate","setProgressRate","status","setStatus","messageCount","setMessageCount","users","setUsers","channels","setChannels","isImporting","setImporting","usersCount","filter","_ref","do_import","length","channelsCount","_ref2","router","getImportFileData","getCurrentImportOperation","startImport","streamer","_ref3","rate","loadImportFileData","data","waiting","navigate","step","message_count","map","user","channel","error","loadCurrentOperation","operation","_ref4","valid","includes","USER_SELECTION","DONE","handleStartButtonClick","input","tab","setTab","handleTabClick","statusDebounced","handleMinimumImportData","createElement","Header","title","icon","secondary","onClick","primary","disabled","ScrollableContentWithShadow","marginInline","marginBlock","width","maxWidth","is","fontScale","replace","flexShrink","Item","selected","block","Fragment","display","justifyContent","percentage","toFixed","mis"],"mappings":"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"}