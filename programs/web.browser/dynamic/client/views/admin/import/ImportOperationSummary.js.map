)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/import/ImportOperationSummary.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { TableRow, TableCell } from '@rocket.chat/fuselage';\nimport { useRouter, useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useMemo } from 'react';\n\nimport {\n\tImportWaitingStates,\n\tImportFileReadyStates,\n\tImportPreparingStartedStates,\n\tImportingStartedStates,\n\tProgressStep,\n} from '../../../../app/importer/lib/ImporterProgressStep';\nimport { useFormatDateAndTime } from '../../../hooks/useFormatDateAndTime';\nimport ImportOperationSummarySkeleton from './ImportOperationSummarySkeleton';\n\nfunction ImportOperationSummary({\n\ttype,\n\t_updatedAt,\n\tstatus,\n\tfile = '',\n\tuser,\n\tsmall,\n\tcount: { users = 0, channels = 0, messages = 0, total = 0 } = {},\n\tvalid,\n}) {\n\tconst t = useTranslation();\n\tconst formatDateAndTime = useFormatDateAndTime();\n\n\tconst fileName = useMemo(() => {\n\t\tif (!file) {\n\t\t\treturn '';\n\t\t}\n\n\t\tconst fileName = file;\n\n\t\tconst userPattern = `_${user}_`;\n\t\tconst idx = fileName.indexOf(userPattern);\n\t\tif (idx >= 0) {\n\t\t\treturn fileName.slice(idx + userPattern.length);\n\t\t}\n\n\t\treturn fileName;\n\t}, [file, user]);\n\n\tconst canContinue = useMemo(\n\t\t() =>\n\t\t\tvalid &&\n\t\t\t[ProgressStep.USER_SELECTION, ...ImportWaitingStates, ...ImportFileReadyStates, ...ImportPreparingStartedStates].includes(status),\n\t\t[valid, status],\n\t);\n\n\tconst canCheckProgress = useMemo(() => valid && ImportingStartedStates.includes(status), [valid, status]);\n\n\tconst router = useRouter();\n\n\tconst handleClick = () => {\n\t\tif (canContinue) {\n\t\t\trouter.navigate('/admin/import/prepare');\n\t\t\treturn;\n\t\t}\n\n\t\tif (canCheckProgress) {\n\t\t\trouter.navigate('/admin/import/progress');\n\t\t}\n\t};\n\n\tconst hasAction = canContinue || canCheckProgress;\n\n\tconst props = hasAction\n\t\t? {\n\t\t\t\ttabIndex: 0,\n\t\t\t\trole: 'link',\n\t\t\t\taction: true,\n\t\t\t\tonClick: handleClick,\n\t\t  }\n\t\t: {};\n\n\treturn (\n\t\t<TableRow {...props}>\n\t\t\t<TableCell>{type}</TableCell>\n\t\t\t<TableCell>{formatDateAndTime(_updatedAt)}</TableCell>\n\t\t\t{!small && (\n\t\t\t\t<>\n\t\t\t\t\t<TableCell>{status && t(status.replace('importer_', 'importer_status_'))}</TableCell>\n\t\t\t\t\t<TableCell>{fileName}</TableCell>\n\t\t\t\t\t<TableCell align='center'>{users}</TableCell>\n\t\t\t\t\t<TableCell align='center'>{channels}</TableCell>\n\t\t\t\t\t<TableCell align='center'>{messages}</TableCell>\n\t\t\t\t\t<TableCell align='center'>{total}</TableCell>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</TableRow>\n\t);\n}\n\nexport default Object.assign(ImportOperationSummary, {\n\tSkeleton: ImportOperationSummarySkeleton,\n});\n",null],"names":["TableRow","TableCell","useRouter","useTranslation","React","useMemo","ImportWaitingStates","ImportFileReadyStates","ImportPreparingStartedStates","ImportingStartedStates","ProgressStep","useFormatDateAndTime","ImportOperationSummarySkeleton","module","link","v","default","exportDefault","Object","assign","_ref","type","_updatedAt","status","file","user","small","count","users","channels","messages","total","valid","t","formatDateAndTime","fileName","userPattern","concat","idx","indexOf","slice","length","canContinue","USER_SELECTION","includes","canCheckProgress","router","createElement","hasAction","tabIndex","role","action","onClick","navigate","Fragment","replace","align","Skeleton"],"mappings":"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"}