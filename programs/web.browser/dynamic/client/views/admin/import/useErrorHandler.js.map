)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/import/useErrorHandler.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\n\nexport const useErrorHandler = () => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\treturn useMutableCallback((error, defaultMessage) => {\n\t\tconsole.error(error);\n\n\t\tif (typeof error === 'string') {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\treturn;\n\t\t}\n\n\t\tconst errorType = error?.xhr?.responseJSON?.errorType;\n\n\t\tif (typeof errorType === 'string' && t.has(errorType)) {\n\t\t\tdispatchToastMessage({ type: 'error', message: t(errorType) });\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof errorType?.error === 'string' && t.has(errorType.error)) {\n\t\t\tdispatchToastMessage({ type: 'error', message: t(errorType?.error) });\n\t\t\treturn;\n\t\t}\n\n\t\tif (defaultMessage) {\n\t\t\tdispatchToastMessage({ type: 'error', message: defaultMessage });\n\t\t}\n\t});\n};\n",null],"names":["useMutableCallback","useToastMessageDispatch","useTranslation","module","export","useErrorHandler","link","v","t","dispatchToastMessage","error","defaultMessage","_error$xhr","_error$xhr$responseJS","console","type","message","errorType","xhr","responseJSON","has"],"mappings":"2BAAyDA,EAAkHC,EAAwBC,EAAnMC,EAAOC,MAAM,CAAC,CAACC,gBAAgB,IAAIA,CAAe,GAA0BF,EAAOG,IAAI,CAAC,8BAA8B,CAACN,mBAAmBO,CAAC,EAAEP,EAAmBO,CAAC,CAAC,EAAE,GAA8CJ,EAAOG,IAAI,CAAC,2BAA2B,CAACL,wBAAwBM,CAAC,EAAEN,EAAwBM,CAAC,EAAEL,eAAeK,CAAC,EAAEL,EAAeK,CAAC,CAAC,EAAE,GAG9U,IAAMF,EAAkB,KAC9B,IAAMG,EAAIN,IACJO,EAAuBR,IAE7B,OAAOD,EAAmB,CAACU,EAAOC,KAAmB,IAAAC,EAAAC,EAGpD,GAFAC,QAAQJ,KAAK,CAACA,GAEV,AAAiB,UAAjB,OAAOA,EAAoB,CAC9BD,EAAqB,CAAEM,KAAM,QAASC,QAASN,CAAM,GACrD,MACD,CAEA,IAAMO,EAAYP,MAAAA,EAAK,KAAA,EAAA,AAAK,OAALE,CAAAA,EAALF,EAAOQ,GAAG,AAAHA,GAAGN,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAA,AAAc,OAAdC,CAAAA,EAAVD,EAAYO,YAAY,AAAZA,GAAYN,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAxBA,EAA0BI,SAAS,CAErD,GAAI,AAAqB,UAArB,OAAOA,GAA0BT,EAAEY,GAAG,CAACH,GAAY,CACtDR,EAAqB,CAAEM,KAAM,QAASC,QAASR,EAAES,EAAW,GAC5D,MACD,CAEA,GAAI,AAA4B,UAA5B,MAAOA,CAAAA,MAAAA,EAAS,KAAA,EAATA,EAAWP,KAAK,AAALA,GAAsBF,EAAEY,GAAG,CAACH,EAAUP,KAAK,EAAG,CACnED,EAAqB,CAAEM,KAAM,QAASC,QAASR,EAAES,MAAAA,EAAS,KAAA,EAATA,EAAWP,KAAK,CAAE,GACnE,MACD,CAEIC,GACHF,EAAqB,CAAEM,KAAM,QAASC,QAASL,CAAe,EAEhE,EACD"}