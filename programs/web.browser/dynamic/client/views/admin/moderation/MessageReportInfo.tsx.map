)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/moderation/MessageReportInfo.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Message } from '@rocket.chat/fuselage';\nimport { useEndpoint, useSetting, useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport React from 'react';\n\nimport ReportReason from './helpers/ReportReason';\n\nconst MessageReportInfo = ({ msgId }: { msgId: string }): JSX.Element => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst getReportsByMessage = useEndpoint('GET', `/v1/moderation.reports`);\n\n\tconst useRealName = Boolean(useSetting('UI_Use_Real_Name'));\n\n\tconst {\n\t\tdata: reportsByMessage,\n\t\tisLoading: isLoadingReportsByMessage,\n\t\tisSuccess: isSuccessReportsByMessage,\n\t\tisError: isErrorReportsByMessage,\n\t} = useQuery(\n\t\t['moderation.reports', { msgId }],\n\t\tasync () => {\n\t\t\tconst reports = await getReportsByMessage({ msgId });\n\t\t\treturn reports;\n\t\t},\n\t\t{\n\t\t\tonError: (error) => {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t},\n\t\t},\n\t);\n\n\tif (isLoadingReportsByMessage) {\n\t\treturn (\n\t\t\t<Box display='flex' flexDirection='column' width='full' height='full' overflow='hidden'>\n\t\t\t\t<Message>{t('Loading')}</Message>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tif (isErrorReportsByMessage) {\n\t\treturn (\n\t\t\t<Box display='flex' flexDirection='column' width='full' height='full' overflow='hidden'>\n\t\t\t\t<Message>{t('Error')}</Message>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tconst { reports } = reportsByMessage;\n\n\treturn (\n\t\t<>\n\t\t\t{isSuccessReportsByMessage && reportsByMessage?.reports && (\n\t\t\t\t<Box display='flex' flexDirection='column' width='full' height='full' overflowX='hidden' overflowY='auto'>\n\t\t\t\t\t{reports.map((report, index) => (\n\t\t\t\t\t\t<ReportReason\n\t\t\t\t\t\t\tkey={report._id}\n\t\t\t\t\t\t\tind={index + 1}\n\t\t\t\t\t\t\tuinfo={useRealName ? report.reportedBy?.name : report.reportedBy?.username}\n\t\t\t\t\t\t\tmsg={report.description}\n\t\t\t\t\t\t\tts={new Date(report.ts)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default MessageReportInfo;\n",null],"names":["Box","Message","useEndpoint","useSetting","useToastMessageDispatch","useTranslation","useQuery","React","ReportReason","module","link","default","exportDefault","_ref","msgId","t","dispatchToastMessage","getReportsByMessage","useRealName","Boolean","data","reportsByMessage","isLoading","isLoadingReportsByMessage","isSuccess","isSuccessReportsByMessage","isError","isErrorReportsByMessage","reports","onError","error","type","message","createElement","display","flexDirection","width","height","overflow","Fragment","overflowX","overflowY","map","report","index","_report$reportedBy","_report$reportedBy2","key","_id","ind","uinfo","reportedBy","name","username","msg","description","ts","Date"],"mappings":"2BAAAA,EAAOC,EAA8CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvCC,EAASC,IAAAA,CAAAA,wBAA6B,CAACV,IAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAP,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAH,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,yBAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAArDC,EAAOG,aAAO,CAOYC,IAA8C,GAA7C,CAAEC,MAAAA,CAAAA,CAA0B,CAAAD,EAChDE,EAAIV,IACJW,EAAuBZ,IACvBa,EAAsBf,EAAY,MAAK,0BAEvCgB,EAAcC,CAAAA,CAAQhB,EAAW,oBAEjC,CACLiB,KAAMC,CAAgB,CACtBC,UAAWC,CAAyB,CACpCC,UAAWC,CAAyB,CACpCC,QAASC,CAAAA,CACT,CAAGrB,EACH,CAAC,qBAAsB,CAAEQ,MAAAA,CAAK,EAAG,CACjC,UACC,IAAMc,EAAU,MAAMX,EAAoB,CAAEH,MAAAA,CAAK,GACjD,OAAOc,CACR,EACA,CACCC,QAAUC,IACTd,EAAqB,CAAEe,KAAM,QAASC,QAASF,CAAK,EACrD,IAIF,GAAIP,EACH,OACChB,EAAA0B,aAAA,CAACjC,EAAG,CAACkC,QAAQ,OAAOC,cAAc,SAASC,MAAM,OAAOC,OAAO,OAAOC,SAAS,QAAQ,EACtF/B,EAAA0B,aAAA,CAAChC,EAAO,KAAEc,EAAE,aAKf,GAAIY,EACH,OACCpB,EAAA0B,aAAA,CAACjC,EAAG,CAACkC,QAAQ,OAAOC,cAAc,SAASC,MAAM,OAAOC,OAAO,OAAOC,SAAS,QAAQ,EACtF/B,EAAA0B,aAAA,CAAChC,EAAO,KAAEc,EAAE,WAKf,GAAM,CAAEa,QAAAA,CAAAA,CAAS,CAAGP,EAEpB,OACCd,EAAA0B,aAAA,CAAA1B,EAAAgC,QAAA,CAAA,KACEd,GAA6BJ,CAAAA,MAAAA,EAAgB,KAAA,EAAhBA,EAAkBO,OAAO,AAAPA,GAC/CrB,EAAA0B,aAAA,CAACjC,EAAG,CAACkC,QAAQ,OAAOC,cAAc,SAASC,MAAM,OAAOC,OAAO,OAAOG,UAAU,SAASC,UAAU,MAAM,EACvGb,EAAQc,GAAG,CAAC,CAACC,EAAQC,KAAK,IAAAC,EAAAC,EAAA,OAC1BvC,EAAA0B,aAAA,CAACzB,EAAY,CACZuC,IAAKJ,EAAOK,GAAI,CAChBC,IAAKL,EAAQ,EACbM,MAAOhC,EAAW,AAAoB,OAApB2B,CAAAA,EAAGF,EAAOQ,UAAU,AAAVA,GAAUN,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAjBA,EAAmBO,IAAI,CAAA,AAAoB,OAApBN,CAAAA,EAAGH,EAAOQ,UAAU,AAAVA,GAAUL,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAjBA,EAAmBO,QAAS,CAC3EC,IAAKX,EAAOY,WAAY,CACxBC,GAAI,IAAIC,KAAKd,EAAOa,EAAE,CAAE,EACvB,IAMR"}