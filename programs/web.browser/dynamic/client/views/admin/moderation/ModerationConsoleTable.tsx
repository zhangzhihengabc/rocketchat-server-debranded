function module(e,t,r){let n,a,l,o,s,i,c,u,m,d,p,k,g,E,h,b,f,y,P,T,C,S,G,x,v,D,M,R,w;let F=["current","itemsPerPage","setItemsPerPage","setCurrent"];r.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),r.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},1),r.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){l=e}},2),r.link("@rocket.chat/fuselage",{Pagination(e){o=e},Field(e){s=e},FieldLabel(e){i=e},FieldRow(e){c=e}},0),r.link("@rocket.chat/fuselage-hooks",{useDebouncedValue(e){u=e},useMediaQuery(e){m=e},useMutableCallback(e){d=e}},1),r.link("@rocket.chat/ui-contexts",{useEndpoint(e){p=e},useToastMessageDispatch(e){k=e},useRoute(e){g=e},useTranslation(e){E=e}},2),r.link("@tanstack/react-query",{useQuery(e){h=e}},3),r.link("react",{default(e){b=e},useMemo(e){f=e},useState(e){y=e}},4),r.link("../../../components/FilterByText",{default(e){P=e}},5),r.link("../../../components/GenericNoResults",{default(e){T=e}},6),r.link("../../../components/GenericTable",{GenericTable(e){C=e},GenericTableLoadingTable(e){S=e},GenericTableHeaderCell(e){G=e},GenericTableBody(e){x=e},GenericTableHeader(e){v=e}},7),r.link("../../../components/GenericTable/hooks/usePagination",{usePagination(e){D=e}},8),r.link("../../../components/GenericTable/hooks/useSort",{useSort(e){M=e}},9),r.link("./ModerationConsoleTableRow",{default(e){R=e}},10),r.link("./helpers/DateRangePicker",{default(e){w=e}},11),r.exportDefault(()=>{let[e,t]=y(""),r=g("moderation-console"),I=E(),_=m("(min-width: 1024px)"),{sortBy:O,sortDirection:B,setSort:L}=M("reports.ts"),N=D(),{current:j,itemsPerPage:H,setItemsPerPage:Q,setCurrent:U}=N,Z=l(N,F),[q,J]=y({start:"",end:""}),{start:V,end:W}=q,z=u(f(()=>a(a({selector:e,sort:JSON.stringify({[O]:"asc"===B?1:-1}),count:H,offset:j},W&&{latest:"".concat(new Date(W).toISOString().slice(0,10),"T23:59:59.999Z")}),V&&{oldest:"".concat(new Date(V).toISOString().slice(0,10),"T00:00:00.000Z")}),[j,W,H,O,B,V,e]),500),A=p("GET","/v1/moderation.reportsByUsers"),K=k(),{data:X,isLoading:Y,isSuccess:$}=h(["moderation.reports",z],async()=>A(z),{onError:e=>{K({type:"error",message:e})},keepPreviousData:!0}),ee=d(e=>{r.push({context:"info",id:e})}),et=f(()=>[b.createElement(G,{key:"name",direction:B,active:"reports.message.u.username"===O,onClick:L,sort:"reports.message.u.username"},I("Name")),_&&b.createElement(G,{w:"x140",key:"username",direction:B,active:"reports.message.u.username"===O,onClick:L,sort:"reports.message.u.username"},I("Username")),b.createElement(G,{key:"reportedMessage",direction:B,active:"reports.description"===O,onClick:L,sort:"reports.description"},I("Moderation_Reported_message")),b.createElement(G,{key:"room",direction:B},I("Room")),b.createElement(G,{key:"postdate",direction:B,active:"reports.ts"===O,onClick:L,sort:"reports.ts"},I("Moderation_Report_date")),b.createElement(G,{key:"reports",direction:B,active:"count"===O,onClick:L,sort:"count"},I("Moderation_Report_plural")),b.createElement(G,{key:"actions",width:"x48"})],[B,O,L,I,_]);return b.createElement(b.Fragment,null,b.createElement(P,{autoFocus:!0,placeholder:I("Search"),onChange:e=>{let{text:r}=e;return t(r)}}),b.createElement(s,{alignSelf:"stretch"},b.createElement(i,null,I("Date")),b.createElement(c,null,b.createElement(w,{display:"flex",flexGrow:1,onChange:J}))),Y&&b.createElement(C,null,b.createElement(v,null,et),b.createElement(x,null,Y&&b.createElement(S,{headerCells:6}))),$&&X.reports.length>0&&b.createElement(b.Fragment,null,b.createElement(C,null,b.createElement(v,null,et),b.createElement(x,null,X.reports.map(e=>b.createElement(R,{key:e.userId,report:e,onClick:ee,isDesktopOrLarger:_})))),b.createElement(o,n({current:j,divider:!0,itemsPerPage:H,count:(null==X?void 0:X.total)||0,onSetItemsPerPage:Q,onSetCurrent:U},Z))),$&&0===X.reports.length&&b.createElement(T,null))})}
//# sourceMappingURL=/dynamic/client/views/admin/moderation/cef42d5602572d32973679f1be5c0b95ab5bf6a0.map
