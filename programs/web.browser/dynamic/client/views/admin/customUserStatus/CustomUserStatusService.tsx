function module(e,t,n){let l,a,r,c,o,i,s,u,m,d,p,E,f,b,_,g,k,h,S,x,y;n.link("@rocket.chat/fuselage",{Box(e){l=e},Button(e){a=e},ButtonGroup(e){r=e},Callout(e){c=e},Margins(e){o=e},ProgressBar(e){i=e},Skeleton(e){s=e},StatesAction(e){u=e},StatesIcon(e){m=e},StatesSubtitle(e){d=e},ToggleSwitch(e){p=e}},0),n.link("@rocket.chat/ui-contexts",{useEndpoint(e){E=e},useSetting(e){f=e}},1),n.link("@tanstack/react-query",{useMutation(e){b=e}},2),n.link("react",{default(e){_=e}},3),n.link("react-i18next",{Trans(e){g=e},useTranslation(e){k=e}},4),n.link("../../../components/Contextualbar",{ContextualbarContent(e){h=e},ContextualbarFooter(e){S=e}},5),n.link("../../../hooks/useIsEnterprise",{useIsEnterprise(e){x=e}},6),n.link("../../hooks/useActiveConnections",{useActiveConnections(e){y=e}},7),n.exportDefault(()=>{let{t:e}=k(),t=y(),n=f("Presence_broadcast_disabled"),C=E("POST","/v1/presence.enableBroadcast"),v=b(()=>C()),{data:w,isLoading:B}=x();if(t.isLoading||v.isLoading||B)return _.createElement(l,{pi:16,pb:8},_.createElement(s,null),_.createElement(s,null),_.createElement(s,null),_.createElement(s,null),_.createElement(s,null));if(t.isError||v.isError)return _.createElement(l,{display:"flex",flexDirection:"column",alignItems:"center",pb:20,color:"default"},_.createElement(m,{name:"circle-exclamation"}),_.createElement(d,null,e("Unable_to_load_active_connections")),_.createElement(u,{icon:"reload",onClick:()=>t.refetch()},e("Retry")));let{current:P,max:F,percentage:L}=t.data;return _.createElement(_.Fragment,null,_.createElement(h,{display:"flex",flexDirection:"column",justifyContent:"space-between",color:"default"},_.createElement("div",null,_.createElement(l,{display:"flex",justifyContent:"space-between",mb:16},_.createElement(l,{fontScale:"p1"},e("Service_status")),_.createElement(p,{disabled:v.isLoading||!n||100===L,checked:!n,onChange:()=>v.mutate()})),_.createElement(l,{display:"flex",fontScale:"c1",justifyContent:"space-between",mb:16},_.createElement(l,null,e("Active_connections")),_.createElement(l,null,null!=w&&w.isEnterprise?P:"".concat(P,"/").concat(F))),!(null!=w&&w.isEnterprise)&&_.createElement(i,{percentage:L,variant:L>80?"danger":"success"}),n&&_.createElement(o,{block:16},_.createElement(c,{type:"danger",title:e("Service_disabled")},e("Service_disabled_description")))),_.createElement(l,{display:"flex",flexDirection:"column",mb:16},null!=w&&w.isEnterprise?_.createElement(_.Fragment,null,_.createElement(l,{fontScale:"p2",mb:8},e("Premium_cap_description")),_.createElement(l,{fontScale:"p2",mb:8},_.createElement(g,{i18nKey:"Larger_amounts_of_active_connections"},"For larger amounts of active connections you can consider our",_.createElement(l,{is:"a",href:"https://docs.rocket.chat/deploy/scaling-rocket.chat",target:"_blank",color:"info"},"multiple instance solutions"),"."))):_.createElement(_.Fragment,null,_.createElement(l,{fontScale:"p2",mb:8},e("Community_cap_description")),_.createElement(l,{fontScale:"p2",mb:8},e("Premium_cap_description"))))),!(null!=w&&w.isEnterprise)&&_.createElement(S,{borderBlockStartWidth:"default",borderBlockColor:"extra-light"},_.createElement(r,{stretch:!0,vertical:!0},_.createElement(a,{primary:!0,width:"100%",is:"a",href:"https://www.rocket.chat/enterprise",target:"_blank"},e("More_about_Premium_plans")))))})}
//# sourceMappingURL=/dynamic/client/views/admin/customUserStatus/fc9005a50c23f52a7cbcf38a16409df5b6493c70.map
