)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/invites/InviteRow.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IInvite } from '@rocket.chat/core-typings';\nimport { Box, IconButton } from '@rocket.chat/fuselage';\nimport { useMediaQuery } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, MouseEvent } from 'react';\nimport React from 'react';\n\nimport { GenericTableCell, GenericTableRow } from '../../../components/GenericTable';\nimport { useFormatDateAndTime } from '../../../hooks/useFormatDateAndTime';\nimport { useTimeFromNow } from '../../../hooks/useTimeFromNow';\n\nconst isExpired = (expires: IInvite['expires']): boolean => {\n\tif (expires && expires.getTime() < new Date().getTime()) {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\ntype InviteRowProps = Omit<IInvite, 'createdAt' | 'expires' | '_updatedAt'> & {\n\tonRemove: (removeInvite: () => Promise<boolean>) => void;\n\t_updatedAt: string;\n\tcreatedAt: string;\n\texpires: string | null;\n};\n\nconst InviteRow = ({ _id, createdAt, expires, uses, maxUses, onRemove }: InviteRowProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst formatDateAndTime = useFormatDateAndTime();\n\tconst removeInvite = useEndpoint('DELETE', '/v1/removeInvite/:_id', { _id });\n\n\tconst getTimeFromNow = useTimeFromNow(false);\n\n\tconst daysToExpire = (expires: IInvite['expires']): string => {\n\t\tif (expires) {\n\t\t\tif (isExpired(expires)) {\n\t\t\t\treturn t('Expired');\n\t\t\t}\n\n\t\t\treturn getTimeFromNow(expires);\n\t\t}\n\n\t\treturn t('Never');\n\t};\n\n\tconst maxUsesLeft = (maxUses: IInvite['maxUses'], uses: IInvite['uses']): number | string => {\n\t\tif (maxUses > 0) {\n\t\t\tif (uses >= maxUses) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\treturn maxUses - uses;\n\t\t}\n\n\t\treturn t('Unlimited');\n\t};\n\n\tconst handleRemoveButtonClick = async (event: MouseEvent<HTMLElement>): Promise<void> => {\n\t\tevent.stopPropagation();\n\t\tonRemove(() => removeInvite());\n\t};\n\n\tconst notSmall = useMediaQuery('(min-width: 768px)');\n\n\treturn (\n\t\t<GenericTableRow>\n\t\t\t<GenericTableCell>\n\t\t\t\t<Box color='hint' fontScale='p2'>\n\t\t\t\t\t{_id}\n\t\t\t\t</Box>\n\t\t\t</GenericTableCell>\n\t\t\t{notSmall && (\n\t\t\t\t<>\n\t\t\t\t\t<GenericTableCell>{formatDateAndTime(new Date(createdAt))}</GenericTableCell>\n\t\t\t\t\t<GenericTableCell>{daysToExpire(expires ? new Date(expires) : null)}</GenericTableCell>\n\t\t\t\t\t<GenericTableCell>{uses}</GenericTableCell>\n\t\t\t\t\t<GenericTableCell>{maxUsesLeft(maxUses, uses)}</GenericTableCell>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t<GenericTableCell>\n\t\t\t\t<IconButton icon='cross' danger small onClick={handleRemoveButtonClick} />\n\t\t\t</GenericTableCell>\n\t\t</GenericTableRow>\n\t);\n};\n\nexport default InviteRow;\n",null],"names":["Box","IconButton","useMediaQuery","useEndpoint","useTranslation","React","GenericTableCell","GenericTableRow","useFormatDateAndTime","useTimeFromNow","module","link","default","isExpired","expires","getTime","Date","exportDefault","_ref","maxUses","uses","_id","createdAt","onRemove","t","formatDateAndTime","removeInvite","getTimeFromNow","handleRemoveButtonClick","event","stopPropagation","notSmall","createElement","color","fontScale","Fragment","icon","danger","small","onClick"],"mappings":"2BACAA,EAAOC,EAAiDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA1CC,EAAYC,IAAAA,CAAAA,wBAA6B,CAACX,IAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAR,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAP,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAP,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAJ,iBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,sCAAAA,CAAAF,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,gCAAAA,CAAAD,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAUxD,IAAMI,EAAaC,KACdA,CAAAA,GAAWA,EAAQC,OAAO,GAAK,IAAIC,OAAOD,OAAO,EAAA,EAXtDL,EAAOO,aAAO,CAyBIC,QAOKJ,EAYDK,EAA6BC,EAnBsD,GAAtF,CAAEC,IAAAA,CAAG,CAAEC,UAAAA,CAAS,CAAER,QAAAA,CAAO,CAAEM,KAAAA,CAAI,CAAED,QAAAA,CAAO,CAAEI,SAAAA,CAAAA,CAA0B,CAAAL,EAChFM,EAAIpB,IACJqB,EAAoBjB,IACpBkB,EAAevB,EAAY,SAAU,wBAAyB,CAAEkB,IAAAA,CAAG,GAEnEM,EAAiBlB,EAAe,CAAA,GA0BhCmB,EAA0B,MAAOC,IACtCA,EAAMC,eAAe,GACrBP,EAAS,IAAMG,IAChB,EAEMK,EAAW7B,EAAc,sBAE/B,OACCG,EAAA2B,aAAA,CAACzB,EAAe,KACfF,EAAA2B,aAAA,CAAC1B,EAAgB,KAChBD,EAAA2B,aAAA,CAAChC,EAAG,CAACiC,MAAM,OAAOC,UAAU,IAAI,EAC9Bb,IAGFU,GACA1B,EAAA2B,aAAA,CAAA3B,EAAA8B,QAAA,CAAA,KACC9B,EAAA2B,aAAA,CAAC1B,EAAgB,KAAEmB,EAAkB,IAAIT,KAAKM,KAC9CjB,EAAA2B,aAAA,CAAC1B,EAAgB,KAxCpB,CADqBQ,EAyCcA,EAAU,IAAIE,KAAKF,GAAW,MAvChE,AAAID,EAAUC,GACNU,EAAE,WAGHG,EAAeb,GAGhBU,EAAE,UAiCNnB,EAAA2B,aAAA,CAAC1B,EAAgB,KAAEc,GACnBf,EAAA2B,aAAA,CAAC1B,EAAgB,KA9BpB,AAAIa,AA8B8BA,EA9BpB,EACb,AAAIC,AA6BsCA,GAATD,EA5BzB,EAGDA,AAyB0BA,EAASC,EAtBpCI,EAAE,eAyBRnB,EAAA2B,aAAA,CAAC1B,EAAgB,KAChBD,EAAA2B,aAAA,CAAC/B,EAAU,CAACmC,KAAK,QAAQC,OAAM,CAAA,EAACC,MAAK,CAAA,EAACC,QAASX,CAAwB,IAI3E"}