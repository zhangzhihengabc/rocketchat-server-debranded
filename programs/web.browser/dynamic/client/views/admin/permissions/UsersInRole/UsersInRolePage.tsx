function module(e,t,l){let n,r,a,o,s,c,m,u,i,d,p,E,f,k,h,g,C,U,y,_,b;l.link("@rocket.chat/fuselage",{Box(e){n=e},Field(e){r=e},FieldLabel(e){a=e},FieldRow(e){o=e},Margins(e){s=e},ButtonGroup(e){c=e},Button(e){m=e},Callout(e){u=e}},0),l.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){i=e}},1),l.link("@rocket.chat/ui-contexts",{useToastMessageDispatch(e){d=e},useRoute(e){p=e},useEndpoint(e){E=e},useTranslation(e){f=e}},2),l.link("react",{default(e){k=e},useRef(e){h=e}},3),l.link("react-hook-form",{useForm(e){g=e},Controller(e){C=e}},4),l.link("../../../../components/Page",{default(e){U=e}},5),l.link("../../../../components/RoomAutoComplete",{default(e){y=e}},6),l.link("../../../../components/UserAutoCompleteMultiple",{default(e){_=e}},7),l.link("./UsersInRoleTable",{default(e){b=e}},8),l.exportDefault(e=>{let{role:t}=e,l=f(),x=h(()=>void 0),R=d(),{control:T,handleSubmit:v,formState:{isDirty:w},reset:A,getValues:B}=g({defaultValues:{users:[]}}),{_id:F,name:M,description:S}=t,D=p("admin-permissions"),I=E("POST","/v1/roles.addUserToRole"),P=B("rid"),N=i(()=>{D.push({context:"edit",_id:F})}),G=i(async e=>{let{users:t,rid:n}=e;try{await Promise.all(t.map(async e=>{e&&await I({roleName:F,username:e,roomId:n})})),R({type:"success",message:l("Users_added")}),x.current(),A()}catch(e){R({type:"error",message:e})}});return k.createElement(U,null,k.createElement(U.Header,{title:"".concat(l("Users_in_role"),' "').concat(S||M,'"')},k.createElement(c,null,k.createElement(m,{onClick:N},l("Back")))),k.createElement(U.Content,null,k.createElement(n,{display:"flex",flexDirection:"column",w:"full",mi:"neg-x4"},k.createElement(s,{inline:4},"Users"!==t.scope&&k.createElement(r,{mbe:4},k.createElement(a,null,l("Choose_a_room")),k.createElement(o,null,k.createElement(C,{control:T,name:"rid",render:e=>{let{field:{onChange:t,value:n}}=e;return k.createElement(y,{value:n,onChange:t,placeholder:l("User")})}}))),k.createElement(r,null,k.createElement(a,null,l("Add_users")),k.createElement(o,null,k.createElement(C,{control:T,name:"users",render:e=>{let{field:{onChange:t,value:n}}=e;return k.createElement(_,{value:n,placeholder:l("User"),onChange:t})}}),k.createElement(c,{mis:8,align:"end"},k.createElement(m,{primary:!0,onClick:v(G),disabled:!w},l("Add"))))))),k.createElement(s,{blockStart:8},("Users"===t.scope||P)&&k.createElement(b,{reloadRef:x,rid:P,roleId:F,roleName:M,description:S}),"Users"!==t.scope&&!P&&k.createElement(u,{type:"info"},l("Select_a_room")))))})}
//# sourceMappingURL=/dynamic/client/views/admin/permissions/UsersInRole/ddbbb7e1f71a77a9c9984bcb4eca5cbe2c9a5ed8.map
