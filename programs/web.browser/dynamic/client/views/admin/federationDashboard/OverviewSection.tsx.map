)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/federationDashboard/OverviewSection.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Skeleton } from '@rocket.chat/fuselage';\nimport { useMethod, useTranslation } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ReactElement, ReactNode } from 'react';\nimport React from 'react';\n\nimport CounterSet from '../../../components/dataView/CounterSet';\n\nconst useOverviewData = (): [eventCount: ReactNode, userCount: ReactNode, serverCount: ReactNode] => {\n\tconst getFederationOverviewData = useMethod('federation:getOverviewData');\n\n\tconst result = useQuery(['admin/federation-dashboard/overview'], async () => getFederationOverviewData(), {\n\t\trefetchInterval: 10_000,\n\t});\n\n\tif (result.isLoading) {\n\t\treturn [\n\t\t\t<Skeleton key='event-count' variant='text' />,\n\t\t\t<Skeleton key='user-count' variant='text' />,\n\t\t\t<Skeleton key='server-count' variant='text' />,\n\t\t];\n\t}\n\n\tif (result.isError) {\n\t\treturn [\n\t\t\t<Box key='event-count' color='status-font-on-danger'>\n\t\t\t\tError\n\t\t\t</Box>,\n\t\t\t<Box key='user-count' color='status-font-on-danger'>\n\t\t\t\tError\n\t\t\t</Box>,\n\t\t\t<Box key='server-count' color='status-font-on-danger'>\n\t\t\t\tError\n\t\t\t</Box>,\n\t\t];\n\t}\n\n\tconst { data } = result.data;\n\n\treturn [data[0].value, data[1].value, data[2].value];\n};\n\nfunction OverviewSection(): ReactElement {\n\tconst t = useTranslation();\n\n\tconst [eventCount, userCount, serverCount] = useOverviewData();\n\n\treturn (\n\t\t<CounterSet\n\t\t\tcounters={[\n\t\t\t\t{\n\t\t\t\t\tcount: eventCount,\n\t\t\t\t\tdescription: t('Number_of_events'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcount: userCount,\n\t\t\t\t\tdescription: t('Number_of_federated_users'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcount: serverCount,\n\t\t\t\t\tdescription: t('Number_of_federated_servers'),\n\t\t\t\t},\n\t\t\t]}\n\t\t/>\n\t);\n}\n\nexport default OverviewSection;\n",null],"names":["Box","Skeleton","useMethod","useTranslation","useQuery","React","CounterSet","module","link","default","useOverviewData","getFederationOverviewData","result","refetchInterval","isLoading","createElement","key","variant","isError","color","data","value","exportDefault","t","eventCount","userCount","serverCount","counters","count","description"],"mappings":"2BAAAA,EAAOC,EAA+CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxCC,EAAUC,IAAAA,CAAAA,wBAA6B,CAACR,IAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAL,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAH,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,0CAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAQtD,IAAMI,EAAkB,KACvB,IAAMC,EAA4BT,EAAU,8BAEtCU,EAASR,EAAS,CAAC,sCAAsC,CAAE,SAAYO,IAA6B,CACzGE,gBAAiB,MAGlB,GAAID,EAAOE,SAAS,CACnB,MAAO,CACNT,EAAAU,aAAA,CAACd,EAAQ,CAACe,IAAI,cAAcC,QAAQ,MAAM,GAC1CZ,EAAAU,aAAA,CAACd,EAAQ,CAACe,IAAI,aAAaC,QAAQ,MAAM,GACzCZ,EAAAU,aAAA,CAACd,EAAQ,CAACe,IAAI,eAAeC,QAAQ,MAAM,GAC3C,CAGF,GAAIL,EAAOM,OAAO,CACjB,MAAO,CACNb,EAAAU,aAAA,CAACf,EAAG,CAACgB,IAAI,cAAcG,MAAM,uBAAuB,EACnD,SAEDd,EAAAU,aAAA,CAACf,EAAG,CAACgB,IAAI,aAAaG,MAAM,uBAAuB,EAClD,SAEDd,EAAAU,aAAA,CAACf,EAAG,CAACgB,IAAI,eAAeG,MAAM,uBAAuB,EACpD,SAED,CAGF,GAAM,CAAEC,KAAAA,CAAAA,CAAM,CAAGR,EAAOQ,IAAI,CAE5B,MAAO,CAACA,CAAI,CAAC,EAAE,CAACC,KAAK,CAAED,CAAI,CAAC,EAAE,CAACC,KAAK,CAAED,CAAI,CAAC,EAAE,CAACC,KAAK,CAAC,AACrD,EAxCAd,EAAOe,aAAO,CA0Cd,WACC,IAAMC,EAAIpB,IAEJ,CAACqB,EAAYC,EAAWC,EAAY,CAAGhB,IAE7C,OACCL,EAAAU,aAAA,CAACT,EAAU,CACVqB,SAAU,CACT,CACCC,MAAOJ,EACPK,YAAaN,EAAE,qBAEhB,CACCK,MAAOH,EACPI,YAAaN,EAAE,8BAEhB,CACCK,MAAOF,EACPG,YAAaN,EAAE,gCACf,AACA,EAGL"}