function module(e,t,a){let l,n,i,r,s,o,u,c,d,g,m,p,h,f,v,k,E,S,_;a.link("@rocket.chat/fuselage",{Accordion(e){l=e},Box(e){n=e},Button(e){i=e},ButtonGroup(e){r=e}},0),a.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){s=e}},1),a.link("@rocket.chat/ui-contexts",{useToastMessageDispatch(e){o=e},useUser(e){u=e},useSettingsDispatch(e){c=e},useSettings(e){d=e},useTranslation(e){g=e},useLoadLanguage(e){m=e},useRoute(e){p=e}},2),a.link("react",{default(e){h=e},useMemo(e){f=e},memo(e){v=e}},3),a.link("../../../components/Page",{default(e){k=e}},4),a.link("../EditableSettingsContext",{useEditableSettingsDispatch(e){E=e},useEditableSettings(e){S=e}},5),a.link("./GroupPageSkeleton",{default(e){_=e}},6),a.exportDefault(Object.assign(v(e=>{let{children:t,headerButtons:a,_id:v,i18nLabel:_,i18nDescription:y,tabs:b,isCustom:D=!1}=e,C=g(),x=u(),B=p("admin-settings"),w=c(),L=o(),M=m(),G=S(f(()=>({group:v,changed:!0}),[v])),N=d(f(()=>({_id:G.map(e=>{let{_id:t}=e;return t})}),[G])),P=e=>"color"===e.type,T=s(async()=>{let e=G.map(e=>P(e)?{_id:e._id,value:e.value,editor:e.editor}:{_id:e._id,value:e.value});if(0!==e.length)try{if(await w(e),e.some(e=>{let{_id:t}=e;return"Language"===t})){var t;let a=(null==x?void 0:x.language)||(null===(t=e.filter(e=>{let{_id:t}=e;return"Language"===t}).shift())||void 0===t?void 0:t.value)||"en";if("string"==typeof a){await M(a),L({type:"success",message:C("Settings_updated",{lng:a})});return}throw Error("lng is not a string")}L({type:"success",message:C("Settings_updated")})}catch(e){L({type:"error",message:e})}}),W=E(),j=s(()=>{let e=G.map(e=>{let{_id:t}=e;return N.find(e=>e._id===t)}).map(e=>e?P(e)?{_id:e._id,value:e.value,editor:e.editor,changed:!1}:{_id:e._id,value:e.value,changed:!1}:void 0).filter(Boolean);W(e)}),A=s(()=>B.push({}));if(!v)return h.createElement(k,null,t);let F=e=>void 0!==e;return h.createElement(k,{is:"form",action:"#",method:"post",onSubmit:e=>{e.preventDefault(),T()}},h.createElement(k.Header,{onClickBack:A,title:_&&F(_)&&C(_)},h.createElement(r,null,a)),b,D?t:h.createElement(k.ScrollableContentWithShadow,null,h.createElement(n,{marginBlock:"none",marginInline:"auto",width:"full",maxWidth:"x580"},y&&F(y)&&C.has(y)&&h.createElement(n,{is:"p",color:"hint",fontScale:"p2"},C(y)),h.createElement(l,{className:"page-settings"},t))),h.createElement(k.Footer,{isDirty:0!==G.length},h.createElement(r,null,G.length>0&&h.createElement(i,{type:"reset",onClick:e=>{e.preventDefault(),j()}},C("Cancel")),h.createElement(i,{children:C("Save_changes"),className:"save",disabled:0===G.length,primary:!0,type:"submit",onClick:e=>{e.preventDefault(),T()}}))))}),{Skeleton:_}))}
//# sourceMappingURL=/dynamic/client/views/admin/settings/f4ec8510eb5468933d31dbb0ead084209989fb4c.map
