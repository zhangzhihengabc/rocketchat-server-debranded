function module(e,t,a){let n,l,s,r,c,i,o,u,m,d;a.link("@rocket.chat/fuselage",{Button(e){n=e},FieldLabel(e){l=e},FieldRow(e){s=e},Icon(e){r=e}},0),a.link("@rocket.chat/random",{Random(e){c=e}},1),a.link("@rocket.chat/ui-contexts",{useToastMessageDispatch(e){i=e},useEndpoint(e){o=e},useTranslation(e){u=e},useUpload(e){m=e}},2),a.link("react",{default(e){d=e}},3),a.link("./AssetSettingInput.styles.css"),a.exportDefault(function(e){var t;let{_id:a,label:p,value:f,asset:g,fileConstraints:v}=e,E=u(),h=i(),y=m("/v1/assets.setAsset"),k=o("POST","/v1/assets.unsetAsset"),w=e=>!!("dataTransfer"in e&&e.dataTransfer.files),N=async()=>{try{await k({assetName:g})}catch(e){h({type:"error",message:e})}};return d.createElement(d.Fragment,null,d.createElement(l,{htmlFor:a,title:a},p),d.createElement(s,null,d.createElement("div",{className:"settings-file-preview"},null!=f&&f.url?d.createElement("div",{className:"preview",style:{backgroundImage:"url(".concat(f.url,"?_dc=").concat(c.id(),")")},role:"img","aria-label":E("Asset_preview")}):d.createElement("div",{className:"preview no-file background-transparent-light secondary-font-color"},d.createElement(r,{size:"x16",name:"upload"})),d.createElement("div",{className:"action"},null!=f&&f.url?d.createElement(n,{icon:"trash",onClick:N},E("Delete")):d.createElement("div",{className:"rc-button rc-button--primary"},E("Select_file"),d.createElement("input",{className:"AssetSettingInput__input",type:"file",accept:".".concat(null==v?void 0:null===(t=v.extensions)||void 0===t?void 0:t.join(", .")),onChange:e=>{var t;let{files:a}=e.target;(!a||0===a.length)&&w(e)&&(a=e.dataTransfer.files),Object.values(null!==(t=a)&&void 0!==t?t:[]).forEach(async e=>{h({type:"info",message:E("Uploading_file")});let t=new FormData;t.append("asset",e,g),t.append("assetName",g);try{await y(t)}catch(e){h({type:"error",message:e})}})}}))))))})}
//# sourceMappingURL=/dynamic/client/views/admin/settings/inputs/2f0e4c3b6a1b0a51b7fb6244f7d81b5f57a0fb16.map
