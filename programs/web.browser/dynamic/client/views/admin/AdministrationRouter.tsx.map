)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/admin/AdministrationRouter.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useRouter } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ReactNode } from 'react';\nimport React, { Suspense, useEffect } from 'react';\n\nimport PageSkeleton from '../../components/PageSkeleton';\nimport type { Item, SidebarDivider, SidebarItem } from '../../lib/createSidebarItems';\nimport { isGoRocketChatLink } from '../../lib/createSidebarItems';\nimport SettingsProvider from '../../providers/SettingsProvider';\nimport AdministrationLayout from './AdministrationLayout';\nimport { getAdminSidebarItems } from './sidebarItems';\n\nconst isSidebarDivider = (sidebarItem: SidebarItem): sidebarItem is SidebarDivider => {\n\treturn (sidebarItem as SidebarDivider).divider === true;\n};\n\nconst firstSidebarPage = (sidebarItem: SidebarItem): sidebarItem is Item => {\n\tif (isSidebarDivider(sidebarItem)) {\n\t\treturn false;\n\t}\n\n\treturn Boolean(sidebarItem.permissionGranted?.());\n};\n\ntype AdministrationRouterProps = {\n\tchildren?: ReactNode;\n};\n\nconst AdministrationRouter = ({ children }: AdministrationRouterProps): ReactElement => {\n\tconst router = useRouter();\n\n\tuseEffect(\n\t\t() =>\n\t\t\trouter.subscribeToRouteChange(() => {\n\t\t\t\tif (router.getRouteName() !== 'admin-index') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst defaultRoutePath = getAdminSidebarItems().find(firstSidebarPage)?.href ?? '/admin/workspace';\n\n\t\t\t\tif (isGoRocketChatLink(defaultRoutePath)) {\n\t\t\t\t\twindow.open(defaultRoutePath, '_blank');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\trouter.navigate(defaultRoutePath, { replace: true });\n\t\t\t}),\n\t\t[router],\n\t);\n\n\treturn (\n\t\t<AdministrationLayout>\n\t\t\t<SettingsProvider privileged>\n\t\t\t\t{children ? <Suspense fallback={<PageSkeleton />}>{children}</Suspense> : <PageSkeleton />}\n\t\t\t</SettingsProvider>\n\t\t</AdministrationLayout>\n\t);\n};\n\nexport default AdministrationRouter;\n",null],"names":["useRouter","React","Suspense","useEffect","PageSkeleton","isGoRocketChatLink","SettingsProvider","AdministrationLayout","getAdminSidebarItems","module","link","default","isSidebarDivider","sidebarItem","divider","firstSidebarPage","_sidebarItem$permissi","Boolean","permissionGranted","call","exportDefault","_ref","children","router","subscribeToRouteChange","_getAdminSidebarItems","_getAdminSidebarItems2","getRouteName","defaultRoutePath","find","href","window","open","navigate","replace","createElement","privileged","fallback"],"mappings":"2BAAAA,EAAqDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA5CC,EAAWC,IAAA,CAAM,2BAA2B,CAAAV,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAV,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,gCAAAA,CAAAE,QAAAA,CAAAA,EAAAP,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAJ,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,yBAAAA,CAAAE,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,iBAAAA,CAAAD,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAWrD,IAAMI,EAAoBC,GACjBA,AAA2C,CAAA,IAA3CA,EAA+BC,OAAO,CAGzCC,EAAoBF,IAAiD,IAAAG,QAC1E,CAAIJ,EAAiBC,IAIdI,CAAAA,CAAO,CAAA,AAA8B,OAA9BD,CAAAA,EAACH,EAAYK,iBAAiB,AAAjBA,GAAiBF,AAAA,KAAA,IAAAA,EAAA,KAAA,EAA7BA,EAAAG,IAAA,CAAAN,EAAW,CAC3B,EArBAJ,EAAOW,aAAa,CA2BSC,IAA0D,GAAzD,CAAEC,SAAAA,CAAAA,CAAqC,CAAAD,EAC9DE,EAASvB,IAqBf,OAnBAG,EACC,IACCoB,EAAOC,sBAAsB,CAAC,KAAK,IAAAC,EAAAC,EAClC,GAAIH,AAA0B,gBAA1BA,EAAOI,YAAY,GACtB,OAGD,IAAMC,EAAgB,AAAsD,OAAtDH,CAAAA,EAAA,AAAgD,OAAhDC,CAAAA,EAAGlB,IAAuBqB,IAAI,CAACd,EAAgB,GAACW,AAAA,KAAA,IAAAA,EAAA,KAAA,EAA7CA,EAA+CI,IAAI,AAAJA,GAAIL,AAAA,KAAA,IAAAA,EAAAA,EAAI,mBAEhF,GAAIpB,EAAmBuB,GAAmB,CACzCG,OAAOC,IAAI,CAACJ,EAAkB,UAC9B,OAGDL,EAAOU,QAAQ,CAACL,EAAkB,CAAEM,QAAS,CAAA,CAAI,EAClD,GACD,CAACX,EAAO,EAIRtB,EAAAkC,aAAA,CAAC5B,EAAoB,KACpBN,EAAAkC,aAAA,CAAC7B,EAAgB,CAAC8B,WAAU,CAAA,CAAA,EAC1Bd,EAAWrB,EAAAkC,aAAA,CAACjC,EAAQ,CAACmC,SAAUpC,EAAAkC,aAAA,CAAC/B,EAAY,KAAI,EAAEkB,GAAuBrB,EAAAkC,aAAA,CAAC/B,EAAY,OAI3F"}