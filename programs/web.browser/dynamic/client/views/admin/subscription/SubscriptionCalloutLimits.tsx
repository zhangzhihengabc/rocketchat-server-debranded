function module(e,t,i){let l,a,n,r,c,o,s,u;i.export({SubscriptionCalloutLimits:()=>m}),i.link("@rocket.chat/fuselage",{Callout(e){l=e}},0),i.link("@rocket.chat/license/src/validation/validateLimit",{validateWarnLimit(e){a=e}},1),i.link("@rocket.chat/ui-client",{ExternalLink(e){n=e}},2),i.link("react",{default(e){r=e}},3),i.link("react-i18next",{Trans(e){c=e},useTranslation(e){o=e}},4),i.link("../../../hooks/useLicense",{useLicense(e){s=e}},5),i.link("./hooks/useCheckoutUrl",{useCheckoutUrl(e){u=e}},6);let m=()=>{let e=u(),{t}=o(),i=s({loadValues:!0});if(i.isLoading||i.isError)return null;let{license:m,limits:p}=i.data;if(!m||!p)return null;let d=Object.keys(p),g=d.map(e=>{var t;let i=null===(t=m.limits[e])||void 0===t?void 0:t.filter(t=>{var i;return a(t.max,null!==(i=p[e].value)&&void 0!==i?i:0,t.behavior)}).sort((e,t)=>t.max-e.max)[0];if(i&&0!==i.max&&-1!==i.max)return[e,i.behavior]}).filter(Boolean);if(!g.length)return null;let b=g.reduce((e,t)=>{let[i,l]=t;return e[l]||(e[l]=[]),e[l].push(i),e},{}),{prevent_action:E,disable_modules:h,invalidate_license:k,start_fair_policy:v}=b,y=e=>t("subscription.callout.".concat(e));return r.createElement(r.Fragment,null,v&&r.createElement(l,{type:"warning",title:t("subscription.callout.servicesDisruptionsMayOccur"),m:8},r.createElement(c,{i18nKey:"subscription.callout.description.limitsReached",count:v.length},"Your workspace reached the ",r.createElement(r.Fragment,null,{val:v.map(y)})," limit.",r.createElement(n,{to:e({target:"callout",action:"start_fair_policy",limits:v.join(",")})},"Manage your subscription"),"to increase limits.")),E&&r.createElement(l,{type:"danger",title:t("subscription.callout.servicesDisruptionsOccurring"),m:8},r.createElement(c,{i18nKey:"subscription.callout.description.limitsExceeded",count:E.length},"Your workspace exceeded the ",r.createElement(r.Fragment,null,{val:E.map(y)})," license limit.",r.createElement(n,{to:e({target:"callout",action:"prevent_action",limits:E.join(",")})},"Manage your subscription"),"to increase limits.")),h&&r.createElement(l,{type:"danger",title:t("subscription.callout.capabilitiesDisabled"),m:8},r.createElement(c,{i18nKey:"subscription.callout.description.limitsExceeded",count:h.length},"Your workspace exceeded the ",r.createElement(r.Fragment,null,{val:h.map(y)})," license limit.",r.createElement(n,{to:e({target:"callout",action:"disable_modules",limits:h.join(",")})},"Manage your subscription"),"to increase limits.")),k&&r.createElement(l,{type:"danger",title:t("subscription.callout.allPremiumCapabilitiesDisabled"),m:8},r.createElement(c,{i18nKey:"subscription.callout.description.limitsExceeded",count:h.length},"Your workspace exceeded the ",r.createElement(r.Fragment,null,{val:k.map(y)})," license limit.",r.createElement(n,{to:e({target:"callout",action:"invalidate_license",limits:k.join(",")})},"Manage your subscription"),"to increase limits.")))}}
//# sourceMappingURL=/dynamic/client/views/admin/subscription/6d476c988d9164f4919ae70be43cc4b1dc131280.map
