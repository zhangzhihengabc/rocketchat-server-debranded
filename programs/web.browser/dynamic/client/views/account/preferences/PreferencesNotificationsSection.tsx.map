)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/account/preferences/PreferencesNotificationsSection.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { INotificationDesktop } from '@rocket.chat/core-typings';\nimport type { SelectOption } from '@rocket.chat/fuselage';\nimport { Accordion, Field, FieldLabel, FieldRow, FieldHint, Select, FieldGroup, ToggleSwitch, Button, Box } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useUserPreference, useSetting, useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { useCallback, useEffect, useState, useMemo } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\n\nimport { KonchatNotification } from '../../../../app/ui/client/lib/KonchatNotification';\n\nconst notificationOptionsLabelMap = {\n\tall: 'All_messages',\n\tmentions: 'Mentions',\n\tnothing: 'Nothing',\n};\n\nconst emailNotificationOptionsLabelMap = {\n\tmentions: 'Email_Notification_Mode_All',\n\tnothing: 'Email_Notification_Mode_Disabled',\n};\n\n// TODO: Test Notification Button not working\nconst PreferencesNotificationsSection = () => {\n\tconst t = useTranslation();\n\n\tconst [notificationsPermission, setNotificationsPermission] = useState<NotificationPermission>();\n\n\tconst defaultDesktopNotifications = useSetting(\n\t\t'Accounts_Default_User_Preferences_desktopNotifications',\n\t) as keyof typeof notificationOptionsLabelMap;\n\tconst defaultMobileNotifications = useSetting(\n\t\t'Accounts_Default_User_Preferences_pushNotifications',\n\t) as keyof typeof notificationOptionsLabelMap;\n\tconst canChangeEmailNotification = useSetting('Accounts_AllowEmailNotifications');\n\n\tconst loginEmailEnabled = useSetting('Device_Management_Enable_Login_Emails');\n\tconst allowLoginEmailPreference = useSetting('Device_Management_Allow_Login_Email_preference');\n\tconst showNewLoginEmailPreference = loginEmailEnabled && allowLoginEmailPreference;\n\tconst showCalendarPreference = useSetting('Outlook_Calendar_Enabled');\n\tconst showMobileRinging = useSetting('VideoConf_Mobile_Ringing');\n\n\tconst userEmailNotificationMode = useUserPreference('emailNotificationMode') as keyof typeof emailNotificationOptionsLabelMap;\n\n\tuseEffect(() => setNotificationsPermission(window.Notification && Notification.permission), []);\n\n\tconst onSendNotification = useCallback(() => {\n\t\tKonchatNotification.notify({\n\t\t\tpayload: { sender: { _id: 'rocket.cat', username: 'rocket.cat' }, rid: 'GENERAL' } as INotificationDesktop['payload'],\n\t\t\ttitle: t('Desktop_Notification_Test'),\n\t\t\ttext: t('This_is_a_desktop_notification'),\n\t\t});\n\t}, [t]);\n\n\tconst onAskNotificationPermission = useCallback(() => {\n\t\twindow.Notification && Notification.requestPermission().then((val) => setNotificationsPermission(val));\n\t}, []);\n\n\tconst notificationOptions = useMemo(\n\t\t() => Object.entries(notificationOptionsLabelMap).map(([key, val]) => t.has(val) && [key, t(val)]),\n\t\t[t],\n\t) as SelectOption[];\n\n\tconst desktopNotificationOptions = useMemo<SelectOption[]>((): SelectOption[] => {\n\t\tconst optionsCp = notificationOptions.slice();\n\t\toptionsCp.unshift(['default', `${t('Default')} (${t(notificationOptionsLabelMap[defaultDesktopNotifications] as TranslationKey)})`]);\n\t\treturn optionsCp;\n\t}, [defaultDesktopNotifications, notificationOptions, t]);\n\n\tconst mobileNotificationOptions = useMemo(() => {\n\t\tconst optionsCp = notificationOptions.slice();\n\t\toptionsCp.unshift(['default', `${t('Default')} (${t(notificationOptionsLabelMap[defaultMobileNotifications] as TranslationKey)})`]);\n\t\treturn optionsCp;\n\t}, [defaultMobileNotifications, notificationOptions, t]);\n\n\tconst emailNotificationOptions = useMemo(() => {\n\t\tconst options = Object.entries(emailNotificationOptionsLabelMap).map(([key, val]) => t.has(val) && [key, t(val)]) as SelectOption[];\n\t\toptions.unshift(['default', `${t('Default')} (${t(emailNotificationOptionsLabelMap[userEmailNotificationMode] as TranslationKey)})`]);\n\t\treturn options;\n\t}, [t, userEmailNotificationMode]);\n\n\tconst { control } = useFormContext();\n\n\tconst notificationRequireId = useUniqueId();\n\tconst desktopNotificationsId = useUniqueId();\n\tconst pushNotificationsId = useUniqueId();\n\tconst emailNotificationModeId = useUniqueId();\n\tconst receiveLoginDetectionEmailId = useUniqueId();\n\tconst notifyCalendarEventsId = useUniqueId();\n\tconst enableMobileRingingId = useUniqueId();\n\n\treturn (\n\t\t<Accordion.Item title={t('Notifications')}>\n\t\t\t<FieldGroup>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel>{t('Desktop_Notifications')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t{notificationsPermission === 'denied' && t('Desktop_Notifications_Disabled')}\n\t\t\t\t\t\t{notificationsPermission === 'granted' && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Button primary onClick={onSendNotification}>\n\t\t\t\t\t\t\t\t\t{t('Test_Desktop_Notifications')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{notificationsPermission !== 'denied' && notificationsPermission !== 'granted' && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Button primary onClick={onAskNotificationPermission}>\n\t\t\t\t\t\t\t\t\t{t('Enable_Desktop_Notifications')}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t<FieldLabel htmlFor={notificationRequireId}>{t('Notification_RequireInteraction')}</FieldLabel>\n\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\tname='desktopNotificationRequireInteraction'\n\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\taria-describedby={`${notificationRequireId}-hint`}\n\t\t\t\t\t\t\t\t\t\tid={notificationRequireId}\n\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<FieldHint id={`${notificationRequireId}-hint`}>{t('Only_works_with_chrome_version_greater_50')}</FieldHint>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={desktopNotificationsId}>{t('Notification_Desktop_Default_For')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='desktopNotifications'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select id={desktopNotificationsId} value={value} onChange={onChange} options={desktopNotificationOptions} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={pushNotificationsId}>{t('Notification_Push_Default_For')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='pushNotifications'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select id={pushNotificationsId} value={value} onChange={onChange} options={mobileNotificationOptions} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={emailNotificationModeId}>{t('Email_Notification_Mode')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='emailNotificationMode'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\taria-describedby={`${emailNotificationModeId}-hint`}\n\t\t\t\t\t\t\t\t\tid={emailNotificationModeId}\n\t\t\t\t\t\t\t\t\tdisabled={!canChangeEmailNotification}\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\toptions={emailNotificationOptions}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t<FieldHint id={`${emailNotificationModeId}-hint`}>\n\t\t\t\t\t\t{canChangeEmailNotification && t('You_need_to_verifiy_your_email_address_to_get_notications')}\n\t\t\t\t\t\t{!canChangeEmailNotification && t('Email_Notifications_Change_Disabled')}\n\t\t\t\t\t</FieldHint>\n\t\t\t\t</Field>\n\t\t\t\t{showNewLoginEmailPreference && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={receiveLoginDetectionEmailId}>{t('Receive_Login_Detection_Emails')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='receiveLoginDetectionEmail'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<ToggleSwitch\n\t\t\t\t\t\t\t\t\t\t\taria-describedby={`${receiveLoginDetectionEmailId}-hint`}\n\t\t\t\t\t\t\t\t\t\t\tid={receiveLoginDetectionEmailId}\n\t\t\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\t\t\tchecked={value}\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<FieldHint id={`${receiveLoginDetectionEmailId}-hint`}>{t('Receive_Login_Detection_Emails_Description')}</FieldHint>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{showCalendarPreference && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={notifyCalendarEventsId}>{t('Notify_Calendar_Events')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='notifyCalendarEvents'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<ToggleSwitch id={notifyCalendarEventsId} ref={ref} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t\t{showMobileRinging && (\n\t\t\t\t\t<Field>\n\t\t\t\t\t\t<Box display='flex' flexDirection='row' justifyContent='space-between' flexGrow={1}>\n\t\t\t\t\t\t\t<FieldLabel htmlFor={enableMobileRingingId}>{t('VideoConf_Mobile_Ringing')}</FieldLabel>\n\t\t\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\t\t\tname='enableMobileRinging'\n\t\t\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t\t\t<ToggleSwitch id={enableMobileRingingId} ref={ref} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FieldRow>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Field>\n\t\t\t\t)}\n\t\t\t</FieldGroup>\n\t\t</Accordion.Item>\n\t);\n};\n\nexport default PreferencesNotificationsSection;\n",null],"names":["Accordion","Field","FieldLabel","FieldRow","FieldHint","Select","FieldGroup","ToggleSwitch","Button","Box","useUniqueId","useUserPreference","useSetting","useTranslation","React","useCallback","useEffect","useState","useMemo","Controller","useFormContext","KonchatNotification","module","link","v","default","notificationOptionsLabelMap","all","mentions","nothing","emailNotificationOptionsLabelMap","exportDefault","t","notificationsPermission","setNotificationsPermission","defaultDesktopNotifications","defaultMobileNotifications","canChangeEmailNotification","loginEmailEnabled","allowLoginEmailPreference","showNewLoginEmailPreference","showCalendarPreference","showMobileRinging","userEmailNotificationMode","window","Notification","permission","onSendNotification","notify","payload","sender","_id","username","rid","title","text","onAskNotificationPermission","requestPermission","then","val","notificationOptions","Object","entries","map","_ref","key","has","desktopNotificationOptions","optionsCp","slice","unshift","concat","mobileNotificationOptions","emailNotificationOptions","options","_ref2","control","notificationRequireId","desktopNotificationsId","pushNotificationsId","emailNotificationModeId","receiveLoginDetectionEmailId","notifyCalendarEventsId","enableMobileRingingId","createElement","Item","Fragment","primary","onClick","display","flexDirection","justifyContent","flexGrow","htmlFor","name","render","_ref3","field","ref","value","onChange","id","checked","_ref4","_ref5","_ref6","disabled","_ref7","_ref8","_ref9"],"mappings":"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"}