function module(e,t,n){let i,l,o,a,r,c,s,m,f,u,d,_,E,h,g,p,k,N,D,b,w,C;n.link("@rocket.chat/fuselage",{Accordion(e){i=e},Field(e){l=e},FieldLabel(e){o=e},FieldRow(e){a=e},FieldHint(e){r=e},Select(e){c=e},FieldGroup(e){s=e},ToggleSwitch(e){m=e},Button(e){f=e},Box(e){u=e}},0),n.link("@rocket.chat/fuselage-hooks",{useUniqueId(e){d=e}},1),n.link("@rocket.chat/ui-contexts",{useUserPreference(e){_=e},useSetting(e){E=e},useTranslation(e){h=e}},2),n.link("react",{default(e){g=e},useCallback(e){p=e},useEffect(e){k=e},useState(e){N=e},useMemo(e){D=e}},3),n.link("react-hook-form",{Controller(e){b=e},useFormContext(e){w=e}},4),n.link("../../../../app/ui/client/lib/KonchatNotification",{KonchatNotification(e){C=e}},5);let y={all:"All_messages",mentions:"Mentions",nothing:"Nothing"},x={mentions:"Email_Notification_Mode_All",nothing:"Email_Notification_Mode_Disabled"};n.exportDefault(()=>{let e=h(),[t,n]=N(),F=E("Accounts_Default_User_Preferences_desktopNotifications"),v=E("Accounts_Default_User_Preferences_pushNotifications"),M=E("Accounts_AllowEmailNotifications"),A=E("Device_Management_Enable_Login_Emails"),R=E("Device_Management_Allow_Login_Email_preference"),L=A&&R,j=E("Outlook_Calendar_Enabled"),G=E("VideoConf_Mobile_Ringing"),P=_("emailNotificationMode");k(()=>n(window.Notification&&Notification.permission),[]);let T=p(()=>{C.notify({payload:{sender:{_id:"rocket.cat",username:"rocket.cat"},rid:"GENERAL"},title:e("Desktop_Notification_Test"),text:e("This_is_a_desktop_notification")})},[e]),q=p(()=>{window.Notification&&Notification.requestPermission().then(e=>n(e))},[]),I=D(()=>Object.entries(y).map(t=>{let[n,i]=t;return e.has(i)&&[n,e(i)]}),[e]),O=D(()=>{let t=I.slice();return t.unshift(["default","".concat(e("Default")," (").concat(e(y[F]),")")]),t},[F,I,e]),S=D(()=>{let t=I.slice();return t.unshift(["default","".concat(e("Default")," (").concat(e(y[v]),")")]),t},[v,I,e]),U=D(()=>{let t=Object.entries(x).map(t=>{let[n,i]=t;return e.has(i)&&[n,e(i)]});return t.unshift(["default","".concat(e("Default")," (").concat(e(x[P]),")")]),t},[e,P]),{control:B}=w(),K=d(),V=d(),H=d(),Y=d(),z=d(),J=d(),Q=d();return g.createElement(i.Item,{title:e("Notifications")},g.createElement(s,null,g.createElement(l,null,g.createElement(o,null,e("Desktop_Notifications")),g.createElement(a,null,"denied"===t&&e("Desktop_Notifications_Disabled"),"granted"===t&&g.createElement(g.Fragment,null,g.createElement(f,{primary:!0,onClick:T},e("Test_Desktop_Notifications"))),"denied"!==t&&"granted"!==t&&g.createElement(g.Fragment,null,g.createElement(f,{primary:!0,onClick:q},e("Enable_Desktop_Notifications"))))),g.createElement(l,null,g.createElement(u,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},g.createElement(o,{htmlFor:K},e("Notification_RequireInteraction")),g.createElement(a,null,g.createElement(b,{name:"desktopNotificationRequireInteraction",control:B,render:e=>{let{field:{ref:t,value:n,onChange:i}}=e;return g.createElement(m,{"aria-describedby":"".concat(K,"-hint"),id:K,ref:t,checked:n,onChange:i})}}))),g.createElement(r,{id:"".concat(K,"-hint")},e("Only_works_with_chrome_version_greater_50"))),g.createElement(l,null,g.createElement(o,{htmlFor:V},e("Notification_Desktop_Default_For")),g.createElement(a,null,g.createElement(b,{name:"desktopNotifications",control:B,render:e=>{let{field:{value:t,onChange:n}}=e;return g.createElement(c,{id:V,value:t,onChange:n,options:O})}}))),g.createElement(l,null,g.createElement(o,{htmlFor:H},e("Notification_Push_Default_For")),g.createElement(a,null,g.createElement(b,{name:"pushNotifications",control:B,render:e=>{let{field:{value:t,onChange:n}}=e;return g.createElement(c,{id:H,value:t,onChange:n,options:S})}}))),g.createElement(l,null,g.createElement(o,{htmlFor:Y},e("Email_Notification_Mode")),g.createElement(a,null,g.createElement(b,{name:"emailNotificationMode",control:B,render:e=>{let{field:{value:t,onChange:n}}=e;return g.createElement(c,{"aria-describedby":"".concat(Y,"-hint"),id:Y,disabled:!M,value:t,onChange:n,options:U})}})),g.createElement(r,{id:"".concat(Y,"-hint")},M&&e("You_need_to_verifiy_your_email_address_to_get_notications"),!M&&e("Email_Notifications_Change_Disabled"))),L&&g.createElement(l,null,g.createElement(u,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},g.createElement(o,{htmlFor:z},e("Receive_Login_Detection_Emails")),g.createElement(a,null,g.createElement(b,{name:"receiveLoginDetectionEmail",control:B,render:e=>{let{field:{ref:t,value:n,onChange:i}}=e;return g.createElement(m,{"aria-describedby":"".concat(z,"-hint"),id:z,ref:t,checked:n,onChange:i})}}))),g.createElement(r,{id:"".concat(z,"-hint")},e("Receive_Login_Detection_Emails_Description"))),j&&g.createElement(l,null,g.createElement(u,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},g.createElement(o,{htmlFor:J},e("Notify_Calendar_Events")),g.createElement(a,null,g.createElement(b,{name:"notifyCalendarEvents",control:B,render:e=>{let{field:{ref:t,value:n,onChange:i}}=e;return g.createElement(m,{id:J,ref:t,checked:n,onChange:i})}})))),G&&g.createElement(l,null,g.createElement(u,{display:"flex",flexDirection:"row",justifyContent:"space-between",flexGrow:1},g.createElement(o,{htmlFor:Q},e("VideoConf_Mobile_Ringing")),g.createElement(a,null,g.createElement(b,{name:"enableMobileRinging",control:B,render:e=>{let{field:{ref:t,value:n,onChange:i}}=e;return g.createElement(m,{id:Q,ref:t,checked:n,onChange:i})}}))))))})}
//# sourceMappingURL=/dynamic/client/views/account/preferences/42cfcdee069b28c4533c243150282bb64d77f66a.map
