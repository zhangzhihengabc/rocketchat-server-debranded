)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/account/preferences/PreferencesSoundSection.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { SelectOption } from '@rocket.chat/fuselage';\nimport { Accordion, Field, FieldLabel, FieldRow, Select, FieldGroup, ToggleSwitch, Tooltip, Box } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation, useCustomSound } from '@rocket.chat/ui-contexts';\nimport type { ChangeEvent } from 'react';\nimport React from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\n\nconst PreferencesSoundSection = () => {\n\tconst t = useTranslation();\n\n\tconst customSound = useCustomSound();\n\tconst soundsList: SelectOption[] = customSound?.getList()?.map((value) => [value._id, value.name]) || [];\n\tconst { control, watch } = useFormContext();\n\tconst { newMessageNotification, notificationsSoundVolume } = watch();\n\n\tconst newRoomNotificationId = useUniqueId();\n\tconst newMessageNotificationId = useUniqueId();\n\tconst muteFocusedConversationsId = useUniqueId();\n\tconst notificationsSoundVolumeId = useUniqueId();\n\n\treturn (\n\t\t<Accordion.Item title={t('Sound')}>\n\t\t\t<FieldGroup>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={newRoomNotificationId}>{t('New_Room_Notification')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='newRoomNotification'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tid={newRoomNotificationId}\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\t\tonChange(value);\n\t\t\t\t\t\t\t\t\t\tcustomSound.play(String(value), { volume: notificationsSoundVolume / 100 });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\toptions={soundsList}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={newMessageNotificationId}>{t('New_Message_Notification')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='newMessageNotification'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { value, onChange } }) => (\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tid={newMessageNotificationId}\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\t\tonChange(value);\n\t\t\t\t\t\t\t\t\t\tcustomSound.play(String(value), { volume: notificationsSoundVolume / 100 });\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\toptions={soundsList}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field display='flex' flexDirection='row' justifyContent='spaceBetween' flexGrow={1}>\n\t\t\t\t\t<FieldLabel htmlFor={muteFocusedConversationsId}>{t('Mute_Focused_Conversations')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='muteFocusedConversations'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { ref, value, onChange } }) => (\n\t\t\t\t\t\t\t\t<ToggleSwitch id={muteFocusedConversationsId} ref={ref} checked={value} onChange={onChange} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel htmlFor={notificationsSoundVolumeId}>{t('Notifications_Sound_Volume')}</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<Controller\n\t\t\t\t\t\t\tname='notificationsSoundVolume'\n\t\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\t\trender={({ field: { onChange, value, ref } }) => (\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tid={notificationsSoundVolumeId}\n\t\t\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\t\t\tis='input'\n\t\t\t\t\t\t\t\t\tflexGrow={1}\n\t\t\t\t\t\t\t\t\ttype='range'\n\t\t\t\t\t\t\t\t\tmin='0'\n\t\t\t\t\t\t\t\t\tmax='100'\n\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\tonChange={(e: ChangeEvent<HTMLInputElement>) => {\n\t\t\t\t\t\t\t\t\t\tcustomSound.play(newMessageNotification, { volume: notificationsSoundVolume / 100 });\n\t\t\t\t\t\t\t\t\t\tonChange(Math.max(0, Math.min(Number(e.currentTarget.value), 100)));\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Tooltip placement='right' mis={8}>\n\t\t\t\t\t\t\t{notificationsSoundVolume}\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t</Field>\n\t\t\t</FieldGroup>\n\t\t</Accordion.Item>\n\t);\n};\n\nexport default PreferencesSoundSection;\n",null],"names":["Accordion","Field","FieldLabel","FieldRow","Select","FieldGroup","ToggleSwitch","Tooltip","Box","useUniqueId","useTranslation","useCustomSound","React","Controller","useFormContext","module","link","v","default","exportDefault","_customSound$getList","t","customSound","soundsList","getList","map","value","_id","name","control","watch","newMessageNotification","notificationsSoundVolume","newRoomNotificationId","newMessageNotificationId","muteFocusedConversationsId","notificationsSoundVolumeId","createElement","Item","title","htmlFor","render","_ref","field","onChange","id","play","String","volume","options","_ref2","display","flexDirection","justifyContent","flexGrow","_ref3","ref","checked","_ref4","is","type","min","max","e","Math","Number","currentTarget","placement","mis"],"mappings":"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"}