function module(e,a,r){let t,s,l,o,n,i,d,c,m,u,w,f,h,E,p,v,g,k,P,_;r.link("@babel/runtime/helpers/extends",{default(e){t=e}},0),r.link("@rocket.chat/fuselage",{Box(e){s=e},Field(e){l=e},FieldError(e){o=e},FieldGroup(e){n=e},FieldHint(e){i=e},FieldLabel(e){d=e},FieldRow(e){c=e},Icon(e){m=e},PasswordInput(e){u=e}},0),r.link("@rocket.chat/fuselage-hooks",{useUniqueId(e){w=e}},1),r.link("@rocket.chat/ui-client",{PasswordVerifier(e){f=e},useValidatePassword(e){h=e}},2),r.link("@rocket.chat/ui-contexts",{useMethod(e){E=e},useToastMessageDispatch(e){p=e},useTranslation(e){v=e}},3),r.link("react",{default(e){g=e}},4),r.link("react-hook-form",{Controller(e){k=e},useFormContext(e){P=e}},5),r.link("./useAllowPasswordChange",{useAllowPasswordChange(e){_=e}},6),r.exportDefault(e=>{let a=v(),r=p(),b=w(),x=w(),y=w(),{watch:C,formState:{errors:F},handleSubmit:q,reset:D,control:G}=P(),I=C("password"),z=h(I),{allowPasswordChange:A}=_(),M=E("saveUserProfile"),S=async e=>{let{password:t}=e;try{await M({newPassword:t},{}),r({type:"success",message:a("Password_changed_successfully")}),D()}catch(e){r({type:"error",message:e})}};return g.createElement(s,t({},e,{is:"form",autoComplete:"off",onSubmit:q(S)}),g.createElement(n,null,g.createElement(l,null,g.createElement(d,{htmlFor:b},a("New_password")),g.createElement(c,null,g.createElement(k,{control:G,name:"password",rules:{validate:()=>null==I||!I.length||!!z||a("Password_must_meet_the_complexity_requirements")},render:e=>{var a;let{field:{onChange:r,value:t}}=e;return g.createElement(u,{id:b,onChange:r,value:t,error:null===(a=F.password)||void 0===a?void 0:a.message,flexGrow:1,addon:g.createElement(m,{name:"key",size:"x20"}),disabled:!A,"aria-describedby":"".concat(y," ").concat(b,"-hint ").concat(b,"-error"),"aria-invalid":F.password?"true":"false"})}})),!A&&g.createElement(i,{id:"".concat(b,"-hint")},a("Password_Change_Disabled")),(null==F?void 0:F.password)&&g.createElement(o,{"aria-live":"assertive",id:"".concat(b,"-error")},F.password.message),A&&g.createElement(f,{password:I,id:y})),g.createElement(l,null,g.createElement(d,{htmlFor:x},a("Confirm_password")),g.createElement(c,null,g.createElement(k,{control:G,name:"confirmationPassword",rules:{validate:e=>I===e||a("Passwords_do_not_match")},render:e=>{var a;let{field:{onChange:r,value:t}}=e;return g.createElement(u,{id:x,onChange:r,value:t,error:null===(a=F.confirmationPassword)||void 0===a?void 0:a.message,flexGrow:1,addon:g.createElement(m,{name:"key",size:"x20"}),disabled:!A||!z,"aria-required":""!==I?"true":"false","aria-invalid":F.confirmationPassword?"true":"false","aria-describedby":"".concat(x,"-error")})}})),F.confirmationPassword&&g.createElement(o,{"aria-live":"assertive",id:"".concat(x,"-error")},F.confirmationPassword.message))))})}
//# sourceMappingURL=/dynamic/client/views/account/security/99dcfb638c594f5c4b399796dfabce84b7a56620.map
