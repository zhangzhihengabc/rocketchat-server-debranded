)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/account/security/TwoFactorEmail.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Button, Margins } from '@rocket.chat/fuselage';\nimport { useUser, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { useCallback } from 'react';\n\nimport { useEndpointAction } from '../../../hooks/useEndpointAction';\n\nconst TwoFactorEmail = (props: ComponentProps<typeof Box>): ReactElement => {\n\tconst t = useTranslation();\n\tconst user = useUser();\n\n\tconst isEnabled = user?.services?.email2fa?.enabled;\n\n\tconst enable2faAction = useEndpointAction('POST', '/v1/users.2fa.enableEmail', {\n\t\tsuccessMessage: t('Two-factor_authentication_enabled'),\n\t});\n\tconst disable2faAction = useEndpointAction('POST', '/v1/users.2fa.disableEmail', {\n\t\tsuccessMessage: t('Two-factor_authentication_disabled'),\n\t});\n\n\tconst handleEnable = useCallback(async () => {\n\t\tawait enable2faAction();\n\t}, [enable2faAction]);\n\tconst handleDisable = useCallback(async () => {\n\t\tawait disable2faAction();\n\t}, [disable2faAction]);\n\n\treturn (\n\t\t<Box display='flex' flexDirection='column' alignItems='flex-start' mbs={16} {...props}>\n\t\t\t<Margins blockEnd={8}>\n\t\t\t\t<Box fontScale='h4'>{t('Two-factor_authentication_email')}</Box>\n\t\t\t\t{isEnabled && (\n\t\t\t\t\t<Button danger onClick={handleDisable}>\n\t\t\t\t\t\t{t('Disable_two-factor_authentication_email')}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{!isEnabled && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Box>{t('Two-factor_authentication_email_is_currently_disabled')}</Box>\n\t\t\t\t\t\t<Button primary onClick={handleEnable}>\n\t\t\t\t\t\t\t{t('Enable_two-factor_authentication_email')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</Margins>\n\t\t</Box>\n\t);\n};\n\nexport default TwoFactorEmail;\n",null],"names":["_extends","Box","Button","Margins","useUser","useTranslation","React","useCallback","useEndpointAction","module","link","default","v","exportDefault","props","_user$services","_user$services$email","t","user","isEnabled","services","email2fa","enabled","enable2faAction","successMessage","disable2faAction","handleEnable","handleDisable","createElement","display","flexDirection","alignItems","mbs","blockEnd","fontScale","danger","onClick","Fragment","primary"],"mappings":"2BAAAA,EAAAC,EAAOC,EAAOC,EAA+CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAjDC,EAAQC,IAAE,CAAA,iCAAe,CAAAC,QAAwBC,CAAA,EAAAZ,EAAAA,CAAA,CAAA,EAAA,GAAvCS,EAAOC,IAAE,CAAA,wBAAM,CAAuBT,IAACW,CAAA,EAAAX,EAAAA,CAAA,EAAAC,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAL,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAD,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAA7DC,EAAOI,aAAa,CAOIC,IAAmD,IAAAC,EAAAC,EAC1E,IAAMC,EAAIZ,IACJa,EAAOd,IAEPe,EAAYD,MAAAA,EAAI,KAAA,EAAA,AAAU,OAAVH,CAAAA,EAAJG,EAAME,QAAQ,AAARA,GAAQL,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAA,AAAU,OAAVC,CAAAA,EAAdD,EAAgBM,QAAQ,AAARA,GAAQL,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAxBA,EAA0BM,OAAO,CAE7CC,EAAkBf,EAAkB,OAAQ,4BAA6B,CAC9EgB,eAAgBP,EAAE,uCAEbQ,EAAmBjB,EAAkB,OAAQ,6BAA8B,CAChFgB,eAAgBP,EAAE,wCAGbS,EAAenB,EAAY,UAChC,MAAMgB,GACP,EAAG,CAACA,EAAgB,EACdI,EAAgBpB,EAAY,UACjC,MAAMkB,GACP,EAAG,CAACA,EAAiB,EAErB,OACCnB,EAAAsB,aAAA,CAAC3B,EAAGD,EAAA,CAAC6B,QAAQ,OAAOC,cAAc,SAASC,WAAW,aAAaC,IAAK,EAAG,EAAKlB,GAC/ER,EAAAsB,aAAA,CAACzB,EAAO,CAAC8B,SAAU,CAAE,EACpB3B,EAAAsB,aAAA,CAAC3B,EAAG,CAACiC,UAAU,IAAI,EAAEjB,EAAE,oCACtBE,GACAb,EAAAsB,aAAA,CAAC1B,EAAM,CAACiC,OAAM,CAAA,EAACC,QAAST,CAAc,EACpCV,EAAE,4CAGJ,CAACE,GACDb,EAAAsB,aAAA,CAAAtB,EAAA+B,QAAA,CAAA,KACC/B,EAAAsB,aAAA,CAAC3B,EAAG,KAAEgB,EAAE,0DACRX,EAAAsB,aAAA,CAAC1B,EAAM,CAACoC,QAAO,CAAA,EAACF,QAASV,CAAa,EACpCT,EAAE,6CAOV"}