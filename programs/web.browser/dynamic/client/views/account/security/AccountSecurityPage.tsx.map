)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/account/security/AccountSecurityPage.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Accordion, ButtonGroup, Button } from '@rocket.chat/fuselage';\nimport { useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useSetting, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React from 'react';\nimport { FormProvider, useForm } from 'react-hook-form';\n\nimport Page from '../../../components/Page';\nimport NotAuthorizedPage from '../../notAuthorized/NotAuthorizedPage';\nimport ChangePassword from './ChangePassword';\nimport EndToEnd from './EndToEnd';\nimport TwoFactorEmail from './TwoFactorEmail';\nimport TwoFactorTOTP from './TwoFactorTOTP';\n\nconst passwordDefaultValues = { password: '', confirmationPassword: '' };\n\nconst AccountSecurityPage = (): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst methods = useForm({\n\t\tdefaultValues: passwordDefaultValues,\n\t\tmode: 'onBlur',\n\t});\n\tconst {\n\t\treset,\n\t\tformState: { isDirty },\n\t} = methods;\n\n\tconst twoFactorEnabled = useSetting('Accounts_TwoFactorAuthentication_Enabled');\n\tconst twoFactorTOTP = useSetting('Accounts_TwoFactorAuthentication_By_TOTP_Enabled');\n\tconst twoFactorByEmailEnabled = useSetting('Accounts_TwoFactorAuthentication_By_Email_Enabled');\n\tconst e2eEnabled = useSetting('E2E_Enable');\n\n\tconst passwordFormId = useUniqueId();\n\n\tif (!twoFactorEnabled && !e2eEnabled) {\n\t\treturn <NotAuthorizedPage />;\n\t}\n\n\treturn (\n\t\t<Page>\n\t\t\t<Page.Header title={t('Security')} />\n\t\t\t<Page.ScrollableContentWithShadow>\n\t\t\t\t<Box maxWidth='x600' w='full' alignSelf='center' color='default'>\n\t\t\t\t\t<FormProvider {...methods}>\n\t\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t\t<Accordion.Item title={t('Password')} defaultExpanded>\n\t\t\t\t\t\t\t\t<ChangePassword id={passwordFormId} />\n\t\t\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t</FormProvider>\n\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t{(twoFactorTOTP || twoFactorByEmailEnabled) && twoFactorEnabled && (\n\t\t\t\t\t\t\t<Accordion.Item title={t('Two Factor Authentication')}>\n\t\t\t\t\t\t\t\t{twoFactorTOTP && <TwoFactorTOTP />}\n\t\t\t\t\t\t\t\t{twoFactorByEmailEnabled && <TwoFactorEmail />}\n\t\t\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{e2eEnabled && (\n\t\t\t\t\t\t\t<Accordion.Item\n\t\t\t\t\t\t\t\ttitle={t('E2E Encryption')}\n\t\t\t\t\t\t\t\taria-label={t('E2E Encryption')}\n\t\t\t\t\t\t\t\tdefaultExpanded={!twoFactorEnabled}\n\t\t\t\t\t\t\t\tdata-qa-type='e2e-encryption-section'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<EndToEnd />\n\t\t\t\t\t\t\t</Accordion.Item>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Accordion>\n\t\t\t\t</Box>\n\t\t\t</Page.ScrollableContentWithShadow>\n\t\t\t<Page.Footer isDirty={isDirty}>\n\t\t\t\t<ButtonGroup>\n\t\t\t\t\t<Button onClick={() => reset(passwordDefaultValues)}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button form={passwordFormId} primary disabled={!isDirty} type='submit'>\n\t\t\t\t\t\t{t('Save_changes')}\n\t\t\t\t\t</Button>\n\t\t\t\t</ButtonGroup>\n\t\t\t</Page.Footer>\n\t\t</Page>\n\t);\n};\n\nexport default AccountSecurityPage;\n",null],"names":["Box","Accordion","ButtonGroup","Button","useUniqueId","useSetting","useTranslation","React","FormProvider","useForm","Page","NotAuthorizedPage","ChangePassword","EndToEnd","TwoFactorEmail","TwoFactorTOTP","module","link","v","default","passwordDefaultValues","password","confirmationPassword","exportDefault","t","methods","defaultValues","mode","reset","formState","isDirty","twoFactorEnabled","twoFactorTOTP","twoFactorByEmailEnabled","e2eEnabled","passwordFormId","createElement","Header","title","ScrollableContentWithShadow","maxWidth","w","alignSelf","color","Item","defaultExpanded","id","Footer","onClick","form","primary","disabled","type"],"mappings":"2BAAAA,EAAOC,EAAOC,EAAWC,EAAmDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxCC,EAAQC,IAAE,CAAA,wBAAM,CAAAjB,IAAwBkB,CAAA,EAAAlB,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAa,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAZ,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAY,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAX,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,QAAAA,CAAAG,QAAAA,CAAAA,EAAAZ,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,kBAAAA,CAAAR,aAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAG,QAAAA,CAAAA,EAAAT,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,wCAAAA,CAAAG,QAAAA,CAAAA,EAAAR,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,mBAAAA,CAAAG,QAAAA,CAAAA,EAAAP,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,aAAAA,CAAAG,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,mBAAAA,CAAAG,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,kBAAAA,CAAAG,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,IAc5E,IAAMK,EAAwB,CAAEC,SAAU,GAAIC,qBAAsB,EAAE,EAdtEN,EAAOO,aAAO,CAgBc,KAC3B,IAAMC,EAAIlB,IAEJmB,EAAUhB,EAAQ,CACvBiB,cAAeN,EACfO,KAAM,WAED,CACLC,MAAAA,CAAK,CACLC,UAAW,CAAEC,QAAAA,CAAAA,CAAO,CACpB,CAAGL,EAEEM,EAAmB1B,EAAW,4CAC9B2B,EAAgB3B,EAAW,oDAC3B4B,EAA0B5B,EAAW,qDACrC6B,EAAa7B,EAAW,cAExB8B,EAAiB/B,WAEvB,AAAI,AAAC2B,GAAqBG,EAKzB3B,EAAA6B,aAAA,CAAC1B,EAAI,KACJH,EAAA6B,aAAA,CAAC1B,EAAK2B,MAAM,CAAA,CAACC,MAAOd,EAAE,WAAY,GAClCjB,EAAA6B,aAAA,CAAC1B,EAAK6B,2BAA2B,CAAA,KAChChC,EAAA6B,aAAA,CAACpC,EAAG,CAACwC,SAAS,OAAOC,EAAE,OAAOC,UAAU,SAASC,MAAM,SAAS,EAC/DpC,EAAA6B,aAAA,CAAC5B,EAAiBiB,EACjBlB,EAAA6B,aAAA,CAACnC,EAAS,KACTM,EAAA6B,aAAA,CAACnC,EAAU2C,IAAI,CAAA,CAACN,MAAOd,EAAE,YAAaqB,gBAAe,CAAA,CAAA,EACpDtC,EAAA6B,aAAA,CAACxB,EAAc,CAACkC,GAAIX,CAAe,MAItC5B,EAAA6B,aAAA,CAACnC,EAAS,KACR,AAAC+B,CAAAA,GAAiBC,CAAAA,GAA4BF,GAC9CxB,EAAA6B,aAAA,CAACnC,EAAU2C,IAAI,CAAA,CAACN,MAAOd,EAAE,4BAA6B,EACpDQ,GAAiBzB,EAAA6B,aAAA,CAACrB,EAAa,MAC/BkB,GAA2B1B,EAAA6B,aAAA,CAACtB,EAAc,OAG5CoB,GACA3B,EAAA6B,aAAA,CAACnC,EAAU2C,IAAI,CAAA,CACdN,MAAOd,EAAE,kBACT,aAAYA,EAAE,kBACdqB,gBAAiB,CAACd,EAClB,eAAa,wBAAwB,EAErCxB,EAAA6B,aAAA,CAACvB,EAAQ,UAMdN,EAAA6B,aAAA,CAAC1B,EAAKqC,MAAM,CAAA,CAACjB,QAASA,CAAQ,EAC7BvB,EAAA6B,aAAA,CAAClC,EAAW,KACXK,EAAA6B,aAAA,CAACjC,EAAM,CAAC6C,QAAS,IAAMpB,EAAMR,EAAuB,EAAEI,EAAE,WACxDjB,EAAA6B,aAAA,CAACjC,EAAM,CAAC8C,KAAMd,EAAgBe,QAAO,CAAA,EAACC,SAAU,CAACrB,EAASsB,KAAK,QAAQ,EACrE5B,EAAE,oBAvCAjB,EAAA6B,aAAA,CAACzB,EAAiB,KA6C3B"}