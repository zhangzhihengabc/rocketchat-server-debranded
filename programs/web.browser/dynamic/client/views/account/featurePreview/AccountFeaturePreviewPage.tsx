function module(e,t,a){var l;let n,r,c,i,s,m,u,o,d,p,f,E,g,h,k,w,v,b,F,y,S,x,_,P,C;a.link("@babel/runtime/helpers/taggedTemplateLiteral",{default(e){n=e}},0),a.link("@babel/runtime/helpers/objectSpread2",{default(e){r=e}},1),a.link("@rocket.chat/css-in-js",{css(e){c=e}},0),a.link("@rocket.chat/fuselage",{ButtonGroup(e){i=e},Button(e){s=e},Box(e){m=e},ToggleSwitch(e){u=e},States(e){o=e},StatesIcon(e){d=e},StatesTitle(e){p=e},Accordion(e){f=e},Field(e){E=e},FieldGroup(e){g=e},FieldLabel(e){h=e},FieldRow(e){k=e},FieldHint(e){w=e}},1),a.link("@rocket.chat/ui-client",{useFeaturePreviewList(e){v=e}},2),a.link("@rocket.chat/ui-contexts",{useToastMessageDispatch(e){b=e},useTranslation(e){F=e},useEndpoint(e){y=e}},3),a.link("react",{default(e){S=e},useEffect(e){x=e},Fragment(e){_=e}},4),a.link("react-hook-form",{useForm(e){P=e}},5),a.link("../../../components/Page",{default(e){C=e}},6),a.exportDefault(()=>{let e=F(),t=b(),{features:a,unseenFeatures:T}=v(),D=y("POST","/v1/users.setPreferences");x(()=>{if(T){let e=a.map(e=>({name:e.name,value:e.value}));D({data:{featuresPreview:e}})}},[D,a,T]);let{watch:j,formState:{isDirty:B},setValue:G,handleSubmit:L,reset:H}=P({defaultValues:{featuresPreview:a}}),{featuresPreview:I}=j(),N=async()=>{try{await D({data:{featuresPreview:I}}),t({type:"success",message:e("Preferences_saved")})}catch(e){t({type:"error",message:e})}finally{H({featuresPreview:I})}},O=e=>{let t=I.map(t=>t.name===e.target.name?r(r({},t),{},{value:e.target.checked}):t);G("featuresPreview",t,{shouldDirty:!0})},U=Object.entries(I.reduce((e,t)=>((e[t.group]=e[t.group]||[]).push(t),e),{}));return S.createElement(C,null,S.createElement(C.Header,{title:e("Feature_preview")}),S.createElement(C.ScrollableContentWithShadow,null,S.createElement(m,{maxWidth:"x600",w:"full",alignSelf:"center"},0===I.length&&S.createElement(o,null,S.createElement(d,{name:"magnifier"}),S.createElement(p,null,e("No_feature_to_preview"))),I.length>0&&S.createElement(S.Fragment,null,S.createElement(m,{className:c(l||(l=n(["\n									white-space: break-spaces;\n								"]))),pbe:24,fontScale:"p1"},e("Feature_preview_page_description")),S.createElement(f,null,null==U?void 0:U.map((t,a)=>{let[l,n]=t;return S.createElement(f.Item,{defaultExpanded:0===a,key:l,title:e(l)},S.createElement(g,null,n.map(t=>S.createElement(_,{key:t.name},S.createElement(E,null,S.createElement(m,{display:"flex",flexDirection:"row",justifyContent:"spaceBetween",flexGrow:1},S.createElement(h,{htmlFor:t.name},e(t.i18n)),S.createElement(k,null,S.createElement(u,{id:t.name,checked:t.value,name:t.name,onChange:O}))),t.description&&S.createElement(w,{mbs:12},e(t.description))),t.imageUrl&&S.createElement(m,{is:"img",width:"100%",height:"auto",mbs:16,src:t.imageUrl,alt:""})))))}))))),S.createElement(C.Footer,{isDirty:B},S.createElement(i,null,S.createElement(s,{onClick:()=>H({featuresPreview:a})},e("Cancel")),S.createElement(s,{primary:!0,disabled:!B,onClick:L(N)},e("Save_changes")))))})}
//# sourceMappingURL=/dynamic/client/views/account/featurePreview/25a6f62c5777eba93d6a354eae855fcb875bcecd.map
