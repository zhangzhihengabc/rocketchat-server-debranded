)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/e2e/EnterE2EPasswordModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, PasswordInput, Field, FieldGroup, FieldRow, FieldError } from '@rocket.chat/fuselage';\nimport { useMutableCallback } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useState, useCallback } from 'react';\n\nimport GenericModal from '../../components/GenericModal';\n\nconst EnterE2EPasswordModal = ({\n\tonConfirm,\n\tonClose,\n\tonCancel,\n}: {\n\tonConfirm: (password: string) => void;\n\tonClose: () => void;\n\tonCancel: () => void;\n}): ReactElement => {\n\tconst t = useTranslation();\n\tconst [password, setPassword] = useState('');\n\tconst [passwordError, setPasswordError] = useState<string | undefined>();\n\n\tconst handleChange = useCallback(\n\t\t(e: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\te.target.value !== '' && setPasswordError(undefined);\n\t\t\tsetPassword(e.currentTarget.value);\n\t\t},\n\t\t[setPassword],\n\t);\n\n\tconst handleConfirm = useMutableCallback((e): void => {\n\t\te.preventDefault();\n\t\tif (password === '') {\n\t\t\tsetPasswordError(t('Invalid_pass'));\n\t\t\treturn;\n\t\t}\n\n\t\treturn onConfirm(password);\n\t});\n\n\treturn (\n\t\t<GenericModal\n\t\t\twrapperFunction={(props) => <Box is='form' onSubmit={handleConfirm} {...props} />}\n\t\t\tvariant='warning'\n\t\t\ttitle={t('Enter_E2E_password')}\n\t\t\tcancelText={t('Do_It_Later')}\n\t\t\tconfirmText={t('Decode_Key')}\n\t\t\tonClose={onClose}\n\t\t\tonCancel={onCancel}\n\t\t>\n\t\t\t<Box dangerouslySetInnerHTML={{ __html: t('E2E_password_request_text') }} />\n\t\t\t<FieldGroup mbs={24} w='full'>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\terror={passwordError}\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tplaceholder={t('New_Password_Placeholder')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t<FieldError>{passwordError}</FieldError>\n\t\t\t\t</Field>\n\t\t\t</FieldGroup>\n\t\t</GenericModal>\n\t);\n};\n\nexport default EnterE2EPasswordModal;\n",null],"names":["_extends","Box","PasswordInput","Field","FieldGroup","FieldRow","FieldError","useMutableCallback","useTranslation","React","useState","useCallback","GenericModal","module","link","default","v","exportDefault","_ref","onConfirm","onClose","onCancel","t","password","setPassword","passwordError","setPasswordError","handleChange","e","target","value","undefined","currentTarget","handleConfirm","preventDefault","createElement","wrapperFunction","props","is","onSubmit","variant","title","cancelText","confirmText","dangerouslySetInnerHTML","__html","mbs","w","autoFocus","error","onChange","placeholder"],"mappings":"2BAAAA,EAAAC,EAAOC,EAAOC,EAAaC,EAASC,EAAYC,EAAoDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxFC,EAAEC,IAAA,CAAA,iCAA4C,CAAAC,QAAAA,CAAU,EAAEf,EAAMgB,CAAA,CAAA,EAAA,GAAlBH,EAAAA,IAAY,CAAA,wBAAM,CAAAZ,IAAwBe,CAAAA,EAAAf,EAAAA,CAAA,EAAAC,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,MAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAN,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAL,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,gCAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAApGC,EAAOI,aAAO,CAQgBC,IAQX,GARY,CAC9BC,UAAAA,CAAS,CACTC,QAAAA,CAAO,CACPC,SAAAA,CAAAA,CAKA,CAAAH,EACMI,EAAId,IACJ,CAACe,EAAUC,EAAY,CAAGd,EAAS,IACnC,CAACe,EAAeC,EAAiB,CAAGhB,IAEpCiB,EAAehB,EACnBiB,IACAA,AAAmB,KAAnBA,EAAEC,MAAM,CAACC,KAAK,EAAWJ,EAAiBK,KAAAA,GAC1CP,EAAYI,EAAEI,aAAa,CAACF,KAAK,CAClC,EACA,CAACN,EAAY,EAGRS,EAAgB1B,EAAoBqB,IAEzC,GADAA,EAAEM,cAAc,GACZX,AAAa,KAAbA,EAAiB,CACpBG,EAAiBJ,EAAE,iBACnB,OAGD,OAAOH,EAAUI,EAClB,GAEA,OACCd,EAAA0B,aAAA,CAACvB,EAAY,CACZwB,gBAAkBC,GAAU5B,EAAA0B,aAAA,CAAClC,EAAGD,EAAA,CAACsC,GAAG,OAAOC,SAAUN,CAAc,EAAKI,IACxEG,QAAQ,UACRC,MAAOnB,EAAE,sBACToB,WAAYpB,EAAE,eACdqB,YAAarB,EAAE,cACfF,QAASA,EACTC,SAAUA,CAAS,EAEnBZ,EAAA0B,aAAA,CAAClC,EAAG,CAAC2C,wBAAyB,CAAEC,OAAQvB,EAAE,4BAA4B,CAAG,GACzEb,EAAA0B,aAAA,CAAC/B,EAAU,CAAC0C,IAAK,GAAIC,EAAE,MAAM,EAC5BtC,EAAA0B,aAAA,CAAChC,EAAK,KACLM,EAAA0B,aAAA,CAAC9B,EAAQ,KACRI,EAAA0B,aAAA,CAACjC,EAAa,CACb8C,UAAS,CAAA,EACTC,MAAOxB,EACPK,MAAOP,EACP2B,SAAUvB,EACVwB,YAAa7B,EAAE,2BAA4B,IAG7Cb,EAAA0B,aAAA,CAAC7B,EAAU,KAAEmB,KAKlB"}