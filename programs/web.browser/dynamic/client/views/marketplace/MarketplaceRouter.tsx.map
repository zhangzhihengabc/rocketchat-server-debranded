)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/marketplace/MarketplaceRouter.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useAtLeastOnePermission, useRoute, useRouteParameter } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ReactNode } from 'react';\nimport React, { Suspense, useEffect } from 'react';\n\nimport PageSkeleton from '../../components/PageSkeleton';\nimport SidebarPortal from '../../sidebar/SidebarPortal';\nimport NotFoundPage from '../notFound/NotFoundPage';\nimport MarketPlaceSidebar from './MarketplaceSidebar';\n\nconst MarketplaceRouter = ({ children }: { children?: ReactNode }): ReactElement => {\n\tconst currentContext = useRouteParameter('context') || 'all';\n\tconst marketplaceRoute = useRoute('marketplace');\n\tconst canAccessMarketplace = useAtLeastOnePermission(['access-marketplace', 'manage-apps']);\n\n\tuseEffect(() => {\n\t\tconst initialize = async () => {\n\t\t\t// The currentContext === 'all' verification is for users who bookmarked\n\t\t\t// the old marketplace\n\t\t\t// TODO: Remove the all verification in the future;\n\t\t\tif (currentContext === 'all') {\n\t\t\t\tmarketplaceRoute.replace({ context: 'explore', page: 'list' });\n\t\t\t}\n\t\t};\n\n\t\tinitialize();\n\t}, [currentContext, marketplaceRoute]);\n\n\tif (!canAccessMarketplace) {\n\t\treturn <NotFoundPage />;\n\t}\n\n\treturn children ? (\n\t\t<>\n\t\t\t<Suspense fallback={<PageSkeleton />}>{children}</Suspense>\n\t\t\t<SidebarPortal>\n\t\t\t\t<MarketPlaceSidebar />\n\t\t\t</SidebarPortal>\n\t\t</>\n\t) : (\n\t\t<PageSkeleton />\n\t);\n};\n\nexport default MarketplaceRouter;\n",null],"names":["useAtLeastOnePermission","useRoute","useRouteParameter","React","Suspense","useEffect","PageSkeleton","SidebarPortal","NotFoundPage","MarketPlaceSidebar","module","link","v","default","exportDefault","_ref","children","currentContext","marketplaceRoute","canAccessMarketplace","initialize","replace","context","page","createElement","Fragment","fallback"],"mappings":"2BAAAA,EAASC,EAAyBC,EAA8DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAApDC,EAAiBC,IAAE,CAAA,2BAAM,CAA0BX,wBAACY,CAAA,EAAAZ,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAAG,QAAAA,CAAAA,EAAAV,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,gCAAAA,CAAAG,QAAAA,CAAAA,EAAAP,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAG,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAG,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,uBAAAA,CAAAG,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAhGC,EAAOI,aAAE,CASiBC,IAAyD,GAAxD,CAAEC,SAAAA,CAAAA,CAAoC,CAAAD,EAC1DE,EAAiBf,EAAkB,YAAc,MACjDgB,EAAmBjB,EAAS,eAC5BkB,EAAuBnB,EAAwB,CAAC,qBAAsB,cAAc,QAe1F,CAbAK,EAAU,KACT,IAAMe,EAAa,UAIK,QAAnBH,GACHC,EAAiBG,OAAO,CAAC,CAAEC,QAAS,UAAWC,KAAM,MAAM,EAE7D,EAEAH,GACD,EAAG,CAACH,EAAgBC,EAAiB,EAEhCC,GAIEH,EACNb,EAAAqB,aAAA,CAAArB,EAAAsB,QAAA,CAAA,KACCtB,EAAAqB,aAAA,CAACpB,EAAQ,CAACsB,SAAUvB,EAAAqB,aAAA,CAAClB,EAAY,KAAI,EAAEU,GACvCb,EAAAqB,aAAA,CAACjB,EAAa,KACbJ,EAAAqB,aAAA,CAACf,EAAkB,QAIrBN,EAAAqB,aAAA,CAAClB,EAAY,MAXNH,EAAAqB,aAAA,CAAChB,EAAY,KAatB"}