function module(e,t,a){let l,n,i,r;a.export({appEnabledStatuses:()=>s,appButtonProps:()=>p,appIncompatibleStatusProps:()=>o,appStatusSpanProps:()=>u,appMultiStatusProps:()=>c}),a.link("@rocket.chat/apps-engine/definition/AppStatus",{AppStatus(e){l=e}},0),a.link("semver",{default(e){n=e}},1),a.link("../../../app/utils/lib/i18n",{t(e){i=e}},2),a.link("./helpers/appErroredStatuses",{appErroredStatuses(e){r=e}},3);let s=[l.AUTO_ENABLED,l.MANUALLY_ENABLED],p=e=>{let{installed:t,version:a,marketplaceVersion:l,isPurchased:i,price:r,purchaseType:s,subscriptionInfo:p,pricingPlans:o,isEnterpriseOnly:u,versionIncompatible:c,isAdminUser:b,requestedEndUser:d,endUserRequested:h}=e;if(!b)return d||h?{action:"request",label:"Requested"}:{action:"request",label:"Request"};let S=t&&a&&l&&n.lt(a,l);if(S)return c?{action:"update",icon:"warning",label:"Update"}:{action:"update",icon:"reload",label:"Update"};if(t)return;if(i)return c?{action:"install",icon:"warning",label:"Install"}:{action:"install",label:"Install"};let f="subscription"===s&&!p.status;if(f){let e=o.every(e=>0===e.trialDays),t=o.every(e=>e.tiers&&e.tiers.length>0);return c?{action:"purchase",label:"Subscribe",icon:"warning"}:e||u?{action:"purchase",label:"Subscribe"}:t?{action:"purchase",label:"See Pricing"}:{action:"purchase",label:"Try now"}}return r>0?c?{action:"purchase",label:"Buy",icon:"warning"}:{action:"purchase",label:"Buy"}:c?{action:"purchase",label:"Install",icon:"warning"}:{action:"purchase",label:"Install"}},o=()=>({icon:"check",label:"Incompatible",tooltipText:i("App_version_incompatible_tooltip")}),u=(e,t,a,n)=>{let{installed:p,status:o,subscriptionInfo:u,appRequestStats:c,migrated:b}=e,d=o&&s.includes(o);if(p)return d?b&&!t?{label:"Enabled*",tooltipText:i("Grandfathered_app")}:{label:"Enabled"}:b&&!t?{label:"Disabled*",tooltipText:i("Grandfathered_app")}:{type:"warning",label:"Disabled"};let h=o&&r.includes(o);if(h)return{type:"failed",icon:"warning",label:o===l.INVALID_SETTINGS_DISABLED?"Config Needed":"Failed"};let S=u&&"trialing"===u.status;return S?{icon:"checkmark-circled",label:"Trial period"}:"requested"===a&&c?n?{label:"Requested"}:c.totalUnseen?{label:c.totalUnseen>1?"requests":"request"}:{label:c.totalSeen>1?"requests":"request"}:void 0},c=(e,t,a,l)=>{let n=u(e,l,a,t),i=[];return(null==e?void 0:e.versionIncompatible)===void 0||t||i.push(o()),n&&i.push(n),i}}
//# sourceMappingURL=/dynamic/client/views/marketplace/40832296ebee7747748dd5f5981b83beaedd46b7.map
