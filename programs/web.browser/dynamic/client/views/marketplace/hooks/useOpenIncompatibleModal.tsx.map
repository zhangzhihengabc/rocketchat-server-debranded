)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/marketplace/hooks/useOpenIncompatibleModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useSetModal } from '@rocket.chat/ui-contexts';\nimport React, { useCallback } from 'react';\n\nimport { AppClientOrchestratorInstance } from '../../../../ee/client/apps/orchestrator';\nimport IframeModal from '../IframeModal';\nimport { handleAPIError } from '../helpers/handleAPIError';\n\nexport const useOpenIncompatibleModal = () => {\n\tconst setModal = useSetModal();\n\n\treturn useCallback(\n\t\tasync (app, actionName, cancelAction) => {\n\t\t\tconst handleCancel = () => {\n\t\t\t\tsetModal(null);\n\t\t\t\tcancelAction();\n\t\t\t};\n\n\t\t\tconst handleConfirm = () => {\n\t\t\t\tsetModal(null);\n\t\t\t\tcancelAction();\n\t\t\t};\n\n\t\t\ttry {\n\t\t\t\tconst incompatibleData = await AppClientOrchestratorInstance.buildIncompatibleExternalUrl(\n\t\t\t\t\tapp.id,\n\t\t\t\t\tapp.marketplaceVersion,\n\t\t\t\t\tactionName,\n\t\t\t\t);\n\t\t\t\tsetModal(<IframeModal url={incompatibleData.url} cancel={handleCancel} confirm={handleConfirm} />);\n\t\t\t} catch (e) {\n\t\t\t\thandleAPIError(e);\n\t\t\t}\n\t\t},\n\t\t[setModal],\n\t);\n};\n",null],"names":["useSetModal","React","useCallback","AppClientOrchestratorInstance","IframeModal","handleAPIError","module","export","useOpenIncompatibleModal","default","setModal","app","actionName","cancelAction","incompatibleData","buildIncompatibleExternalUrl","id","marketplaceVersion","createElement","url","cancel","confirm","e"],"mappings":"2BAAuDA,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvDC,EAAOC,MAAE,CAAA,CAAAC,yBAAmB,IAAAA,CAA2B,GAAAF,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAN,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,QAAAA,CAAAG,QAAAA,CAAAA,EAAAR,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,0CAAAA,CAAAH,8BAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,iBAAAA,CAAAG,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,4BAAAA,CAAAD,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAOhD,IAAMG,EAA2B,KACvC,IAAME,EAAWV,IAEjB,OAAOE,EACN,MAAOS,EAAKC,EAAYC,KAWvB,GAAI,CACH,IAAMC,EAAmB,MAAMX,EAA8BY,4BAA4B,CACxFJ,EAAIK,EAAE,CACNL,EAAIM,kBAAkB,CACtBL,GAEDF,EAAST,EAAAiB,aAAA,CAACd,EAAW,CAACe,IAAKL,EAAiBK,GAAI,CAACC,OAhB7B,KACpBV,EAAS,MACTG,GACD,EAawEQ,QAXlD,KACrBX,EAAS,MACTG,GACD,CAQ+F,IAC7F,MAAOS,EAAG,CACXjB,EAAeiB,GAEjB,EACA,CAACZ,EAAS,CAEZ"}