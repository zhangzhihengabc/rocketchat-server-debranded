function module(e,t,s){let n,i,l,a,p,r,d;s.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),s.export({useAppInfo:()=>o}),s.link("@rocket.chat/ui-contexts",{useEndpoint(e){i=e}},0),s.link("react",{useState(e){l=e},useEffect(e){a=e},useContext(e){p=e}},1),s.link("../../../../ee/client/apps/orchestrator",{AppClientOrchestratorInstance(e){r=e}},2),s.link("../../../contexts/AppsContext",{AppsContext(e){d=e}},3);let u=async e=>{let{bundledIn:t=[]}=e;return Promise.all(t.map(async e=>{let t=await r.getAppsOnBundle(e.bundleId);return e.apps=t.slice(0,4),e}))},o=(e,t)=>{var s;let{installedApps:r,marketplaceApps:o,privateApps:c}=p(d),[v,h]=l(),k=i("GET","/apps/:id/settings",{id:e}),f=i("GET","/apps/:id/screenshots",{id:e}),g=i("GET","/apps/:id/apis",{id:e}),m=i("GET","/apps/:id",{id:e});return a(()=>{let s=async()=>{var s,i,l,a,p,d,v;let x;if(!(null!==(s=o.value)&&void 0!==s&&null!==(i=s.apps)&&void 0!==i&&i.length)&&!(null!==(l=r.value)&&void 0!==l&&l.apps.length)&&!(null!==(a=c.value)&&void 0!==a&&a.apps.length)||!e||(["explore","premium","requested"].includes(t)&&(x=null===(p=o.value)||void 0===p?void 0:p.apps.find(t=>t.id===e)),"private"===t&&(x=null===(d=c.value)||void 0===d?void 0:d.apps.find(t=>t.id===e)),"installed"===t&&(x=null===(v=r.value)||void 0===v?void 0:v.apps.find(t=>t.id===e)),!x))return;let[E,b,y,A]=await Promise.all([k().catch(()=>({settings:{}})),g().catch(()=>({apis:[]})),f().catch(()=>({screenshots:[]})),!1===x.marketplace?[]:m({marketplace:"true",update:"true",appVersion:e}).then(e=>{let{app:t}=e;return x.tosLink=t.tosLink,x.privacyLink=t.privacyLink,u(t)}).catch(()=>({settings:{}}))]);h(n(n({},x),{},{bundledIn:A,settings:E.settings,apis:b?b.apis:[],screenshots:y?y.screenshots:[]}))};s()},[e,t,g,m,f,k,r,o,null===(s=c.value)||void 0===s?void 0:s.apps]),v}}
//# sourceMappingURL=/dynamic/client/views/marketplace/hooks/97b1a2c62796777c9354bf6447f686da7bd72d8d.map
