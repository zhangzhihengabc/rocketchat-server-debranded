)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/marketplace/components/MarketplaceHeader.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Button, ButtonGroup } from '@rocket.chat/fuselage';\nimport { usePermission, useRoute, useRouteParameter, useSetModal, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback } from 'react';\n\nimport { GenericResourceUsageSkeleton } from '../../../components/GenericResourceUsage';\nimport Page from '../../../components/Page';\nimport UnlimitedAppsUpsellModal from '../UnlimitedAppsUpsellModal';\nimport { useAppsCountQuery } from '../hooks/useAppsCountQuery';\nimport EnabledAppsCount from './EnabledAppsCount';\n\nconst MarketplaceHeader = ({ title }: { title: string }): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst isAdmin = usePermission('manage-apps');\n\tconst context = (useRouteParameter('context') || 'explore') as 'private' | 'explore' | 'installed' | 'premium' | 'requested';\n\tconst route = useRoute('marketplace');\n\tconst setModal = useSetModal();\n\tconst result = useAppsCountQuery(context);\n\n\tconst handleUploadButtonClick = useCallback((): void => {\n\t\troute.push({ context, page: 'install' });\n\t}, [context, route]);\n\n\tif (result.isError) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<Page.Header title={title}>\n\t\t\t<ButtonGroup flexWrap='wrap' justifyContent='flex-end'>\n\t\t\t\t{result.isLoading && <GenericResourceUsageSkeleton />}\n\t\t\t\t{result.isSuccess && !result.data.hasUnlimitedApps && <EnabledAppsCount {...result.data} context={context} />}\n\t\t\t\t{isAdmin && result.isSuccess && !result.data.hasUnlimitedApps && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetModal(<UnlimitedAppsUpsellModal onClose={() => setModal(null)} />);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('Enable_unlimited_apps')}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{isAdmin && context === 'private' && <Button onClick={handleUploadButtonClick}>{t('Upload_private_app')}</Button>}\n\t\t\t</ButtonGroup>\n\t\t</Page.Header>\n\t);\n};\n\nexport default MarketplaceHeader;\n",null],"names":["_extends","Button","ButtonGroup","usePermission","useRoute","useRouteParameter","useSetModal","useTranslation","React","useCallback","GenericResourceUsageSkeleton","Page","UnlimitedAppsUpsellModal","useAppsCountQuery","EnabledAppsCount","module","link","default","v","exportDefault","_ref","title","t","isAdmin","context","route","setModal","result","handleUploadButtonClick","push","page","isError","createElement","Header","flexWrap","justifyContent","isLoading","isSuccess","data","hasUnlimitedApps","onClick","onClose"],"mappings":"2BAAAA,EAAAC,EAASC,EAAmDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAnDC,EAAQC,IAAA,CAAA,iCAAmB,CAAuBC,QAACC,CAAA,EAAAlB,EAAAA,CAAA,CAAA,EAAA,GAA3Ce,EAAaC,IAAAA,CAAAA,wBAA6B,CAACf,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAa,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAZ,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAT,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,2CAAAA,CAAAL,6BAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAE,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAF,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,qBAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAA5DC,EAAOI,aAAU,CAWSC,IAAsD,GAArD,CAAEC,MAAAA,CAAAA,CAA0B,CAAAD,EAChDE,EAAIf,IACJgB,EAAUpB,EAAc,eACxBqB,EAAWnB,EAAkB,YAAc,UAC3CoB,EAAQrB,EAAS,eACjBsB,EAAWpB,IACXqB,EAASd,EAAkBW,GAE3BI,EAA0BnB,EAAY,KAC3CgB,EAAMI,IAAI,CAAC,CAAEL,QAAAA,EAASM,KAAM,SAAS,EACtC,EAAG,CAACN,EAASC,EAAM,SAEnB,AAAIE,EAAOI,OAAO,CACV,KAIPvB,EAAAwB,aAAA,CAACrB,EAAKsB,MAAM,CAAA,CAACZ,MAAOA,CAAM,EACzBb,EAAAwB,aAAA,CAAC9B,EAAW,CAACgC,SAAS,OAAOC,eAAe,UAAU,EACpDR,EAAOS,SAAS,EAAI5B,EAAAwB,aAAA,CAACtB,EAA4B,MACjDiB,EAAOU,SAAS,EAAI,CAACV,EAAOW,IAAI,CAACC,gBAAgB,EAAI/B,EAAAwB,aAAA,CAAClB,EAAgBd,EAAA,CAAA,EAAK2B,EAAOW,IAAI,CAAA,CAAEd,QAASA,CAAQ,IACzGD,GAAWI,EAAOU,SAAS,EAAI,CAACV,EAAOW,IAAI,CAACC,gBAAgB,EAC5D/B,EAAAwB,aAAA,CAAC/B,EAAM,CACNuC,QAAS,KACRd,EAASlB,EAAAwB,aAAA,CAACpB,EAAwB,CAAC6B,QAAS,IAAMf,EAAS,KAAM,GAClE,CAAE,EAEDJ,EAAE,0BAGJC,GAAWC,AAAY,YAAZA,GAAyBhB,EAAAwB,aAAA,CAAC/B,EAAM,CAACuC,QAASZ,CAAwB,EAAEN,EAAE,wBAItF"}