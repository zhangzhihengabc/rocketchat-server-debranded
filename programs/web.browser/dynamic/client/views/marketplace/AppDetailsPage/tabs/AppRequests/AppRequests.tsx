function module(e,t,a){let s,n,l,u,r,i,o,c,m,d,p,f,k,q,S,g;a.link("@rocket.chat/fuselage",{Box(e){s=e},Pagination(e){n=e},States(e){l=e},StatesSubtitle(e){u=e},StatesTitle(e){r=e}},0),a.link("@rocket.chat/ui-contexts",{useEndpoint(e){i=e},useTranslation(e){o=e}},1),a.link("@tanstack/react-query",{useMutation(e){c=e}},2),a.link("react",{default(e){m=e},useState(e){d=e},useEffect(e){p=e}},3),a.link("../../../../../contexts/hooks/useAppsReload",{useAppsReload(e){f=e}},4),a.link("../../../../../lib/queryClient",{queryClient(e){k=e}},5),a.link("../../../hooks/useAppRequests",{useAppRequests(e){q=e}},6),a.link("./AppRequestItem",{default(e){S=e}},7),a.link("./AppRequestsLoading",{default(e){g=e}},8),a.exportDefault(e=>{var t,a;let{id:h,isAdminUser:x}=e,[E,y]=d(25),[A,v]=d(0),P=q(h,E,A),R=o(),b=f(),w=i("POST","/apps/app-request/markAsSeen"),D=c({mutationKey:["mark-app-requests-as-seen"],mutationFn:e=>w({unseenRequests:e}),retry:!1});return(p(()=>()=>{if(x&&P.isSuccess){let e=P.data.data.filter(e=>{let{seen:t}=e;return!t}).map(e=>{let{id:t}=e;return t});e.length&&D.mutate(e,{onSuccess:()=>{k.refetchQueries({queryKey:["app-requests-stats"]}),b()}})}},[x,P.isSuccess,null==P?void 0:P.data,b]),P.isLoading)?m.createElement(s,{w:"full",maxWidth:"x608",marginInline:"auto",pbs:36},m.createElement(g,null)):m.createElement(s,{h:"full",display:"flex",flexDirection:"column"},m.createElement(s,{w:"full",maxWidth:"x608",marginInline:"auto",pbs:36,flexGrow:"1"},P.isSuccess&&null!==(t=P.data.data)&&void 0!==t&&t.length?P.data.data.map(e=>m.createElement(S,{key:e.id,seen:e.seen,name:e.requester.name,createdDate:e.createdDate,message:e.message,username:e.requester.username})):m.createElement(l,null,m.createElement(r,null,R("No_requests")),m.createElement(u,null,R("App_requests_by_workspace")))),P.isSuccess&&(null===(a=P.data.data)||void 0===a?void 0:a.length)&&m.createElement(n,{divider:!0,count:P.data.meta.total,itemsPerPage:P.data.meta.limit,current:P.data.meta.offset,onSetItemsPerPage:e=>y(e),onSetCurrent:e=>v(e)}))})}
//# sourceMappingURL=/dynamic/client/views/marketplace/AppDetailsPage/tabs/AppRequests/0d91254002a6ae1d9e9a5df59433b3b41d3ebaad.map
