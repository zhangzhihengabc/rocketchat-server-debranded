)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/marketplace/AppsList/AppRow.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { App } from '@rocket.chat/core-typings';\nimport { css } from '@rocket.chat/css-in-js';\nimport { Badge, Box, Palette } from '@rocket.chat/fuselage';\nimport { useBreakpoints } from '@rocket.chat/fuselage-hooks';\nimport { useRouteParameter, useRouter } from '@rocket.chat/ui-contexts';\nimport type { KeyboardEvent, MouseEvent, ReactElement } from 'react';\nimport React, { memo } from 'react';\nimport semver from 'semver';\n\nimport AppAvatar from '../../../components/avatar/AppAvatar';\nimport AppStatus from '../AppDetailsPage/tabs/AppStatus/AppStatus';\nimport AppMenu from '../AppMenu';\nimport BundleChips from '../BundleChips';\n\n// TODO: org props\nconst AppRow = (props: App): ReactElement => {\n\tconst { name, id, shortDescription, iconFileData, marketplaceVersion, iconFileContent, installed, bundledIn, version } = props;\n\tconst breakpoints = useBreakpoints();\n\n\tconst router = useRouter();\n\tconst context = useRouteParameter('context');\n\n\tconst isMobile = !breakpoints.includes('md');\n\n\tconst handleNavigateToAppInfo = () => {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\t\trouter.navigate({\n\t\t\tname: 'marketplace',\n\t\t\tparams: {\n\t\t\t\tcontext,\n\t\t\t\tpage: 'info',\n\t\t\t\tversion: marketplaceVersion || version,\n\t\t\t\tid,\n\t\t\t\ttab: 'details',\n\t\t\t},\n\t\t});\n\t};\n\n\tconst handleKeyDown = (e: KeyboardEvent<HTMLOrSVGElement>) => {\n\t\tif (!['Enter', 'Space'].includes(e.nativeEvent.code)) {\n\t\t\treturn;\n\t\t}\n\n\t\thandleNavigateToAppInfo();\n\t};\n\n\tconst preventClickPropagation = (e: MouseEvent<HTMLOrSVGElement>) => {\n\t\te.stopPropagation();\n\t};\n\n\tconst hoverClass = css`\n\t\t&:hover,\n\t\t&:focus {\n\t\t\tcursor: pointer;\n\t\t\toutline: 0;\n\t\t\tbackground-color: ${Palette.surface['surface-hover']} !important;\n\t\t}\n\t`;\n\n\tconst canUpdate = installed && version && marketplaceVersion && semver.lt(version, marketplaceVersion);\n\n\treturn (\n\t\t<div role='listitem' key={id}>\n\t\t\t<Box\n\t\t\t\trole='link'\n\t\t\t\taria-labelledby={`${id}-title`}\n\t\t\t\taria-describedby={`${id}-description`}\n\t\t\t\ttabIndex={0}\n\t\t\t\tonClick={handleNavigateToAppInfo}\n\t\t\t\tonKeyDown={handleKeyDown}\n\t\t\t\tdisplay='flex'\n\t\t\t\tflexDirection='row'\n\t\t\t\tjustifyContent='space-between'\n\t\t\t\talignItems='center'\n\t\t\t\tmbe={8}\n\t\t\t\tpb={8}\n\t\t\t\tpi={16}\n\t\t\t\tborderRadius='x4'\n\t\t\t\tclassName={hoverClass}\n\t\t\t\tbg='light'\n\t\t\t>\n\t\t\t\t<Box display='flex' flexDirection='row' width='80%'>\n\t\t\t\t\t<AppAvatar size='x40' mie={16} alignSelf='center' iconFileContent={iconFileContent} iconFileData={iconFileData} />\n\t\t\t\t\t<Box id={`${id}-title`} display='flex' alignItems='center' fontScale='h5' withTruncatedText>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Box display='flex' alignItems='center'>\n\t\t\t\t\t\t{bundledIn && Boolean(bundledIn.length) && (\n\t\t\t\t\t\t\t<Box display='flex' alignItems='center' mis={16}>\n\t\t\t\t\t\t\t\t<BundleChips bundledIn={bundledIn} />\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{shortDescription && !isMobile && (\n\t\t\t\t\t\t\t<Box id={`${id}-description`} is='span' mi={16} fontScale='c1'>\n\t\t\t\t\t\t\t\t{shortDescription}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t\t<Box display='flex' flexDirection='row' width='20%' alignItems='center' justifyContent='flex-end' onClick={preventClickPropagation}>\n\t\t\t\t\t{canUpdate && (\n\t\t\t\t\t\t<Box mie={8}>\n\t\t\t\t\t\t\t<Badge small variant='primary' />\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t)}\n\t\t\t\t\t<AppStatus app={props} isAppDetailsPage={false} installed={installed} />\n\t\t\t\t\t<AppMenu app={props} isAppDetailsPage={false} mis={4} />\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</div>\n\t);\n};\n\nexport default memo(AppRow);\n",null],"names":["_taggedTemplateLiteral","css","Badge","Box","Palette","useBreakpoints","useRouteParameter","useRouter","React","memo","semver","AppAvatar","AppStatus","AppMenu","BundleChips","module","default","link","exportDefault","props","name","id","shortDescription","iconFileData","marketplaceVersion","iconFileContent","installed","bundledIn","version","breakpoints","router","context","isMobile","includes","handleNavigateToAppInfo","navigate","params","page","tab","hoverClass","_templateObject","surface","canUpdate","lt","createElement","role","key","concat","tabIndex","onClick","onKeyDown","e","nativeEvent","code","display","flexDirection","justifyContent","alignItems","mbe","pb","pi","borderRadius","className","bg","width","size","mie","alignSelf","fontScale","withTruncatedText","Boolean","length","mis","is","mi","stopPropagation","small","variant","app","isAppDetailsPage"],"mappings":"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"}