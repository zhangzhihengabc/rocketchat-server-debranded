)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/teams/contextualBar/channels/AddExistingModal/AddExistingModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, Button, Field, FieldLabel, Modal } from '@rocket.chat/fuselage';\nimport { useToastMessageDispatch, useEndpoint, useTranslation } from '@rocket.chat/ui-contexts';\nimport React, { memo, useCallback } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport RoomsAvailableForTeamsAutoComplete from './RoomsAvailableForTeamsAutoComplete';\n\ntype AddExistingModalProps = {\n\tteamId: string;\n\tonClose: () => void;\n};\n\nconst AddExistingModal = ({ onClose, teamId }: AddExistingModalProps) => {\n\tconst t = useTranslation();\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\n\tconst addRoomEndpoint = useEndpoint('POST', '/v1/teams.addRooms');\n\n\tconst {\n\t\tcontrol,\n\t\tformState: { isDirty },\n\t\thandleSubmit,\n\t} = useForm({ defaultValues: { rooms: [] } });\n\n\tconst handleAddChannels = useCallback(\n\t\tasync ({ rooms }) => {\n\t\t\ttry {\n\t\t\t\tawait addRoomEndpoint({\n\t\t\t\t\trooms,\n\t\t\t\t\tteamId,\n\t\t\t\t});\n\n\t\t\t\tdispatchToastMessage({ type: 'success', message: t('Channels_added') });\n\t\t\t} catch (error) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t} finally {\n\t\t\t\tonClose();\n\t\t\t}\n\t\t},\n\t\t[addRoomEndpoint, teamId, onClose, dispatchToastMessage, t],\n\t);\n\n\treturn (\n\t\t<Modal wrapperFunction={(props) => <Box is='form' onSubmit={handleSubmit(handleAddChannels)} {...props} />}>\n\t\t\t<Modal.Header>\n\t\t\t\t<Modal.Title>{t('Team_Add_existing_channels')}</Modal.Title>\n\t\t\t\t<Modal.Close onClick={onClose} />\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Content>\n\t\t\t\t<Field mbe={24}>\n\t\t\t\t\t<FieldLabel>{t('Channels')}</FieldLabel>\n\t\t\t\t\t<Controller\n\t\t\t\t\t\tcontrol={control}\n\t\t\t\t\t\tname='rooms'\n\t\t\t\t\t\trender={({ field: { value, onChange } }) => <RoomsAvailableForTeamsAutoComplete value={value} onChange={onChange} />}\n\t\t\t\t\t/>\n\t\t\t\t</Field>\n\t\t\t</Modal.Content>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Modal.FooterControllers>\n\t\t\t\t\t<Button onClick={onClose}>{t('Cancel')}</Button>\n\t\t\t\t\t<Button disabled={!isDirty} type='submit' primary>\n\t\t\t\t\t\t{t('Add')}\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.FooterControllers>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n};\n\nexport default memo(AddExistingModal);\n",null],"names":["_extends","Box","Button","Field","FieldLabel","Modal","useToastMessageDispatch","useEndpoint","useTranslation","React","memo","useCallback","useForm","Controller","RoomsAvailableForTeamsAutoComplete","module","link","default","v","exportDefault","_ref","onClose","teamId","t","dispatchToastMessage","addRoomEndpoint","control","formState","isDirty","handleSubmit","defaultValues","rooms","handleAddChannels","_ref2","type","message","error","createElement","wrapperFunction","props","is","onSubmit","Header","Title","Close","onClick","Content","mbe","name","render","_ref3","field","value","onChange","Footer","FooterControllers","disabled","primary"],"mappings":"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"}