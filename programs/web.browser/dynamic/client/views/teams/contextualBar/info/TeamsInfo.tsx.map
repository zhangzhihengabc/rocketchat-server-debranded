)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/teams/contextualBar/info/TeamsInfo.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IRoom } from '@rocket.chat/core-typings';\nimport { Box, Button, Callout, Option, Menu } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useMemo } from 'react';\n\nimport {\n\tContextualbarHeader,\n\tContextualbarIcon,\n\tContextualbarTitle,\n\tContextualbarClose,\n\tContextualbarScrollableContent,\n} from '../../../../components/Contextualbar';\nimport InfoPanel from '../../../../components/InfoPanel';\nimport RetentionPolicyCallout from '../../../../components/InfoPanel/RetentionPolicyCallout';\nimport MarkdownText from '../../../../components/MarkdownText';\nimport RoomAvatar from '../../../../components/avatar/RoomAvatar';\nimport type { Action } from '../../../hooks/useActionSpread';\nimport { useActionSpread } from '../../../hooks/useActionSpread';\n\ntype RetentionPolicy = {\n\tretentionPolicyEnabled: boolean;\n\tmaxAgeDefault: number;\n\tretentionEnabledDefault: boolean;\n\texcludePinnedDefault: boolean;\n\tfilesOnlyDefault: boolean;\n};\n\ntype TeamsInfoProps = {\n\troom: IRoom;\n\tretentionPolicy: RetentionPolicy;\n\tonClickHide: () => void;\n\tonClickClose: () => void;\n\tonClickLeave: () => void;\n\tonClickEdit: () => void;\n\tonClickDelete: () => void;\n\tonClickViewChannels: () => void;\n\tonClickConvertToChannel?: () => void;\n};\n\nconst TeamsInfo = ({\n\troom,\n\tretentionPolicy,\n\tonClickHide,\n\tonClickClose,\n\tonClickLeave,\n\tonClickEdit,\n\tonClickDelete,\n\tonClickViewChannels,\n\tonClickConvertToChannel,\n}: TeamsInfoProps): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst { retentionPolicyEnabled, filesOnlyDefault, excludePinnedDefault, maxAgeDefault } = retentionPolicy;\n\n\tconst memoizedActions = useMemo(\n\t\t() => ({\n\t\t\t...(onClickEdit && {\n\t\t\t\tedit: {\n\t\t\t\t\tlabel: t('Edit'),\n\t\t\t\t\taction: onClickEdit,\n\t\t\t\t\ticon: 'edit' as const,\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...(onClickDelete && {\n\t\t\t\tdelete: {\n\t\t\t\t\tlabel: t('Delete'),\n\t\t\t\t\taction: onClickDelete,\n\t\t\t\t\ticon: 'trash' as const,\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...(onClickConvertToChannel && {\n\t\t\t\tconvertToChannel: {\n\t\t\t\t\tlabel: t('Convert_to_channel'),\n\t\t\t\t\taction: onClickConvertToChannel,\n\t\t\t\t\ticon: 'hash' as const,\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...(onClickHide && {\n\t\t\t\thide: {\n\t\t\t\t\tlabel: t('Hide'),\n\t\t\t\t\taction: onClickHide,\n\t\t\t\t\ticon: 'eye-off' as const,\n\t\t\t\t},\n\t\t\t}),\n\t\t\t...(onClickLeave && {\n\t\t\t\tleave: {\n\t\t\t\t\tlabel: t('Leave'),\n\t\t\t\t\taction: onClickLeave,\n\t\t\t\t\ticon: 'sign-out' as const,\n\t\t\t\t},\n\t\t\t}),\n\t\t}),\n\t\t[t, onClickHide, onClickLeave, onClickEdit, onClickDelete, onClickConvertToChannel],\n\t);\n\n\tconst { actions: actionsDefinition, menu: menuOptions } = useActionSpread(memoizedActions);\n\n\tconst menu = useMemo(() => {\n\t\tif (!menuOptions) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<Menu\n\t\t\t\tsmall={false}\n\t\t\t\tflexShrink={0}\n\t\t\t\tmi={2}\n\t\t\t\tkey='menu'\n\t\t\t\tmaxHeight='initial'\n\t\t\t\tsecondary\n\t\t\t\trenderItem={({ label: { label, icon }, ...props }): ReactElement => <Option {...props} label={label} icon={icon} />}\n\t\t\t\toptions={menuOptions}\n\t\t\t/>\n\t\t);\n\t}, [menuOptions]);\n\n\tconst actions = useMemo(() => {\n\t\tconst mapAction = ([key, { label, icon, action }]: [string, Action]): ReactElement => (\n\t\t\t<InfoPanel.Action key={key} label={label as string} onClick={action} icon={icon} />\n\t\t);\n\n\t\treturn [...actionsDefinition.map(mapAction), menu].filter(Boolean);\n\t}, [actionsDefinition, menu]);\n\n\treturn (\n\t\t<>\n\t\t\t<ContextualbarHeader>\n\t\t\t\t<ContextualbarIcon name='info-circled' />\n\t\t\t\t<ContextualbarTitle>{t('Teams_Info')}</ContextualbarTitle>\n\t\t\t\t{onClickClose && <ContextualbarClose onClick={onClickClose} />}\n\t\t\t</ContextualbarHeader>\n\t\t\t<ContextualbarScrollableContent p={24}>\n\t\t\t\t<InfoPanel>\n\t\t\t\t\t<InfoPanel.Avatar>\n\t\t\t\t\t\t<RoomAvatar size='x332' room={room} />\n\t\t\t\t\t</InfoPanel.Avatar>\n\n\t\t\t\t\t<InfoPanel.ActionGroup>{actions}</InfoPanel.ActionGroup>\n\n\t\t\t\t\t<InfoPanel.Section>\n\t\t\t\t\t\t{room.archived && (\n\t\t\t\t\t\t\t<Box mb={16}>\n\t\t\t\t\t\t\t\t<Callout type='warning'>{t('Room_archived')}</Callout>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</InfoPanel.Section>\n\n\t\t\t\t\t<InfoPanel.Section>\n\t\t\t\t\t\t<InfoPanel.Title title={room.fname || room.name || ''} icon='team' />\n\t\t\t\t\t</InfoPanel.Section>\n\n\t\t\t\t\t<InfoPanel.Section>\n\t\t\t\t\t\t{room.broadcast && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>\n\t\t\t\t\t\t\t\t\t<b>{t('Broadcast_channel')}</b> {t('Broadcast_channel_Description')}\n\t\t\t\t\t\t\t\t</InfoPanel.Label>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{room.description && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>{t('Description')}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t<InfoPanel.Text withTruncatedText={false}>\n\t\t\t\t\t\t\t\t\t<MarkdownText variant='inline' content={room.description} />\n\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{room.announcement && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>{t('Announcement')}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t<InfoPanel.Text withTruncatedText={false}>\n\t\t\t\t\t\t\t\t\t<MarkdownText variant='inline' content={room.announcement} />\n\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{room.topic && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>{t('Topic')}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t<InfoPanel.Text withTruncatedText={false}>\n\t\t\t\t\t\t\t\t\t<MarkdownText variant='inline' content={room.topic} />\n\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{onClickViewChannels && (\n\t\t\t\t\t\t\t<InfoPanel.Field>\n\t\t\t\t\t\t\t\t<InfoPanel.Label>{t('Teams_channels')}</InfoPanel.Label>\n\t\t\t\t\t\t\t\t<InfoPanel.Text>\n\t\t\t\t\t\t\t\t\t<Button onClick={onClickViewChannels} small>\n\t\t\t\t\t\t\t\t\t\t{t('View_channels')}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</InfoPanel.Text>\n\t\t\t\t\t\t\t</InfoPanel.Field>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{retentionPolicyEnabled && (\n\t\t\t\t\t\t\t<RetentionPolicyCallout\n\t\t\t\t\t\t\t\tfilesOnlyDefault={filesOnlyDefault}\n\t\t\t\t\t\t\t\texcludePinnedDefault={excludePinnedDefault}\n\t\t\t\t\t\t\t\tmaxAgeDefault={maxAgeDefault}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</InfoPanel.Section>\n\t\t\t\t</InfoPanel>\n\t\t\t</ContextualbarScrollableContent>\n\t\t</>\n\t);\n};\n\nexport default TeamsInfo;\n",null],"names":["_extends","_objectWithoutProperties","_objectSpread","Box","Button","Callout","Option","Menu","useTranslation","React","useMemo","ContextualbarHeader","ContextualbarIcon","ContextualbarTitle","ContextualbarClose","ContextualbarScrollableContent","InfoPanel","RetentionPolicyCallout","MarkdownText","RoomAvatar","useActionSpread","module","link","default","v","exportDefault","_ref","room","retentionPolicy","onClickHide","onClickClose","onClickLeave","onClickEdit","onClickDelete","onClickViewChannels","onClickConvertToChannel","t","retentionPolicyEnabled","filesOnlyDefault","excludePinnedDefault","maxAgeDefault","memoizedActions","edit","label","action","icon","delete","convertToChannel","hide","leave","actions","actionsDefinition","menu","menuOptions","createElement","small","flexShrink","mi","key","maxHeight","secondary","renderItem","_ref2","props","_excluded","options","map","_ref3","Action","onClick","filter","Boolean","Fragment","name","p","Avatar","size","ActionGroup","Section","archived","mb","type","Title","title","fname","broadcast","Field","Label","description","Text","withTruncatedText","variant","content","announcement","topic"],"mappings":"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"}