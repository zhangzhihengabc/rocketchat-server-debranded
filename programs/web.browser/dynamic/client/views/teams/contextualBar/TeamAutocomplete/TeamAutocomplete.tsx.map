)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/teams/contextualBar/TeamAutocomplete/TeamAutocomplete.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { AutoComplete, Option, Box } from '@rocket.chat/fuselage';\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ComponentProps } from 'react';\nimport React, { memo, useMemo, useState } from 'react';\n\nimport Avatar from './Avatar';\n\ntype TeamAutocompleteProps = Omit<ComponentProps<typeof AutoComplete>, 'filter'>;\n\nconst TeamAutocomplete = ({ value, onChange, ...props }: TeamAutocompleteProps) => {\n\tconst [filter, setFilter] = useState('');\n\n\tconst teamsAutoCompleteEndpoint = useEndpoint('GET', '/v1/teams.autocomplete');\n\tconst { data, isSuccess } = useQuery(['teamsAutoComplete', filter], async () => teamsAutoCompleteEndpoint({ name: filter }));\n\n\tconst options = useMemo(\n\t\t() =>\n\t\t\tisSuccess\n\t\t\t\t? data?.teams.map(({ name, teamId, _id, avatarETag, t }) => ({\n\t\t\t\t\t\tvalue: teamId as string,\n\t\t\t\t\t\tlabel: { name, avatarETag, type: t, _id },\n\t\t\t\t  }))\n\t\t\t\t: [],\n\t\t[data, isSuccess],\n\t);\n\n\treturn (\n\t\t<AutoComplete\n\t\t\t{...props}\n\t\t\tvalue={value}\n\t\t\tonChange={onChange}\n\t\t\tfilter={filter}\n\t\t\tsetFilter={setFilter}\n\t\t\trenderSelected={({ selected: { value, label } }) => (\n\t\t\t\t<Box value={value}>\n\t\t\t\t\t<Avatar size='x20' {...label} /> {label.name}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t\trenderItem={({ value, label, ...props }) => <Option key={value} {...props} label={label.name} avatar={<Avatar {...label} />} />}\n\t\t\toptions={options}\n\t\t/>\n\t);\n};\n\nexport default memo(TeamAutocomplete);\n",null],"names":["_extends","_objectWithoutProperties","AutoComplete","Option","Box","useEndpoint","useQuery","React","memo","useMemo","useState","Avatar","module","default","v","link","exportDefault","_ref","value","onChange","props","_excluded","filter","setFilter","teamsAutoCompleteEndpoint","data","isSuccess","name","options","teams","map","_ref2","teamId","_id","avatarETag","t","label","type","createElement","renderSelected","_ref3","selected","size","renderItem","_ref4","_excluded2","key","avatar"],"mappings":"2BAAAA,EAAkEC,EAAlEC,EAASC,EAAcC,EAA2CC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,iDAAzDC,EAAAA,IAAc,CAAA,iCAAmB,CAAAC,QAAwBC,CAAA,EAAAd,EAAAA,CAAA,CAAA,EAAA,GAAAY,EAAAA,IAAAA,CAAAA,iDAAAA,CAAAC,QAAAA,CAAAA,EAAAZ,EAAAA,CAAA,CAAA,EAAA,GAA3CW,EAAWG,IAAE,CAAA,wBAAM,CAAuBb,aAACY,CAAA,EAAAZ,EAAAA,CAAA,EAAAC,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,IAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAP,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAN,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,QAAAA,CAAAC,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,EAAAC,KAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,WAAAA,CAAAC,QAAAA,CAAAA,EAAAF,EAAAA,CAAA,CAAA,EAAA,GAAlEC,EAAOI,aAAE,CA6CMR,EAnCUS,IAAyD,GAAxD,CAAEC,MAAAA,CAAK,CAAEC,SAAAA,CAAAA,CAA2C,CAAAF,EAA9BG,EAAKnB,EAAAgB,EAAAI,GAC9C,CAACC,EAAQC,EAAU,CAAGb,EAAS,IAE/Bc,EAA4BnB,EAAY,MAAO,0BAC/C,CAAEoB,KAAAA,CAAI,CAAEC,UAAAA,CAAAA,CAAW,CAAGpB,EAAS,CAAC,oBAAqBgB,EAAO,CAAE,SAAYE,EAA0B,CAAEG,KAAML,CAAM,IAElHM,EAAUnB,EACf,IACCiB,EACGD,MAAAA,EAAI,KAAA,EAAJA,EAAMI,KAAK,CAACC,GAAG,CAACC,IAAA,GAAC,CAAEJ,KAAAA,CAAI,CAAEK,OAAAA,CAAM,CAAEC,IAAAA,CAAG,CAAEC,WAAAA,CAAU,CAAEC,EAAAA,CAAAA,CAAG,CAAAJ,EAAA,MAAM,CAC3Db,MAAOc,EACPI,MAAO,CAAET,KAAAA,EAAMO,WAAAA,EAAYG,KAAMF,EAAGF,IAAAA,CAAG,EACtC,GACD,EAAE,CACN,CAACR,EAAMC,EAAU,EAGlB,OACCnB,EAAA+B,aAAA,CAACpC,EAAYF,EAAA,CAAA,EACRoB,EAAK,CACTF,MAAOA,EACPC,SAAUA,EACVG,OAAQA,EACRC,UAAWA,EACXgB,eAAgBC,IAAA,GAAC,CAAEC,SAAU,CAAEvB,MAAAA,CAAK,CAAEkB,MAAAA,CAAAA,CAAK,CAAI,CAAAI,EAAA,OAC9CjC,EAAA+B,aAAA,CAAClC,EAAG,CAACc,MAAOA,CAAM,EACjBX,EAAA+B,aAAA,CAAC3B,EAAMX,EAAA,CAAC0C,KAAK,KAAK,EAAKN,IAAU,IAACA,EAAMT,IAAI,CACvC,EAEPgB,WAAYC,IAAA,GAAC,CAAE1B,MAAAA,CAAK,CAAEkB,MAAAA,CAAAA,CAAiB,CAAAQ,EAAPxB,EAAKnB,EAAA2C,EAAAC,GAAA,OAAOtC,EAAA+B,aAAA,CAACnC,EAAMH,EAAA,CAAC8C,IAAK5B,CAAM,EAAKE,EAAK,CAAEgB,MAAOA,EAAMT,IAAK,CAACoB,OAAQxC,EAAA+B,aAAA,CAAC3B,EAAWyB,EAAU,GAAG,EAC/HR,QAASA,CAAQ,GAGpB"}