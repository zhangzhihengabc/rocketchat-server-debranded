)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/views/setupWizard/steps/OrganizationInfoStep.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { ISetting } from '@rocket.chat/core-typings';\nimport { OrganizationInfoPage } from '@rocket.chat/onboarding-ui';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useRole, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React from 'react';\n\nimport { useSetupWizardContext } from '../contexts/SetupWizardContext';\n\nconst getSettingOptions = (\n\tsettings: Array<ISetting> | undefined,\n\tsettingId: ISetting['_id'],\n\tt: ReturnType<typeof useTranslation>,\n): Array<[key: string, text: string]> => {\n\tif (!settings) {\n\t\treturn [];\n\t}\n\n\tconst setting = settings.find(({ _id }) => _id === settingId);\n\n\tif (!setting?.values) {\n\t\treturn [];\n\t}\n\n\treturn setting.values.map(({ i18nLabel, key }) => [String(key), t(i18nLabel as TranslationKey)]);\n};\n\nconst OrganizationInfoStep = (): ReactElement => {\n\tconst t = useTranslation();\n\tconst hasAdminRole = useRole('admin');\n\n\tconst {\n\t\tsetupWizardData: { organizationData },\n\t\tsaveOrganizationData,\n\t\tsetSetupWizardData,\n\t\tsettings,\n\t\tgoToPreviousStep,\n\t\tgoToNextStep,\n\t\tcompleteSetupWizard,\n\t\tcurrentStep,\n\t\tskipCloudRegistration,\n\t\tmaxSteps,\n\t} = useSetupWizardContext();\n\n\tconst countryOptions = getSettingOptions(settings, 'Country', t);\n\tconst organizationIndustryOptions = getSettingOptions(settings, 'Industry', t);\n\tconst organizationSizeOptions = getSettingOptions(settings, 'Size', t);\n\n\tconst handleSubmit: ComponentProps<typeof OrganizationInfoPage>['onSubmit'] = async (data) => {\n\t\tif (skipCloudRegistration) {\n\t\t\treturn completeSetupWizard();\n\t\t}\n\n\t\tsetSetupWizardData((prevState) => ({ ...prevState, organizationData: data }));\n\n\t\tawait saveOrganizationData(data);\n\n\t\tgoToNextStep();\n\t};\n\n\treturn (\n\t\t<OrganizationInfoPage\n\t\t\tinitialValues={organizationData}\n\t\t\tonSubmit={handleSubmit}\n\t\t\tonBackButtonClick={!hasAdminRole ? goToPreviousStep : undefined}\n\t\t\tcurrentStep={currentStep}\n\t\t\tstepCount={maxSteps}\n\t\t\torganizationIndustryOptions={organizationIndustryOptions}\n\t\t\torganizationSizeOptions={organizationSizeOptions}\n\t\t\tcountryOptions={countryOptions}\n\t\t\tnextStep={skipCloudRegistration ? t('Register') : undefined}\n\t\t/>\n\t);\n};\n\nexport default OrganizationInfoStep;\n",null],"names":["_objectSpread","OrganizationInfoPage","useRole","useTranslation","React","useSetupWizardContext","module","default","link","getSettingOptions","settings","settingId","t","setting","find","_ref","_id","values","map","_ref2","i18nLabel","key","String","exportDefault","hasAdminRole","setupWizardData","organizationData","saveOrganizationData","setSetupWizardData","goToPreviousStep","goToNextStep","completeSetupWizard","currentStep","skipCloudRegistration","maxSteps","countryOptions","organizationIndustryOptions","organizationSizeOptions","handleSubmit","data","prevState","createElement","initialValues","onSubmit","onBackButtonClick","undefined","stepCount","nextStep"],"mappings":"2BACAA,EAAAC,EAAkEC,EAAAC,EAAAC,EAAAC,EAAzDC,EAAAA,IAAoB,CAAA,uCAAqC,CAAAC,QAAAA,CAAAA,EAAAP,EAAAA,CAAA,CAAA,EAAA,GAAzDM,EAAsBE,IAAA,CAAM,6BAA6B,CAAAP,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAJ,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,QAAAA,CAAAC,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,iCAAAA,CAAAD,sBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAQlE,IAAMI,EAAoB,CACzBC,EACAC,EACAC,KAEA,GAAI,CAACF,EACJ,MAAO,EAAE,CAGV,IAAMG,EAAUH,EAASI,IAAI,CAACC,IAAA,GAAC,CAAEC,IAAAA,CAAAA,CAAK,CAAAD,EAAA,OAAKC,IAAQL,CAAS,UAE5D,AAAKE,MAAAA,GAAAA,EAASI,MAAM,CAIbJ,EAAQI,MAAM,CAACC,GAAG,CAACC,IAAA,GAAC,CAAEC,UAAAA,CAAS,CAAEC,IAAAA,CAAAA,CAAK,CAAAF,EAAA,MAAK,CAACG,OAAOD,GAAMT,EAAEQ,GAA6B,GAHvF,EAAE,AAIX,EAxBAd,EAAOiB,aAAE,CA0BoB,KAC5B,IAAMX,EAAIT,IACJqB,EAAetB,EAAQ,SAEvB,CACLuB,gBAAiB,CAAEC,iBAAAA,CAAAA,CAAkB,CACrCC,qBAAAA,CAAoB,CACpBC,mBAAAA,CAAkB,CAClBlB,SAAAA,CAAQ,CACRmB,iBAAAA,CAAgB,CAChBC,aAAAA,CAAY,CACZC,oBAAAA,CAAmB,CACnBC,YAAAA,CAAW,CACXC,sBAAAA,CAAqB,CACrBC,SAAAA,CAAAA,CACA,CAAG7B,IAEE8B,EAAiB1B,EAAkBC,EAAU,UAAWE,GACxDwB,EAA8B3B,EAAkBC,EAAU,WAAYE,GACtEyB,EAA0B5B,EAAkBC,EAAU,OAAQE,GAE9D0B,EAAwE,MAAOC,IACpF,GAAIN,EACH,OAAOF,IAGRH,EAAoBY,GAASxC,EAAAA,EAAA,CAAA,EAAWwC,GAAS,CAAA,EAAA,CAAEd,iBAAkBa,CAAI,IAEzE,MAAMZ,EAAqBY,GAE3BT,GACD,EAEA,OACC1B,EAAAqC,aAAA,CAACxC,EAAoB,CACpByC,cAAehB,EACfiB,SAAUL,EACVM,kBAAmB,AAACpB,EAAkCqB,KAAAA,EAAnBhB,EACnCG,YAAaA,EACbc,UAAWZ,EACXE,4BAA6BA,EAC7BC,wBAAyBA,EACzBF,eAAgBA,EAChBY,SAAUd,EAAwBrB,EAAE,YAAciC,KAAAA,CAAU,EAG/D"}