function module(e,t,a){let i,s,n,c,r,l,o,u,d;a.link("@rocket.chat/onboarding-ui",{AwaitingConfirmationPage(e){i=e}},0),a.link("@rocket.chat/ui-contexts",{useToastMessageDispatch(e){s=e},useSettingSetValue(e){n=e},useEndpoint(e){c=e},useTranslation(e){r=e}},1),a.link("react",{default(e){l=e},useEffect(e){o=e},useCallback(e){u=e}},2),a.link("../contexts/SetupWizardContext",{useSetupWizardContext(e){d=e}},3);let m=e=>e?1e3*e:0;a.exportDefault(()=>{let{registerServer:e,currentStep:t,maxSteps:a,goToStep:p,setupWizardData:{registrationData:f},saveWorkspaceData:v}=d(),_=n("Show_Setup_Wizard"),g=c("GET","/v1/cloud.confirmationPoll"),k=s(),C=r(),E=u(async()=>{try{if(f.device_code){let{pollData:e}=await g({deviceCode:f.device_code});if("successful"in e&&e.successful)return await v(),k({type:"success",message:C("Your_workspace_is_ready")}),_("completed")}}catch(e){k({type:"error",message:e})}},[g,f.device_code,_,v,k,C]);return o(()=>{let e=setInterval(()=>E(),m(f.interval));return()=>clearInterval(e)},[E,f.interval]),l.createElement(i,{currentStep:t,stepCount:a,emailAddress:f.cloudEmail,securityCode:f.user_code,onResendEmailRequest:()=>e({email:f.cloudEmail,resend:!0}),onChangeEmailRequest:()=>p(3)})})}
//# sourceMappingURL=/dynamic/client/views/setupWizard/steps/beff68bfd6264546d3eb0e2b5be5a2e516d7ea07.map
