)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/lib/settings/PrivateSettingsCachedCollection.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { ISetting } from '@rocket.chat/core-typings';\n\nimport { Notifications } from '../../../app/notifications/client';\nimport { CachedCollection } from '../../../app/ui-cached-collection/client';\n\nclass PrivateSettingsCachedCollection extends CachedCollection<ISetting> {\n\tconstructor() {\n\t\tsuper({\n\t\t\tname: 'private-settings',\n\t\t\teventType: 'onLogged',\n\t\t});\n\t}\n\n\tasync setupListener(): Promise<void> {\n\t\tNotifications.onLogged(this.eventName as 'private-settings-changed', async (t: string, { _id, ...record }: { _id: string }) => {\n\t\t\tthis.log('record received', t, { _id, ...record });\n\t\t\tthis.collection.upsert({ _id }, record);\n\t\t\tthis.sync();\n\t\t});\n\t}\n}\n\nconst instance = new PrivateSettingsCachedCollection();\n\nexport {\n\t/** @deprecated */\n\tinstance as PrivateSettingsCachedCollection,\n};\n",null],"names":["_objectSpread","_objectWithoutProperties","Notifications","CachedCollection","module","link","default","export","PrivateSettingsCachedCollection","instance","constructor","name","eventType","setupListener","onLogged","eventName","t","_ref","_id","record","_excluded","log","collection","upsert","sync"],"mappings":"2BAEAA,EAAkEC,EAAAC,EAAAC,gBAAzDC,EAAeC,IAAA,CAAM,uCAAoC,CAAAC,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,iDAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,CAAA,EAAA,GAAlEG,EAAOG,MAAE,CAAA,CAAAC,gCAAqB,IAAAC,CAAA,GAAoCL,EAAAA,IAAAA,CAAAA,oCAAAA,CAAAF,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,2CAAAA,CAAAD,iBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAoBlE,IAAMM,EAAW,IAjBjB,MAAMD,UAAwCL,EAC7CO,aAAAA,CACC,KAAK,CAAC,CACLC,KAAM,mBACNC,UAAW,YAEb,CAEA,MAAMC,eAAa,CAClBX,EAAcY,QAAQ,CAAC,IAAI,CAACC,SAAuC,CAAE,MAAOC,EAASC,KAAyC,GAAvC,CAAEC,IAAAA,CAAAA,CAAiC,CAAAD,EAAzBE,EAAMlB,EAAAgB,EAAAG,GACtG,IAAI,CAACC,GAAG,CAAC,kBAAmBL,EAAChB,EAAA,CAAIkB,IAAAA,CAAG,EAAKC,IACzC,IAAI,CAACG,UAAU,CAACC,MAAM,CAAC,CAAEL,IAAAA,CAAG,EAAIC,GAChC,IAAI,CAACK,IAAI,EACV,EACD"}