)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/lib/createSidebarItems.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { Keys as IconName } from '@rocket.chat/icons';\nimport type { LocationPathname } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\n\nexport type Item = {\n\ti18nLabel: string;\n\thref?: LocationPathname | `https://go.rocket.chat/i/${string}`;\n\ticon?: IconName;\n\ttag?: 'Alpha' | 'Beta';\n\tpermissionGranted?: () => boolean;\n\tpathSection?: string;\n\tname?: string;\n\texternalUrl?: boolean;\n\tbadge?: () => ReactElement;\n};\nexport type SidebarDivider = { divider: boolean; i18nLabel: string };\nexport type SidebarItem = Item | SidebarDivider;\nexport const isSidebarItem = (item: SidebarItem): item is Item => !('divider' in item);\n\nexport const isGoRocketChatLink = (link: string): link is `https://go.rocket.chat/i/${string}` =>\n\tlink.startsWith('https://go.rocket.chat/i/');\n\nexport const createSidebarItems = (\n\tinitialItems: SidebarItem[] = [],\n): {\n\tregisterSidebarItem: (item: SidebarItem) => void;\n\tunregisterSidebarItem: (i18nLabel: SidebarItem['i18nLabel']) => void;\n\tgetSidebarItems: () => SidebarItem[];\n\tsubscribeToSidebarItems: (callback: () => void) => () => void;\n} => {\n\tconst items = initialItems;\n\tlet updateCb: () => void = () => undefined;\n\n\tconst getSidebarItems = (): SidebarItem[] => items;\n\n\tconst subscribeToSidebarItems = (cb: () => void): (() => void) => {\n\t\tupdateCb = cb;\n\t\treturn (): void => {\n\t\t\tupdateCb = (): void => undefined;\n\t\t};\n\t};\n\n\tconst registerSidebarItem = (item: SidebarItem): void => {\n\t\titems.push(item);\n\t\tupdateCb();\n\t};\n\n\tconst unregisterSidebarItem = (i18nLabel: SidebarItem['i18nLabel']): void => {\n\t\tconst index = items.findIndex((item) => item.i18nLabel === i18nLabel);\n\t\tdelete items[index];\n\t\tupdateCb();\n\t};\n\n\treturn {\n\t\tregisterSidebarItem,\n\t\tunregisterSidebarItem,\n\t\tgetSidebarItems,\n\t\tsubscribeToSidebarItems,\n\t};\n};\n",null],"names":["module","export","isSidebarItem","isGoRocketChatLink","createSidebarItems","item","link","startsWith","initialItems","updateCb","undefined","registerSidebarItem","items","push","unregisterSidebarItem","i18nLabel","index","findIndex","getSidebarItems","subscribeToSidebarItems","cb"],"mappings":"uBAiBAA,EAAOC,MAAM,CAAA,CAAAC,cAAgB,IAACA,EAAsCC,mBAAmB,IAAAA,EAAAC,mBAAAA,IAAAA,CAAA,GAAhF,IAAMF,EAAiBG,GAAoC,CAAE,CAAA,YAAaA,CAAAA,EAEpEF,EAAsBG,GAClCA,EAAKC,UAAU,CAAC,6BAEJH,EAAqB,WAO9B,IANHI,EAAAA,UAAAA,MAAAA,CAAAA,GAAAA,KAAAA,IAAAA,SAAAA,CAAAA,EAAAA,CAAAA,SAAAA,CAAAA,EAAAA,CAA8B,EAAE,CAQ5BC,EAAuB,IAAMC,KAAAA,EAsBjC,MAAO,CACNC,oBAZ4BN,IAC5BO,AAbaJ,EAaPK,IAAI,CAACR,GACXI,GACD,EAUCK,sBAR8BC,IAC9B,IAAMC,EAAQJ,AAlBDJ,EAkBOS,SAAS,CAAEZ,GAASA,EAAKU,SAAS,GAAKA,EAC3D,QAAOH,AAnBMJ,CAmBD,CAACQ,EAAM,CACnBP,GACD,EAKCS,gBAvBuB,IAHVV,EA2BbW,wBAtBgCC,IAChCX,EAAWW,EACJ,KACNX,EAAW,IAAYC,KAAAA,CACxB,GAoBF"}