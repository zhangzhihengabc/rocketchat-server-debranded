)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/lib/download.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["export const download = (href: string, filename: string): void => {\n\tconst anchorElement = document.createElement('a');\n\tanchorElement.download = filename;\n\tanchorElement.href = href;\n\tanchorElement.target = '_blank';\n\tdocument.body.appendChild(anchorElement);\n\tanchorElement.click();\n\tdocument.body.removeChild(anchorElement);\n};\n\nconst hasMsSaveOrOpenBlob = (navigator: Navigator): navigator is Navigator & { msSaveOrOpenBlob: (blob: Blob) => void } =>\n\t'msSaveOrOpenBlob' in navigator;\n\nexport const downloadAs = ({ data, ...options }: { data: BlobPart[] } & BlobPropertyBag, filename: string): void => {\n\tconst blob = new Blob(data, options);\n\n\tif (hasMsSaveOrOpenBlob(navigator)) {\n\t\tnavigator.msSaveOrOpenBlob(blob);\n\t\treturn;\n\t}\n\n\tconst URL = window.webkitURL ?? window.URL;\n\tconst blobUrl = URL.createObjectURL(blob);\n\n\tdownload(blobUrl, filename);\n\n\tURL.revokeObjectURL(blobUrl);\n};\n\nexport const downloadJsonAs = (jsonObject: unknown, basename: string): void => {\n\tdownloadAs(\n\t\t{\n\t\t\tdata: [decodeURIComponent(encodeURI(JSON.stringify(jsonObject, null, 2)))],\n\t\t\ttype: 'application/json;charset=utf-8',\n\t\t},\n\t\t`${basename}.json`,\n\t);\n};\n\nexport const downloadCsvAs = (csvData: readonly (readonly unknown[])[], basename: string): void => {\n\tconst escapeCell = (cell: unknown): string => `\"${String(cell).replace(/\"/g, '\"\"')}\"`;\n\tconst content = csvData.reduce((content, row) => `${content + row.map(escapeCell).join(';')}\\n`, '');\n\n\tdownloadAs(\n\t\t{\n\t\t\tdata: [decodeURIComponent(encodeURI(content))],\n\t\t\ttype: 'text/csv;charset=utf-8',\n\t\t\tendings: 'native',\n\t\t},\n\t\t`${basename}.csv`,\n\t);\n};\n",null],"names":["_objectWithoutProperties","module","link","default","export","download","downloadAs","downloadJsonAs","downloadCsvAs","href","filename","anchorElement","document","createElement","target","body","appendChild","click","removeChild","hasMsSaveOrOpenBlob","navigator","_ref","_window$webkitURL","data","options","_excluded","blob","Blob","msSaveOrOpenBlob","URL","window","webkitURL","blobUrl","createObjectURL","revokeObjectURL","jsonObject","basename","decodeURIComponent","encodeURI","JSON","stringify","type","concat","csvData","escapeCell","cell","String","replace","content","reduce","row","map","join","endings"],"mappings":"2BAAAA,iBAAqCC,EAAEC,IAAgB,CAAQ,iDAAE,CAAAC,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAAjEC,EAAOG,MAAM,CAAA,CAAAC,SAAW,IAACA,EAAcC,WAA0B,IAAAA,EAAAC,eAAAA,IAAAA,EAAAC,cAAAA,IAAAA,CAAA,GAA1D,IAAMH,EAAW,CAACI,EAAcC,KACtC,IAAMC,EAAgBC,SAASC,aAAa,CAAC,IAC7CF,CAAAA,EAAcN,QAAQ,CAAGK,EACzBC,EAAcF,IAAI,CAAGA,EACrBE,EAAcG,MAAM,CAAG,SACvBF,SAASG,IAAI,CAACC,WAAW,CAACL,GAC1BA,EAAcM,KAAK,GACnBL,SAASG,IAAI,CAACG,WAAW,CAACP,EAC3B,EAEMQ,EAAuBC,GAC5B,qBAAsBA,EAEVd,EAAa,CAAAe,EAA+DX,KAA0B,IAAAY,EAAA,GAAxF,CAAEC,KAAAA,CAAAA,CAA0D,CAAAF,EAAjDG,EAAOxB,EAAAqB,EAAAI,GACtCC,EAAO,IAAIC,KAAKJ,EAAMC,GAE5B,GAAIL,EAAoBC,WAAY,CACnCA,UAAUQ,gBAAgB,CAACF,GAC3B,OAGD,IAAMG,EAAG,AAAmB,OAAnBP,CAAAA,EAAGQ,OAAOC,SAAS,AAATA,GAAST,AAAA,KAAA,IAAAA,EAAAA,EAAIQ,OAAOD,GAAG,CACpCG,EAAUH,EAAII,eAAe,CAACP,GAEpCrB,EAAS2B,EAAStB,GAElBmB,EAAIK,eAAe,CAACF,EACrB,EAEazB,EAAiB,CAAC4B,EAAqBC,KACnD9B,EACC,CACCiB,KAAM,CAACc,mBAAmBC,UAAUC,KAAKC,SAAS,CAACL,EAAY,KAAM,KAAK,CAC1EM,KAAM,kCACN,GAAAC,MAAA,CACEN,EAAQ,SAEb,EAEa5B,EAAgB,CAACmC,EAA0CP,KACvE,IAAMQ,EAAcC,GAAa,IAAAH,MAAA,CAAiBI,OAAOD,GAAME,OAAO,CAAC,KAAM,MAAK,KAC5EC,EAAUL,EAAQM,MAAM,CAAC,CAACD,EAASE,IAAG,GAAAR,MAAA,CAAQM,EAAUE,EAAIC,GAAG,CAACP,GAAYQ,IAAI,CAAC,KAAI,MAAM,IAEjG9C,EACC,CACCiB,KAAM,CAACc,mBAAmBC,UAAUU,IAAU,CAC9CP,KAAM,yBACNY,QAAS,UACT,GAAAX,MAAA,CACEN,EAAQ,QAEb"}