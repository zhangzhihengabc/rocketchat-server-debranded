function module(e,n,t){let i,o,a,l,r,m,c,d,s,p,u;t.link("@babel/runtime/helpers/objectSpread2",{default(e){i=e}},0),t.export({LivechatRoomType:()=>h}),t.link("../../../../app/authorization/client",{hasPermission(e){o=e}},0),t.link("../../../../app/models/client",{ChatRoom(e){a=e},ChatSubscription(e){l=e}},1),t.link("../../../../app/settings/client",{settings(e){r=e}},2),t.link("../../../../app/utils/client/getAvatarURL",{getAvatarURL(e){m=e}},3),t.link("../../../../definition/IRoomTypeConfig",{RoomSettingsEnum(e){c=e},RoomMemberActions(e){d=e},UiTextContext(e){s=e}},4),t.link("../../../../lib/rooms/roomTypes/livechat",{getLivechatRoomType(e){p=e}},5),t.link("../roomCoordinator",{roomCoordinator(e){u=e}},6);let h=p(u);u.add(i(i({},h),{},{label:"Omnichannel"}),{allowRoomSettingChange:(e,n)=>n!==c.JOIN_CODE,allowMemberAction:(e,n)=>[d.INVITE,d.JOIN].includes(n),roomName:e=>e.name||e.fname||e.label,getUiText(e){switch(e){case s.HIDE_WARNING:case s.LEAVE_WARNING:return"Hide_Livechat_Warning";default:return""}},condition:()=>r.get("Livechat_enabled")&&o("view-l-room"),getAvatarPath(e){return m({username:"@".concat(this.roomName(e))})||""},findRoom:e=>a.findOne({_id:e}),isLivechatRoom:()=>!0,canSendMessage(e){let n=a.findOne({_id:e},{fields:{open:1}});return!!(null==n?void 0:n.open)},readOnly(e,n){let t=a.findOne({_id:e},{fields:{open:1,servedBy:1}});if(!(null!=t&&t.open))return!0;let i=l.findOne({rid:e});return!i},getIcon:()=>"livechat",extractOpenRoomParams(e){let{id:n}=e;return{type:"l",reference:n}}})}
//# sourceMappingURL=/dynamic/client/lib/rooms/roomTypes/57bb9923fdfc76fceb863d9ffce7a49cfb7049bd.map
