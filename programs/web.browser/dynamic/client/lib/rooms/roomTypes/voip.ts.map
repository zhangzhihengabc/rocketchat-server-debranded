)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/lib/rooms/roomTypes/voip.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { AtLeast } from '@rocket.chat/core-typings';\n\nimport { hasPermission } from '../../../../app/authorization/client';\nimport { ChatRoom } from '../../../../app/models/client';\nimport { settings } from '../../../../app/settings/client';\nimport { getAvatarURL } from '../../../../app/utils/client/getAvatarURL';\nimport type { IRoomTypeClientDirectives } from '../../../../definition/IRoomTypeConfig';\nimport { getVoipRoomType } from '../../../../lib/rooms/roomTypes/voip';\nimport { roomCoordinator } from '../roomCoordinator';\n\nexport const VoipRoomType = getVoipRoomType(roomCoordinator);\n\nroomCoordinator.add(\n\t{\n\t\t...VoipRoomType,\n\t\tlabel: 'Voip',\n\t},\n\t{\n\t\troomName(room) {\n\t\t\treturn room.name || room.fname || (room as any).label;\n\t\t},\n\n\t\tcondition() {\n\t\t\treturn settings.get('Livechat_enabled') && hasPermission('view-l-room');\n\t\t},\n\n\t\tgetAvatarPath(room) {\n\t\t\treturn getAvatarURL({ username: `@${this.roomName(room)}` }) || '';\n\t\t},\n\n\t\tfindRoom(identifier) {\n\t\t\treturn ChatRoom.findOne({ _id: identifier });\n\t\t},\n\n\t\tcanSendMessage(_rid) {\n\t\t\treturn false;\n\t\t},\n\n\t\treadOnly(_rid, _user) {\n\t\t\treturn true;\n\t\t},\n\n\t\tgetIcon() {\n\t\t\treturn 'phone';\n\t\t},\n\n\t\textractOpenRoomParams({ id }) {\n\t\t\treturn { type: 'v', reference: id };\n\t\t},\n\t} as AtLeast<IRoomTypeClientDirectives, 'roomName'>,\n);\n",null],"names":["_objectSpread","hasPermission","ChatRoom","settings","getAvatarURL","getVoipRoomType","roomCoordinator","module","link","default","export","VoipRoomType","add","label","roomName","room","name","fname","condition","get","getAvatarPath","username","concat","findRoom","identifier","findOne","_id","canSendMessage","_rid","readOnly","_user","getIcon","extractOpenRoomParams","_ref","id","type","reference"],"mappings":"2BAEAA,EAA8BC,EAAuCC,EAAAC,EAAAC,EAAAC,EAAAC,EAA5DC,EAAeC,IAAA,CAAM,uCAAuC,CAAAC,QAAAA,CAAAA,EAAAT,EAAAA,CAAA,CAAA,EAAA,GAArEO,EAAOG,MAAE,CAAA,CAAAC,aAAe,IAAMA,CAAA,GAAAJ,EAAuCC,IAAA,CAAA,uCAAA,CAAAP,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,gCAAAA,CAAAL,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,kCAAAA,CAAAJ,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,4CAAAA,CAAAH,aAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,uCAAAA,CAAAF,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,qBAAAA,CAAAD,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAQ9D,IAAMK,EAAeN,EAAgBC,GAE5CA,EAAgBM,GAAG,CAAAZ,EAAAA,EAAA,CAAA,EAEdW,GAAY,CAAA,EAAA,CACfE,MAAO,MAAM,GAEd,CACCC,SAAAA,AAASC,GACDA,EAAKC,IAAI,EAAID,EAAKE,KAAK,EAAKF,EAAaF,KAAK,CAGtDK,UAAAA,IACQf,EAASgB,GAAG,CAAC,qBAAuBlB,EAAc,eAG1DmB,cAAcL,CAAI,EACjB,OAAOX,EAAa,CAAEiB,SAAQ,IAAAC,MAAA,CAAM,IAAI,CAACR,QAAQ,CAACC,GAAO,IAAO,EACjE,EAEAQ,SAAAA,AAASC,GACDtB,EAASuB,OAAO,CAAC,CAAEC,IAAKF,CAAU,GAG1CG,eAAAA,AAAeC,GACP,CAAA,EAGRC,SAAAA,CAASD,EAAME,IACP,CAAA,EAGRC,QAAAA,IACQ,QAGRC,sBAAqBC,CAAA,EAAO,GAAN,CAAEC,GAAAA,CAAAA,CAAI,CAAAD,EAC3B,MAAO,CAAEE,KAAM,IAAKC,UAAWF,CAAE,CAClC"}