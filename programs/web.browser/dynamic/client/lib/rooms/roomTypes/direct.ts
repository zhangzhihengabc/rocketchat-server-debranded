function module(e,t,n){let a,r,i,o,l,s,m,d,u,c,g,p,f,E,R,v,_;n.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},0),n.export({DirectMessageRoomType:()=>h}),n.link("@rocket.chat/core-typings",{isRoomFederated(e){r=e}},0),n.link("meteor/meteor",{Meteor(e){i=e}},1),n.link("../../../../app/authorization/client",{hasAtLeastOnePermission(e){o=e}},2),n.link("../../../../app/models/client",{Subscriptions(e){l=e},Users(e){s=e},ChatRoom(e){m=e}},3),n.link("../../../../app/settings/client",{settings(e){d=e}},4),n.link("../../../../app/utils/client",{getUserPreference(e){u=e}},5),n.link("../../../../app/utils/client/getAvatarURL",{getAvatarURL(e){c=e}},6),n.link("../../../../app/utils/client/getUserAvatarURL",{getUserAvatarURL(e){g=e}},7),n.link("../../../../definition/IRoomTypeConfig",{RoomSettingsEnum(e){p=e},RoomMemberActions(e){f=e},UiTextContext(e){E=e}},8),n.link("../../../../lib/rooms/roomTypes/direct",{getDirectMessageRoomType(e){R=e}},9),n.link("../../federation/Federation",{"*"(e){v=e}},10),n.link("../roomCoordinator",{roomCoordinator(e){_=e}},11);let h=R(_);_.add(a(a({},h),{},{label:"Direct_Messages"}),{allowRoomSettingChange(e,t){if(r(e))return v.isRoomSettingAllowed(e,t);switch(t){case p.TYPE:case p.NAME:case p.SYSTEM_MESSAGES:case p.DESCRIPTION:case p.READ_ONLY:case p.REACT_WHEN_READ_ONLY:case p.ARCHIVE_OR_UNARCHIVE:case p.JOIN_CODE:return!1;case p.E2E:return!0===d.get("E2E_Enable");default:return!0}},allowMemberAction(e,t,n,a){return r(e)?v.actionAllowed(e,t,n,a):t===f.BLOCK&&!this.isGroupChat(e)},roomName(e){let t=e.fname||e.name?{fname:e.fname,name:e.name}:e._id?l.findOne({rid:e._id}):void 0;return t?d.get("UI_Use_Real_Name")&&t.fname?t.fname:t.name:void 0},isGroupChat(e){var t;return((null==e?void 0:null===(t=e.uids)||void 0===t?void 0:t.length)||0)>2},getUiText(e){switch(e){case E.HIDE_WARNING:return"Hide_Private_Warning";case E.LEAVE_WARNING:return"Leave_Private_Warning";default:return""}},condition(){let e=u(i.userId(),"sidebarGroupByType");return e&&o(["view-d-room","view-joined-room"])},getAvatarPath(e){if(!e)return"";if(e.name&&e.avatarETag)return g(e.name,e.avatarETag);if(this.isGroupChat(e))return c({username:(e.uids||[]).length+(e.usernames||[]).join(),cache:e.avatarETag});let t=l.findOne({rid:e._id},{fields:{name:1}});if(null!=t&&t.name){let e=s.findOne({username:t.name},{fields:{username:1,avatarETag:1}});return g((null==e?void 0:e.username)||t.name,null==e?void 0:e.avatarETag)}return g(e.name||this.roomName(e)||"")},getIcon(e){return r(e)?"globe":this.isGroupChat(e)?"balloon":"at"},extractOpenRoomParams(e){let{rid:t}=e;return{type:"d",reference:t}},findRoom(e){let t=l.findOne({t:"d",$or:[{name:e},{rid:e}]});if(null!=t&&t.rid)return m.findOne(t.rid)}})}
//# sourceMappingURL=/dynamic/client/lib/rooms/roomTypes/d4731de538031aafa81644dab9120d2be0c471cf.map
