)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/lib/normalizeThreadMessage.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { Markup } from '@rocket.chat/gazzodown';\nimport { parse } from '@rocket.chat/message-parser';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport { filterMarkdown } from '../../app/markdown/lib/markdown';\nimport GazzodownText from '../components/GazzodownText';\n\nexport function normalizeThreadMessage({ ...message }: Readonly<Pick<IMessage, 'msg' | 'mentions' | 'attachments'>>): ReactElement | null {\n\tif (message.msg) {\n\t\tmessage.msg = filterMarkdown(message.msg);\n\t\tdelete message.mentions;\n\n\t\tconst tokens = message.msg ? parse(message.msg, { emoticons: true }) : undefined;\n\n\t\tif (!tokens) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<GazzodownText>\n\t\t\t\t<Markup tokens={tokens} />\n\t\t\t</GazzodownText>\n\t\t);\n\t}\n\n\tif (message.attachments) {\n\t\tconst attachment = message.attachments.find((attachment) => attachment.title || attachment.description);\n\n\t\tif (attachment?.description) {\n\t\t\treturn <>{attachment.description}</>;\n\t\t}\n\n\t\tif (attachment?.title) {\n\t\t\treturn <>{attachment.title}</>;\n\t\t}\n\t}\n\n\treturn null;\n}\n",null],"names":["_objectDestructuringEmpty","_extends","Markup","parse","React","filterMarkdown","GazzodownText","normalizeThreadMessage","_ref","message","msg","mentions","tokens","emoticons","undefined","createElement","attachments","attachment","find","title","description","Fragment","module","default","export"],"mappings":"2BACAA,EAAgDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAQ1C,SAAUC,EAAsBC,CAAA,EAA6E,IAAvEC,EAAOR,EAAA,CAAA,EAAAD,CAAAA,EAAAQ,GAAAA,CAAA,GAClD,GAAIC,EAAQC,GAAG,CAAE,CAChBD,EAAQC,GAAG,CAAGL,EAAeI,EAAQC,GAAG,EACxC,OAAOD,EAAQE,QAAQ,CAEvB,IAAMC,EAASH,EAAQC,GAAG,CAAGP,EAAMM,EAAQC,GAAG,CAAE,CAAEG,UAAW,CAAA,CAAI,GAAMC,KAAAA,SAEvE,AAAKF,EAKJR,EAAAW,aAAA,CAACT,EAAa,KACbF,EAAAW,aAAA,CAACb,EAAM,CAACU,OAAQA,CAAO,IALjB,KAUT,GAAIH,EAAQO,WAAW,CAAE,CACxB,IAAMC,EAAaR,EAAQO,WAAW,CAACE,IAAI,CAAED,GAAeA,EAAWE,KAAK,EAAIF,EAAWG,WAAW,EAEtG,GAAIH,MAAAA,GAAAA,EAAYG,WAAW,CAC1B,OAAOhB,EAAAW,aAAA,CAAAX,EAAAiB,QAAA,CAAA,KAAGJ,EAAWG,WAAW,EAGjC,GAAIH,MAAAA,GAAAA,EAAYE,KAAK,CACpB,OAAOf,EAAAW,aAAA,CAAAX,EAAAiB,QAAA,CAAA,KAAGJ,EAAWE,KAAK,EAI5B,OAAO,IACR,CAvCuBG,EAAAA,IAAAA,CAAAA,kDAAyB,CAAAC,QAAAA,CAAAA,EAAAvB,EAAAA,CAAA,CAAA,EAAA,GAAAsB,EAAAA,IAAAA,CAAAA,iCAAAA,CAAAC,QAAAA,CAAAA,EAAAtB,EAAAA,CAAA,CAAA,EAAA,GAAhDqB,EAAOE,MAAE,CAAA,CAAMjB,uBAAQ,IAAAA,CAAyB,GAAAe,EAAAA,IAAAA,CAAAA,yBAAAA,CAAApB,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAoB,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAnB,MAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAmB,EAAAA,IAAAA,CAAAA,QAAAA,CAAAC,QAAAA,CAAAA,EAAAnB,EAAAA,CAAA,CAAA,EAAA,GAAAkB,EAAAA,IAAAA,CAAAA,kCAAAA,CAAAjB,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAiB,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAC,QAAAA,CAAAA,EAAAjB,EAAAA,CAAA,CAAA,EAAA"}