function module(e,t,s){let a,i,n,l,r,o,d,m,c,u,h;let p=["editedBy","editedAt","emoji","avatar","alias","customFields","groupable","attachments","reactions"];s.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},0),s.link("@babel/runtime/helpers/objectSpread2",{default(e){i=e}},1),s.export({parseMessageTextToAstMarkdown:()=>v,parseMessageQuoteAttachment:()=>g,parseMessageAttachments:()=>M,removePossibleNullMessageValues:()=>k}),s.link("@rocket.chat/core-typings",{isFileAttachment(e){n=e},isE2EEMessage(e){l=e},isOTRMessage(e){r=e},isOTRAckMessage(e){o=e},isQuoteAttachment(e){d=e},isTranslatedAttachment(e){m=e},isTranslatedMessage(e){c=e}},0),s.link("@rocket.chat/message-parser",{parse(e){u=e}},1),s.link("../views/room/MessageList/lib/isParsedMessage",{isParsedMessage(e){h=e}},2);let v=(e,t,s)=>{var a;let n=k(e),{showAutoTranslate:d,autoTranslateLanguage:m}=s,u=m&&c(n)&&n.translations,h=d(e),p=h&&u&&u[m]||n.msg;return i(i({},n),{},{md:l(e)||r(e)||o(e)||h?A(p,t):null!==(a=n.md)&&void 0!==a?a:A(p,t)},n.attachments&&{attachments:M(n.attachments,t,{autoTranslateLanguage:m,translated:h})})},g=(e,t,s)=>{var a,n,l;let{translated:r,autoTranslateLanguage:o}=s;e.attachments&&(null===(a=e.attachments)||void 0===a?void 0:a.length)>0&&(e.attachments=e.attachments.map(e=>g(e,t,s)));let d=m(e)&&o&&(null==e?void 0:null===(n=e.translations)||void 0===n?void 0:n[o])||e.text||"";return i(i({},e),{},{md:r?A(d,t):null!==(l=e.md)&&void 0!==l?l:A(d,t)})},M=(e,t,s)=>e.map(e=>{var a,l,r;let{translated:o,autoTranslateLanguage:c}=s;if(!e.text&&!e.description)return e;d(e)&&e.attachments&&(e.attachments=e.attachments.map(e=>g(e,t,s)));let u=m(e)&&c&&(null==e?void 0:null===(a=e.translations)||void 0===a?void 0:a[c])||e.text||e.description||"";return n(e)&&e.description&&(e.descriptionMd=o?A(u,t):null!==(r=e.descriptionMd)&&void 0!==r?r:A(u,t)),i(i({},e),{},{md:o?A(u,t):null!==(l=e.md)&&void 0!==l?l:A(u,t)})}),b=e=>null!=e,k=e=>{let{editedBy:t,editedAt:s,emoji:n,avatar:l,alias:r,customFields:o,groupable:d,attachments:m,reactions:c}=e;return i(i(i(i(i(i(i(i(i(i({},a(e,p)),b(t)&&{editedBy:t}),b(s)&&{editedAt:s}),b(n)&&{emoji:n}),b(l)&&{avatar:l}),b(r)&&{alias:r}),b(o)&&{customFields:o}),b(d)&&{groupable:d}),b(m)&&{attachments:m}),b(c)&&{reactions:c})},A=(e,t)=>{if(!e)return[];if(h(e))return e;let s=u(e,t),a="LINE_BREAK"!==s[0].type?s:s.slice(1);return a}}
//# sourceMappingURL=/dynamic/client/lib/de07b38766970dccd6f0c0b1f3f23d295e9f1434.map
