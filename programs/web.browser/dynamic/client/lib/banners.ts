function module(e,t,i){let d;i.export({isLegacyPayload:()=>l,firstSubscription:()=>r,open:()=>u,closeById:()=>p,close:()=>s,clear:()=>o}),i.link("@rocket.chat/emitter",{Emitter(e){d=e}},0);let l=e=>!("blocks"in e),n=[],a=new d,r=[e=>a.on("update-first",e),()=>{var e;return null!==(e=n[0])&&void 0!==e?e:null}],u=e=>{let t=n.findIndex(t=>l(t)&&l(e)?t.id===e.id:!(l(t)||l(e))&&t.viewId===e.viewId);-1===t&&(t=n.length),n[t]=e,a.emit("update"),0===t&&a.emit("update-first")},p=e=>{let t=n.findIndex(t=>l(t)?t.id===e:t.viewId===e);t<0||(n.splice(t,1),a.emit("update"),0===t&&a.emit("update-first"))},s=()=>{n.shift(),a.emit("update"),a.emit("update-first")},o=()=>{n.splice(0,n.length),a.emit("update"),a.emit("update-first")}}
//# sourceMappingURL=/dynamic/client/lib/0bcd1203612d5a527243da713b69adf42c6c1c0b.map
