)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/lib/utils/legacyJumpToMessage.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { isThreadMessage } from '@rocket.chat/core-typings';\n\nimport { ChatRoom } from '../../../app/models/client';\nimport { RoomHistoryManager } from '../../../app/ui-utils/client';\nimport { router } from '../../providers/RouterProvider';\nimport { RoomManager } from '../RoomManager';\nimport { goToRoomById } from './goToRoomById';\n\n/** @deprecated */\nexport const legacyJumpToMessage = async (message: IMessage) => {\n\tif (isThreadMessage(message) || message.tcount) {\n\t\tconst { tab, context } = router.getRouteParameters();\n\n\t\tif (tab === 'thread' && (context === message.tmid || context === message._id)) {\n\t\t\treturn;\n\t\t}\n\n\t\trouter.navigate(\n\t\t\t{\n\t\t\t\tname: router.getRouteName()!,\n\t\t\t\tparams: {\n\t\t\t\t\ttab: 'thread',\n\t\t\t\t\tcontext: message.tmid || message._id,\n\t\t\t\t\trid: message.rid,\n\t\t\t\t\tname: ChatRoom.findOne({ _id: message.rid })?.name ?? '',\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\t...router.getSearchParameters(),\n\t\t\t\t\tmsg: message._id,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{ replace: false },\n\t\t);\n\t\treturn;\n\t}\n\n\tif (RoomManager.opened === message.rid) {\n\t\tRoomHistoryManager.getSurroundingMessages(message);\n\t\treturn;\n\t}\n\n\tawait goToRoomById(message.rid);\n\n\tsetTimeout(() => {\n\t\tRoomHistoryManager.getSurroundingMessages(message);\n\t}, 400);\n};\n",null],"names":["_objectSpread","isThreadMessage","ChatRoom","RoomHistoryManager","router","RoomManager","goToRoomById","module","link","default","export","legacyJumpToMessage","message","tcount","_ChatRoom$findOne$nam","_ChatRoom$findOne","tab","context","getRouteParameters","tmid","_id","navigate","name","getRouteName","params","rid","findOne","search","getSearchParameters","msg","replace","opened","getSurroundingMessages","setTimeout"],"mappings":"2BACAA,EAA4DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAnDC,EAAeC,IAAE,CAAA,uCAAkC,CAAAC,QAAAA,CAAAA,EAAAT,EAAAA,CAAA,CAAA,EAAA,GAA5DO,EAAOG,MAAE,CAAA,CAAAC,oBAAuB,IAAAA,CAAA,GAA4BJ,EAAAA,IAAAA,CAAAA,4BAAAA,CAAAN,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAL,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAJ,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,iCAAAA,CAAAH,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,iBAAAA,CAAAF,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,iBAAAA,CAAAD,aAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GASrD,IAAMK,EAAsB,MAAOC,IACzC,GAAIX,EAAgBW,IAAYA,EAAQC,MAAM,CAAE,CAAA,IAAAC,EAAAC,EAC/C,GAAM,CAAEC,IAAAA,CAAG,CAAEC,QAAAA,CAAAA,CAAS,CAAGb,EAAOc,kBAAkB,GAElD,GAAIF,AAAQ,WAARA,GAAqBC,CAAAA,IAAYL,EAAQO,IAAI,EAAIF,IAAYL,EAAQQ,GAAG,AAAHA,EACxE,OAGDhB,EAAOiB,QAAQ,CACd,CACCC,KAAMlB,EAAOmB,YAAY,GACzBC,OAAQ,CACPR,IAAK,SACLC,QAASL,EAAQO,IAAI,EAAIP,EAAQQ,GAAG,CACpCK,IAAKb,EAAQa,GAAG,CAChBH,KAAI,AAA8C,OAA9CR,CAAAA,EAAA,AAAwC,OAAxCC,CAAAA,EAAEb,EAASwB,OAAO,CAAC,CAAEN,IAAKR,EAAQa,GAAAA,AAAG,EAAE,GAACV,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAtCA,EAAwCO,IAAI,AAAJA,GAAIR,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAEvDa,OAAM3B,EAAAA,EAAA,CAAA,EACFI,EAAOwB,mBAAmB,IAAE,CAAA,EAAA,CAC/BC,IAAKjB,EAAQQ,GAAAA,AAAG,IAGlB,CAAEU,QAAS,CAAA,CAAK,GAEjB,OAGD,GAAIzB,EAAY0B,MAAM,GAAKnB,EAAQa,GAAG,CAAE,CACvCtB,EAAmB6B,sBAAsB,CAACpB,GAC1C,OAGD,MAAMN,EAAaM,EAAQa,GAAG,EAE9BQ,WAAW,KACV9B,EAAmB6B,sBAAsB,CAACpB,EAC3C,EAAG,IACJ"}