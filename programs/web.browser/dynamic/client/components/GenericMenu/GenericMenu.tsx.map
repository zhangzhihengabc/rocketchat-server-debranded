)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/GenericMenu/GenericMenu.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { IconButton, MenuItem, MenuSection, MenuV2 } from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ComponentProps, ReactNode } from 'react';\nimport React from 'react';\n\nimport type { GenericMenuItemProps } from './GenericMenuItem';\nimport GenericMenuItem from './GenericMenuItem';\nimport { useHandleMenuAction } from './hooks/useHandleMenuAction';\n\ntype GenericMenuCommonProps = {\n\ticon?: ComponentProps<typeof IconButton>['icon'];\n\ttitle: string;\n};\ntype GenericMenuConditionalProps =\n\t| {\n\t\t\tsections?: {\n\t\t\t\ttitle?: ReactNode;\n\t\t\t\titems: GenericMenuItemProps[];\n\t\t\t\tpermission?: boolean | '' | 0 | null | undefined;\n\t\t\t}[];\n\t\t\titems?: never;\n\t  }\n\t| {\n\t\t\titems?: GenericMenuItemProps[];\n\t\t\tsections?: never;\n\t  };\n\ntype GenericMenuProps = GenericMenuCommonProps & GenericMenuConditionalProps & Omit<ComponentProps<typeof MenuV2>, 'children'>;\n\nconst GenericMenu = ({ title, icon = 'menu', onAction, ...props }: GenericMenuProps) => {\n\tconst t = useTranslation();\n\n\tconst sections = 'sections' in props && props.sections;\n\tconst items = 'items' in props && props.items;\n\n\tconst itemsList = sections ? sections.reduce((acc, { items }) => [...acc, ...items], [] as GenericMenuItemProps[]) : items || [];\n\n\tconst disabledKeys = itemsList.filter(({ disabled }) => disabled).map(({ id }) => id);\n\tconst handleAction = useHandleMenuAction(itemsList || []);\n\n\tconst hasIcon = itemsList.some(({ icon }) => icon);\n\tconst handleItems = (items: GenericMenuItemProps[]) =>\n\t\thasIcon ? items.map((item) => ({ ...item, gap: !item.icon && !item.status })) : items;\n\n\tconst isMenuEmpty = !(sections && sections.length > 0) && !(items && items.length > 0);\n\n\tif (isMenuEmpty) {\n\t\treturn <IconButton icon={icon} disabled />;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{sections && (\n\t\t\t\t<MenuV2\n\t\t\t\t\ticon={icon}\n\t\t\t\t\ttitle={t.has(title) ? t(title) : title}\n\t\t\t\t\tonAction={onAction || handleAction}\n\t\t\t\t\t{...(disabledKeys && { disabledKeys })}\n\t\t\t\t\t{...props}\n\t\t\t\t>\n\t\t\t\t\t{sections.map(({ title, items }, key) => (\n\t\t\t\t\t\t<MenuSection\n\t\t\t\t\t\t\ttitle={typeof title === 'string' && t.has(title) ? t(title) : title}\n\t\t\t\t\t\t\titems={handleItems(items)}\n\t\t\t\t\t\t\tkey={`${title}-${key}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{(item) => (\n\t\t\t\t\t\t\t\t<MenuItem key={item.id}>\n\t\t\t\t\t\t\t\t\t<GenericMenuItem {...item} />\n\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</MenuSection>\n\t\t\t\t\t))}\n\t\t\t\t</MenuV2>\n\t\t\t)}\n\t\t\t{items && (\n\t\t\t\t<MenuV2\n\t\t\t\t\ticon={icon}\n\t\t\t\t\ttitle={t.has(title) ? t(title) : title}\n\t\t\t\t\tonAction={onAction || handleAction}\n\t\t\t\t\t{...(disabledKeys && { disabledKeys })}\n\t\t\t\t\t{...props}\n\t\t\t\t>\n\t\t\t\t\t{handleItems(items).map((item) => (\n\t\t\t\t\t\t<MenuItem key={item.id}>\n\t\t\t\t\t\t\t<GenericMenuItem {...item} />\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</MenuV2>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default GenericMenu;\n",null],"names":["_extends","_objectSpread","_objectWithoutProperties","IconButton","MenuItem","MenuSection","MenuV2","useTranslation","React","GenericMenuItem","useHandleMenuAction","module","link","default","v","exportDefault","_ref","title","icon","onAction","props","_excluded","t","sections","items","itemsList","reduce","acc","_ref2","disabledKeys","filter","_ref3","disabled","map","_ref4","id","handleAction","hasIcon","some","_ref5","handleItems","item","gap","status","isMenuEmpty","length","createElement","Fragment","has","_ref6","key","concat"],"mappings":"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"}