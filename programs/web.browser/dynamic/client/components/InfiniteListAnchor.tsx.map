)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/InfiniteListAnchor.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box } from '@rocket.chat/fuselage';\nimport type { ComponentProps } from 'react';\nimport React, { useEffect, useRef } from 'react';\n\ntype InfiniteListAnchorProps = {\n\tloadMore: () => void;\n} & ComponentProps<typeof Box>;\n\nconst InfiniteListAnchor = ({ loadMore, ...props }: InfiniteListAnchorProps) => {\n\tconst ref = useRef<HTMLDivElement | null>(null);\n\n\tuseEffect(() => {\n\t\tconst target = ref.current;\n\n\t\tif (!target) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new IntersectionObserver(\n\t\t\t(e) => {\n\t\t\t\tif (e[0].isIntersecting) {\n\t\t\t\t\tloadMore();\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\troot: null,\n\t\t\t\tthreshold: 0.1,\n\t\t\t},\n\t\t);\n\n\t\tobserver.observe(target);\n\n\t\treturn () => observer.disconnect();\n\t}, [loadMore]);\n\n\treturn <Box width={5} height={5} ref={ref} {...props} />;\n};\n\nexport default InfiniteListAnchor;\n",null],"names":["_extends","_objectWithoutProperties","Box","React","useEffect","useRef","module","link","default","exportDefault","_ref","loadMore","props","_excluded","ref","target","current","observer","IntersectionObserver","e","isIntersecting","root","threshold","observe","disconnect","createElement","width","height"],"mappings":"2BAAAA,EAA4CC,EAA5CC,EAA4CC,EAAAC,EAAAC,qBAAhCC,EAAQC,IAAAA,CAAAA,iCAAwB,CAAAC,QAAAA,CAAAA,EAAAR,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,iDAAAA,CAAAE,QAAAA,CAAAA,EAAAP,EAAAA,CAAA,CAAA,EAAA,GAArCK,EAAOC,IAAA,CAAM,wBAAwB,CAAAL,IAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAA5CC,EAAOG,aAAa,CAQOC,IAAoD,GAAnD,CAAEC,SAAAA,CAAAA,CAA6C,CAAAD,EAAhCE,EAAKX,EAAAS,EAAAG,GACzCC,EAAMT,EAA8B,MA0B1C,OAxBAD,EAAU,KACT,IAAMW,EAASD,EAAIE,OAAO,CAE1B,GAAI,CAACD,EACJ,OAGD,IAAME,EAAW,IAAIC,qBACnBC,IACIA,CAAC,CAAC,EAAE,CAACC,cAAc,EACtBT,GAEF,EACA,CACCU,KAAM,KACNC,UAAW,KAMb,OAFAL,EAASM,OAAO,CAACR,GAEV,IAAME,EAASO,UAAU,EACjC,EAAG,CAACb,EAAS,EAENR,EAAAsB,aAAA,CAACvB,EAAGF,EAAA,CAAC0B,MAAO,EAAGC,OAAQ,EAAGb,IAAKA,CAAI,EAAKF,GAChD"}