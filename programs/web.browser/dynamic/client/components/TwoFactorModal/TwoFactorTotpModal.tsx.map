)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/TwoFactorModal/TwoFactorTotpModal.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Box, TextInput, Field, FieldGroup, FieldLabel, FieldRow, FieldError } from '@rocket.chat/fuselage';\nimport { useAutoFocus, useUniqueId } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement, ChangeEvent, SyntheticEvent } from 'react';\nimport React, { useState } from 'react';\n\nimport GenericModal from '../GenericModal';\nimport type { OnConfirm } from './TwoFactorModal';\nimport { Method } from './TwoFactorModal';\n\ntype TwoFactorTotpModalProps = {\n\tonConfirm: OnConfirm;\n\tonClose: () => void;\n\tinvalidAttempt?: boolean;\n};\n\nconst TwoFactorTotpModal = ({ onConfirm, onClose, invalidAttempt }: TwoFactorTotpModalProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst [code, setCode] = useState<string>('');\n\tconst ref = useAutoFocus<HTMLInputElement>();\n\n\tconst onConfirmTotpCode = (e: SyntheticEvent): void => {\n\t\te.preventDefault();\n\t\tonConfirm(code, Method.TOTP);\n\t};\n\n\tconst onChange = ({ currentTarget }: ChangeEvent<HTMLInputElement>): void => {\n\t\tsetCode(currentTarget.value);\n\t};\n\n\tconst id = useUniqueId();\n\treturn (\n\t\t<GenericModal\n\t\t\twrapperFunction={(props) => <Box is='form' onSubmit={onConfirmTotpCode} {...props} />}\n\t\t\tonCancel={onClose}\n\t\t\tconfirmText={t('Verify')}\n\t\t\ttitle={t('Two Factor Authentication')}\n\t\t\tonClose={onClose}\n\t\t\tvariant='warning'\n\t\t\ticon='info'\n\t\t\tconfirmDisabled={!code}\n\t\t>\n\t\t\t<FieldGroup>\n\t\t\t\t<Field>\n\t\t\t\t\t<FieldLabel alignSelf='stretch' htmlFor={id}>\n\t\t\t\t\t\t{t('Open_your_authentication_app_and_enter_the_code')}\n\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t<FieldRow>\n\t\t\t\t\t\t<TextInput id={id} ref={ref} value={code} onChange={onChange} placeholder={t('Enter_authentication_code')}></TextInput>\n\t\t\t\t\t</FieldRow>\n\t\t\t\t\t{invalidAttempt && <FieldError>{t('Invalid_password')}</FieldError>}\n\t\t\t\t</Field>\n\t\t\t</FieldGroup>\n\t\t</GenericModal>\n\t);\n};\n\nexport default TwoFactorTotpModal;\n",null],"names":["_extends","Box","TextInput","Field","FieldGroup","FieldLabel","FieldRow","FieldError","useAutoFocus","useUniqueId","useTranslation","React","useState","GenericModal","Method","module","link","default","v","exportDefault","_ref","onConfirm","onClose","invalidAttempt","t","code","setCode","ref","onConfirmTotpCode","e","preventDefault","TOTP","id","createElement","wrapperFunction","props","is","onSubmit","onCancel","confirmText","title","variant","icon","confirmDisabled","alignSelf","htmlFor","value","onChange","_ref2","currentTarget","placeholder"],"mappings":"2BAAAA,EAAAC,EAAOC,EAAOC,EAASC,EAASC,EAAYC,EAAUC,EAAsDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAhGC,EAAEC,IAAS,CAAE,iCAA+B,CAAAC,QAAUC,CAAA,EAAAlB,EAAYkB,CAAA,CAAA,EAAA,GAAZH,EAAAA,IAAU,CAAE,wBAAM,CAAAd,IAAuBiB,CAAC,EAAAjB,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,MAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAP,aAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAL,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,kBAAAA,CAAAE,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,mBAAAA,CAAAD,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAA5GC,EAAOI,aAAO,CAgBaC,IAAkF,GAAjF,CAAEC,UAAAA,CAAS,CAAEC,QAAAA,CAAO,CAAEC,eAAAA,CAAAA,CAAyC,CAAAH,EACpFI,EAAId,IACJ,CAACe,EAAMC,EAAQ,CAAGd,EAAiB,IACnCe,EAAMnB,IAENoB,EAAqBC,IAC1BA,EAAEC,cAAc,GAChBT,EAAUI,EAAMX,EAAOiB,IAAI,CAC5B,EAMMC,EAAKvB,IACX,OACCE,EAAAsB,aAAA,CAACpB,EAAY,CACZqB,gBAAkBC,GAAUxB,EAAAsB,aAAA,CAAChC,EAAGD,EAAA,CAACoC,GAAG,OAAOC,SAAUT,CAAkB,EAAKO,IAC5EG,SAAUhB,EACViB,YAAaf,EAAE,UACfgB,MAAOhB,EAAE,6BACTF,QAASA,EACTmB,QAAQ,UACRC,KAAK,OACLC,gBAAiB,CAAClB,CAAK,EAEvBd,EAAAsB,aAAA,CAAC7B,EAAU,KACVO,EAAAsB,aAAA,CAAC9B,EAAK,KACLQ,EAAAsB,aAAA,CAAC5B,EAAU,CAACuC,UAAU,UAAUC,QAASb,CAAG,EAC1CR,EAAE,oDAEJb,EAAAsB,aAAA,CAAC3B,EAAQ,KACRK,EAAAsB,aAAA,CAAC/B,EAAS,CAAC8B,GAAIA,EAAIL,IAAKA,EAAKmB,MAAOrB,EAAMsB,SAtB9BC,IAA2D,GAA1D,CAAEC,cAAAA,CAAAA,CAA8C,CAAAD,EACjEtB,EAAQuB,EAAcH,KAAK,CAC5B,EAoBmEI,YAAa1B,EAAE,4BAA6B,IAE1GD,GAAkBZ,EAAAsB,aAAA,CAAC1B,EAAU,KAAEiB,EAAE,uBAKvC"}