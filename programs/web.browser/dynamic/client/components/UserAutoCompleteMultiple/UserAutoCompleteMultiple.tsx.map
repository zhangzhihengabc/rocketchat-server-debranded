)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/UserAutoCompleteMultiple/UserAutoCompleteMultiple.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { AutoComplete, Box, OptionAvatar, Option, OptionContent, Chip, OptionDescription } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { useEndpoint } from '@rocket.chat/ui-contexts';\nimport { useQuery } from '@tanstack/react-query';\nimport type { ComponentProps, ReactElement } from 'react';\nimport React, { memo, useMemo, useState } from 'react';\n\nimport UserAvatar from '../avatar/UserAvatar';\n\nconst query = (\n\tterm = '',\n): {\n\tselector: string;\n} => ({ selector: JSON.stringify({ term }) });\n\ntype UserAutoCompleteMultipleProps = Omit<ComponentProps<typeof AutoComplete>, 'filter'>;\n\n// TODO: useDisplayUsername\nconst UserAutoCompleteMultiple = ({ onChange, ...props }: UserAutoCompleteMultipleProps): ReactElement => {\n\tconst [filter, setFilter] = useState('');\n\tconst debouncedFilter = useDebouncedValue(filter, 1000);\n\tconst usersAutoCompleteEndpoint = useEndpoint('GET', '/v1/users.autocomplete');\n\tconst { data } = useQuery(['usersAutoComplete', debouncedFilter], async () => usersAutoCompleteEndpoint(query(debouncedFilter)));\n\n\tconst options = useMemo(() => data?.items.map((user) => ({ value: user.username, label: user.name })) || [], [data]);\n\n\treturn (\n\t\t<AutoComplete\n\t\t\t{...props}\n\t\t\tfilter={filter}\n\t\t\tsetFilter={setFilter}\n\t\t\tonChange={onChange}\n\t\t\tmultiple\n\t\t\trenderSelected={({ selected: { value, label }, onRemove, ...props }): ReactElement => (\n\t\t\t\t<Chip {...props} height='x20' value={value} onClick={onRemove} mie={4}>\n\t\t\t\t\t<UserAvatar size='x20' username={value} />\n\t\t\t\t\t<Box is='span' margin='none' mis={4}>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Box>\n\t\t\t\t</Chip>\n\t\t\t)}\n\t\t\trenderItem={({ value, label, ...props }): ReactElement => (\n\t\t\t\t<Option data-qa-type='autocomplete-user-option' key={value} {...props}>\n\t\t\t\t\t<OptionAvatar>\n\t\t\t\t\t\t<UserAvatar username={value} size='x20' />\n\t\t\t\t\t</OptionAvatar>\n\t\t\t\t\t<OptionContent>\n\t\t\t\t\t\t{label} <OptionDescription>({value})</OptionDescription>\n\t\t\t\t\t</OptionContent>\n\t\t\t\t</Option>\n\t\t\t)}\n\t\t\toptions={options}\n\t\t/>\n\t);\n};\n\nexport default memo(UserAutoCompleteMultiple);\n",null],"names":["_extends","_objectWithoutProperties","AutoComplete","Box","OptionAvatar","Option","OptionContent","Chip","OptionDescription","useDebouncedValue","useEndpoint","useQuery","React","memo","useMemo","useState","UserAvatar","module","default","v","link","query","term","arguments","length","undefined","selector","JSON","stringify","exportDefault","_ref","onChange","props","_excluded","filter","setFilter","debouncedFilter","usersAutoCompleteEndpoint","data","options","items","map","user","value","username","label","name","createElement","multiple","renderSelected","_ref2","selected","onRemove","_excluded2","height","onClick","mie","size","is","margin","mis","renderItem","_ref3","_excluded3","key"],"mappings":"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"}