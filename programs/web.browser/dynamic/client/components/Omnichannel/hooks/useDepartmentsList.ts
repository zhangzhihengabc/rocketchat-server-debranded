function module(e,t,l){let n,a,r,d,i,o,s,u;let c=["_id","name","_updatedAt"];l.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){n=e}},0),l.export({useDepartmentsList:()=>p}),l.link("@rocket.chat/ui-contexts",{useEndpoint(e){a=e},useTranslation(e){r=e}},0),l.link("react",{useCallback(e){d=e},useState(e){i=e}},1),l.link("../../../hooks/lists/useScrollableRecordList",{useScrollableRecordList(e){o=e}},2),l.link("../../../hooks/useComponentDidUpdate",{useComponentDidUpdate(e){s=e}},3),l.link("../../../lib/lists/RecordList",{RecordList(e){u=e}},4);let p=e=>{let t=r(),[l,p]=i(()=>new u),h=d(()=>p(new u),[]),m=a("GET","/v1/livechat/department");s(()=>{e&&h()},[e,h]);let v=d(async(l,a)=>{let{departments:r,total:d}=await m({onlyMyDepartments:"".concat(!!e.onlyMyDepartments),text:e.filter,offset:l,count:a+l,sort:'{ "name": 1 }',excludeDepartmentId:e.excludeDepartmentId,enabled:e.enabled?"true":"false",showArchived:e.showArchived?"true":"false"}),i=r.filter(t=>!e.departmentId||t._id!==e.departmentId).map(e=>{let{_id:l,name:a,_updatedAt:r}=e;return{_id:l,label:n(e,c).archived?"".concat(a," [").concat(t("Archived"),"]"):a,value:l}});return e.haveAll&&i.unshift({_id:"",label:t("All"),value:"all"}),e.haveNone&&i.unshift({_id:"",label:t("None"),value:""}),{items:i,itemCount:e.departmentId?d-1:d}},[m,e.onlyMyDepartments,e.filter,e.excludeDepartmentId,e.enabled,e.showArchived,e.haveAll,e.haveNone,e.departmentId,t]),{loadMoreItems:b,initialItemCount:f}=o(l,v,25);return{reload:h,itemsList:l,loadMoreItems:b,initialItemCount:f}}}
//# sourceMappingURL=/dynamic/client/components/Omnichannel/hooks/07238c7ed68d840d9934ae3b148963d5b8d0756f.map
