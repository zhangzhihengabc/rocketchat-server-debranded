function module(e,l,t){let n,r,a,i,o,u,c,m,s,d,E,b,p,f,v,_;let k=["email","room","onRequest","onSend","onCancel","onDiscard"];t.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),t.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){r=e}},1),t.link("@rocket.chat/fuselage",{Field(e){a=e},Button(e){i=e},TextInput(e){o=e},Modal(e){u=e},Box(e){c=e},FieldGroup(e){m=e},FieldLabel(e){s=e},FieldRow(e){d=e},FieldError(e){E=e}},0),t.link("@rocket.chat/ui-contexts",{useTranslation(e){b=e}},1),t.link("react",{default(e){p=e},useCallback(e){f=e},useEffect(e){v=e}},2),t.link("react-hook-form",{useForm(e){_=e}},3),t.exportDefault(e=>{var l,t,h,j,g;let{email:q="",room:C,onRequest:F,onSend:x,onCancel:S,onDiscard:T}=e,w=r(e,k),y=b(),{register:G,handleSubmit:R,setValue:B,setFocus:D,watch:I,formState:{errors:L,isValid:H,isSubmitting:M}}=_({defaultValues:{email:q||"",subject:y("Transcript_of_your_livechat_conversation")}});v(()=>{D("subject")},[D]);let{transcriptRequest:P}=C,U=null==C?void 0:C.open,V=null==C?void 0:null===(l=C.v)||void 0===l?void 0:l.token,W=f(()=>T(),[T]),z=f(e=>{let{email:l,subject:t}=e;U&&!P&&F(l,t),!U&&x&&V&&x(l,t,V)},[F,x,U,V,P]);v(()=>{P&&(B("email",P.email),B("subject",P.subject))},[B,P]);let A=H&&!!I("subject");return p.createElement(u,n({open:!0,wrapperFunction:e=>p.createElement(c,n({is:"form",onSubmit:R(z)},e))},w),p.createElement(u.Header,null,p.createElement(u.Icon,{name:"mail-arrow-top-right"}),p.createElement(u.Title,null,y("Transcript")),p.createElement(u.Close,{onClick:S})),p.createElement(u.Content,{fontScale:"p2"},!!P&&p.createElement("p",null,y("Livechat_transcript_already_requested_warning")),p.createElement(m,null,p.createElement(a,null,p.createElement(s,null,y("Email"),"*"),p.createElement(d,null,p.createElement(o,n({disabled:!!q||!!P,error:null===(t=L.email)||void 0===t?void 0:t.message,flexGrow:1},G("email",{required:y("The_field_is_required",y("Email"))})))),p.createElement(E,null,null===(h=L.email)||void 0===h?void 0:h.message)),p.createElement(a,null,p.createElement(s,null,y("Subject"),"*"),p.createElement(d,null,p.createElement(o,n({disabled:!!P,error:null===(j=L.subject)||void 0===j?void 0:j.message,flexGrow:1},G("subject",{required:y("The_field_is_required",y("Subject"))})))),p.createElement(E,null,null===(g=L.subject)||void 0===g?void 0:g.message)))),p.createElement(u.Footer,null,p.createElement(u.FooterControllers,null,p.createElement(i,{onClick:S},y("Cancel")),U&&P&&p.createElement(i,{danger:!0,onClick:W},y("Undo_request")),U&&!P&&p.createElement(i,{"aria-label":"request-button",disabled:!A,loading:M,primary:!0,type:"submit"},y("Request")),!U&&p.createElement(i,{"aria-label":"send-button",disabled:!A,loading:M,primary:!0,type:"submit"},y("Send")))))})}
//# sourceMappingURL=/dynamic/client/components/Omnichannel/modals/1d2a5df03462508ca32b3547c4e2c026a3e5a60a.map
