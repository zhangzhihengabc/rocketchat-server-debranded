)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/Omnichannel/modals/CloseChatModalData.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { ILivechatDepartment, ILivechatDepartmentAgents } from '@rocket.chat/core-typings';\nimport type { ReactElement } from 'react';\nimport React from 'react';\n\nimport { AsyncStatePhase } from '../../../hooks/useAsyncState';\nimport { useEndpointData } from '../../../hooks/useEndpointData';\nimport { FormSkeleton } from '../Skeleton';\nimport CloseChatModal from './CloseChatModal';\n\nconst CloseChatModalData = ({\n\tdepartmentId,\n\tvisitorEmail,\n\tonCancel,\n\tonConfirm,\n}: {\n\tdepartmentId: ILivechatDepartment['_id'];\n\tonCancel: () => void;\n\tvisitorEmail?: string;\n\tonConfirm: (\n\t\tcomment?: string,\n\t\ttags?: string[],\n\t\tpreferences?: { omnichannelTranscriptPDF: boolean; omnichannelTranscriptEmail: boolean },\n\t) => Promise<void>;\n}): ReactElement => {\n\tconst { value: data, phase: state } = useEndpointData('/v1/livechat/department/:_id', { keys: { _id: departmentId } });\n\n\tif ([state].includes(AsyncStatePhase.LOADING)) {\n\t\treturn <FormSkeleton />;\n\t}\n\n\t// TODO: chapter day: fix issue with rest typing\n\t// TODO: This is necessary because of a weird problem\n\t// There is an endpoint livechat/department/${departmentId}/agents\n\t// that is causing the problem. type A | type B | undefined\n\n\treturn (\n\t\t<CloseChatModal\n\t\t\tonCancel={onCancel}\n\t\t\tonConfirm={onConfirm}\n\t\t\tvisitorEmail={visitorEmail}\n\t\t\tdepartment={\n\t\t\t\t(\n\t\t\t\t\tdata as {\n\t\t\t\t\t\tdepartment: ILivechatDepartment | null;\n\t\t\t\t\t\tagents?: ILivechatDepartmentAgents[];\n\t\t\t\t\t}\n\t\t\t\t).department\n\t\t\t}\n\t\t/>\n\t);\n};\nexport default CloseChatModalData;\n",null],"names":["React","AsyncStatePhase","useEndpointData","FormSkeleton","CloseChatModal","module","link","default","exportDefault","_ref","departmentId","visitorEmail","onCancel","onConfirm","value","data","phase","state","keys","_id","includes","LOADING","createElement","department"],"mappings":"2BAEAA,EAA0BC,EAAAC,EAAAC,EAAAC,EAAnBC,EAAKC,IAAM,CAAA,QAAQ,CAAAC,QAAAA,CAAAA,EAAAP,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAJ,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,iCAAAA,CAAAH,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,cAAAA,CAAAF,aAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,mBAAAA,CAAAE,QAAAA,CAAAA,EAAAH,EAAAA,CAAA,CAAA,EAAA,GAA1BC,EAAOG,aAAW,CAOSC,IAcR,GAdS,CAC3BC,aAAAA,CAAY,CACZC,aAAAA,CAAY,CACZC,SAAAA,CAAQ,CACRC,UAAAA,CAAAA,CAUA,CAAAJ,EACM,CAAEK,MAAOC,CAAI,CAAEC,MAAOC,CAAAA,CAAO,CAAGf,EAAgB,+BAAgC,CAAEgB,KAAM,CAAEC,IAAKT,CAAY,CAAE,SAEnH,AAAI,CAACO,EAAM,CAACG,QAAQ,CAACnB,EAAgBoB,OAAO,EACpCrB,EAAAsB,aAAA,CAACnB,EAAY,MASpBH,EAAAsB,aAAA,CAAClB,EAAc,CACdQ,SAAUA,EACVC,UAAWA,EACXF,aAAcA,EACdY,WAEER,EAICQ,UAAAA,AACF,EAGJ"}