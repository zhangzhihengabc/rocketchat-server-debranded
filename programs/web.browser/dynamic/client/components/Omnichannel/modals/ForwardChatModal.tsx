function module(e,t,l){let n,a,r,o,i,m,c,s,u,d,p,h,E,k,f,w,_,F,b,C,g,v,x,A,L,S;let y=["onForward","onCancel","room"];l.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),l.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},1),l.link("@rocket.chat/fuselage",{Field(e){r=e},FieldGroup(e){o=e},Button(e){i=e},TextAreaInput(e){m=e},Modal(e){c=e},Box(e){s=e},PaginatedSelectFiltered(e){u=e},Divider(e){d=e},FieldLabel(e){p=e},FieldRow(e){h=e}},0),l.link("@rocket.chat/fuselage-hooks",{useDebouncedValue(e){E=e}},1),l.link("@rocket.chat/ui-contexts",{useEndpoint(e){k=e},useSetting(e){f=e},useTranslation(e){w=e}},2),l.link("react",{default(e){_=e},useCallback(e){F=e},useEffect(e){b=e},useMemo(e){C=e},useState(e){g=e}},3),l.link("react-hook-form",{useForm(e){v=e}},4),l.link("../../../hooks/lists/useRecordList",{useRecordList(e){x=e}},5),l.link("../../../hooks/useAsyncState",{AsyncStatePhase(e){A=e}},6),l.link("../../AutoCompleteAgent",{default(e){L=e}},7),l.link("../hooks/useDepartmentsList",{useDepartmentsList(e){S=e}},8),l.exportDefault(e=>{var t;let{onForward:l,onCancel:I,room:T}=e,D=a(e,y),G=w(),M=k("GET","/v1/users.info"),B=f("Livechat_enabled_when_agent_idle"),{getValues:R,handleSubmit:P,register:O,setFocus:W,setValue:j,watch:q}=v();b(()=>{W("comment")},[W]);let H=q("department"),N=q("username"),[U,V]=g(""),z=E(U,500),{itemsList:J,loadMoreItems:K}=S(C(()=>({filter:z,enabled:!0}),[z])),{phase:Q,items:X,itemCount:Y}=x(J),Z=F(e=>{Q!==A.LOADING&&K(e,Math.min(50,Y))},[Q,Y,K]),$=F(async e=>{let t,{department:n,username:a,comment:r}=e;if(a){let{user:e}=await M({username:a});t=null==e?void 0:e._id}l(n,t,r)},[M,l]);return b(()=>{O("department"),O("username")},[O]),_.createElement(c,n({wrapperFunction:e=>_.createElement(s,n({is:"form",onSubmit:P($)},e))},D),_.createElement(c.Header,null,_.createElement(c.Icon,{name:"baloon-arrow-top-right"}),_.createElement(c.Title,null,G("Forward_chat")),_.createElement(c.Close,{onClick:I})),_.createElement(c.Content,{fontScale:"p2"},_.createElement(o,null,_.createElement(r,null,_.createElement(p,null,G("Forward_to_department")),_.createElement(h,null,_.createElement(u,{withTitle:!0,filter:U,setFilter:V,options:X,maxWidth:"100%",placeholder:G("Select_an_option"),onChange:e=>{j("department",e)},flexGrow:1,endReached:Z}))),_.createElement(d,{p:0,children:G("or")}),_.createElement(r,null,_.createElement(p,null,G("Forward_to_user")),_.createElement(h,null,_.createElement(L,{withTitle:!0,onlyAvailable:!0,value:R().username,excludeId:null===(t=T.servedBy)||void 0===t?void 0:t._id,showIdleAgents:B,placeholder:G("Username_name_email"),onChange:e=>{j("username",e)}}))),_.createElement(r,{marginBlock:15},_.createElement(p,null,G("Leave_a_comment")," ",_.createElement(s,{is:"span",color:"annotation"},"(",G("Optional"),")")),_.createElement(h,null,_.createElement(m,n({"data-qa-id":"ForwardChatModalTextAreaInputComment"},O("comment"),{rows:8,flexGrow:1})))))),_.createElement(c.Footer,null,_.createElement(c.FooterControllers,null,_.createElement(i,{onClick:I},G("Cancel")),_.createElement(i,{type:"submit",disabled:!N&&!H,primary:!0},G("Forward")))))})}
//# sourceMappingURL=/dynamic/client/components/Omnichannel/modals/0d09f5a4baf6a1615dd0e0a355babf197231a19e.map
