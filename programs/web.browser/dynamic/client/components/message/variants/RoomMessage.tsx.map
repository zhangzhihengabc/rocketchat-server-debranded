)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/message/variants/RoomMessage.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { Message, MessageLeftContainer, MessageContainer, CheckBox } from '@rocket.chat/fuselage';\nimport { useToggle } from '@rocket.chat/fuselage-hooks';\nimport { useUserId } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useRef, memo } from 'react';\n\nimport type { MessageActionContext } from '../../../../app/ui-utils/client/lib/MessageAction';\nimport { useIsMessageHighlight } from '../../../views/room/MessageList/contexts/MessageHighlightContext';\nimport {\n\tuseIsSelecting,\n\tuseToggleSelect,\n\tuseIsSelectedMessage,\n\tuseCountSelected,\n} from '../../../views/room/MessageList/contexts/SelectedMessagesContext';\nimport { useJumpToMessage } from '../../../views/room/MessageList/hooks/useJumpToMessage';\nimport { useChat } from '../../../views/room/contexts/ChatContext';\nimport IgnoredContent from '../IgnoredContent';\nimport MessageHeader from '../MessageHeader';\nimport MessageToolboxHolder from '../MessageToolboxHolder';\nimport StatusIndicators from '../StatusIndicators';\nimport MessageAvatar from '../header/MessageAvatar';\nimport RoomMessageContent from './room/RoomMessageContent';\n\ntype RoomMessageProps = {\n\tmessage: IMessage & { ignored?: boolean };\n\tshowUserAvatar: boolean;\n\tsequential: boolean;\n\tunread: boolean;\n\tmention: boolean;\n\tall: boolean;\n\tcontext?: MessageActionContext;\n\tignoredUser?: boolean;\n\tsearchText?: string;\n};\n\nconst RoomMessage = ({\n\tmessage,\n\tshowUserAvatar,\n\tsequential,\n\tall,\n\tmention,\n\tunread,\n\tcontext,\n\tignoredUser,\n\tsearchText,\n}: RoomMessageProps): ReactElement => {\n\tconst uid = useUserId();\n\tconst editing = useIsMessageHighlight(message._id);\n\tconst [displayIgnoredMessage, toggleDisplayIgnoredMessage] = useToggle(false);\n\tconst ignored = (ignoredUser || message.ignored) && !displayIgnoredMessage;\n\tconst chat = useChat();\n\tconst messageRef = useRef(null);\n\n\tconst selecting = useIsSelecting();\n\tconst toggleSelected = useToggleSelect(message._id);\n\tconst selected = useIsSelectedMessage(message._id);\n\n\tuseCountSelected();\n\n\tuseJumpToMessage(message._id, messageRef);\n\treturn (\n\t\t<Message\n\t\t\tref={messageRef}\n\t\t\tid={message._id}\n\t\t\tonClick={selecting ? toggleSelected : undefined}\n\t\t\tisSelected={selected}\n\t\t\tisEditing={editing}\n\t\t\tisPending={message.temp}\n\t\t\tsequential={sequential}\n\t\t\tdata-qa-editing={editing}\n\t\t\tdata-qa-selected={selected}\n\t\t\tdata-id={message._id}\n\t\t\tdata-mid={message._id}\n\t\t\tdata-unread={unread}\n\t\t\tdata-sequential={sequential}\n\t\t\tdata-own={message.u._id === uid}\n\t\t\tdata-qa-type='message'\n\t\t\taria-busy={message.temp}\n\t\t>\n\t\t\t<MessageLeftContainer>\n\t\t\t\t{!sequential && message.u.username && !selecting && showUserAvatar && (\n\t\t\t\t\t<MessageAvatar\n\t\t\t\t\t\temoji={message.emoji}\n\t\t\t\t\t\tavatarUrl={message.avatar}\n\t\t\t\t\t\tusername={message.u.username}\n\t\t\t\t\t\tsize='x36'\n\t\t\t\t\t\t{...(chat?.userCard && {\n\t\t\t\t\t\t\tonClick: chat?.userCard.open(message.u.username),\n\t\t\t\t\t\t\tstyle: { cursor: 'pointer' },\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{selecting && <CheckBox checked={selected} onChange={toggleSelected} />}\n\t\t\t\t{sequential && <StatusIndicators message={message} />}\n\t\t\t</MessageLeftContainer>\n\n\t\t\t<MessageContainer>\n\t\t\t\t{!sequential && <MessageHeader message={message} />}\n\n\t\t\t\t{ignored ? (\n\t\t\t\t\t<IgnoredContent onShowMessageIgnored={toggleDisplayIgnoredMessage} />\n\t\t\t\t) : (\n\t\t\t\t\t<RoomMessageContent message={message} unread={unread} mention={mention} all={all} searchText={searchText} />\n\t\t\t\t)}\n\t\t\t</MessageContainer>\n\t\t\t{!message.private && <MessageToolboxHolder message={message} context={context} />}\n\t\t</Message>\n\t);\n};\n\nexport default memo(RoomMessage);\n",null],"names":["_extends","Message","MessageLeftContainer","MessageContainer","CheckBox","useToggle","useUserId","React","useRef","memo","useIsMessageHighlight","useIsSelecting","useToggleSelect","useIsSelectedMessage","useCountSelected","useJumpToMessage","useChat","IgnoredContent","MessageHeader","MessageToolboxHolder","StatusIndicators","MessageAvatar","RoomMessageContent","module","link","default","v","exportDefault","_ref","message","showUserAvatar","sequential","all","mention","unread","context","ignoredUser","searchText","uid","editing","_id","displayIgnoredMessage","toggleDisplayIgnoredMessage","ignored","chat","messageRef","selecting","toggleSelected","selected","createElement","ref","id","onClick","undefined","isSelected","isEditing","isPending","temp","u","username","emoji","avatarUrl","avatar","size","userCard","open","style","cursor","checked","onChange","onShowMessageIgnored","private"],"mappings":"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"}