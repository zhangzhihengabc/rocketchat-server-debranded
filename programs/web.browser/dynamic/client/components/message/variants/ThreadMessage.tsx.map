)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/message/variants/ThreadMessage.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { type IThreadMessage, type IThreadMainMessage, isVideoConfMessage } from '@rocket.chat/core-typings';\nimport { Message, MessageLeftContainer, MessageContainer } from '@rocket.chat/fuselage';\nimport { useToggle } from '@rocket.chat/fuselage-hooks';\nimport { useUserId } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo, useRef } from 'react';\n\nimport type { MessageActionContext } from '../../../../app/ui-utils/client/lib/MessageAction';\nimport { useIsMessageHighlight } from '../../../views/room/MessageList/contexts/MessageHighlightContext';\nimport { useJumpToMessage } from '../../../views/room/MessageList/hooks/useJumpToMessage';\nimport { useChat } from '../../../views/room/contexts/ChatContext';\nimport IgnoredContent from '../IgnoredContent';\nimport MessageHeader from '../MessageHeader';\nimport MessageToolboxHolder from '../MessageToolboxHolder';\nimport StatusIndicators from '../StatusIndicators';\nimport MessageAvatar from '../header/MessageAvatar';\nimport ThreadMessageContent from './thread/ThreadMessageContent';\n\ntype ThreadMessageProps = {\n\tmessage: IThreadMessage | IThreadMainMessage;\n\tunread: boolean;\n\tsequential: boolean;\n\tshowUserAvatar: boolean;\n};\n\nconst ThreadMessage = ({ message, sequential, unread, showUserAvatar }: ThreadMessageProps): ReactElement => {\n\tconst uid = useUserId();\n\tconst editing = useIsMessageHighlight(message._id);\n\tconst [ignored, toggleIgnoring] = useToggle((message as { ignored?: boolean }).ignored);\n\tconst chat = useChat();\n\n\tconst messageRef = useRef(null);\n\n\t// Checks if is videoconf message to limit toolbox actions\n\tconst messageContext: MessageActionContext = isVideoConfMessage(message) ? 'videoconf-threads' : 'threads';\n\n\tuseJumpToMessage(message._id, messageRef);\n\n\treturn (\n\t\t<Message\n\t\t\tid={message._id}\n\t\t\tref={messageRef}\n\t\t\tisEditing={editing}\n\t\t\tisPending={message.temp}\n\t\t\tsequential={sequential}\n\t\t\tdata-qa-editing={editing}\n\t\t\tdata-id={message._id}\n\t\t\tdata-mid={message._id}\n\t\t\tdata-unread={unread}\n\t\t\tdata-sequential={sequential}\n\t\t\tdata-own={message.u._id === uid}\n\t\t\tdata-qa-type='message'\n\t\t>\n\t\t\t<MessageLeftContainer>\n\t\t\t\t{!sequential && message.u.username && showUserAvatar && (\n\t\t\t\t\t<MessageAvatar\n\t\t\t\t\t\temoji={message.emoji}\n\t\t\t\t\t\tavatarUrl={message.avatar}\n\t\t\t\t\t\tusername={message.u.username}\n\t\t\t\t\t\tsize='x36'\n\t\t\t\t\t\t{...(chat?.userCard && {\n\t\t\t\t\t\t\tonClick: chat?.userCard.open(message.u.username),\n\t\t\t\t\t\t\tstyle: { cursor: 'pointer' },\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{sequential && <StatusIndicators message={message} />}\n\t\t\t</MessageLeftContainer>\n\n\t\t\t<MessageContainer>\n\t\t\t\t{!sequential && <MessageHeader message={message} />}\n\n\t\t\t\t{ignored ? <IgnoredContent onShowMessageIgnored={toggleIgnoring} /> : <ThreadMessageContent message={message} />}\n\t\t\t</MessageContainer>\n\t\t\t{!message.private && <MessageToolboxHolder message={message} context={messageContext} />}\n\t\t</Message>\n\t);\n};\n\nexport default memo(ThreadMessage);\n",null],"names":["_extends","isVideoConfMessage","Message","MessageLeftContainer","MessageContainer","useToggle","useUserId","React","memo","useRef","useIsMessageHighlight","useJumpToMessage","useChat","IgnoredContent","MessageHeader","MessageToolboxHolder","StatusIndicators","MessageAvatar","ThreadMessageContent","module","default","v","link","exportDefault","_ref","message","sequential","unread","showUserAvatar","uid","editing","_id","ignored","toggleIgnoring","chat","messageRef","messageContext","createElement","id","ref","isEditing","isPending","temp","u","username","emoji","avatarUrl","avatar","size","userCard","onClick","open","style","cursor","onShowMessageIgnored","private","context"],"mappings":"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"}