)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/message/hooks/useNormalizedMessage.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport type { Options } from '@rocket.chat/message-parser';\nimport { useSetting } from '@rocket.chat/ui-contexts';\nimport { useMemo } from 'react';\n\nimport type { MessageWithMdEnforced } from '../../../lib/parseMessageTextToAstMarkdown';\nimport { parseMessageTextToAstMarkdown, removePossibleNullMessageValues } from '../../../lib/parseMessageTextToAstMarkdown';\nimport { useAutoLinkDomains } from '../../../views/room/MessageList/hooks/useAutoLinkDomains';\nimport { useAutoTranslate } from '../../../views/room/MessageList/hooks/useAutoTranslate';\nimport { useKatex } from '../../../views/room/MessageList/hooks/useKatex';\nimport { useSubscriptionFromMessageQuery } from './useSubscriptionFromMessageQuery';\n\nexport const useNormalizedMessage = <TMessage extends IMessage>(message: TMessage): MessageWithMdEnforced => {\n\tconst { katexEnabled, katexDollarSyntaxEnabled, katexParenthesisSyntaxEnabled } = useKatex();\n\tconst customDomains = useAutoLinkDomains();\n\tconst subscription = useSubscriptionFromMessageQuery(message).data ?? undefined;\n\tconst autoTranslateOptions = useAutoTranslate(subscription);\n\tconst showColors = useSetting<boolean>('HexColorPreview_Enabled');\n\n\treturn useMemo(() => {\n\t\tconst parseOptions: Options = {\n\t\t\tcolors: showColors,\n\t\t\temoticons: true,\n\t\t\tcustomDomains,\n\t\t\t...(katexEnabled && {\n\t\t\t\tkatex: {\n\t\t\t\t\tdollarSyntax: katexDollarSyntaxEnabled,\n\t\t\t\t\tparenthesisSyntax: katexParenthesisSyntaxEnabled,\n\t\t\t\t},\n\t\t\t}),\n\t\t};\n\n\t\treturn parseMessageTextToAstMarkdown(removePossibleNullMessageValues(message), parseOptions, autoTranslateOptions);\n\t}, [showColors, customDomains, katexEnabled, katexDollarSyntaxEnabled, katexParenthesisSyntaxEnabled, message, autoTranslateOptions]);\n};\n",null],"names":["_objectSpread","useSetting","useMemo","parseMessageTextToAstMarkdown","removePossibleNullMessageValues","useAutoLinkDomains","useAutoTranslate","useKatex","useSubscriptionFromMessageQuery","module","link","default","export","useNormalizedMessage","message","_useSubscriptionFromM","katexEnabled","katexDollarSyntaxEnabled","katexParenthesisSyntaxEnabled","customDomains","subscription","data","undefined","autoTranslateOptions","showColors","parseOptions","colors","emoticons","katex","dollarSyntax","parenthesisSyntax"],"mappings":"2BAEAA,EAAsDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA7CC,EAAYC,IAAM,CAAA,uCAA2B,CAAAC,QAAAA,CAAAA,EAAAX,EAAAA,CAAA,CAAA,EAAA,GAAtDS,EAAOG,MAAE,CAAA,CAAAC,qBAAkB,IAAAA,CAA2B,GAAAJ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAR,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAAP,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,6CAAAA,CAAAN,8BAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,gCAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,2DAAAA,CAAAJ,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,yDAAAA,CAAAH,iBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,iDAAAA,CAAAF,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,oCAAAA,CAAAD,gCAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAU/C,IAAMK,EAAmDC,IAA4C,IAAAC,EAC3G,GAAM,CAAEC,aAAAA,CAAY,CAAEC,yBAAAA,CAAwB,CAAEC,8BAAAA,CAAAA,CAA+B,CAAGX,IAC5EY,EAAgBd,IAChBe,EAAY,AAAgD,OAAhDL,CAAAA,EAAGP,EAAgCM,GAASO,IAAI,AAAJA,GAAIN,AAAA,KAAA,IAAAA,EAAAA,EAAIO,KAAAA,EAChEC,EAAuBjB,EAAiBc,GACxCI,EAAavB,EAAoB,2BAEvC,OAAOC,EAAQ,KACd,IAAMuB,EAAYzB,EAAA,CACjB0B,OAAQF,EACRG,UAAW,CAAA,EACXR,cAAAA,CAAa,EACTH,GAAgB,CACnBY,MAAO,CACNC,aAAcZ,EACda,kBAAmBZ,KAKtB,OAAOf,EAA8BC,EAAgCU,GAAUW,EAAcF,EAC9F,EAAG,CAACC,EAAYL,EAAeH,EAAcC,EAA0BC,EAA+BJ,EAASS,EAAqB,CACrI"}