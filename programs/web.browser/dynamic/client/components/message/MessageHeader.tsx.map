)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/message/MessageHeader.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport {\n\tMessageHeader as FuselageMessageHeader,\n\tMessageName,\n\tMessageTimestamp,\n\tMessageUsername,\n\tMessageStatusPrivateIndicator,\n\tMessageNameContainer,\n} from '@rocket.chat/fuselage';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo } from 'react';\n\nimport { getUserDisplayName } from '../../../lib/getUserDisplayName';\nimport { useFormatDateAndTime } from '../../hooks/useFormatDateAndTime';\nimport { useFormatTime } from '../../hooks/useFormatTime';\nimport { useUserData } from '../../hooks/useUserData';\nimport type { UserPresence } from '../../lib/presence';\nimport { useChat } from '../../views/room/contexts/ChatContext';\nimport StatusIndicators from './StatusIndicators';\nimport MessageRoles from './header/MessageRoles';\nimport { useMessageRoles } from './header/hooks/useMessageRoles';\nimport { useMessageListShowUsername, useMessageListShowRealName, useMessageListShowRoles } from './list/MessageListContext';\n\ntype MessageHeaderProps = {\n\tmessage: IMessage;\n};\n\nconst MessageHeader = ({ message }: MessageHeaderProps): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst formatTime = useFormatTime();\n\tconst formatDateAndTime = useFormatDateAndTime();\n\n\tconst showRealName = useMessageListShowRealName();\n\tconst user: UserPresence = { ...message.u, roles: [], ...useUserData(message.u._id) };\n\tconst usernameAndRealNameAreSame = !user.name || user.username === user.name;\n\tconst showUsername = useMessageListShowUsername() && showRealName && !usernameAndRealNameAreSame;\n\n\tconst showRoles = useMessageListShowRoles();\n\tconst roles = useMessageRoles(message.u._id, message.rid, showRoles);\n\tconst shouldShowRolesList = roles.length > 0;\n\n\tconst chat = useChat();\n\n\treturn (\n\t\t<FuselageMessageHeader>\n\t\t\t<MessageNameContainer>\n\t\t\t\t<MessageName\n\t\t\t\t\t{...(!showUsername && { 'data-qa-type': 'username' })}\n\t\t\t\t\ttitle={!showUsername && !usernameAndRealNameAreSame ? `@${user.username}` : undefined}\n\t\t\t\t\tdata-username={user.username}\n\t\t\t\t\t{...(user.username !== undefined &&\n\t\t\t\t\t\tchat?.userCard && {\n\t\t\t\t\t\t\tonClick: chat?.userCard.open(message.u.username),\n\t\t\t\t\t\t\tstyle: { cursor: 'pointer' },\n\t\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t{message.alias || getUserDisplayName(user.name, user.username, showRealName)}\n\t\t\t\t</MessageName>\n\t\t\t\t{showUsername && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t<MessageUsername\n\t\t\t\t\t\t\tdata-username={user.username}\n\t\t\t\t\t\t\tdata-qa-type='username'\n\t\t\t\t\t\t\t{...(user.username !== undefined &&\n\t\t\t\t\t\t\t\tchat?.userCard && {\n\t\t\t\t\t\t\t\t\tonClick: chat?.userCard.open(message.u.username),\n\t\t\t\t\t\t\t\t\tstyle: { cursor: 'pointer' },\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t@{user.username}\n\t\t\t\t\t\t</MessageUsername>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</MessageNameContainer>\n\n\t\t\t{shouldShowRolesList && <MessageRoles roles={roles} isBot={message.bot} />}\n\t\t\t<MessageTimestamp title={formatDateAndTime(message.ts)}>{formatTime(message.ts)}</MessageTimestamp>\n\t\t\t{message.private && <MessageStatusPrivateIndicator>{t('Only_you_can_see_this_message')}</MessageStatusPrivateIndicator>}\n\t\t\t<StatusIndicators message={message} />\n\t\t</FuselageMessageHeader>\n\t);\n};\n\nexport default memo(MessageHeader);\n",null],"names":["_extends","_objectSpread","FuselageMessageHeader","MessageName","MessageUsername","MessageStatusPrivateIndicator","MessageNameContainer","useTranslation","React","memo","getUserDisplayName","useFormatDateAndTime","useFormatTime","useUserData","useChat","StatusIndicators","MessageRoles","useMessageRoles","useMessageListShowUsername","useMessageListShowRealName","useMessageListShowRoles","module","default","v","link","MessageHeader","MessageTimestamp","exportDefault","_ref","message","t","formatTime","formatDateAndTime","showRealName","user","u","roles","_id","usernameAndRealNameAreSame","name","username","showUsername","showRoles","rid","shouldShowRolesList","length","chat","createElement","title","undefined","concat","userCard","onClick","open","style","cursor","alias","Fragment","isBot","bot","ts","private"],"mappings":"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"}