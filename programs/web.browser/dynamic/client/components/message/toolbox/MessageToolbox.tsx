function module(e,t,s){let a,o,i,n,l,c,u,r,m,d,k,g,p,b,v,M,f,h,x,A,C,E,y,w;s.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},0),s.link("@rocket.chat/core-typings",{isThreadMessage(e){o=e},isRoomFederated(e){i=e},isVideoConfMessage(e){n=e}},0),s.link("@rocket.chat/fuselage",{MessageToolbox(e){l=e},MessageToolboxItem(e){c=e}},1),s.link("@rocket.chat/ui-client",{useFeaturePreview(e){u=e}},2),s.link("@rocket.chat/ui-contexts",{useUser(e){r=e},useSettings(e){m=e},useTranslation(e){d=e},useMethod(e){k=e}},3),s.link("@tanstack/react-query",{useQuery(e){g=e}},4),s.link("react",{default(e){p=e},memo(e){b=e},useMemo(e){v=e}},5),s.link("../../../../app/ui-utils/client/lib/MessageAction",{MessageAction(e){M=e}},6),s.link("../../../contexts/EmojiPickerContext",{useEmojiPickerData(e){f=e}},7),s.link("../../../hooks/useAppActionButtons",{useMessageActionAppsActionButtons(e){h=e}},8),s.link("../../../views/composer/EmojiPicker/EmojiElement",{default(e){x=e}},9),s.link("../../../views/room/MessageList/contexts/SelectedMessagesContext",{useIsSelecting(e){A=e}},10),s.link("../../../views/room/MessageList/hooks/useAutoTranslate",{useAutoTranslate(e){C=e}},11),s.link("../../../views/room/contexts/ChatContext",{useChat(e){E=e}},12),s.link("../../../views/room/contexts/RoomToolboxContext",{useRoomToolbox(e){y=e}},13),s.link("./MessageActionMenu",{default(e){w=e}},14);let T=(e,t,s)=>s||(n(e)?"videoconf":i(t)?"federated":o(e)?"threads":"message");s.exportDefault(b(e=>{var t,s,o,i;let{message:n,messageContext:b,room:j,subscription:S,onChangeMenuVisibility:q}=e,R=d(),P=null!==(t=r())&&void 0!==t?t:void 0,_=m(),B=u("quickReactions"),D=k("setReaction"),F=T(n,j,b),I=v(()=>Object.fromEntries(_.map(e=>[e._id,e.value])),[_]),L=E(),{quickReactions:V,addRecentEmoji:O}=f(),Q=h(F),U=g(["rooms",j._id,"messages",n._id,"actions"],async()=>{let e={message:n,room:j,user:P,subscription:S,settings:I,chat:L},t=await M.getAll(e,F,"message"),s=await M.getAll(e,F,"menu");return{message:t,menu:s}}),z=y(),G=A(),H=C(S);if(G)return null;let J=null===(s=U.data)||void 0===s?void 0:s.message.find(e=>{let{id:t}=e;return"reaction-message"===t}),K=e=>{D(":".concat(e,":"),n._id),O(e)};return p.createElement(l,null,B&&J&&V.slice(0,3).map(e=>{let{emoji:t,image:s}=e;return p.createElement(x,{small:!0,key:t,title:t,emoji:t,image:s,onClick:()=>K(t)})}),U.isSuccess&&U.data.message.map(e=>p.createElement(c,{onClick:t=>e.action(t,{message:n,tabbar:z,room:j,chat:L,autoTranslateOptions:H}),key:e.id,icon:e.icon,title:R(e.label),"data-qa-id":e.label,"data-qa-type":"message-action-menu"})),U.isSuccess&&U.data.menu.length>0&&p.createElement(w,{onChangeMenuVisibility:q,options:[...null===(o=U.data)||void 0===o?void 0:o.menu,...null!==(i=Q.data)&&void 0!==i?i:[]].filter(Boolean).map(e=>a(a({},e),{},{action:t=>e.action(t,{message:n,tabbar:z,room:j,chat:L,autoTranslateOptions:H})})),"data-qa-type":"message-action-menu-options"}))}))}
//# sourceMappingURL=/dynamic/client/components/message/toolbox/a366035c075d5151d550fab048a2501f177748da.map
