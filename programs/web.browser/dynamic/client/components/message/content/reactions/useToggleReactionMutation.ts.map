)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/message/content/reactions/useToggleReactionMutation.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { useEndpoint, useUserId } from '@rocket.chat/ui-contexts';\nimport type { UseMutationOptions, UseMutationResult } from '@tanstack/react-query';\nimport { useMutation } from '@tanstack/react-query';\n\ntype UseToggleReactionMutationVariables = {\n\tmid: IMessage['_id'];\n\treaction: string;\n};\n\nexport const useToggleReactionMutation = (\n\toptions?: Omit<UseMutationOptions<void, Error, UseToggleReactionMutationVariables>, 'mutationFn'>,\n): UseMutationResult<void, Error, UseToggleReactionMutationVariables> => {\n\tconst uid = useUserId();\n\tconst reactToMessage = useEndpoint('POST', '/v1/chat.react');\n\n\treturn useMutation(async ({ mid, reaction }) => {\n\t\tif (!uid) {\n\t\t\tthrow new Error('Not logged in');\n\t\t}\n\n\t\tawait reactToMessage({ messageId: mid, reaction });\n\t}, options);\n};\n",null],"names":["useEndpoint","useUserId","useMutation","module","export","useToggleReactionMutation","options","uid","reactToMessage","_ref","mid","reaction","Error","messageId"],"mappings":"2BACkEA,EAAAC,EAAAC,EAAlEC,EAAOC,MAAE,CAAA,CAAAC,0BAA8B,IAAAA,CAA2B,GAAAF,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAH,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAD,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAS3D,IAAMG,EACZC,IAEA,IAAMC,EAAMN,IACNO,EAAiBR,EAAY,OAAQ,kBAE3C,OAAOE,EAAY,MAAAO,IAA4B,GAArB,CAAEC,IAAAA,CAAG,CAAEC,SAAAA,CAAAA,CAAU,CAAAF,EAC1C,GAAI,CAACF,EACJ,MAAM,AAAIK,MAAM,gBAGjB,OAAMJ,EAAe,CAAEK,UAAWH,EAAKC,SAAAA,CAAQ,EAChD,EAAGL,EACJ"}