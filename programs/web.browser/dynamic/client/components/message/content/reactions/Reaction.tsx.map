)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/message/content/reactions/Reaction.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { MessageReaction as MessageReactionTemplate, MessageReactionEmoji, MessageReactionCounter } from '@rocket.chat/fuselage';\nimport type { TranslationKey } from '@rocket.chat/ui-contexts';\nimport { useTooltipClose, useTooltipOpen, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useRef } from 'react';\n\nimport { getEmojiClassNameAndDataTitle } from '../../../../lib/utils/renderEmoji';\nimport MarkdownText from '../../../MarkdownText';\n\n// TODO: replace it with proper usage of i18next plurals\nconst getTranslationKey = (users: string[], mine: boolean): TranslationKey => {\n\tif (users.length === 0) {\n\t\tif (mine) {\n\t\t\treturn 'You_reacted_with';\n\t\t}\n\t}\n\n\tif (users.length > 10) {\n\t\tif (mine) {\n\t\t\treturn 'You_users_and_more_Reacted_with';\n\t\t}\n\t\treturn 'Users_and_more_reacted_with';\n\t}\n\n\tif (mine) {\n\t\treturn 'You_and_users_Reacted_with';\n\t}\n\treturn 'Users_reacted_with';\n};\n\ntype ReactionProps = {\n\thasReacted: (name: string) => boolean;\n\tcounter: number;\n\tname: string;\n\tnames: string[];\n\tonClick: () => void;\n};\n\nconst Reaction = ({ hasReacted, counter, name, names, ...props }: ReactionProps): ReactElement => {\n\tconst t = useTranslation();\n\tconst ref = useRef<HTMLDivElement>(null);\n\tconst openTooltip = useTooltipOpen();\n\tconst closeTooltip = useTooltipClose();\n\n\tconst mine = hasReacted(name);\n\n\tconst key = getTranslationKey(names, mine);\n\n\tconst emojiProps = getEmojiClassNameAndDataTitle(name);\n\n\treturn (\n\t\t<MessageReactionTemplate\n\t\t\tref={ref}\n\t\t\tkey={name}\n\t\t\tmine={mine}\n\t\t\ttabIndex={0}\n\t\t\trole='button'\n\t\t\tonMouseOver={(e): void => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t\tref.current &&\n\t\t\t\t\topenTooltip(\n\t\t\t\t\t\t<MarkdownText\n\t\t\t\t\t\t\tcontent={t(key, {\n\t\t\t\t\t\t\t\tcounter: names.length > 10 ? names.length - 10 : names.length,\n\t\t\t\t\t\t\t\tusers: names.slice(0, 10).join(', '),\n\t\t\t\t\t\t\t\temoji: name,\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\tvariant='inline'\n\t\t\t\t\t\t/>,\n\t\t\t\t\t\tref.current,\n\t\t\t\t\t);\n\t\t\t}}\n\t\t\tonMouseLeave={(): void => {\n\t\t\t\tcloseTooltip();\n\t\t\t}}\n\t\t\t{...props}\n\t\t>\n\t\t\t<MessageReactionEmoji {...emojiProps} />\n\t\t\t<MessageReactionCounter counter={counter} />\n\t\t</MessageReactionTemplate>\n\t);\n};\n\nexport default Reaction;\n",null],"names":["_extends","_objectWithoutProperties","MessageReactionTemplate","MessageReactionEmoji","useTooltipClose","useTooltipOpen","useTranslation","React","useRef","getEmojiClassNameAndDataTitle","MarkdownText","module","default","v","link","MessageReaction","MessageReactionCounter","getTranslationKey","users","mine","length","exportDefault","_ref","hasReacted","counter","name","names","props","_excluded","t","ref","openTooltip","closeTooltip","key","emojiProps","createElement","tabIndex","role","onMouseOver","e","stopPropagation","preventDefault","current","content","slice","join","emoji","variant","onMouseLeave"],"mappings":"2BAAAA,EAA2EC,EAA3EC,EAA4BC,EAAAA,EAAqGC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,gDAAxHC,EAAAA,IAAe,CAAA,iCAA6B,CAAAC,QAAAA,CAAAA,EAAAZ,EAAsBa,CAAA,CAAA,EAAA,GAA8BF,EAAAA,IAAAA,CAAAA,iDAAwB,CAAAC,QAAAA,CAAAA,EAAAX,EAAAA,CAAA,CAAA,EAAA,GAA5EU,EAAsBG,IAAA,CAAA,wBAA8B,CAAAC,gBAAAA,CAAAA,EAAuBb,EAACW,CAAA,EAAAV,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAa,uBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAL,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAP,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAAC,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,EAAAC,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,oCAAAA,CAAAF,8BAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAC,QAAAA,CAAAA,EAAAF,EAAAA,CAAA,CAAA,EAAA,GAUjI,IAAMO,EAAoB,CAACC,EAAiBC,IAC3C,AAAID,AAAiB,IAAjBA,EAAME,MAAM,EACXD,EACI,mBAILD,EAAME,MAAM,CAAG,GAClB,AAAID,EACI,kCAED,8BAGR,AAAIA,EACI,6BAED,qBA3BRR,EAAOU,aAAE,CAsCQC,IAAgF,GAA/E,CAAEC,WAAAA,CAAU,CAAEC,QAAAA,CAAO,CAAEC,KAAAA,CAAI,CAAEC,MAAAA,CAAAA,CAAgC,CAAAJ,EAAtBK,EAAK1B,EAAAqB,EAAAM,GACvDC,EAAIvB,IACJwB,EAAMtB,EAAuB,MAC7BuB,EAAc1B,IACd2B,EAAe5B,IAEfe,EAAOI,EAAWE,GAElBQ,EAAMhB,EAAkBS,EAAOP,GAE/Be,EAAazB,EAA8BgB,GAEjD,OACClB,EAAA4B,aAAA,CAACjC,EAAuBF,EAAA,CACvB8B,IAAKA,EACLG,IAAKR,EACLN,KAAMA,EACNiB,SAAU,EACVC,KAAK,SACLC,YAAcC,IACbA,EAAEC,eAAe,GACjBD,EAAEE,cAAc,GAChBX,EAAIY,OAAO,EACVX,EACCxB,EAAA4B,aAAA,CAACzB,EAAY,CACZiC,QAASd,EAAEI,EAAK,CACfT,QAASE,EAAMN,MAAM,CAAG,GAAKM,EAAMN,MAAM,CAAG,GAAKM,EAAMN,MAAM,CAC7DF,MAAOQ,EAAMkB,KAAK,CAAC,EAAG,IAAIC,IAAI,CAAC,MAC/BC,MAAOrB,IAERsB,QAAQ,QAAQ,GAEjBjB,EAAIY,OAAO,CAEd,EACAM,aAAc,KACbhB,GACD,CAAE,EACEL,GAEJpB,EAAA4B,aAAA,CAAChC,EAAyB+B,GAC1B3B,EAAA4B,aAAA,CAACnB,EAAsB,CAACQ,QAASA,CAAQ,GAG5C"}