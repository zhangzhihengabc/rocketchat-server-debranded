)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/message/content/ThreadMetrics.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { MessageMetricsItem, MessageBlock, MessageMetrics, MessageMetricsReply, MessageMetricsFollowing } from '@rocket.chat/fuselage';\nimport { useToastMessageDispatch, useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { useCallback } from 'react';\n\nimport { useTimeAgo } from '../../../hooks/useTimeAgo';\nimport { useToggleFollowingThreadMutation } from '../../../views/room/contextualBar/Threads/hooks/useToggleFollowingThreadMutation';\nimport { useGoToThread } from '../../../views/room/hooks/useGoToThread';\nimport { followStyle, anchor } from '../helpers/followSyle';\nimport AllMentionNotification from '../notification/AllMentionNotification';\nimport MeMentionNotification from '../notification/MeMentionNotification';\nimport UnreadMessagesNotification from '../notification/UnreadMessagesNotification';\n\ntype ThreadMetricsProps = {\n\tunread: boolean;\n\tmention: boolean;\n\tall: boolean;\n\tlm: Date;\n\tmid: string;\n\trid: string;\n\tcounter: number;\n\tparticipants: number;\n\tfollowing: boolean;\n};\n\nconst ThreadMetrics = ({ unread, mention, all, rid, mid, counter, participants, following, lm }: ThreadMetricsProps): ReactElement => {\n\tconst t = useTranslation();\n\n\tconst format = useTimeAgo();\n\n\tconst goToThread = useGoToThread();\n\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst toggleFollowingThreadMutation = useToggleFollowingThreadMutation({\n\t\tonError: (error) => {\n\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t},\n\t});\n\n\tconst handleFollow = useCallback(() => {\n\t\ttoggleFollowingThreadMutation.mutate({ rid, tmid: mid, follow: !following });\n\t}, [following, rid, mid, toggleFollowingThreadMutation]);\n\n\treturn (\n\t\t<MessageBlock className={followStyle}>\n\t\t\t<MessageMetrics>\n\t\t\t\t<MessageMetricsReply data-rid={rid} data-mid={mid} onClick={() => goToThread({ rid, tmid: mid })}>\n\t\t\t\t\t{t('Reply')}\n\t\t\t\t</MessageMetricsReply>\n\t\t\t\t<MessageMetricsItem title={t('Replies')}>\n\t\t\t\t\t<MessageMetricsItem.Icon name='thread' />\n\t\t\t\t\t<MessageMetricsItem.Label>{counter}</MessageMetricsItem.Label>\n\t\t\t\t</MessageMetricsItem>\n\t\t\t\t{!!participants && (\n\t\t\t\t\t<MessageMetricsItem title={t('Participants')}>\n\t\t\t\t\t\t<MessageMetricsItem.Icon name='user' />\n\t\t\t\t\t\t<MessageMetricsItem.Label>{participants}</MessageMetricsItem.Label>\n\t\t\t\t\t</MessageMetricsItem>\n\t\t\t\t)}\n\t\t\t\t<MessageMetricsItem title={lm?.toLocaleString()}>\n\t\t\t\t\t<MessageMetricsItem.Icon name='clock' />\n\t\t\t\t\t<MessageMetricsItem.Label>{format(lm)}</MessageMetricsItem.Label>\n\t\t\t\t</MessageMetricsItem>\n\t\t\t\t<MessageMetricsItem\n\t\t\t\t\tclassName={!following ? anchor : undefined}\n\t\t\t\t\ttitle={t(following ? 'Following' : 'Not_following')}\n\t\t\t\t\tdata-rid={rid}\n\t\t\t\t\tonClick={handleFollow}\n\t\t\t\t>\n\t\t\t\t\t<MessageMetricsFollowing name={following ? 'bell' : 'bell-off'} />\n\t\t\t\t</MessageMetricsItem>\n\t\t\t\t{(mention || all || unread) && (\n\t\t\t\t\t<MessageMetricsItem>\n\t\t\t\t\t\t<MessageMetricsItem.Label>\n\t\t\t\t\t\t\t{(mention && <MeMentionNotification />) || (all && <AllMentionNotification />) || (unread && <UnreadMessagesNotification />)}\n\t\t\t\t\t\t</MessageMetricsItem.Label>\n\t\t\t\t\t</MessageMetricsItem>\n\t\t\t\t)}\n\t\t\t</MessageMetrics>\n\t\t</MessageBlock>\n\t);\n};\n\nexport default ThreadMetrics;\n",null],"names":["MessageMetricsItem","MessageBlock","MessageMetrics","MessageMetricsReply","MessageMetricsFollowing","useToastMessageDispatch","useTranslation","React","useCallback","useTimeAgo","useToggleFollowingThreadMutation","useGoToThread","followStyle","anchor","AllMentionNotification","MeMentionNotification","UnreadMessagesNotification","module","v","default","exportDefault","_ref","unread","mention","all","rid","mid","counter","participants","following","lm","t","format","goToThread","dispatchToastMessage","toggleFollowingThreadMutation","onError","error","type","message","handleFollow","mutate","tmid","follow","createElement","className","onClick","title","Icon","name","Label","toLocaleString","undefined"],"mappings":"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"}