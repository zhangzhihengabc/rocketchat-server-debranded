)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/AutoCompleteDepartment.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { PaginatedSelectFiltered } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport { useTranslation } from '@rocket.chat/ui-contexts';\nimport type { ReactElement } from 'react';\nimport React, { memo, useMemo, useState } from 'react';\n\nimport { useRecordList } from '../hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../hooks/useAsyncState';\nimport { useDepartmentsList } from './Omnichannel/hooks/useDepartmentsList';\n\ntype AutoCompleteDepartmentProps = {\n\tvalue?: string;\n\tonChange: (value: string) => void;\n\texcludeDepartmentId?: string;\n\tonlyMyDepartments?: boolean;\n\thaveAll?: boolean;\n\thaveNone?: boolean;\n\tshowArchived?: boolean;\n};\n\nconst AutoCompleteDepartment = ({\n\tvalue,\n\texcludeDepartmentId,\n\tonlyMyDepartments,\n\tonChange,\n\thaveAll,\n\thaveNone,\n\tshowArchived = false,\n}: AutoCompleteDepartmentProps): ReactElement | null => {\n\tconst t = useTranslation();\n\tconst [departmentsFilter, setDepartmentsFilter] = useState<string>('');\n\n\tconst debouncedDepartmentsFilter = useDebouncedValue(departmentsFilter, 500);\n\n\tconst { itemsList: departmentsList, loadMoreItems: loadMoreDepartments } = useDepartmentsList(\n\t\tuseMemo(\n\t\t\t() => ({\n\t\t\t\tfilter: debouncedDepartmentsFilter,\n\t\t\t\tonlyMyDepartments,\n\t\t\t\thaveAll,\n\t\t\t\thaveNone,\n\t\t\t\texcludeDepartmentId,\n\t\t\t\tshowArchived,\n\t\t\t}),\n\t\t\t[debouncedDepartmentsFilter, onlyMyDepartments, haveAll, haveNone, excludeDepartmentId, showArchived],\n\t\t),\n\t);\n\n\tconst { phase: departmentsPhase, items: departmentsItems, itemCount: departmentsTotal } = useRecordList(departmentsList);\n\n\treturn (\n\t\t<PaginatedSelectFiltered\n\t\t\twithTitle\n\t\t\tvalue={value}\n\t\t\tonChange={onChange}\n\t\t\tfilter={departmentsFilter}\n\t\t\tsetFilter={setDepartmentsFilter as (value?: string | number) => void}\n\t\t\toptions={departmentsItems}\n\t\t\tplaceholder={t('Select_an_option')}\n\t\t\tdata-qa='autocomplete-department'\n\t\t\tendReached={\n\t\t\t\tdepartmentsPhase === AsyncStatePhase.LOADING\n\t\t\t\t\t? (): void => undefined\n\t\t\t\t\t: (start): void => loadMoreDepartments(start, Math.min(50, departmentsTotal))\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default memo(AutoCompleteDepartment);\n",null],"names":["PaginatedSelectFiltered","useDebouncedValue","useTranslation","React","memo","useMemo","useState","useRecordList","AsyncStatePhase","useDepartmentsList","module","link","default","exportDefault","_ref","value","excludeDepartmentId","onlyMyDepartments","onChange","haveAll","haveNone","showArchived","t","departmentsFilter","setDepartmentsFilter","debouncedDepartmentsFilter","itemsList","departmentsList","loadMoreItems","loadMoreDepartments","filter","phase","departmentsPhase","items","departmentsItems","itemCount","departmentsTotal","createElement","withTitle","setFilter","options","placeholder","endReached","LOADING","undefined","start","Math","min"],"mappings":"2BAAAA,EAAgEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvDC,EAAyBC,IAAA,CAAM,wBAAwB,CAAAX,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAT,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAR,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAT,EAAAA,CAAA,EAAAC,KAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAH,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,yBAAAA,CAAAF,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,yCAAAA,CAAAD,mBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAhEC,EAAOG,aAAE,CAqEMT,EAjDgBU,IAQwB,GARvB,CAC/BC,MAAAA,CAAK,CACLC,oBAAAA,CAAmB,CACnBC,kBAAAA,CAAiB,CACjBC,SAAAA,CAAQ,CACRC,QAAAA,CAAO,CACPC,SAAAA,CAAQ,CACRC,aAAAA,EAAe,CAAA,CAAA,CACc,CAAAP,EACvBQ,EAAIpB,IACJ,CAACqB,EAAmBC,EAAqB,CAAGlB,EAAiB,IAE7DmB,EAA6BxB,EAAkBsB,EAAmB,KAElE,CAAEG,UAAWC,CAAe,CAAEC,cAAeC,CAAAA,CAAqB,CAAGpB,EAC1EJ,EACC,IAAO,CAAA,CACNyB,OAAQL,EACRR,kBAAAA,EACAE,QAAAA,EACAC,SAAAA,EACAJ,oBAAAA,EACAK,aAAAA,IAED,CAACI,EAA4BR,EAAmBE,EAASC,EAAUJ,EAAqBK,EAAa,GAIjG,CAAEU,MAAOC,CAAgB,CAAEC,MAAOC,CAAgB,CAAEC,UAAWC,CAAAA,CAAkB,CAAG7B,EAAcoB,GAExG,OACCxB,EAAAkC,aAAA,CAACrC,EAAuB,CACvBsC,UAAS,CAAA,EACTvB,MAAOA,EACPG,SAAUA,EACVY,OAAQP,EACRgB,UAAWf,EACXgB,QAASN,EACTO,YAAanB,EAAE,oBACf,UAAQ,0BACRoB,WACCV,IAAqBxB,EAAgBmC,OAAO,CACzC,IAAYC,KAAAA,EACXC,GAAgBhB,EAAoBgB,EAAOC,KAAKC,GAAG,CAAC,GAAIX,GAC5D,EAGJ"}