)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/AutoCompleteAgent.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { PaginatedSelectFiltered } from '@rocket.chat/fuselage';\nimport { useDebouncedValue } from '@rocket.chat/fuselage-hooks';\nimport type { ReactElement } from 'react';\nimport React, { memo, useMemo, useState } from 'react';\n\nimport { useRecordList } from '../hooks/lists/useRecordList';\nimport { AsyncStatePhase } from '../lib/asyncState';\nimport { useAgentsList } from './Omnichannel/hooks/useAgentsList';\n\ntype AutoCompleteAgentProps = {\n\tvalue: string;\n\terror?: string;\n\tplaceholder?: string;\n\thaveAll?: boolean;\n\thaveNoAgentsSelectedOption?: boolean;\n\texcludeId?: string;\n\tshowIdleAgents?: boolean;\n\tonlyAvailable?: boolean;\n\twithTitle?: boolean;\n\tonChange: (value: string) => void;\n};\n\nconst AutoCompleteAgent = ({\n\tvalue,\n\terror,\n\tplaceholder,\n\thaveAll = false,\n\thaveNoAgentsSelectedOption = false,\n\texcludeId,\n\tshowIdleAgents = true,\n\tonlyAvailable = false,\n\twithTitle = false,\n\tonChange,\n}: AutoCompleteAgentProps): ReactElement => {\n\tconst [agentsFilter, setAgentsFilter] = useState<string>('');\n\n\tconst debouncedAgentsFilter = useDebouncedValue(agentsFilter, 500);\n\n\tconst { itemsList: AgentsList, loadMoreItems: loadMoreAgents } = useAgentsList(\n\t\tuseMemo(\n\t\t\t() => ({ text: debouncedAgentsFilter, onlyAvailable, haveAll, haveNoAgentsSelectedOption, excludeId, showIdleAgents }),\n\t\t\t[debouncedAgentsFilter, excludeId, haveAll, haveNoAgentsSelectedOption, onlyAvailable, showIdleAgents],\n\t\t),\n\t);\n\n\tconst { phase: agentsPhase, itemCount: agentsTotal, items: agentsItems } = useRecordList(AgentsList);\n\n\treturn (\n\t\t<PaginatedSelectFiltered\n\t\t\twithTitle={withTitle}\n\t\t\tvalue={value}\n\t\t\terror={error}\n\t\t\tplaceholder={placeholder}\n\t\t\tonChange={onChange}\n\t\t\tflexShrink={0}\n\t\t\tfilter={agentsFilter}\n\t\t\tsetFilter={setAgentsFilter as (value: string | number | undefined) => void}\n\t\t\toptions={agentsItems}\n\t\t\tdata-qa='autocomplete-agent'\n\t\t\tendReached={\n\t\t\t\tagentsPhase === AsyncStatePhase.LOADING ? (): void => undefined : (start): void => loadMoreAgents(start, Math.min(50, agentsTotal))\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default memo(AutoCompleteAgent);\n",null],"names":["PaginatedSelectFiltered","useDebouncedValue","React","memo","useMemo","useState","useRecordList","AsyncStatePhase","useAgentsList","module","link","default","exportDefault","_ref","value","error","placeholder","haveAll","haveNoAgentsSelectedOption","excludeId","showIdleAgents","onlyAvailable","withTitle","onChange","agentsFilter","setAgentsFilter","debouncedAgentsFilter","itemsList","AgentsList","loadMoreItems","loadMoreAgents","text","phase","agentsPhase","itemCount","agentsTotal","items","agentsItems","createElement","flexShrink","filter","setFilter","options","endReached","LOADING","undefined","start","Math","min"],"mappings":"2BAAAA,EAAgEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAvDC,EAAyBC,IAAA,CAAM,wBAAwB,CAAAV,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAS,EAAAA,IAAAA,CAAAA,8BAAAA,CAAAR,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAT,EAAAA,CAAA,EAAAC,KAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAH,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,oBAAAA,CAAAF,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,oCAAAA,CAAAD,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAhEC,EAAOG,aAAE,CAkEMT,EA5CWU,IAWiB,GAXhB,CAC1BC,MAAAA,CAAK,CACLC,MAAAA,CAAK,CACLC,YAAAA,CAAW,CACXC,QAAAA,EAAU,CAAA,CAAK,CACfC,2BAAAA,EAA6B,CAAA,CAAK,CAClCC,UAAAA,CAAS,CACTC,eAAAA,EAAiB,CAAA,CAAI,CACrBC,cAAAA,EAAgB,CAAA,CAAK,CACrBC,UAAAA,EAAY,CAAA,CAAK,CACjBC,SAAAA,CAAAA,CACwB,CAAAV,EAClB,CAACW,EAAcC,EAAgB,CAAGpB,EAAiB,IAEnDqB,EAAwBzB,EAAkBuB,EAAc,KAExD,CAAEG,UAAWC,CAAU,CAAEC,cAAeC,CAAAA,CAAgB,CAAGtB,EAChEJ,EACC,IAAO,CAAA,CAAE2B,KAAML,EAAuBL,cAAAA,EAAeJ,QAAAA,EAASC,2BAAAA,EAA4BC,UAAAA,EAAWC,eAAAA,CAAc,CAAA,EACnH,CAACM,EAAuBP,EAAWF,EAASC,EAA4BG,EAAeD,EAAe,GAIlG,CAAEY,MAAOC,CAAW,CAAEC,UAAWC,CAAW,CAAEC,MAAOC,CAAAA,CAAa,CAAG/B,EAAcsB,GAEzF,OACC1B,EAAAoC,aAAA,CAACtC,EAAuB,CACvBsB,UAAWA,EACXR,MAAOA,EACPC,MAAOA,EACPC,YAAaA,EACbO,SAAUA,EACVgB,WAAY,EACZC,OAAQhB,EACRiB,UAAWhB,EACXiB,QAASL,EACT,UAAQ,qBACRM,WACCV,IAAgB1B,EAAgBqC,OAAO,CAAG,IAAYC,KAAAA,EAAaC,GAAgBhB,EAAegB,EAAOC,KAAKC,GAAG,CAAC,GAAIb,GACtH,EAGJ"}