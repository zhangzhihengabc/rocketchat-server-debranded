)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/components/RoomIcon/OmnichannelRoomIcon/context/OmnichannelRoomIconContext.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { createContext, useMemo, useContext } from 'react';\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\n\nimport type { AsyncState } from '../../../../lib/asyncState/AsyncState';\nimport { AsyncStatePhase } from '../../../../lib/asyncState/AsyncStatePhase';\n\ntype IOmnichannelRoomIconContext = {\n\tqueryIcon(app: string, icon: string): [subscribe: (onStoreChange: () => void) => () => void, getSnapshot: () => AsyncState<string>];\n};\n\nexport const OmnichannelRoomIconContext = createContext<IOmnichannelRoomIconContext>({\n\tqueryIcon: () => [\n\t\t(): (() => void) => (): void => undefined,\n\t\t(): AsyncState<string> => ({\n\t\t\tphase: AsyncStatePhase.LOADING,\n\t\t\tvalue: undefined,\n\t\t\terror: undefined,\n\t\t}),\n\t],\n});\n\nexport const useOmnichannelRoomIcon = (app: string, icon: string): AsyncState<string> => {\n\tconst { queryIcon } = useContext(OmnichannelRoomIconContext);\n\tconst [subscribe, getSnapshot] = useMemo(() => queryIcon(app, icon), [app, queryIcon, icon]);\n\treturn useSyncExternalStore(subscribe, getSnapshot);\n};\n",null],"names":["createContext","useMemo","useContext","useSyncExternalStore","AsyncStatePhase","module","export","OmnichannelRoomIconContext","useOmnichannelRoomIcon","queryIcon","undefined","phase","LOADING","value","error","app","icon","subscribe","getSnapshot"],"mappings":"2BAA2DA,EAAAC,EAAAC,EAAAC,EAAAC,EAA3DC,EAAOC,MAAE,CAAA,CAAAC,2BAAwB,IAAYA,EAAcC,uBAAAA,IAAAA,CAAA,GAAAH,EAAAA,IAAAA,CAAAA,QAAAA,CAAAL,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAF,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,6CAAAA,CAAAD,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAUpD,IAAMG,EAA6BP,EAA2C,CACpFS,UAAW,IAAM,CAChB,IAAoB,IAAYC,KAAAA,EAChC,IAA2B,CAAA,CAC1BC,MAAOP,EAAgBQ,OAAO,CAC9BC,MAAOH,KAAAA,EACPI,MAAOJ,KAAAA,IACN,GAISF,EAAyB,CAACO,EAAaC,KACnD,GAAM,CAAEP,UAAAA,CAAAA,CAAW,CAAGP,EAAWK,GAC3B,CAACU,EAAWC,EAAY,CAAGjB,EAAQ,IAAMQ,EAAUM,EAAKC,GAAO,CAACD,EAAKN,EAAWO,EAAK,EAC3F,OAAOb,EAAqBc,EAAWC,EACxC"}