)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/providers/CustomSoundProvider.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { CustomSoundContext, useUserId, useStream } from '@rocket.chat/ui-contexts';\nimport type { FC } from 'react';\nimport React, { useEffect } from 'react';\n\nimport { CustomSounds } from '../../app/custom-sounds/client/lib/CustomSounds';\n\nconst CustomSoundProvider: FC = ({ children }) => {\n\tconst userId = useUserId();\n\tuseEffect(() => {\n\t\tif (!userId) {\n\t\t\treturn;\n\t\t}\n\t\tvoid CustomSounds.fetchCustomSoundList();\n\t}, [userId]);\n\n\tconst streamAll = useStream('notify-all');\n\n\tuseEffect(() => {\n\t\tif (!userId) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn streamAll('public-info', ([key, data]) => {\n\t\t\tswitch (key) {\n\t\t\t\tcase 'updateCustomSound':\n\t\t\t\t\tCustomSounds.update(data[0].soundData);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'deleteCustomSound':\n\t\t\t\t\tCustomSounds.remove(data[0].soundData);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t}, [userId, streamAll]);\n\treturn <CustomSoundContext.Provider children={children} value={CustomSounds} />;\n};\n\nexport default CustomSoundProvider;\n",null],"names":["CustomSoundContext","useUserId","useStream","React","useEffect","CustomSounds","module","link","v","default","exportDefault","_ref","children","userId","fetchCustomSoundList","streamAll","_ref2","key","data","update","soundData","remove","createElement","Provider","value"],"mappings":"2BAAAA,EAASC,EAAoBC,EAAuDC,EAAAC,EAAAC,EAA5CC,EAASC,IAAE,CAAA,2BAAM,CAA0BP,mBAACQ,CAAA,EAAAR,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,QAAAA,CAAAG,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,kDAAAA,CAAAD,aAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAApFC,EAAOI,aAAE,CAMuBC,IAAiB,GAAhB,CAAEC,SAAAA,CAAAA,CAAU,CAAAD,EACtCE,EAASZ,IACfG,EAAU,KACJS,GAGAR,EAAaS,oBAAoB,EACvC,EAAG,CAACD,EAAO,EAEX,IAAME,EAAYb,EAAU,cAkB5B,OAhBAE,EAAU,KACT,GAAKS,EAIL,OAAOE,EAAU,cAAeC,IAAgB,GAAf,CAACC,EAAKC,EAAK,CAAAF,EAC3C,OAAQC,GACP,IAAK,oBACJZ,EAAac,MAAM,CAACD,CAAI,CAAC,EAAE,CAACE,SAAS,EACrC,KACD,KAAK,oBACJf,EAAagB,MAAM,CAACH,CAAI,CAAC,EAAE,CAACE,SAAS,CAC/B,CAET,EACD,EAAG,CAACP,EAAQE,EAAU,EACfZ,EAAAmB,aAAA,CAACtB,EAAmBuB,QAAQ,CAAA,CAACX,SAAUA,EAAUY,MAAOnB,CAAa,EAC7E"}