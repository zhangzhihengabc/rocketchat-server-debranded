)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/providers/UserProvider/hooks/useEmailVerificationWarning.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IUser } from '@rocket.chat/core-typings';\nimport { useSetting, useToastMessageDispatch } from '@rocket.chat/ui-contexts';\nimport { useRef, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport function useEmailVerificationWarning(user: IUser | undefined) {\n\tconst emailVerificationEnabled = useSetting<boolean>('Accounts_EmailVerification') === true;\n\tconst dispatchToastMessage = useToastMessageDispatch();\n\tconst { t } = useTranslation();\n\n\tconst mainEmail = user?.emails?.[0];\n\tconst warnedRef = useRef(false);\n\n\tuseEffect(() => {\n\t\tconst { current: warned } = warnedRef;\n\t\tif (mainEmail && mainEmail.verified !== true && emailVerificationEnabled && !warned) {\n\t\t\tdispatchToastMessage({\n\t\t\t\ttype: 'warning',\n\t\t\t\tmessage: t('core.You_have_not_verified_your_email'),\n\t\t\t});\n\t\t\twarnedRef.current = true;\n\t\t}\n\t}, [mainEmail, emailVerificationEnabled, dispatchToastMessage, t]);\n}\n",null],"names":["useSetting","useRef","useEffect","useTranslation","useEmailVerificationWarning","user","_user$emails","emailVerificationEnabled","dispatchToastMessage","useToastMessageDispatch","t","mainEmail","emails","warnedRef","current","warned","verified","type","message","module","export"],"mappings":"2BAC+EA,EAAAA,EAAAC,EAAAC,EAAAC,EAIzE,SAAUC,EAA4BC,CAAuB,EAAA,IAAAC,EAClE,IAAMC,EAA2BP,AAAsD,CAAA,IAAtDA,EAAoB,8BAC/CQ,EAAuBC,IACvB,CAAEC,EAAAA,CAAAA,CAAG,CAAGP,IAERQ,EAAYN,MAAAA,EAAI,KAAA,EAAA,AAAQ,OAARC,CAAAA,EAAJD,EAAMO,MAAM,AAANA,GAAMN,AAAA,KAAA,IAAAA,EAAA,KAAA,EAAZA,CAAA,CAAe,EAAE,CAC7BO,EAAYZ,EAAO,CAAA,GAEzBC,EAAU,KACT,GAAM,CAAEY,QAASC,CAAAA,CAAQ,CAAGF,EACxBF,GAAaA,AAAuB,CAAA,IAAvBA,EAAUK,QAAQ,EAAaT,GAA4B,CAACQ,IAC5EP,EAAqB,CACpBS,KAAM,UACNC,QAASR,EAAE,2CAEZG,EAAUC,OAAO,CAAG,CAAA,EAEtB,EAAG,CAACH,EAAWJ,EAA0BC,EAAsBE,EAAE,CAClE,CAtBAS,EAAOC,MAAE,CAAA,CAAAhB,4BAAY,IAAyBA,CAAM,GAA2Be,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAnB,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAS,wBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAU,EAAAA,IAAAA,CAAAA,QAAAA,CAAAlB,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAiB,EAAAA,IAAAA,CAAAA,gBAAAA,CAAAhB,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA"}