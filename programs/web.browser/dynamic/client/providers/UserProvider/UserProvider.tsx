function module(e,i,t){let n,o,l,r,a,u,s,c,d,g,p,k,h,f,b,v,m,C,P,S;let w=["appId"];t.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),t.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){o=e}},1),t.link("@rocket.chat/fuselage-hooks",{useLocalStorage(e){l=e}},0),t.link("@rocket.chat/ui-contexts",{UserContext(e){r=e},useEndpoint(e){a=e},useSetting(e){u=e}},1),t.link("meteor/meteor",{Meteor(e){s=e}},2),t.link("react",{default(e){c=e},useEffect(e){d=e},useMemo(e){g=e}},3),t.link("../../../app/models/client",{Subscriptions(e){p=e},ChatRoom(e){k=e}},4),t.link("../../../app/utils/client",{getUserPreference(e){h=e}},5),t.link("../../../app/utils/client/lib/SDKClient",{sdk(e){f=e}},6),t.link("../../../lib/callbacks/afterLogoutCleanUpCallback",{afterLogoutCleanUpCallback(e){b=e}},7),t.link("../../hooks/useReactiveValue",{useReactiveValue(e){v=e}},8),t.link("../../lib/createReactiveSubscriptionFactory",{createReactiveSubscriptionFactory(e){m=e}},9),t.link("../../views/account/accessibility/hooks/useCreateFontStyleElement",{useCreateFontStyleElement(e){C=e}},10),t.link("./hooks/useEmailVerificationWarning",{useEmailVerificationWarning(e){P=e}},11),t.link("./hooks/useLDAPAndCrowdCollisionWarning",{useLDAPAndCrowdCollisionWarning(e){S=e}},12);let W=()=>s.userId(),y=()=>s.user(),E=e=>e.charAt(0).toUpperCase()+e.slice(1),L={apple:{title:"Apple",icon:"apple"},facebook:{title:"Facebook",icon:"facebook"},twitter:{title:"Twitter",icon:"twitter"},google:{title:"Google",icon:"google"},github:{title:"Github",icon:"github"},github_enterprise:{title:"Github Enterprise",icon:"github"},gitlab:{title:"Gitlab",icon:"gitlab"},dolphin:{title:"Dolphin",icon:"dophin"},drupal:{title:"Drupal",icon:"drupal"},nextcloud:{title:"Nextcloud",icon:"nextcloud"},tokenpass:{title:"Tokenpass",icon:"tokenpass"},"meteor-developer":{title:"Meteor",icon:"meteor"},wordpress:{title:"WordPress",icon:"wordpress"},linkedin:{title:"Linkedin",icon:"linkedin"}},A=()=>new Promise((e,i)=>{let t=y();if(!t)return e();s.logout(async()=>{await b.run(t),f.call("logoutCleanUp",t).then(e,i)})});t.exportDefault(e=>{var i,t;let{children:f}=e,b=u("LDAP_Enable"),D=u("CROWD_Enable"),R=v(W),x=v(y),[U,q]=l("userLanguage",""),[F,T]=l("preferedLanguage",""),G=a("POST","/v1/users.setPreferences"),M=C();M(null==x?void 0:null===(i=x.settings)||void 0===i?void 0:null===(t=i.preferences)||void 0===t?void 0:t.fontSize);let O=b&&"loginWithLDAP"||D&&"loginWithCrowd"||"loginWithPassword";S(),P(null!=x?x:void 0);let V=g(()=>({userId:R,user:x,queryPreference:m((e,i)=>h(R,e,i)),querySubscription:m((e,i,t)=>p.findOne(e,{fields:i,sort:t})),queryRoom:m((e,i)=>k.findOne(e,{fields:i})),querySubscriptions:m((e,i)=>R?p.find(e,i).fetch():k.find(e,i).fetch()),loginWithToken:e=>new Promise((i,t)=>s.loginWithToken(e,e=>{if(e)return t(e);i(void 0)})),loginWithPassword:(e,i)=>new Promise((t,n)=>{s[O](e,i,e=>{if(e){n(e);return}t()})}),logout:A,loginWithService:e=>{let{service:i,clientConfig:t={}}=e,n="loginWith".concat({"meteor-developer":"MeteorDeveloperAccount"}[i]||E(String(i||""))),o=s[n];return o?()=>new Promise((e,i)=>{o(t,t=>{if(!t){e(!0);return}i(t)})}):()=>Promise.reject(Error("Login method not found"))},queryAllServices:m(()=>ServiceConfiguration.configurations.find({showButton:{$ne:!1}},{sort:{service:1}}).fetch().map(e=>{var i;let{appId:t}=e,l=o(e,w);return n(n({title:E(String(l.service||""))},l),null!==(i=L[l.service])&&void 0!==i?i:{})}))}),[R,x,O]);return d(()=>{R&&F!==U&&(G({data:{language:F}}),q(F)),(null==x?void 0:x.language)!==void 0&&x.language!==U&&(q(x.language),T(x.language))},[F,T,q,null==x?void 0:x.language,U,R,G]),c.createElement(r.Provider,{children:f,value:V})})}
//# sourceMappingURL=/dynamic/client/providers/UserProvider/71104e52864ffc51dd63e2e19c54c2ea0d898279.map
