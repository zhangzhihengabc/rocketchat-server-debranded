)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/providers/AttachmentProvider.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { usePrefersReducedData } from '@rocket.chat/fuselage-hooks';\nimport type { AttachmentContextValue } from '@rocket.chat/ui-contexts';\nimport { AttachmentContext, useLayout, useUserPreference } from '@rocket.chat/ui-contexts';\nimport type { FC } from 'react';\nimport React, { useMemo } from 'react';\n\nimport { getURL } from '../../app/utils/client';\n\nconst AttachmentProvider: FC<{\n\twidth?: number;\n\theight?: number;\n}> = ({ children, width = 360, height = 360 }) => {\n\tconst { isMobile } = useLayout();\n\tconst reducedData = usePrefersReducedData();\n\tconst collapsedByDefault = !!useUserPreference<boolean>('collapseMediaByDefault');\n\tconst autoLoadEmbedMedias = !!useUserPreference<boolean>('autoImageLoad');\n\tconst saveMobileBandwidth = !!useUserPreference<boolean>('saveMobileBandwidth');\n\n\tconst contextValue: AttachmentContextValue = useMemo(\n\t\t() => ({\n\t\t\tgetURL: (url: string): string => getURL(url, { full: true }),\n\t\t\tcollapsedByDefault,\n\t\t\tautoLoadEmbedMedias: !reducedData && autoLoadEmbedMedias && (!saveMobileBandwidth || !isMobile),\n\t\t\tdimensions: {\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t},\n\t\t}),\n\t\t[collapsedByDefault, reducedData, autoLoadEmbedMedias, saveMobileBandwidth, isMobile, width, height],\n\t);\n\n\treturn <AttachmentContext.Provider children={children} value={contextValue} />;\n};\n\nexport default AttachmentProvider;\n",null],"names":["usePrefersReducedData","AttachmentContext","useLayout","useUserPreference","React","useMemo","getURL","module","link","default","exportDefault","_ref","children","width","height","isMobile","reducedData","collapsedByDefault","autoLoadEmbedMedias","saveMobileBandwidth","contextValue","url","full","dimensions","createElement","Provider","value"],"mappings":"2BAAAA,EAAoEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA3DC,EAAuBC,IAAA,CAAM,8BAA8B,CAAAR,sBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAN,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,kBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAL,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,yBAAAA,CAAAD,OAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAApEC,EAAOG,aAAE,CAWJC,IAA4C,GAA3C,CAAEC,SAAAA,CAAQ,CAAEC,MAAAA,EAAQ,GAAG,CAAEC,OAAAA,EAAS,GAAA,CAAK,CAAAH,EACtC,CAAEI,SAAAA,CAAAA,CAAU,CAAGb,IACfc,EAAchB,IACdiB,EAAqB,CAAC,CAACd,EAA2B,0BAClDe,EAAsB,CAAC,CAACf,EAA2B,iBACnDgB,EAAsB,CAAC,CAAChB,EAA2B,uBAEnDiB,EAAuCf,EAC5C,IAAO,CAAA,CACNC,OAASe,GAAwBf,EAAOe,EAAK,CAAEC,KAAM,CAAA,CAAI,GACzDL,mBAAAA,EACAC,oBAAqB,CAACF,GAAeE,GAAwB,CAAA,CAACC,GAAuB,CAACJ,CAAAA,EACtFQ,WAAY,CACXV,MAAAA,EACAC,OAAAA,KAGF,CAACG,EAAoBD,EAAaE,EAAqBC,EAAqBJ,EAAUF,EAAOC,EAAO,EAGrG,OAAOV,EAAAoB,aAAA,CAACvB,EAAkBwB,QAAQ,CAAA,CAACb,SAAUA,EAAUc,MAAON,CAAa,EAC5E"}