)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/providers/ToastMessagesProvider.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { ToastBarProvider, useToastBarDispatch } from '@rocket.chat/fuselage-toastbar';\nimport { ToastMessagesContext } from '@rocket.chat/ui-contexts';\nimport type { FC } from 'react';\nimport React, { useEffect } from 'react';\n\nimport { getErrorMessage } from '../lib/errorHandling';\nimport { dispatchToastMessage, subscribeToToastMessages } from '../lib/toast';\n\nconst contextValue = {\n\tdispatch: dispatchToastMessage,\n};\n\nconst ToastMessageInnerProvider: FC = ({ children }) => {\n\tconst dispatchToastBar = useToastBarDispatch();\n\n\tuseEffect(\n\t\t() =>\n\t\t\tsubscribeToToastMessages(({ type, message, title = '' }) => {\n\t\t\t\tif (type === 'error' && typeof message === 'object') {\n\t\t\t\t\tdispatchToastBar({ type, message: getErrorMessage(message) });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (typeof message !== 'string' && message instanceof Error) {\n\t\t\t\t\tmessage = `[${message.name}] ${message.message}`;\n\t\t\t\t}\n\n\t\t\t\tif (type === 'warning') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tdispatchToastBar({ type, message: title + message });\n\t\t\t}),\n\t\t[dispatchToastBar],\n\t);\n\n\treturn <ToastMessagesContext.Provider children={children} value={contextValue} />;\n};\n\n// eslint-disable-next-line react/no-multi-comp\nconst ToastMessagesProvider: FC = ({ children }) => (\n\t<ToastBarProvider>\n\t\t<ToastMessageInnerProvider children={children} />\n\t</ToastBarProvider>\n);\n\nexport default ToastMessagesProvider;\n",null],"names":["ToastBarProvider","useToastBarDispatch","ToastMessagesContext","React","useEffect","getErrorMessage","dispatchToastMessage","subscribeToToastMessages","module","link","default","contextValue","dispatch","ToastMessageInnerProvider","_ref","children","dispatchToastBar","_ref2","type","message","title","Error","concat","name","createElement","Provider","value","exportDefault","_ref3"],"mappings":"2BAAAA,EAASC,EAA8EC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAA5DC,EAAqBC,IAAAA,CAAAA,iCAAsC,CAACT,iBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,oBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAO,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAN,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAP,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,uBAAAA,CAAAH,gBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,eAAAA,CAAAF,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,yBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAQvF,IAAMI,EAAe,CACpBC,SAAUN,GAGLO,EAAgCC,IAAiB,GAAhB,CAAEC,SAAAA,CAAAA,CAAU,CAAAD,EAC5CE,EAAmBf,IAuBzB,OArBAG,EACC,IACCG,EAAyBU,IAAkC,GAAjC,CAAEC,KAAAA,CAAI,CAAEC,QAAAA,CAAO,CAAEC,MAAAA,EAAQ,EAAA,CAAI,CAAAH,EACtD,GAAIC,AAAS,UAATA,GAAoB,AAAmB,UAAnB,OAAOC,EAAsB,CACpDH,EAAiB,CAAEE,KAAAA,EAAMC,QAASd,EAAgBc,EAAQ,GAC1D,OAGsB,UAAnB,OAAOA,GAAwBA,aAAmBE,OACrDF,CAAAA,EAAO,IAAAG,MAAA,CAAOH,EAAQI,IAAI,CAAA,MAAAD,MAAA,CAAKH,EAAQA,OAAO,CAAA,EAGlC,YAATD,GAIJF,EAAiB,CAAEE,KAAAA,EAAMC,QAASC,EAAQD,CAAO,EAClD,GACD,CAACH,EAAiB,EAGZb,EAAAqB,aAAA,CAACtB,EAAqBuB,QAAQ,CAAA,CAACV,SAAUA,EAAUW,MAAOf,CAAa,EAC/E,EArCAH,EAAOmB,aAAE,CAwCyBC,IAAA,GAAC,CAAEb,SAAAA,CAAAA,CAAU,CAAAa,EAAA,OAC9CzB,EAAAqB,aAAA,CAACxB,EAAgB,KAChBG,EAAAqB,aAAA,CAACX,EAAyB,CAACE,SAAUA,CAAS,GAC5B"}