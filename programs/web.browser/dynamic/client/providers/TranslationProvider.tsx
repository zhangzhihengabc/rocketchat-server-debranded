function module(e,t,n){let a,l,r,i,o,s,u,c,d,g,f,p,h,m,k,y,L,b,v,A,S,j,C,x;n.link("@rocket.chat/fuselage-hooks",{useLocalStorage(e){a=e},useMutableCallback(e){l=e}},0),n.link("@rocket.chat/i18n/dist/languages",{default(e){r=e}},1),n.link("@rocket.chat/i18n/src/locales/en.i18n.json",{default(e){i=e}},2),n.link("@rocket.chat/tools",{normalizeLanguage(e){o=e}},3),n.link("@rocket.chat/ui-contexts",{useMethod(e){s=e},useSetting(e){u=e},TranslationContext(e){c=e}},4),n.link("i18next-http-backend",{default(e){d=e}},5),n.link("i18next-sprintf-postprocessor",{default(e){g=e}},6),n.link("moment",{default(e){f=e}},7),n.link("react",{default(e){p=e},useEffect(e){h=e},useMemo(e){m=e}},8),n.link("react-i18next",{I18nextProvider(e){k=e},initReactI18next(e){y=e},useTranslation(e){L=e}},9),n.link("../../app/ui-cached-collection/client",{CachedCollectionManager(e){b=e}},10),n.link("../../app/utils/client",{getURL(e){v=e}},11),n.link("../../app/utils/lib/i18n",{i18n(e){A=e},addSprinfToI18n(e){S=e}},12),n.link("../../ee/client/apps/orchestrator",{AppClientOrchestratorInstance(e){j=e}},13),n.link("../lib/utils/applyCustomTranslations",{applyCustomTranslations(e){C=e}},14),n.link("../lib/utils/isRTLScriptLanguage",{isRTLScriptLanguage(e){x=e}},15),A.use(d).use(y).use(g);let O=["core","onboarding","registration","cloud"],w=e=>{try{return JSON.parse(e)}catch(e){return!1}},E=new Map,I=e=>{let t=u("Custom_Translations"),n=m(()=>{if(t&&"string"==typeof t)return w(t)},[t]),a=l(function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l={};for(let[t,n]of Object.entries(e)){let[e]=t.split(".");if(e&&Array.isArray(a)?a.includes(e):e===a){l[t.slice(e.length+1)]=n;continue}(Array.isArray(a)?a.includes("core"):"core"===a)&&(l[t]=n)}if(t&&n){for(let e of Array.isArray(t)?t:[t])if(n[e])for(let[t,r]of Object.entries(n[e])){let e=(Array.isArray(a)?a:[a]).find(e=>t.startsWith("".concat(e,".")));if(e){l[t.slice(e.length+1)]=r;continue}(Array.isArray(a)?a.includes("core"):"core"===a)&&(l[t]=r)}}return l});return A.isInitialized||A.init({lng:e,fallbackLng:"en",ns:O,nsSeparator:".",resources:{en:a(i)},partialBundledLanguages:!0,defaultNS:"core",backend:{loadPath:"i18n/{{lng}}.json",parse:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return a(JSON.parse(e),t,n)},request:(e,t,n,a)=>{let l=t.split("/"),r=l[l.length-1],i=E.get(r);i||(i=fetch(v(t)).then(e=>e.text()),E.set(r,i)),i.then(e=>a(null,{data:e,status:200}),()=>a(null,{data:"",status:500}))}},react:{useSuspense:!0,bindI18n:"languageChanged loaded",bindI18nStore:"added removed"},interpolation:{escapeValue:!1}}),h(()=>{A.language!==e&&A.changeLanguage(e)},[e]),h(()=>{if(n)for(let[e,t]of Object.entries(n)){if(!t)continue;let n=Object.entries(t).reduce((e,t)=>{var n,a;let[l,r]=t,i=l.split(".")[0];return O.includes(i)?(e[i]=null!==(a=e[i])&&void 0!==a?a:{},e[i][l]=r,e[i][l.slice(i.length+1)]=r):(e.project=null!==(n=e.project)&&void 0!==n?n:{},e.project[l]=r),e},{});for(let[t,a]of Object.entries(n))A.addResourceBundle(e,t,a)}},[n]),A},T=()=>{var e,t;let n=u("Language"),l=o(null!==(e=window.navigator.userLanguage)&&void 0!==e?e:window.navigator.language),i=l||n||"en",s=r.includes(i)?i:null!==(t=i.split("-").shift())&&void 0!==t?t:"en",[c]=a("userLanguage",s);return document.documentElement.classList[x(c)?"add":"remove"]("rtl"),document.documentElement.setAttribute("dir",x(c)?"rtl":"ltr"),document.documentElement.lang=c,c||s},M=(e,t)=>{try{var n;let a=new Intl.DisplayNames([t],{type:"language"});return null!==(n=a.of(e))&&void 0!==n?n:e}catch(t){return e}},N=e=>{let{children:t,availableLanguages:n}=e,{t:a,i18n:l}=L(),r=m(()=>({language:l.language,languages:n,loadLanguage:async e=>{l.changeLanguage(e).then(()=>C())},translate:Object.assign(S(a),{has:(e,t)=>e&&l.exists(e,t)})}),[n,l,a]);return p.createElement(c.Provider,{children:t,value:r})};n.exportDefault(e=>{let{children:t}=e,n=s("loadLocale"),a=T(),l=I(a),i=m(()=>[{en:"Default",name:l.t("Default"),ogName:l.t("Default"),key:""},...[...new Set([...l.languages,...r])].map(e=>({en:e,name:M(e,a),ogName:M(e,e),key:e}))],[a,l]);return h(()=>{if(f.locales().includes(a.toLowerCase())){f.locale(a);return}let e=i.find(e=>e.key===a)?a:a.split("-").shift();n(null!=e?e:a).then(e=>{e&&Function(e).call({moment:f}),f.locale(a)}).catch(e=>{f.locale("en"),console.error("Error loading moment locale:",e)})},[a,n,i]),h(()=>{let e=()=>{j.getAppClientManager().initialize(),j.load()};return b.onLogin(e),()=>b.off("login",e)},[]),p.createElement(k,{i18n:l},p.createElement(N,{children:t,availableLanguages:i}))})}
//# sourceMappingURL=/dynamic/client/providers/3df2208a99e81001b05944fbb9562034378d703f.map
