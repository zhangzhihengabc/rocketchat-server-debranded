)]}'
{"version":3,"sources":["meteor://ðŸ’»app/client/providers/LayoutProvider.tsx","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { useBreakpoints } from '@rocket.chat/fuselage-hooks';\nimport { LayoutContext, useRouter, useSetting } from '@rocket.chat/ui-contexts';\nimport type { FC } from 'react';\nimport React, { useMemo, useState, useEffect } from 'react';\n\nconst LayoutProvider: FC = ({ children }) => {\n\tconst showTopNavbarEmbeddedLayout = Boolean(useSetting('UI_Show_top_navbar_embedded_layout'));\n\tconst [isCollapsed, setIsCollapsed] = useState(false);\n\tconst breakpoints = useBreakpoints(); // [\"xs\", \"sm\", \"md\", \"lg\", \"xl\", xxl\"]\n\n\tconst router = useRouter();\n\t// Once the layout is embedded, it can't be changed\n\tconst [isEmbedded] = useState(() => router.getSearchParameters().layout === 'embedded');\n\n\tconst isMobile = !breakpoints.includes('md');\n\n\tuseEffect(() => {\n\t\tsetIsCollapsed(isMobile);\n\t}, [isMobile]);\n\n\treturn (\n\t\t<LayoutContext.Provider\n\t\t\tchildren={children}\n\t\t\tvalue={useMemo(\n\t\t\t\t() => ({\n\t\t\t\t\tisMobile,\n\t\t\t\t\tisEmbedded,\n\t\t\t\t\tshowTopNavbarEmbeddedLayout,\n\t\t\t\t\tsidebar: {\n\t\t\t\t\t\tisCollapsed,\n\t\t\t\t\t\ttoggle: () => setIsCollapsed((isCollapsed) => !isCollapsed),\n\t\t\t\t\t\tcollapse: () => setIsCollapsed(true),\n\t\t\t\t\t\texpand: () => setIsCollapsed(false),\n\t\t\t\t\t\tclose: () => (isEmbedded ? setIsCollapsed(true) : router.navigate('/home')),\n\t\t\t\t\t},\n\t\t\t\t\tsize: {\n\t\t\t\t\t\tsidebar: '240px',\n\t\t\t\t\t\t// eslint-disable-next-line no-nested-ternary\n\t\t\t\t\t\tcontextualBar: breakpoints.includes('sm') ? (breakpoints.includes('xl') ? '38%' : '380px') : '100%',\n\t\t\t\t\t},\n\t\t\t\t\troomToolboxExpanded: breakpoints.includes('lg'),\n\t\t\t\t\tcontextualBarExpanded: breakpoints.includes('sm'),\n\t\t\t\t\t// eslint-disable-next-line no-nested-ternary\n\t\t\t\t\tcontextualBarPosition: breakpoints.includes('sm') ? (breakpoints.includes('lg') ? 'relative' : 'absolute') : 'fixed',\n\t\t\t\t}),\n\t\t\t\t[isMobile, isEmbedded, showTopNavbarEmbeddedLayout, isCollapsed, breakpoints, router],\n\t\t\t)}\n\t\t/>\n\t);\n};\n\nexport default LayoutProvider;\n",null],"names":["useBreakpoints","LayoutContext","useRouter","useSetting","React","useMemo","useState","useEffect","module","link","default","exportDefault","_ref","children","showTopNavbarEmbeddedLayout","Boolean","isCollapsed","setIsCollapsed","breakpoints","router","isEmbedded","getSearchParameters","layout","isMobile","includes","createElement","Provider","value","sidebar","toggle","collapse","expand","close","navigate","size","contextualBar","roomToolboxExpanded","contextualBarExpanded","contextualBarPosition"],"mappings":"2BAAAA,EAA6DC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAApDC,EAAgBC,IAAA,CAAM,8BAA8B,CAAAT,eAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAQ,EAAAA,IAAAA,CAAAA,2BAAAA,CAAAP,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,WAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,QAAAA,CAAAE,QAAAA,CAAAA,EAAAN,EAAAA,CAAA,EAAAC,QAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,EAAAC,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAA7DC,EAAOG,aAAE,CAKkBC,IAAiB,GAAhB,CAAEC,SAAAA,CAAAA,CAAU,CAAAD,EACjCE,EAA8BC,CAAAA,CAAQZ,EAAW,sCACjD,CAACa,EAAaC,EAAe,CAAGX,EAAS,CAAA,GACzCY,EAAclB,IAEdmB,EAASjB,IAET,CAACkB,EAAW,CAAGd,EAAS,IAAMa,AAAwC,aAAxCA,EAAOE,mBAAmB,GAAGC,MAAM,EAEjEC,EAAW,CAACL,EAAYM,QAAQ,CAAC,MAMvC,OAJAjB,EAAU,KACTU,EAAeM,EAChB,EAAG,CAACA,EAAS,EAGZnB,EAAAqB,aAAA,CAACxB,EAAcyB,QAAQ,CAAA,CACtBb,SAAUA,EACVc,MAAOtB,EACN,IAAO,CAAA,CACNkB,SAAAA,EACAH,WAAAA,EACAN,4BAAAA,EACAc,QAAS,CACRZ,YAAAA,EACAa,OAAQ,IAAMZ,EAAgBD,GAAgB,CAACA,GAC/Cc,SAAU,IAAMb,EAAe,CAAA,GAC/Bc,OAAQ,IAAMd,EAAe,CAAA,GAC7Be,MAAO,IAAOZ,EAAaH,EAAe,CAAA,GAAQE,EAAOc,QAAQ,CAAC,UAEnEC,KAAM,CACLN,QAAS,QAETO,cAAejB,EAAYM,QAAQ,CAAC,MAASN,EAAYM,QAAQ,CAAC,MAAQ,MAAQ,QAAW,QAE9FY,oBAAqBlB,EAAYM,QAAQ,CAAC,MAC1Ca,sBAAuBnB,EAAYM,QAAQ,CAAC,MAE5Cc,sBAAuBpB,EAAYM,QAAQ,CAAC,MAASN,EAAYM,QAAQ,CAAC,MAAQ,WAAa,WAAc,UAE9G,CAACD,EAAUH,EAAYN,EAA6BE,EAAaE,EAAaC,EAAO,CACpF,EAGL"}