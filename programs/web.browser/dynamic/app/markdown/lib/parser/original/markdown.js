function module(e,t,n){let r,a,c;n.export({markdown:()=>b}),n.link("./token",{addAsToken(e){r=e},isToken(e){a=e},validateAllowedTokens(e){c=e}},0);let o=(e,t)=>{var n;if(null!=t&&null!==(n=t.tokens)&&void 0!==n&&n.some(t=>e.includes(t.token))||/\s/.test(e.trim()))return!1;try{return new URL(e),!0}catch(e){return!1}},l=e=>e.substring(e.length-1).match(/\s/),u=(e,t)=>{let n=e.length>1?2:1;return t.length-n>=0?n:1},s=(e,t)=>(n,r,a)=>"".concat(n,'<span class="copyonly">').concat(e,"</span><").concat(t,">").concat(r,"</").concat(t,'><span class="copyonly">').concat(e,"</span>").concat(a),g=(e,t)=>(n,r)=>{let a=s(n,r);return r=>r.replace(t(n),function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e(a,...n)})},i=g((e,t,n,r,a)=>{if(l(r))return t;let c=u(n,a);return e(n.substring(c),r,a.substring(c))},e=>RegExp("(\\".concat(e,"+(?!\\s))([^\\").concat(e,"\\r\\n]+)(\\").concat(e,"+)"),"gm")),p=i("*","strong"),f=i("~","strike"),k=g((e,t,n,r,a,c,o)=>{if(n||o||l(a))return t;let s=u(r,c);return e(r.substring(s),a,c.substring(s))},()=>RegExp("([^\\r\\n\\s~*_]){0,1}(\\_+(?!\\s))([^\\_\\r\\n]+)(\\_+)([^\\r\\n\\s]){0,1}","gm"))("_","em"),d=(e,t)=>{let{supportSchemesForLink:n,headers:l,rootUrl:u}=t,s=e.html;e.tokens||(e.tokens=[]);let g=(n||"").split(",").join("|");return l&&(s=(s=(s=(s=s.replace(/^# (([\S\w\d-_\/\*\.,\\][ \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]?)+)/gm,"<h1>$1</h1>")).replace(/^## (([\S\w\d-_\/\*\.,\\][ \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]?)+)/gm,"<h2>$1</h2>")).replace(/^### (([\S\w\d-_\/\*\.,\\][ \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]?)+)/gm,"<h3>$1</h3>")).replace(/^#### (([\S\w\d-_\/\*\.,\\][ \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]?)+)/gm,"<h4>$1</h4>")),s=(s=(s=(s=(s=(s=(s=(s=(s=f(s=k(s=p(s)))).replace(/(?:&gt;){3}\n+([\s\S]*?)\n+(?:&lt;){3}/g,'<blockquote class="background-transparent-darker-before"><span class="copyonly">&gt;&gt;&gt;</span>$1<span class="copyonly">&lt;&lt;&lt;</span></blockquote>')).replace(/^&gt;(.*)$/gm,'<blockquote class="background-transparent-darker-before"><span class="copyonly">&gt;</span>$1</blockquote>')).replace(/\s*<blockquote class="background-transparent-darker-before">/gm,'<blockquote class="background-transparent-darker-before">')).replace(/<\/blockquote>\s*/gm,"</blockquote>")).replace(/<\/blockquote>\n<blockquote/gm,"</blockquote><blockquote")).replace(RegExp("!\\[([^\\]]+)\\]\\(((?:".concat(g,"):\\/\\/[^\\s]+)\\)"),"gm"),(t,n,l)=>{if(!o(l,e)||a(n)&&!c(e,n,["bold","italic","strike"]))return t;l=encodeURI(l);let s=0===l.indexOf(u)?"":"_blank";return r(e,'<a data-title="'.concat(l,'" href="').concat(l,'" title="').concat(n,'" target="').concat(s,'" rel="noopener noreferrer"><div class="inline-image" style="background-image: url(').concat(l,');"></div></a>'),"link")})).replace(RegExp("\\[([^\\]]+)\\]\\(((?:".concat(g,"):\\/\\/[^\\s]+)\\)"),"gm"),(t,n,l)=>{if(!o(l,e)||a(n)&&!c(e,n,["bold","italic","strike"]))return t;let s=0===l.indexOf(u)?"":"_blank";n=n.replace(/&amp;/g,"&");let g=encodeURI(l);return r(e,'<a data-title="'.concat(g,'" href="').concat(g,'" target="').concat(s,'" rel="noopener noreferrer">').concat(n,"</a>"),"link")})).replace(RegExp("(?:<|&lt;)((?:".concat(g,"):\\/\\/[^\\|]+)\\|(.+?)(?=>|&gt;)(?:>|&gt;)"),"gm"),(t,n,l)=>{if(!o(n,e)||a(l)&&!c(e,l,["bold","italic","strike"]))return t;n=encodeURI(n);let s=0===n.indexOf(u)?"":"_blank";return r(e,'<a data-title="'.concat(n,'" href="').concat(n,'" target="').concat(s,'" rel="noopener noreferrer">').concat(l,"</a>"),"link")})},b=(e,t)=>(e.html=d(e,t),e)}
//# sourceMappingURL=/dynamic/app/markdown/lib/parser/original/3a6f9e261ff2f65252ff68ec25fbe317b2288f01.map
