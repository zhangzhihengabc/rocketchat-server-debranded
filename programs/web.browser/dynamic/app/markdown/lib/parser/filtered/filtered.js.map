)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/markdown/lib/parser/filtered/filtered.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["/*\n * Filter markdown tags in message\n *\tUse case: notifications\n */\nexport const filtered = (\n\tmessage,\n\toptions = {\n\t\tsupportSchemesForLink: 'http,https',\n\t},\n) => {\n\tconst schemes = options.supportSchemesForLink.split(',').join('|');\n\n\t// Remove block code backticks\n\tmessage = message.replace(/```/g, '');\n\n\t// Remove inline code backticks\n\tmessage = message.replace(new RegExp(/`([^`\\r\\n]+)\\`/gm), (match) => match.substr(1, match.length - 2));\n\n\t// Filter [text](url), ![alt_text](image_url)\n\tmessage = message.replace(new RegExp(`!?\\\\[([^\\\\]]+)\\\\]\\\\((?:${schemes}):\\\\/\\\\/[^\\\\)]+\\\\)`, 'gm'), (match, title) => title);\n\n\t// Filter <http://link|Text>\n\tmessage = message.replace(\n\t\tnew RegExp(`(?:<|&lt;)(?:${schemes}):\\\\/\\\\/[^\\\\|]+\\\\|(.+?)(?=>|&gt;)(?:>|&gt;)`, 'gm'),\n\t\t(match, title) => title,\n\t);\n\n\t// Filter headings\n\tmessage = message.replace(\n\t\t/(^#{1,4}) (([\\S\\w\\d-_\\/\\*\\.,\\\\][ \\u00a0\\u1680\\u180e\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000\\ufeff]?)+)/gm,\n\t\t'$2',\n\t);\n\n\t// Filter bold\n\tmessage = message.replace(/(^|>|[ >_~`])\\*{1,2}([^\\*\\r\\n]+)\\*{1,2}([<_~`]|\\B|\\b|$)/gm, '$1$2$3');\n\n\t// Filter italics\n\tmessage = message.replace(/(^|>|[ >*~`])\\_{1,2}([^\\_\\r\\n]+)\\_{1,2}([<*~`]|\\B|\\b|$)/gm, '$1$2$3');\n\n\t// Filter strike-through text\n\tmessage = message.replace(/(^|>|[ >_*`])\\~{1,2}([^~\\r\\n]+)\\~{1,2}([<_*`]|\\B|\\b|$)/gm, '$1$2$3');\n\n\t// Filter block quotes\n\tmessage = message.replace(/(?:>){3}\\n+([\\s\\S]*?)\\n+(?:<){3}/g, '$1');\n\n\t// Filter > quote\n\tmessage = message.replace(/^>(.*)$/gm, '$1');\n\n\treturn message;\n};\n",null],"names":["module","export","filtered","message","options","arguments","length","undefined","supportSchemesForLink","schemes","split","join","replace","RegExp","match","substr","concat","title"],"mappings":"uBAAAA,EAAOC,MAAM,CAAC,CAACC,SAAS,IAAIA,CAAQ,GAI7B,IAAMA,EAAW,SACvBC,CAAO,EAIH,IAHJC,EAAOC,UAAAC,MAAA,CAAA,GAAAD,AAAAE,KAAAA,IAAAF,SAAA,CAAA,EAAA,CAAAA,SAAA,CAAA,EAAA,CAAG,CACTG,sBAAuB,YACxB,EAEMC,EAAUL,EAAQI,qBAAqB,CAACE,KAAK,CAAC,KAAKC,IAAI,CAAC,KAsC9D,OAFAR,EAAUA,AAHVA,CAAAA,EAAUA,AAHVA,CAAAA,EAAUA,AAHVA,CAAAA,EAAUA,AAHVA,CAAAA,EAAUA,AANVA,CAAAA,EAAUA,AANVA,CAAAA,EAAUA,AAHVA,CAAAA,EAAUA,AAHVA,CAAAA,EAAUA,AAHVA,CAAAA,EAAUA,EAAQS,OAAO,CAAC,OAAQ,GAAE,EAGlBA,OAAO,CAAC,IAAIC,OAAO,oBAAsBC,GAAUA,EAAMC,MAAM,CAAC,EAAGD,EAAMR,MAAM,CAAG,GAAE,EAGpFM,OAAO,CAAC,AAAIC,OAAM,0BAAAG,MAAA,CAA2BP,EAAO,sBAAsB,MAAO,CAACK,EAAOG,IAAUA,EAAK,EAGxGL,OAAO,CACxB,AAAIC,OAAM,gBAAAG,MAAA,CAAiBP,EAAO,+CAA+C,MACjF,CAACK,EAAOG,IAAUA,EAAK,EAINL,OAAO,CACxB,8GACA,KAAI,EAIaA,OAAO,CAAC,4DAA6D,SAAQ,EAG7EA,OAAO,CAAC,4DAA6D,SAAQ,EAG7EA,OAAO,CAAC,2DAA4D,SAAQ,EAG5EA,OAAO,CAAC,oCAAqC,KAAI,EAGjDA,OAAO,CAAC,YAAa,KAGxC"}