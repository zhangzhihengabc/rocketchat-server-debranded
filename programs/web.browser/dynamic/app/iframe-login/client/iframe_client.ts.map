)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/iframe-login/client/iframe_client.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Accounts } from 'meteor/accounts-base';\n\nimport { IframeLogin } from '../../ui-utils/client';\n\nconst iframeLogin = new IframeLogin();\n\nconst { _unstoreLoginToken } = Accounts;\nAccounts._unstoreLoginToken = function (...args) {\n\tiframeLogin.tryLogin();\n\t_unstoreLoginToken.apply(Accounts, args);\n};\n\nwindow.addEventListener('message', (e) => {\n\tif (!(typeof e.data === 'function' || (typeof e.data === 'object' && !!e.data))) {\n\t\treturn;\n\t}\n\n\tswitch (e.data.event) {\n\t\tcase 'try-iframe-login':\n\t\t\tiframeLogin.tryLogin((error) => {\n\t\t\t\tif (error) {\n\t\t\t\t\te.source?.postMessage(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tevent: 'login-error',\n\t\t\t\t\t\t\tresponse: error.message,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ targetOrigin: e.origin },\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t\tbreak;\n\n\t\tcase 'login-with-token':\n\t\t\tiframeLogin.loginWithToken(e.data, (error) => {\n\t\t\t\tif (error) {\n\t\t\t\t\te.source?.postMessage(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tevent: 'login-error',\n\t\t\t\t\t\t\tresponse: error.message,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ targetOrigin: e.origin },\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t\tbreak;\n\t}\n});\n",null],"names":["Accounts","IframeLogin","module","link","iframeLogin","_unstoreLoginToken","tryLogin","_len","arguments","length","args","Array","_key","apply","window","addEventListener","e","data","event","error","_e$source","source","postMessage","response","message","targetOrigin","origin","loginWithToken","_e$source2"],"mappings":"2BAAAA,EAAgDC,EAAvCC,EAAUC,IAAA,CAAM,uBAAuB,CAAAH,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAD,YAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAIhD,IAAMG,EAAc,IAAIH,EAElB,CAAEI,mBAAAA,CAAAA,CAAoB,CAAGL,CAC/BA,CAAAA,EAASK,kBAAkB,CAAG,WAC7BD,EAAYE,QAAQ,GAAG,IAAA,IAAAC,EAAAC,UAAAC,MAAA,CADmBC,EAAI,AAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAJF,CAAI,CAAAE,EAAA,CAAAJ,SAAA,CAAAI,EAAA,CAE9CP,EAAmBQ,KAAK,CAACb,EAAUU,EACpC,EAEAI,OAAOC,gBAAgB,CAAC,UAAYC,IACnC,GAAM,AAAkB,YAAlB,OAAOA,EAAEC,IAAI,EAAoB,AAAkB,UAAlB,OAAOD,EAAEC,IAAI,EAAmBD,EAAEC,IAAK,CAI9E,OAAQD,EAAEC,IAAI,CAACC,KAAK,EACnB,IAAK,mBACJd,EAAYE,QAAQ,CAAEa,IACrB,GAAIA,EAAO,CAAA,IAAAC,CACV,AAAQ,QAARA,CAAAA,EAAAJ,EAAEK,MAAM,AAANA,GAAMD,AAAA,KAAA,IAAAA,GAARA,EAAUE,WAAW,CACpB,CACCJ,MAAO,cACPK,SAAUJ,EAAMK,OAAAA,EAEjB,CAAEC,aAAcT,EAAEU,MAAAA,AAAM,GAG3B,GACA,KAED,KAAK,mBACJtB,EAAYuB,cAAc,CAACX,EAAEC,IAAI,CAAGE,IACnC,GAAIA,EAAO,CAAA,IAAAS,CACV,AAAQ,QAARA,CAAAA,EAAAZ,EAAEK,MAAM,AAANA,GAAMO,AAAA,KAAA,IAAAA,GAARA,EAAUN,WAAW,CACpB,CACCJ,MAAO,cACPK,SAAUJ,EAAMK,OAAAA,EAEjB,CAAEC,aAAcT,EAAEU,MAAAA,AAAM,GAG3B,EACM,CAET"}