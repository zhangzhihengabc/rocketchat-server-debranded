)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/lib/client/OAuthProxy.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { OAuth } from 'meteor/oauth';\n\nimport { settings } from '../../settings/client';\n\nOAuth.launchLogin = ((func) =>\n\tfunction (options) {\n\t\tconst proxy = settings.get('Accounts_OAuth_Proxy_services').replace(/\\s/g, '').split(',');\n\t\tif (proxy.includes(options.loginService)) {\n\t\t\tconst redirect_uri = options.loginUrl.match(/(&redirect_uri=)([^&]+|$)/)[2];\n\t\t\toptions.loginUrl = options.loginUrl.replace(\n\t\t\t\t/(&redirect_uri=)([^&]+|$)/,\n\t\t\t\t`$1${encodeURIComponent(settings.get('Accounts_OAuth_Proxy_host'))}/oauth_redirect`,\n\t\t\t);\n\t\t\toptions.loginUrl = options.loginUrl.replace(/(&state=)([^&]+|$)/, `$1${redirect_uri}!$2`);\n\t\t\toptions.loginUrl = `${settings.get('Accounts_OAuth_Proxy_host')}/redirect/${encodeURIComponent(options.loginUrl)}`;\n\t\t}\n\n\t\treturn func(options);\n\t})(OAuth.launchLogin.bind(OAuth));\n",null],"names":["func","OAuth","settings","module","link","v","launchLogin","bind","options","proxy","get","replace","split","includes","loginService","redirect_uri","loginUrl","match","concat","encodeURIComponent"],"mappings":"2BAIsBA,MAJlBC,EAA4DC,EAAtDC,EAAOC,IAAI,CAAC,eAAe,CAACH,MAAMI,CAAC,EAAEJ,EAAMI,CAAC,CAAC,EAAE,GAAgBF,EAAOC,IAAI,CAAC,wBAAwB,CAACF,SAASG,CAAC,EAAEH,EAASG,CAAC,CAAC,EAAE,GAIvIJ,EAAMK,WAAW,EAAKN,EAclBC,EAAMK,WAAW,CAACC,IAAI,CAACN,GAb1B,SAAUO,CAAO,EAChB,IAAMC,EAAQP,EAASQ,GAAG,CAAC,iCAAiCC,OAAO,CAAC,MAAO,IAAIC,KAAK,CAAC,KACrF,GAAIH,EAAMI,QAAQ,CAACL,EAAQM,YAAY,EAAG,CACzC,IAAMC,EAAeP,EAAQQ,QAAQ,CAACC,KAAK,CAAC,4BAA4B,CAAC,EAAE,AAC3ET,CAAAA,EAAQQ,QAAQ,CAAGR,EAAQQ,QAAQ,CAACL,OAAO,CAC1C,4BAA2B,KAAAO,MAAA,CACtBC,mBAAmBjB,EAASQ,GAAG,CAAC,8BAA6B,oBAEnEF,EAAQQ,QAAQ,CAAGR,EAAQQ,QAAQ,CAACL,OAAO,CAAC,qBAAoB,KAAAO,MAAA,CAAOH,EAAY,QACnFP,EAAQQ,QAAQ,CAAA,GAAAE,MAAA,CAAMhB,EAASQ,GAAG,CAAC,6BAA4B,cAAAQ,MAAA,CAAaC,mBAAmBX,EAAQQ,QAAQ,EAChH,CAEA,OAAOhB,EAAKQ,EACb"}