function module(e,t,i){let a,n,o,s;i.export({useAnalytics:()=>l}),i.link("meteor/meteor",{Meteor(e){a=e}},0),i.link("react",{useEffect(e){n=e}},1),i.link("../../../client/hooks/useReactiveValue",{useReactiveValue(e){o=e}},2),i.link("../../settings/client",{settings(e){s=e}},3);let l=()=>{let e=o(()=>a.userId()),t=o(()=>s.get("GoogleAnalytics_enabled")&&s.get("GoogleAnalytics_ID")),i=o(()=>s.get("PiwikAnalytics_enabled")&&s.get("PiwikAnalytics_url"));n(()=>{e&&(window._paq=window._paq||[],window._paq.push(["setUserId",e]))}),n(()=>{var e,i,a,n,o,s,l,c,r,w;if(t){if(t.startsWith("G-")){let i=document.getElementsByTagName("script")[0],a=document.createElement("script");a.async=!0,a.src="//www.googletagmanager.com/gtag/js?id=".concat(t),null===(e=i.parentNode)||void 0===e||e.insertBefore(a,i);let n=window,o=n.dataLayer||[],s=(e,t)=>{o.push(e,t)};s("js",new Date),s("config",t)}else s=window,l=document,c="script",s.GoogleAnalyticsObject="ga",s.ga=s.ga||function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];(s.ga.q=s.ga.q||[]).push(t)},s.ga.l=new Date().getTime(),r=l.createElement(c),w=l.getElementsByTagName(c)[0],r.async=1,r.src="https://www.google-analytics.com/analytics.js",w.parentNode.insertBefore(r,w),null===(i=(a=window).ga)||void 0===i||i.call(a,"create",t,"auto"),null===(n=(o=window).ga)||void 0===n||n.call(o,"send","pageview")}},[t,e]),n(()=>{if(!i){var e;null===(e=document.getElementById("piwik-analytics"))||void 0===e||e.remove(),window._paq=[];return}let t=i&&s.get("PiwikAnalytics_siteId"),a=i&&s.get("PiwikAnalytics_prependDomain"),n=i&&s.get("PiwikAnalytics_cookieDomain"),o=i&&s.get("PiwikAnalytics_domains"),l=i&&s.get("PiwikAdditionalTrackers");window._paq=window._paq||[],window._paq.push(["trackPageView"]),window._paq.push(["enableLinkTracking"]),a&&window._paq.push(["setDocumentTitle","".concat(window.location.hostname,"/").concat(document.title)]);let c="*.".concat(window.location.hostname.split(".").slice(1).join("."));if(n&&window._paq.push(["setCookieDomain",c]),o){let e=o.split(/\n/),t=[];for(let i=0;i<e.length;i++)/\S/.test(e[i])&&t.push("*.".concat(e[i].trim()));window._paq.push(["setDomains",t])}(()=>{var e;try{if(/\S/.test(l)){let e=JSON.parse(l);for(let t=0;t<e.length;t++){let i=e[t];window._paq.push(["addTracker","".concat(i.trackerURL,"js/"),i.siteId])}}}catch(e){console.log('Error while parsing JSON value of "piwikAdditionalTracker": ',e)}window._paq.push(["setTrackerUrl","".concat(i,"js/")]),window._paq.push(["setSiteId",Number.parseInt(t)]);let a=document,n=a.createElement("script");n.setAttribute("id","piwik-analytics");let o=a.getElementsByTagName("script")[0];n.type="text/javascript",n.async=!0,n.defer=!0,n.src="".concat(i,"js/"),null===(e=o.parentNode)||void 0===e||e.insertBefore(n,o)})()},[i])}}
//# sourceMappingURL=/dynamic/app/analytics/client/707a5d5f6788c162bf89910b8a40c22215ee0512.map
