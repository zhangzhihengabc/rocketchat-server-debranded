)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/webdav/client/startup/sync.js","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import { Meteor } from 'meteor/meteor';\nimport { Tracker } from 'meteor/tracker';\n\nimport { WebdavAccounts } from '../../../models/client';\nimport { Notifications } from '../../../notifications/client';\nimport { sdk } from '../../../utils/client/lib/SDKClient';\n\nconst events = {\n\tchanged: (account) => WebdavAccounts.upsert({ _id: account._id }, account),\n\tremoved: ({ _id }) => WebdavAccounts.remove({ _id }),\n};\n\nTracker.autorun(async () => {\n\tif (!Meteor.userId()) {\n\t\treturn;\n\t}\n\tconst { accounts } = await sdk.rest.get('/v1/webdav.getMyAccounts');\n\taccounts.forEach((account) => WebdavAccounts.insert(account));\n\tNotifications.onUser('webdav', ({ type, account }) => events[type](account));\n});\n",null],"names":["Meteor","Tracker","WebdavAccounts","Notifications","sdk","module","link","v","events","changed","account","upsert","_id","removed","_ref","remove","autorun","userId","accounts","rest","get","forEach","insert","onUser","_ref2","type"],"mappings":"2BAAIA,EAAgEC,EAAoEC,EAAiGC,EAAqGC,EAAnUC,EAAOC,IAAI,CAAC,gBAAgB,CAACN,OAAOO,CAAC,EAAEP,EAAOO,CAAC,CAAC,EAAE,GAAeF,EAAOC,IAAI,CAAC,iBAAiB,CAACL,QAAQM,CAAC,EAAEN,EAAQM,CAAC,CAAC,EAAE,GAAsBF,EAAOC,IAAI,CAAC,yBAAyB,CAACJ,eAAeK,CAAC,EAAEL,EAAeK,CAAC,CAAC,EAAE,GAAqBF,EAAOC,IAAI,CAAC,gCAAgC,CAACH,cAAcI,CAAC,EAAEJ,EAAcI,CAAC,CAAC,EAAE,GAAWF,EAAOC,IAAI,CAAC,sCAAsC,CAACF,IAAIG,CAAC,EAAEH,EAAIG,CAAC,CAAC,EAAE,GAOpZ,IAAMC,EAAS,CACdC,QAAUC,GAAYR,EAAeS,MAAM,CAAC,CAAEC,IAAKF,EAAQE,GAAAA,AAAI,EAAGF,GAClEG,QAASC,IAAA,GAAC,CAAEF,IAAAA,CAAAA,CAAK,CAAAE,EAAA,OAAKZ,EAAea,MAAM,CAAC,CAAEH,IAAAA,CAAI,EAAE,CACrD,EAEAX,EAAQe,OAAO,CAAC,UACf,GAAI,CAAChB,EAAOiB,MAAM,GACjB,OAED,GAAM,CAAEC,SAAAA,CAAAA,CAAU,CAAG,MAAMd,EAAIe,IAAI,CAACC,GAAG,CAAC,4BACxCF,EAASG,OAAO,CAAEX,GAAYR,EAAeoB,MAAM,CAACZ,IACpDP,EAAcoB,MAAM,CAAC,SAAUC,IAAA,GAAC,CAAEC,KAAAA,CAAI,CAAEf,QAAAA,CAAAA,CAAS,CAAAc,EAAA,OAAKhB,CAAM,CAACiB,EAAK,CAACf,EAAQ,EAC5E"}