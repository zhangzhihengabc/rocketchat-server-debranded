)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/livechat/client/voip.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { IMessage } from '@rocket.chat/core-typings';\nimport { isVoipMessage } from '@rocket.chat/core-typings';\nimport moment from 'moment';\n\nimport type { MessageType } from '../../ui-utils/client';\nimport { MessageTypes } from '../../ui-utils/client';\n\ntype IMessageFuncReturn = { comment: string } | { duration: string } | { reason: string };\n\nconst messageTypes: MessageType[] = [\n\t{\n\t\tid: 'voip-call-started',\n\t\tsystem: true,\n\t\tmessage: 'Voip_call_started',\n\t},\n\t{\n\t\tid: 'voip-call-duration',\n\t\tsystem: true,\n\t\tmessage: 'Voip_call_duration',\n\t\tdata(message: IMessage): IMessageFuncReturn {\n\t\t\tif (!isVoipMessage(message)) {\n\t\t\t\treturn { duration: '' };\n\t\t\t}\n\t\t\tconst seconds = (message.voipData.callDuration || 0) / 1000;\n\t\t\tconst duration = moment.duration(seconds, 'seconds').humanize();\n\t\t\treturn {\n\t\t\t\tduration,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tid: 'voip-call-declined',\n\t\tsystem: true,\n\t\tmessage: 'Voip_call_declined',\n\t},\n\t{\n\t\tid: 'voip-call-on-hold',\n\t\tsystem: true,\n\t\tmessage: 'Voip_call_on_hold',\n\t},\n\t{\n\t\tid: 'voip-call-unhold',\n\t\tsystem: true,\n\t\tmessage: 'Voip_call_unhold',\n\t},\n\t{\n\t\tid: 'voip-call-ended',\n\t\tsystem: true,\n\t\tmessage: 'Voip_call_ended',\n\t},\n\t{\n\t\tid: 'voip-call-ended-unexpectedly',\n\t\tsystem: true,\n\t\tmessage: 'Voip_call_ended_unexpectedly',\n\t\tdata(message: IMessage): IMessageFuncReturn {\n\t\t\treturn {\n\t\t\t\treason: message.msg,\n\t\t\t};\n\t\t},\n\t},\n\t{\n\t\tid: 'voip-call-wrapup',\n\t\tsystem: true,\n\t\tmessage: 'Voip_call_wrapup',\n\t\tdata(message: IMessage): IMessageFuncReturn {\n\t\t\treturn {\n\t\t\t\tcomment: message.msg,\n\t\t\t};\n\t\t},\n\t},\n];\n\nmessageTypes.map((e) => MessageTypes.registerType(e));\n",null],"names":["isVoipMessage","moment","MessageTypes","module","link","default","messageTypes","id","system","message","data","duration","seconds","voipData","callDuration","humanize","reason","msg","comment","map","e","registerType"],"mappings":"2BACAA,EAA0DC,EAAAC,EAAjDC,EAAeC,IAAA,CAAM,4BAA4B,CAAAJ,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,SAAAA,CAAAE,QAAAA,CAAAA,EAAAJ,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,wBAAAA,CAAAD,aAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAQ1D,IAAMI,EAA8B,CACnC,CACCC,GAAI,oBACJC,OAAQ,CAAA,EACRC,QAAS,qBAEV,CACCF,GAAI,qBACJC,OAAQ,CAAA,EACRC,QAAS,qBACTC,KAAKD,CAAiB,EACrB,GAAI,CAACT,EAAcS,GAClB,MAAO,CAAEE,SAAU,EAAE,EAEtB,IAAMC,EAAU,AAACH,CAAAA,EAAQI,QAAQ,CAACC,YAAY,EAAI,CAAA,EAAK,IACjDH,EAAWV,EAAOU,QAAQ,CAACC,EAAS,WAAWG,QAAQ,GAC7D,MAAO,CACNJ,SAAAA,EAEF,GAED,CACCJ,GAAI,qBACJC,OAAQ,CAAA,EACRC,QAAS,sBAEV,CACCF,GAAI,oBACJC,OAAQ,CAAA,EACRC,QAAS,qBAEV,CACCF,GAAI,mBACJC,OAAQ,CAAA,EACRC,QAAS,oBAEV,CACCF,GAAI,kBACJC,OAAQ,CAAA,EACRC,QAAS,mBAEV,CACCF,GAAI,+BACJC,OAAQ,CAAA,EACRC,QAAS,+BACTC,KAAAA,AAAKD,GACG,CAAA,CACNO,OAAQP,EAAQQ,GAAAA,IAInB,CACCV,GAAI,mBACJC,OAAQ,CAAA,EACRC,QAAS,mBACTC,KAAAA,AAAKD,GACG,CAAA,CACNS,QAAST,EAAQQ,GAAAA,IAIpB,CAEDX,EAAaa,GAAG,CAAEC,GAAMlB,EAAamB,YAAY,CAACD"}