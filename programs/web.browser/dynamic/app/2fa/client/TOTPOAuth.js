function module(e,t,o){let n,i,l,r,u,a,c,h,f,s,d,g,p;o.link("@rocket.chat/string-helpers",{capitalize(e){n=e}},0),o.link("meteor/accounts-base",{Accounts(e){i=e}},1),o.link("meteor/facebook-oauth",{Facebook(e){l=e}},2),o.link("meteor/github-oauth",{Github(e){r=e}},3),o.link("meteor/meteor",{Meteor(e){u=e}},4),o.link("meteor/meteor-developer-oauth",{MeteorDeveloperAccounts(e){a=e}},5),o.link("meteor/oauth",{OAuth(e){c=e}},6),o.link("meteor/pauli:linkedin-oauth",{Linkedin(e){h=e}},7),o.link("meteor/twitter-oauth",{Twitter(e){f=e}},8),o.link("../../../client/lib/2fa/overrideLoginMethod",{overrideLoginMethod(e){s=e}},9),o.link("../../../client/lib/2fa/process2faReturn",{process2faReturn(e){d=e}},10),o.link("../../../client/lib/2fa/utils",{convertError(e){g=e}},11),o.link("../../custom-oauth/client/custom_oauth_client",{CustomOAuth(e){p=e}},12);let k=null,m=null;i.oauth.tryLoginAfterPopupClosed=function(e,t,o){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;n=n||c._retrieveCredentialSecret(e)||null;let l={oauth:{credentialToken:e,credentialSecret:n}};k=e,m=n,o&&"string"==typeof o&&(l.totp={code:o}),i.callLoginMethod({methodArguments:[l],userCallback:t&&function(e){t(g(e))}})},i.oauth.credentialRequestCompleteHandler=function(e,t){return function(o){o&&o instanceof Error?e&&e(o):i.oauth.tryLoginAfterPopupClosed(o,e,t)}};let b=e=>(t,o,n)=>{if(n||"function"!=typeof t||(n=t,t=null),k&&m)i.oauth.tryLoginAfterPopupClosed(k,n,o,m);else{let l=e&&e()||this,r=i.oauth.credentialRequestCompleteHandler(n,o);l.requestCredential(t,r)}k=null,m=null},v=b(),C=b(()=>l),{loginWithFacebook:L}=u;u.loginWithFacebook=function(e,t){s(L,[e],t,C)};let y=b(()=>r),{loginWithGithub:A}=u;u.loginWithGithub=function(e,t){s(A,[e],t,y)};let M=b(()=>a),{loginWithMeteorDeveloperAccount:W}=u;u.loginWithMeteorDeveloperAccount=function(e,t){s(W,[e],t,M)};let P=b(()=>f),{loginWithTwitter:q}=u;u.loginWithTwitter=function(e,t){s(q,[e],t,P)};let w=b(()=>h),{loginWithLinkedin:R}=u;u.loginWithLinkedin=function(e,t){s(R,[e],t,w)},i.onPageLoadLogin(async e=>{var t;if((null==e?void 0:null===(t=e.error)||void 0===t?void 0:t.error)!=="totp-required")return;let{methodArguments:o}=e;if(!(null!=o&&o.length))return;let n=o.find(e=>e.oauth),{credentialToken:l,credentialSecret:r}=n.oauth,u=e.userCallback;await d({error:e.error,originalCallback:u,onCode:e=>{i.oauth.tryLoginAfterPopupClosed(l,u,e,r)}})});let _=p.prototype.configureLogin;p.prototype.configureLogin=function(){let e="loginWith".concat(n(String(this.name||"")));for(var t=arguments.length,o=Array(t),i=0;i<t;i++)o[i]=arguments[i];_.apply(this,o);let l=u[e];u[e]=function(e,t){s(l,[e],t,v)}}}
//# sourceMappingURL=/dynamic/app/2fa/client/d7eb3c1d93da85a782ccfb1c8ba78b370c3229b3.map
