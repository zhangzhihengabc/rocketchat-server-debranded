)]}'
{"version":3,"sources":["meteor://ðŸ’»app/app/slashcommands-topic/client/topic.ts","meteor://ðŸ’»app/<anon>"],"sourcesContent":["import type { SlashCommandCallbackParams } from '@rocket.chat/core-typings';\n\nimport { dispatchToastMessage } from '../../../client/lib/toast';\nimport { callbacks } from '../../../lib/callbacks';\nimport { hasPermission } from '../../authorization/client';\nimport { ChatRoom } from '../../models/client/models/ChatRoom';\nimport { sdk } from '../../utils/client/lib/SDKClient';\nimport { slashCommands } from '../../utils/lib/slashCommand';\n\nslashCommands.add({\n\tcommand: 'topic',\n\tcallback: async function Topic({ params, message }: SlashCommandCallbackParams<'topic'>): Promise<void> {\n\t\tif (hasPermission('edit-room', message.rid)) {\n\t\t\ttry {\n\t\t\t\tawait sdk.call('saveRoomSettings', message.rid, 'roomTopic', params);\n\t\t\t\tawait callbacks.run('roomTopicChanged', ChatRoom.findOne(message.rid));\n\t\t\t} catch (error: unknown) {\n\t\t\t\tdispatchToastMessage({ type: 'error', message: error });\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\t},\n\toptions: {\n\t\tdescription: 'Slash_Topic_Description',\n\t\tparams: 'Slash_Topic_Params',\n\t\tpermission: 'edit-room',\n\t},\n});\n",null],"names":["dispatchToastMessage","callbacks","hasPermission","ChatRoom","sdk","slashCommands","module","link","add","command","callback","Topic","_ref","params","message","rid","call","run","findOne","error","type","options","description","permission"],"mappings":"2BAEAA,EAAiEC,EAAAC,EAAAC,EAAAC,EAAAC,EAAxDC,EAAsBC,IAAA,CAAM,4BAA4B,CAAAP,qBAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAM,EAAAA,IAAAA,CAAAA,yBAAAA,CAAAL,UAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAK,EAAAA,IAAAA,CAAAA,6BAAAA,CAAAJ,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAI,EAAAA,IAAAA,CAAAA,sCAAAA,CAAAH,SAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAG,EAAAA,IAAAA,CAAAA,mCAAAA,CAAAF,IAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAAAE,EAAAA,IAAAA,CAAAA,+BAAAA,CAAAD,cAAAA,CAAAA,EAAAA,EAAAA,CAAA,CAAA,EAAA,GAOjEA,EAAcG,GAAG,CAAC,CACjBC,QAAS,QACTC,SAAU,eAAeC,EAAKC,CAAA,EAAyD,GAAxD,CAAEC,OAAAA,CAAM,CAAEC,QAAAA,CAAAA,CAA8C,CAAAF,EACtF,GAAIV,EAAc,YAAaY,EAAQC,GAAG,EACzC,GAAI,CACH,MAAMX,EAAIY,IAAI,CAAC,mBAAoBF,EAAQC,GAAG,CAAE,YAAaF,GAC7D,MAAMZ,EAAUgB,GAAG,CAAC,mBAAoBd,EAASe,OAAO,CAACJ,EAAQC,GAAG,GACnE,MAAOI,EAAgB,CAExB,MADAnB,EAAqB,CAAEoB,KAAM,QAASN,QAASK,CAAK,GAC9CA,EAGT,EACAE,QAAS,CACRC,YAAa,0BACbT,OAAQ,qBACRU,WAAY"}