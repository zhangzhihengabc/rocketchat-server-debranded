function module(t,e,n){let i,s,o,a;n.link("@rocket.chat/string-helpers",{escapeHTML(t){i=t}},0),n.link("meteor/meteor",{Meteor(t){s=t}},1),n.link("photoswipe/dist/photoswipe-ui-default",{default(t){o=t}},2),n.link("../../../../../client/lib/utils/createAnchor",{createAnchor(t){a=t}},3);let r=t=>{let e="string"==typeof t?parseInt(t,10):void 0;return Number.isFinite(e)?e:void 0},l=t=>new Promise((e,n)=>{let i=new Image;i.addEventListener("load",()=>{e([i.naturalWidth,i.naturalHeight])}),i.addEventListener("error",t=>{n(t.error)}),i.src=t}),p=async t=>{if(!(t instanceof HTMLElement))return null;let e=t.dataset.title||t.title,{description:n}=t.dataset;if(t instanceof HTMLAnchorElement){let i=t.dataset.src||t.href,s=r(t.dataset.width),o=r(t.dataset.height);return(void 0===s||void 0===o)&&([s,o]=await l(i)),{src:i,w:s,h:o,title:e,description:n}}if(t instanceof HTMLImageElement){let i;let{src:s}=t,o=t.naturalWidth,a=t.naturalHeight;return t.dataset.src&&(i=t.src,s=t.dataset.src,o=r(t.dataset.width),a=r(t.dataset.height),(void 0===o||void 0===a)&&([o,a]=await l(s))),{msrc:i,src:s,w:o,h:a,title:e,description:n}}return null},d=null,c=async(t,e)=>{let i=a("photoswipe-root");i.innerHTML='<div class="pswp" id="pswp" tabindex="-1" role="dialog" aria-hidden="true">\n	<div class="pswp__bg"></div>\n	<div class="pswp__scroll-wrap">\n		<div class="pswp__container">\n			<div class="pswp__item"></div>\n			<div class="pswp__item"></div>\n			<div class="pswp__item"></div>\n		</div>\n\n		<div class="pswp__ui pswp__ui--hidden">\n			<div class="pswp__top-bar">\n\n				<button class="pswp__button pswp__button--close" title="Close (Esc)"></button>\n				<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>\n				<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>\n\n				<div class="pswp__preloader">\n					<div class="pswp__preloader__icn">\n					<div class="pswp__preloader__cut">\n						<div class="pswp__preloader__donut"></div>\n					</div>\n					</div>\n				</div>\n			</div>\n\n			<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>\n\n			<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>\n\n			<div class="pswp__caption">\n				<div class="pswp__caption__center"></div>\n			</div>\n		</div>\n	</div>\n</div>';let[{default:s}]=await Promise.all([n.dynamicImport("photoswipe"),n.dynamicImport("photoswipe/dist/photoswipe.css")]);if(!d){let n=document.getElementById("pswp");if(!n)throw Error("Photoswipe container element not found");(d=new s(n,o,t,e)).listen("destroy",()=>{i.innerHTML="",d=null}),d.init()}},u={bgOpacity:.7,counterEl:!1,index:0,wheelToZoom:!0,padding:{top:20,bottom:40,left:100,right:100},addCaptionHTMLFn(t,e){var n,s;return e.children[0].innerHTML="\n			".concat(i(null!==(n=t.title)&&void 0!==n?n:""),"<br/>\n			<small>").concat(i(null!==(s=t.description)&&void 0!==s?s:""),"</small>\n		"),!0}},_=t=>e=>{e.preventDefault(),e.stopPropagation();let{currentTarget:n}=e,i=Array.from(document.querySelectorAll(t)),s=i.sort((t,e)=>t===n?-1:e===n?1:0),o=s.map(t=>p(t)),a=!1;o.reduce((t,e)=>t.then(()=>e).then(async t=>{if(t){if(!d){if(a)return;return a=!0,c([t],u)}d.items.push(t),d.invalidateCurrItems(),d.updateSize(!0)}}),Promise.resolve())};s.startup(()=>{$(document).on("click",".gallery-item",_(".gallery-item"))})}
//# sourceMappingURL=/dynamic/app/ui/client/views/app/d7527f58d5d54e1d1dbeb99a764ee396e76d28c4.map
