function module(e,i,t){let l,o,s,n,a,r,d,c,m;t.link("meteor/meteor",{Meteor(e){l=e}},0),t.link("meteor/tracker",{Tracker(e){o=e}},1),t.link("../../../../client/lib/rooms/roomCoordinator",{roomCoordinator(e){s=e}},2),t.link("../../../../client/lib/toast",{dispatchToastMessage(e){n=e}},3),t.link("../../../../client/lib/utils/callWithErrorHandling",{callWithErrorHandling(e){a=e}},4),t.link("../../../models/client",{Messages(e){r=e}},5),t.link("../../../settings/client",{settings(e){d=e}},6),t.link("../../../ui-utils/client",{MessageAction(e){c=e}},7),t.link("../../../utils/lib/i18n",{t(e){m=e}},8),l.startup(()=>{o.autorun(()=>{if(!d.get("Threads_enabled"))return c.removeButton("follow-message");c.addButton({id:"follow-message",icon:"bell",label:"Follow_message",type:"interaction",context:["message","message-mobile","threads","federated","videoconf","videoconf-threads"],async action(e,i){let{message:t}=i;t&&await a("followMessage",{mid:t._id}).then(()=>n({type:"success",message:m("You_followed_this_message")}))},condition(e){let{message:{_id:i,tmid:t,replies:l=[]},room:o,user:n,context:a}=e;if(t||a){let e=r.findOne({_id:t||i},{fields:{replies:1}});e&&(l=e.replies||[])}let d=s.isLivechatRoom(o.t);return!d&&null!=n&&!!n._id&&!l.includes(n._id)},order:1,group:"menu"})})})}
//# sourceMappingURL=/dynamic/app/threads/client/messageAction/dcbebc053d23034f2f9e45b3ab19a794ac4fc82e.map
