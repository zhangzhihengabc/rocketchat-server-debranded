function module(e,i,l){let t,n,s,o,a,r,d,c;l.link("meteor/meteor",{Meteor(e){t=e}},0),l.link("meteor/tracker",{Tracker(e){n=e}},1),l.link("../../../../client/lib/toast",{dispatchToastMessage(e){s=e}},2),l.link("../../../../client/lib/utils/callWithErrorHandling",{callWithErrorHandling(e){o=e}},3),l.link("../../../models/client",{Messages(e){a=e}},4),l.link("../../../settings/client",{settings(e){r=e}},5),l.link("../../../ui-utils/client",{MessageAction(e){d=e}},6),l.link("../../../utils/lib/i18n",{t(e){c=e}},7),t.startup(()=>{n.autorun(()=>{if(!r.get("Threads_enabled"))return d.removeButton("unfollow-message");d.addButton({id:"unfollow-message",icon:"bell-off",label:"Unfollow_message",type:"interaction",context:["message","message-mobile","threads","federated","videoconf","videoconf-threads"],async action(e,i){let{message:l}=i;l&&(await o("unfollowMessage",{mid:l._id}),s({type:"success",message:c("You_unfollowed_this_message")}))},condition(e){let{message:{_id:i,tmid:l,replies:t=[]},user:n,context:s}=e;if(l||s){let e=a.findOne({_id:l||i},{fields:{replies:1}});e&&(t=e.replies||[])}return null!=n&&!!n._id&&t.includes(n._id)},order:2,group:"menu"})})})}
//# sourceMappingURL=/dynamic/app/threads/client/messageAction/8b468de5334c0b3a16753ca5a8710cc9cf304216.map
