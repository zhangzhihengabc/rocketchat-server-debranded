function module(t,e,n){var i;i=function(t){"use strict";t.defineMode("slim",function(e){var n=t.getMode(e,{name:"htmlmixed"}),i=t.getMode(e,"ruby"),r={html:n,ruby:i},o={ruby:"ruby",javascript:"javascript",css:"text/css",sass:"text/x-sass",scss:"text/x-scss",less:"text/x-less",styl:"text/x-styl",coffee:"coffeescript",asciidoc:"text/x-asciidoc",markdown:"text/x-markdown",textile:"text/x-textile",creole:"text/x-creole",wiki:"text/x-wiki",mediawiki:"text/x-mediawiki",rdoc:"text/x-rdoc",builder:"text/x-builder",nokogiri:"text/x-nokogiri",erb:"application/x-erb"},a=function(t){var e=[];for(var n in t)e.push(n);return RegExp("^("+e.join("|")+"):")}(o),u={commentLine:"comment",slimSwitch:"operator special",slimTag:"tag",slimId:"attribute def",slimClass:"attribute qualifier",slimAttribute:"attribute",slimSubmode:"keyword special",closeAttributeTag:null,slimDoctype:null,lineContinuation:null},l={"{":"}","[":"]","(":")"},c="_a-zA-Z\xc0-\xd6\xd8-\xf6\xf8-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�",s=c+"\\-0-9\xb7̀-ͯ‿-⁀",k=RegExp("^[:"+c+"](?::["+s+"]|["+s+"]*)"),d=RegExp("^[:"+c+"][:\\."+s+"]*(?=\\s*=)"),m=RegExp("^[:"+c+"][:\\."+s+"]*"),f=/^\.-?[_a-zA-Z]+[\w\-]*/,b=/^#[_a-zA-Z]+[\w\-]*/;function z(t,e){t.stack={parent:t.stack,style:"continuation",indented:e,tokenize:t.line},t.line=t.tokenize}function p(t){t.line==t.tokenize&&(t.line=t.stack.tokenize,t.stack=t.stack.parent)}function x(t,e){return function(n,i){return n.peek()==t&&1==i.rubyState.tokenize.length?(n.next(),i.tokenize=e,"closeAttributeTag"):y(n,i)}}function h(e){var n,r=function(t,i){if(1==i.rubyState.tokenize.length&&!i.rubyState.context.prev){if(t.backUp(1),t.eatSpace())return i.rubyState=n,i.tokenize=e,e(t,i);t.next()}return y(t,i)};return function(e,o){return n=o.rubyState,o.rubyState=t.startState(i),o.tokenize=r,y(e,o)}}function y(t,e){return i.token(t,e.rubyState)}function S(t,e){var i,r,o,a,u,l,c,s,k,d;return t.match(/^#\{/)?(e.tokenize=x("}",e.tokenize),null):(i=t,r=e,o=/[^\\]#\{/,a=0,u=n.token(t,e.htmlState),k=i.current(),d=k.search(o),d>-1&&(r.tokenize=(l=i.pos,c=r.tokenize,s=function(t,e){return(e.tokenize=c,t.pos<l)?(t.pos=l,u):e.tokenize(t,e)},function(t,e){return e.tokenize=s,c(t,e)}),i.backUp(k.length-d-1)),u)}function g(t,e,n){return e.stack={parent:e.stack,style:"html",indented:t.column()+n,tokenize:e.line},e.line=e.tokenize=S,null}function v(t,e){return t.skipToEnd(),e.stack.style}function M(t,e){return t.eat(e.stack.endQuote)?(e.line=e.stack.line,e.tokenize=e.stack.tokenize,e.stack=e.stack.parent,null):t.match(m)?(e.tokenize=w,"slimAttribute"):(t.next(),null)}function w(t,e){return t.match(/^==?/)?(e.tokenize=C,null):M(t,e)}function C(t,e){var n=t.peek();return'"'==n||"'"==n?(e.tokenize=Z(n,"string",!0,!1,M),t.next(),e.tokenize(t,e)):"["==n?h(M)(t,e):t.match(/^(true|false|nil)\b/)?(e.tokenize=M,"keyword"):h(M)(t,e)}function E(e,n){if(e.match(/^#\{/))return n.tokenize=x("}",n.tokenize),null;var i=new t.StringStream(e.string.slice(n.stack.indented),e.tabSize);i.pos=e.pos-n.stack.indented,i.start=e.start-n.stack.indented,i.lastColumnPos=e.lastColumnPos-n.stack.indented,i.lastColumnValue=e.lastColumnValue-n.stack.indented;var r=n.subMode.token(i,n.subState);return e.pos=i.pos+n.stack.indented,r}function A(t,e){return e.stack.indented=t.column(),e.line=e.tokenize=E,e.tokenize(t,e)}function L(t,e){return t.skipToEnd(),"slimDoctype"}function $(n,i){return i.startOfLine?function(n,i){if("<"==n.peek())return(i.tokenize=(u=i.tokenize,function(t,e){var n=t.match(/^\\$/)?"lineContinuation":S(t,e);return t.eol()&&(e.tokenize=u),n}))(n,i);if(n.match(/^[|']/))return g(n,i,1);if(n.match(/^\/(!|\[\w+])?/))return i.stack={parent:i.stack,style:"comment",indented:i.indented+1,tokenize:i.line},i.line=v,v(n,i);if(n.match(/^(-|==?[<>]?)/))return i.tokenize=(c=n.column(),l=n.column(),s=function(t,e){p(e);var n=y(t,e);return t.eol()&&t.current().match(/,$/)&&z(e,l),n},function(t,e){if(p(e),t.match(/^\\$/))return z(e,c),"lineContinuation";var n=s(t,e);return t.eol()&&t.current().match(/(?:^|[^\\])(?:\\\\)*\\$/)&&t.backUp(1),n}),"slimSwitch";if(n.match(/^doctype\b/))return i.tokenize=L,"keyword";var u,l,c,s,k,d,m,f=n.match(a);return f?(k=f[1],d=r.hasOwnProperty(k)?r[k]:r[k]=function(n){var i=o[n],r=t.mimeModes[i];if(r)return t.getMode(e,r);var a=t.modes[i];return a?a(e,{name:i}):t.getMode(e,"null")}(k),m=t.startState(d),i.subMode=d,i.subState=m,i.stack={parent:i.stack,style:"sub",indented:i.indented+1,tokenize:i.line},i.line=i.tokenize=A,"slimSubmode"):T(n,i)}(n,i):T(n,i)}function T(t,e){return t.eat("*")?(e.tokenize=h(U),null):t.match(k)?(e.tokenize=U,"slimTag"):j(t,e)}function U(t,e){return t.match(/^(<>?|><?)/)?(e.tokenize=j,null):j(t,e)}function j(t,e){return t.match(b)?(e.tokenize=j,"slimId"):t.match(f)?(e.tokenize=j,"slimClass"):O(t,e)}function O(t,e){if(t.match(/^([\[\{\(])/)){var n;return n=l[RegExp.$1],e.stack={parent:e.stack,style:"wrapper",indented:e.indented+1,tokenize:O,line:e.line,endQuote:n},e.line=e.tokenize=M,null}return t.match(d)?(e.tokenize=R,"slimAttribute"):"*"==t.peek()?(t.next(),e.tokenize=h(_),null):_(t,e)}function R(t,e){return t.match(/^==?/)?(e.tokenize=I,null):O(t,e)}function I(t,e){var n=t.peek();return'"'==n||"'"==n?(e.tokenize=Z(n,"string",!0,!1,O),t.next(),e.tokenize(t,e)):"["==n?h(O)(t,e):":"==n?h(P)(t,e):t.match(/^(true|false|nil)\b/)?(e.tokenize=O,"keyword"):h(O)(t,e)}function P(t,e){return(t.backUp(1),t.match(/^[^\s],(?=:)/))?(e.tokenize=h(P),null):(t.next(),O(t,e))}function Z(t,e,n,i,r){return function(o,a){p(a);var u=0==o.current().length;if(o.match(/^\\$/,u))return u?(z(a,a.indented),"lineContinuation"):e;if(o.match(/^#\{/,u))return u?(a.tokenize=x("}",a.tokenize),null):e;for(var l,c=!1;null!=(l=o.next());){if(l==t&&(i||!c)){a.tokenize=r;break}if(n&&"#"==l&&!c&&o.eat("{")){o.backUp(2);break}c=!c&&"\\"==l}return o.eol()&&c&&o.backUp(1),e}}function _(t,e){return t.match(/^==?/)?(e.tokenize=y,"slimSwitch"):t.match(/^\/$/)?(e.tokenize=$,null):t.match(/^:/)?(e.tokenize=T,"slimSwitch"):(g(t,e,0),e.tokenize(t,e))}var D={startState:function(){return{htmlState:t.startState(n),rubyState:t.startState(i),stack:null,last:null,tokenize:$,line:$,indented:0}},copyState:function(e){return{htmlState:t.copyState(n,e.htmlState),rubyState:t.copyState(i,e.rubyState),subMode:e.subMode,subState:e.subMode&&t.copyState(e.subMode,e.subState),stack:e.stack,last:e.last,tokenize:e.tokenize,line:e.line}},token:function(t,e){if(t.sol())for(e.indented=t.indentation(),e.startOfLine=!0,e.tokenize=e.line;e.stack&&e.stack.indented>e.indented&&"slimSubmode"!=e.last;)e.line=e.tokenize=e.stack.tokenize,e.stack=e.stack.parent,e.subMode=null,e.subState=null;if(t.eatSpace())return null;var n=e.tokenize(t,e);return e.startOfLine=!1,n&&(e.last=n),u.hasOwnProperty(n)?u[n]:n},blankLine:function(t){if(t.subMode&&t.subMode.blankLine)return t.subMode.blankLine(t.subState)},innerMode:function(t){return t.subMode?{state:t.subState,mode:t.subMode}:{state:t,mode:D}}};return D},"htmlmixed","ruby"),t.defineMIME("text/x-slim","slim"),t.defineMIME("application/x-slim","slim")},"object"==typeof e&&"object"==typeof n?i(t("../../lib/codemirror"),t("../htmlmixed/htmlmixed"),t("../ruby/ruby")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../ruby/ruby"],i):i(CodeMirror)}
//# sourceMappingURL=/dynamic/node_modules/codemirror/mode/slim/a303ea5e10cde9eb4eb4d4438ffb084976a59749.map
