function module(t,e,i){var r=t("./modes"),h=t("./authCipher"),o=t("safe-buffer").Buffer,n=t("./streamCipher"),a=t("cipher-base"),c=t("./aes"),s=t("evp_bytestokey");function u(t,e,i){a.call(this),this._cache=new f,this._cipher=new c.AES(e),this._prev=o.from(i),this._mode=t,this._autopadding=!0}t("inherits")(u,a),u.prototype._update=function(t){this._cache.add(t);for(var e,i,r=[];e=this._cache.get();)i=this._mode.encrypt(this,e),r.push(i);return o.concat(r)};var p=o.alloc(16,16);function f(){this.cache=o.allocUnsafe(0)}function l(t,e,i){var a=r[t.toLowerCase()];if(!a)throw TypeError("invalid suite type");if("string"==typeof e&&(e=o.from(e)),e.length!==a.key/8)throw TypeError("invalid key length "+e.length);if("string"==typeof i&&(i=o.from(i)),"GCM"!==a.mode&&i.length!==a.iv)throw TypeError("invalid iv length "+i.length);return"stream"===a.type?new n(a.module,e,i):"auth"===a.type?new h(a.module,e,i):new u(a.module,e,i)}u.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(p))throw this._cipher.scrub(),Error("data not multiple of block length")},u.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},f.prototype.add=function(t){this.cache=o.concat([this.cache,t])},f.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},f.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),i=-1;++i<t;)e.writeUInt8(t,i);return o.concat([this.cache,e])},e.createCipheriv=l,e.createCipher=function(t,e){var i=r[t.toLowerCase()];if(!i)throw TypeError("invalid suite type");var h=s(e,!1,i.key,i.iv);return l(t,h.key,h.iv)}}
//# sourceMappingURL=/dynamic/node_modules/browserify-aes/a7ae80fcdfedb659141c72bebeadd562af1d9496.map
