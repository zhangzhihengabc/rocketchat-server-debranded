function module(e,t,r){r.export({stripTcpCandidates:()=>s,stripTelephoneEvent:()=>o,cleanJitsiSdpImageattr:()=>p,stripG722:()=>l,stripRtpPayload:()=>d,stripVideo:()=>a,addMidLines:()=>c,holdModifier:()=>m});let n=(e,t)=>{let r;let n=[],i=e.split(/\r\n/);for(let e=0;e<i.length;){let s=i[e];if(/^m=(?:audio|video)/.test(s))r={index:e,stripped:[]},n.push(r);else if(r){let n=/^a=rtpmap:(\d+) ([^/]+)\//.exec(s);if(n&&t===n[2]){i.splice(e,1),r.stripped.push(n[1]);continue}}e++}for(let e of n){let t=i[e.index].split(" ");for(let r=3;r<t.length;){if(-1!==e.stripped.indexOf(t[r])){t.splice(r,1);continue}r++}i[e.index]=t.join(" ")}return i.join("\r\n")},i=(e,t)=>{let r=RegExp("m="+t+".*$","gm"),n=RegExp("^a=group:.*$","gm");if(r.test(e)){let r;e=e.split(/^m=/gm).filter(e=>{if(e.substr(0,t.length)===t){if(r=e.match(/^a=mid:.*$/gm)){let e=r[0].match(/:.+$/g);e&&(r=e[0].substr(1))}return!1}return!0}).join("m=");let i=e.match(n);if(i&&1===i.length){let t=i[0],s=RegExp(" *"+r+"[^ ]*","g");t=t.replace(s,""),e=e.split(n).join(t)}}return e};function s(e){return e.sdp=(e.sdp||"").replace(/^a=candidate:\d+ \d+ tcp .*?\r\n/img,""),Promise.resolve(e)}function o(e){return e.sdp=n(e.sdp||"","telephone-event"),Promise.resolve(e)}function p(e){return e.sdp=(e.sdp||"").replace(/^(a=imageattr:.*?)(x|y)=\[0-/gm,"$1$2=[1:"),Promise.resolve(e)}function l(e){return e.sdp=n(e.sdp||"","G722"),Promise.resolve(e)}function d(e){return t=>(t.sdp=n(t.sdp||"",e),Promise.resolve(t))}function a(e){return e.sdp=i(e.sdp||"","video"),Promise.resolve(e)}function c(e){let t=e.sdp||"";if(-1===t.search(/^a=mid.*$/gm)){let r=t.match(/^m=.*$/gm),n=t.split(/^m=.*$/gm);r&&r.forEach((e,t)=>{r[t]=e+"\na=mid:"+t}),n.forEach((e,t)=>{r&&r[t]&&(n[t]=e+r[t])}),t=n.join(""),e.sdp=t}return Promise.resolve(e)}function m(e){if(!e.sdp||!e.type)throw Error("Invalid SDP");let t=e.sdp,r=e.type;return t&&(t=/a=(sendrecv|sendonly|recvonly|inactive)/.test(t)?(t=t.replace(/a=sendrecv\r\n/g,"a=sendonly\r\n")).replace(/a=recvonly\r\n/g,"a=inactive\r\n"):t.replace(/(m=[^\r]*\r\n)/g,"$1a=sendonly\r\n")),Promise.resolve({sdp:t,type:r})}}
//# sourceMappingURL=/dynamic/node_modules/sip.js/lib/platform/web/modifiers/43c2449dcd6dee871f61fd80f560550aac348925.map
