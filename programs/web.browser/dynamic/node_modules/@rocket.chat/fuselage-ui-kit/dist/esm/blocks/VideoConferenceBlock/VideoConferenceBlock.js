function module(e,n,o){let i,r,s,l,d,t,c,a,u,h,C,f,g,k,_,V,m,M,b,I,w,x;o.link("react/jsx-runtime",{jsx(e){i=e},jsxs(e){r=e},Fragment(e){s=e}},0),o.link("@rocket.chat/ui-contexts",{useTranslation(e){l=e},useUserId(e){d=e}},1),o.link("@rocket.chat/ui-video-conf",{VideoConfMessageSkeleton(e){t=e},VideoConfMessage(e){c=e},VideoConfMessageRow(e){a=e},VideoConfMessageIcon(e){u=e},VideoConfMessageText(e){h=e},VideoConfMessageFooter(e){C=e},VideoConfMessageUserStack(e){f=e},VideoConfMessageFooterText(e){g=e},VideoConfMessageButton(e){k=e},VideoConfMessageContent(e){_=e},VideoConfMessageActions(e){V=e},VideoConfMessageAction(e){m=e}},2),o.link("react",{useContext(e){M=e},memo(e){b=e}},3),o.link("../..",{UiKitContext(e){I=e}},4),o.link("../../hooks/useSurfaceType",{useSurfaceType(e){w=e}},5),o.link("./hooks/useVideoConfDataStream",{useVideoConfDataStream(e){x=e}},6),o.exportDefault(b(({block:e})=>{let n=l(),{callId:o,appId:b="videoconf-core"}=e,j=w(),p=d(),{action:v,viewId:y,rid:S}=M(I);if("message"!==j)throw Error("VideoConferenceBlock cannot be rendered outside message");if(!S)throw Error("VideoConferenceBlock cannot be rendered without rid");let B=x({rid:S,callId:o}),T=e=>{v({blockId:o,appId:b,actionId:"info",value:S,viewId:y},e)};if(B.isLoading||B.isError)return i(t,{});let{data:A}=B,D=A.createdBy._id===p;return"endedAt"in A?r(c,{children:[r(a,{children:[r(_,{children:[i(u,{}),i(h,{children:n("Call_ended")})]}),i(V,{children:i(m,{icon:"info",onClick:T})})]}),r(C,{children:["direct"===A.type&&r(s,{children:[i(k,{onClick:e=>{v({blockId:S||"",appId:b,actionId:"callBack",value:S||"",viewId:y},e)},children:n(D?"Call_again":"Call_back")}),i(g,{children:n("Call_was_not_answered")})]}),"direct"!==A.type&&(A.users.length?r(s,{children:[i(f,{users:A.users}),i(g,{children:A.users.length>3?n("__usersCount__member_joined",{usersCount:A.users.length-3}):n("joined")})]}):i(g,{children:n("Call_was_not_answered")}))]})]}):"direct"===A.type&&0===A.status?r(c,{children:[r(a,{children:[r(_,{children:[i(u,{variant:"incoming"}),i(h,{children:n("Calling")})]}),i(V,{children:i(m,{icon:"info",onClick:T})})]}),i(C,{children:i(g,{children:n("Waiting_for_answer")})})]}):r(c,{children:[r(a,{children:[r(_,{children:[i(u,{variant:"outgoing"}),i(h,{children:n("Call_ongoing")})]}),i(V,{children:i(m,{icon:"info",onClick:T})})]}),r(C,{children:[i(k,{primary:!0,onClick:n=>{v({blockId:e.blockId||"",appId:b,actionId:"join",value:e.blockId||"",viewId:y},n)},children:n("Join")}),!!A.users.length&&r(s,{children:[i(f,{users:A.users}),i(g,{children:A.users.length>3?n("__usersCount__member_joined",{usersCount:A.users.length-3}):n("joined")})]})]})]})}))}
//# sourceMappingURL=/dynamic/node_modules/@rocket.chat/fuselage-ui-kit/dist/esm/blocks/VideoConferenceBlock/4c3e25f018d7f0f834375a11f09dca53a3dc3e2e.map
