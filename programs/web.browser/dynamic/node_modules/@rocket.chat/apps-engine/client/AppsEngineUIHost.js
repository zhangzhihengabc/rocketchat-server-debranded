function module(n,t){"use strict";var e=this&&this.__awaiter||function(n,t,e,i){return new(e||(e=Promise))(function(s,o){function a(n){try{c(i.next(n))}catch(n){o(n)}}function r(n){try{c(i.throw(n))}catch(n){o(n)}}function c(n){var t;n.done?s(n.value):((t=n.value)instanceof e?t:new e(function(n){n(t)})).then(a,r)}c((i=i.apply(n,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.AppsEngineUIHost=void 0;let i=n("./constants"),s=n("./definition");t.AppsEngineUIHost=class n{constructor(){this.initialize()}initialize(){window.addEventListener("message",n=>{let{data:t,source:o}=n;return e(this,void 0,void 0,function*(){if(!(null==t?void 0:t.hasOwnProperty(i.MESSAGE_ID)))return;this.responseDestination=o;let{[i.MESSAGE_ID]:{action:n,id:e}}=t;switch(n){case s.AppsEngineUIMethods.GET_USER_INFO:this.handleAction(n,e,(yield this.getClientUserInfo()));break;case s.AppsEngineUIMethods.GET_ROOM_INFO:this.handleAction(n,e,(yield this.getClientRoomInfo()))}})})}handleAction(n,t,s){return e(this,void 0,void 0,function*(){this.responseDestination instanceof MessagePort||this.responseDestination instanceof ServiceWorker||this.responseDestination.postMessage({[i.MESSAGE_ID]:{id:t,action:n,payload:s}},"*")})}}}
//# sourceMappingURL=/dynamic/node_modules/@rocket.chat/apps-engine/client/af2b09f1f07b04ef760a9dbcf51574c6aa89318f.map
